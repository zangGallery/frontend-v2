const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BCNa70Kg.js","assets/react-vendor-DDjscz8v.js","assets/ace-Crcp_Mm0.js","assets/md-editor-DazOniVP.js","assets/web3-core-Bdneq6MY.js","assets/md-editor-Bsl8KSMX.css","assets/mode-html-Cjq9fmL4.js","assets/theme-monokai-l0L8ZsWv.js","assets/ext-language_tools-dj6MuGN6.js","assets/ace-DC6gpk9w.js","assets/index-1qFw5GQN.js"])))=>i.map(i=>d[i]);
import{r as la,am as Nf,j as E,z as cn,aB as Sf,E as z0,aC as q0,aD as Nr,_ as ss,aE as Ur,aF as xr,A as V0,aG as ca,aH as Y0,aI as W0,aJ as G0}from"./web3-core-Bdneq6MY.js";import{h as K0,g as ka,R as X,c as X0,a as B,u as Ca,L as kf,p as Dr,i as Cf,B as Q0,j as Z0,k as Rr}from"./react-vendor-DDjscz8v.js";import{R as Sr,a as St,S as on,b as J0}from"./ui-vendor-D1Om885V.js";import{t as ep,m as Mo,f as Xs,C as tp,u as Of,R as np,v as rp,w as sp}from"./rainbowkit-DLLKt5KL.js";import{b as ip,i as ap,s as op,g as up,a as lp,t as cp,e as so,c as zl,d as jo,p as ql,f as Vl,w as dp,h as cs,j as fp,k as hp,l as Yl,z as mp,E as Yu,P as ze}from"./md-editor-DazOniVP.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Pi={},Wl;function pp(){if(Wl)return Pi;Wl=1;var e=K0();return Pi.createRoot=e.createRoot,Pi.hydrateRoot=e.hydrateRoot,Pi}var gp=pp();const bp=ka(gp),yp="3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",Ep="3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",xp=ep({appName:"zang.gallery",projectId:"3a8170812b534d0ff9d794f19a901d64",chains:[Xs,Mo],transports:{[Xs.id]:la(`https://base-mainnet.g.alchemy.com/v2/${yp}`),[Mo.id]:la(`https://eth-mainnet.g.alchemy.com/v2/${Ep}`)},ssr:!1}),yn=Sr({key:"standardError",default:null}),Bo=e=>{const t=JSON.stringify(e);return t.includes("ZangNFT")&&t.includes("query for nonexistent token")},jt=e=>{var t;return e.message?e.message==="Internal JSON-RPC error."&&((t=e.data)!=null&&t.message)?"Internal JSON-RPC error: "+e.data.message+".":e.message:"Unknown error."},Ke={contractAddresses:{v1:{zang:"0x5541ff300e9b01176b953EA3153006e36D4BA273",marketplace:"0xbD5C4612084eA90847DeB475529aC74B3521498d"}},firstBlocks:{v1:{base:{zang:5300011,marketplace:5300368}}},networks:{main:{name:"Base",chainId:8453,rpcUrl:"https://base-mainnet.g.alchemy.com/v2/3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J"},ens:{name:"ENS",chainId:1}},api_keys:{alchemy_base:"3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",alchemy_mainnet:"3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J"},ens:{cacheExpiration:1e3*60*2},blockExplorer:{name:"BaseScan",url:"https://basescan.org"}},Qi={calls:[],enabled:typeof window<"u"&&window.__RPC_TRACKING_ENABLED__===!0,enable(){this.enabled=!0,this.calls=[],console.log("[RPC] Tracking enabled. Refresh page to capture all calls.")},disable(){this.enabled=!1,console.log("[RPC] Tracking disabled")},reset(){this.calls=[],console.log("[RPC] Counter reset")},log(e,t){if(!this.enabled)return;const n=JSON.stringify(t,(s,i)=>typeof i=="bigint"?i.toString():i),r={id:this.calls.length+1,method:e,args:n,time:new Date().toISOString()};this.calls.push(r),console.log(`[RPC #${r.id}] ${e}`,t)},summary(){const e={};for(const t of this.calls){const n=`${t.method}(${t.args})`;e[n]=(e[n]||0)+1}return console.log("[RPC Summary] Total calls:",this.calls.length),console.table(e),{total:this.calls.length,byMethod:e}}};typeof window<"u"&&(window.rpcTracker=Qi);const _p=Nf({chain:Xs,transport:la(`https://base-mainnet.g.alchemy.com/v2/${Ke.api_keys.alchemy_base}`)}),Qe=new Proxy(_p,{get(e,t){const n=e[t];return typeof n=="function"?async(...r)=>{var s,i;return t==="readContract"?Qi.log(r[0].functionName,{address:(s=r[0].address)==null?void 0:s.slice(0,10),args:r[0].args}):t==="getContractEvents"?Qi.log("getContractEvents",{address:(i=r[0].address)==null?void 0:i.slice(0,10),eventName:r[0].eventName}):t==="getBlockNumber"&&Qi.log("getBlockNumber",{}),n.apply(e,r)}:n}}),Wu=Nf({chain:Mo,transport:la(`https://eth-mainnet.g.alchemy.com/v2/${Ke.api_keys.alchemy_mainnet}`)}),vp=Sr({key:"transactionCount",default:0}),Tp=Sr({key:"transactionStatus",default:{}}),wp=Sr({key:"transactionListeners",default:[]}),If=()=>{const[e,t]=St(Tp),[n,r]=St(wp);return{getTransactionStatus:a=>e[a],transactions:e,updateTransactionStatus:async(a,c)=>{t(d=>({...d,[a]:c}));for(const d of n)d(a,c)},register:a=>{r(c=>c.includes(a)?c:[...c,a])}}},kr=()=>{const{updateTransactionStatus:e}=If(),[t,n]=St(vp),r=()=>(n(i=>i+1),t);return async(i,o,a,c)=>{const d=r();let p;try{e(d,{status:"pending",name:o,content:a?await a("pending"):null}),p=await i(),e(d,{status:"approved",name:o,hash:p,content:a?await a("approved",{hash:p}):null});const u=await Qe.waitForTransactionReceipt({hash:p,confirmations:1});return e(d,{status:"success",name:o,hash:p,content:a?await a("success",{hash:p},!0,u):null}),{hash:p,receipt:u,success:!0}}catch(u){if(e(d,{status:"error",name:o,hash:p,errorMessage:jt(u),content:a?await a("success",{hash:p},!1):null}),c)throw u;return{error:u,success:!1}}}};function Ap(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Np=e=>{switch(e){case"success":return Cp;case"info":return Ip;case"warning":return Op;case"error":return Rp;default:return null}},Sp=Array(12).fill(0),kp=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},Sp.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Cp=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Op=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ip=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rp=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Lp=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Dp=()=>{const[e,t]=X.useState(document.hidden);return X.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Fo=1;class Pp{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Fo++,o=this.toasts.find(c=>c.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const a=s.then(async d=>{if(o=["resolve",d],X.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(jp(d)&&!d.ok){i=!1;const u=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,m=typeof u=="object"&&!X.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...m})}else if(d instanceof Error){i=!1;const u=typeof n.error=="function"?await n.error(d):n.error,l=typeof n.description=="function"?await n.description(d):n.description,m=typeof u=="object"&&!X.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...m})}else if(n.success!==void 0){i=!1;const u=typeof n.success=="function"?await n.success(d):n.success,l=typeof n.description=="function"?await n.description(d):n.description,m=typeof u=="object"&&!X.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:l,...m})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;const p=typeof n.error=="function"?await n.error(d):n.error,u=typeof n.description=="function"?await n.description(d):n.description,f=typeof p=="object"&&!X.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:u,...f})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,p)=>a.then(()=>o[0]==="reject"?p(o[1]):d(o[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Fo++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Jt=new Pp,Mp=(e,t)=>{const n=(t==null?void 0:t.id)||Fo++;return Jt.addToast({title:e,...t,id:n}),n},jp=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Bp=Mp,Fp=()=>Jt.toasts,Up=()=>Jt.getActiveToasts(),Mi=Object.assign(Bp,{success:Jt.success,info:Jt.info,warning:Jt.warning,error:Jt.error,custom:Jt.custom,message:Jt.message,promise:Jt.promise,dismiss:Jt.dismiss,loading:Jt.loading},{getHistory:Fp,getToasts:Up});Ap("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ji(e){return e.label!==void 0}const Hp=3,$p="24px",zp="16px",Gl=4e3,qp=356,Vp=14,Yp=45,Wp=200;function Dn(...e){return e.filter(Boolean).join(" ")}function Gp(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const Kp=e=>{var t,n,r,s,i,o,a,c,d;const{invert:p,toast:u,unstyled:l,interacting:f,setHeights:m,visibleToasts:h,heights:x,index:g,toasts:y,expanded:_,removeToast:T,defaultRichColors:w,closeButton:k,style:S,cancelButtonStyle:v,actionButtonStyle:A,className:N="",descriptionClassName:R="",duration:M,position:j,gap:H,expandByDefault:z,classNames:q,icons:ne,closeButtonAriaLabel:ae="Close toast"}=e,[_e,le]=X.useState(null),[xe,Te]=X.useState(null),[we,Le]=X.useState(!1),[He,Be]=X.useState(!1),[et,Ve]=X.useState(!1),[gt,Je]=X.useState(!1),[Et,dt]=X.useState(!1),[Dt,Pt]=X.useState(0),[Ct,Ft]=X.useState(0),rt=X.useRef(u.duration||M||Gl),Ut=X.useRef(null),bt=X.useRef(null),st=g===0,L=g+1<=h,F=u.type,$=u.dismissible!==!1,ie=u.className||"",ee=u.descriptionClassName||"",K=X.useMemo(()=>x.findIndex(I=>I.toastId===u.id)||0,[x,u.id]),ye=X.useMemo(()=>{var I;return(I=u.closeButton)!=null?I:k},[u.closeButton,k]),Ie=X.useMemo(()=>u.duration||M||Gl,[u.duration,M]),Fe=X.useRef(0),Ye=X.useRef(0),Ot=X.useRef(0),ft=X.useRef(null),[Gt,Z]=j.split("-"),de=X.useMemo(()=>x.reduce((I,V,G)=>G>=K?I:I+V.height,0),[x,K]),Ee=Dp(),Me=u.invert||p,We=F==="loading";Ye.current=X.useMemo(()=>K*H+de,[K,de]),X.useEffect(()=>{rt.current=Ie},[Ie]),X.useEffect(()=>{Le(!0)},[]),X.useEffect(()=>{const I=bt.current;if(I){const V=I.getBoundingClientRect().height;return Ft(V),m(G=>[{toastId:u.id,height:V,position:u.position},...G]),()=>m(G=>G.filter(pe=>pe.toastId!==u.id))}},[m,u.id]),X.useLayoutEffect(()=>{if(!we)return;const I=bt.current,V=I.style.height;I.style.height="auto";const G=I.getBoundingClientRect().height;I.style.height=V,Ft(G),m(pe=>pe.find(ge=>ge.toastId===u.id)?pe.map(ge=>ge.toastId===u.id?{...ge,height:G}:ge):[{toastId:u.id,height:G,position:u.position},...pe])},[we,u.title,u.description,m,u.id,u.jsx,u.action,u.cancel]);const Oe=X.useCallback(()=>{Be(!0),Pt(Ye.current),m(I=>I.filter(V=>V.toastId!==u.id)),setTimeout(()=>{T(u)},Wp)},[u,T,m,Ye]);X.useEffect(()=>{if(u.promise&&F==="loading"||u.duration===1/0||u.type==="loading")return;let I;return _||f||Ee?(()=>{if(Ot.current<Fe.current){const pe=new Date().getTime()-Fe.current;rt.current=rt.current-pe}Ot.current=new Date().getTime()})():(()=>{rt.current!==1/0&&(Fe.current=new Date().getTime(),I=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),Oe()},rt.current))})(),()=>clearTimeout(I)},[_,f,u,F,Ee,Oe]),X.useEffect(()=>{u.delete&&(Oe(),u.onDismiss==null||u.onDismiss.call(u,u))},[Oe,u.delete]);function fn(){var I;if(ne!=null&&ne.loading){var V;return X.createElement("div",{className:Dn(q==null?void 0:q.loader,u==null||(V=u.classNames)==null?void 0:V.loader,"sonner-loader"),"data-visible":F==="loading"},ne.loading)}return X.createElement(kp,{className:Dn(q==null?void 0:q.loader,u==null||(I=u.classNames)==null?void 0:I.loader),visible:F==="loading"})}const hn=u.icon||(ne==null?void 0:ne[F])||Np(F);var Kt,Ht;return X.createElement("li",{tabIndex:0,ref:bt,className:Dn(N,ie,q==null?void 0:q.toast,u==null||(t=u.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[F],u==null||(n=u.classNames)==null?void 0:n[F]),"data-sonner-toast":"","data-rich-colors":(Kt=u.richColors)!=null?Kt:w,"data-styled":!(u.jsx||u.unstyled||l),"data-mounted":we,"data-promise":!!u.promise,"data-swiped":Et,"data-removed":He,"data-visible":L,"data-y-position":Gt,"data-x-position":Z,"data-index":g,"data-front":st,"data-swiping":et,"data-dismissible":$,"data-type":F,"data-invert":Me,"data-swipe-out":gt,"data-swipe-direction":xe,"data-expanded":!!(_||z&&we),"data-testid":u.testId,style:{"--index":g,"--toasts-before":g,"--z-index":y.length-g,"--offset":`${He?Dt:Ye.current}px`,"--initial-height":z?"auto":`${Ct}px`,...S,...u.style},onDragEnd:()=>{Ve(!1),le(null),ft.current=null},onPointerDown:I=>{I.button!==2&&(We||!$||(Ut.current=new Date,Pt(Ye.current),I.target.setPointerCapture(I.pointerId),I.target.tagName!=="BUTTON"&&(Ve(!0),ft.current={x:I.clientX,y:I.clientY})))},onPointerUp:()=>{var I,V,G;if(gt||!$)return;ft.current=null;const pe=Number(((I=bt.current)==null?void 0:I.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),me=Number(((V=bt.current)==null?void 0:V.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ge=new Date().getTime()-((G=Ut.current)==null?void 0:G.getTime()),oe=_e==="x"?pe:me,fe=Math.abs(oe)/ge;if(Math.abs(oe)>=Yp||fe>.11){Pt(Ye.current),u.onDismiss==null||u.onDismiss.call(u,u),Te(_e==="x"?pe>0?"right":"left":me>0?"down":"up"),Oe(),Je(!0);return}else{var W,ce;(W=bt.current)==null||W.style.setProperty("--swipe-amount-x","0px"),(ce=bt.current)==null||ce.style.setProperty("--swipe-amount-y","0px")}dt(!1),Ve(!1),le(null)},onPointerMove:I=>{var V,G,pe;if(!ft.current||!$||((V=window.getSelection())==null?void 0:V.toString().length)>0)return;const ge=I.clientY-ft.current.y,oe=I.clientX-ft.current.x;var fe;const W=(fe=e.swipeDirections)!=null?fe:Gp(j);!_e&&(Math.abs(oe)>1||Math.abs(ge)>1)&&le(Math.abs(oe)>Math.abs(ge)?"x":"y");let ce={x:0,y:0};const he=Pe=>1/(1.5+Math.abs(Pe)/20);if(_e==="y"){if(W.includes("top")||W.includes("bottom"))if(W.includes("top")&&ge<0||W.includes("bottom")&&ge>0)ce.y=ge;else{const Pe=ge*he(ge);ce.y=Math.abs(Pe)<Math.abs(ge)?Pe:ge}}else if(_e==="x"&&(W.includes("left")||W.includes("right")))if(W.includes("left")&&oe<0||W.includes("right")&&oe>0)ce.x=oe;else{const Pe=oe*he(oe);ce.x=Math.abs(Pe)<Math.abs(oe)?Pe:oe}(Math.abs(ce.x)>0||Math.abs(ce.y)>0)&&dt(!0),(G=bt.current)==null||G.style.setProperty("--swipe-amount-x",`${ce.x}px`),(pe=bt.current)==null||pe.style.setProperty("--swipe-amount-y",`${ce.y}px`)}},ye&&!u.jsx&&F!=="loading"?X.createElement("button",{"aria-label":ae,"data-disabled":We,"data-close-button":!0,onClick:We||!$?()=>{}:()=>{Oe(),u.onDismiss==null||u.onDismiss.call(u,u)},className:Dn(q==null?void 0:q.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(Ht=ne==null?void 0:ne.close)!=null?Ht:Lp):null,(F||u.icon||u.promise)&&u.icon!==null&&((ne==null?void 0:ne[F])!==null||u.icon)?X.createElement("div",{"data-icon":"",className:Dn(q==null?void 0:q.icon,u==null||(s=u.classNames)==null?void 0:s.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||fn():null,u.type!=="loading"?hn:null):null,X.createElement("div",{"data-content":"",className:Dn(q==null?void 0:q.content,u==null||(i=u.classNames)==null?void 0:i.content)},X.createElement("div",{"data-title":"",className:Dn(q==null?void 0:q.title,u==null||(o=u.classNames)==null?void 0:o.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?X.createElement("div",{"data-description":"",className:Dn(R,ee,q==null?void 0:q.description,u==null||(a=u.classNames)==null?void 0:a.description)},typeof u.description=="function"?u.description():u.description):null),X.isValidElement(u.cancel)?u.cancel:u.cancel&&ji(u.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||v,onClick:I=>{ji(u.cancel)&&$&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,I),Oe())},className:Dn(q==null?void 0:q.cancelButton,u==null||(c=u.classNames)==null?void 0:c.cancelButton)},u.cancel.label):null,X.isValidElement(u.action)?u.action:u.action&&ji(u.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||A,onClick:I=>{ji(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,I),!I.defaultPrevented&&Oe())},className:Dn(q==null?void 0:q.actionButton,u==null||(d=u.classNames)==null?void 0:d.actionButton)},u.action.label):null)};function Kl(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Xp(e,t){const n={};return[e,t].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?zp:$p;function c(d){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(a)}),n}const Qp=X.forwardRef(function(t,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:d,offset:p,mobileOffset:u,theme:l="light",richColors:f,duration:m,style:h,visibleToasts:x=Hp,toastOptions:g,dir:y=Kl(),gap:_=Vp,icons:T,containerAriaLabel:w="Notifications"}=t,[k,S]=X.useState([]),v=X.useMemo(()=>r?k.filter(we=>we.toasterId===r):k.filter(we=>!we.toasterId),[k,r]),A=X.useMemo(()=>Array.from(new Set([i].concat(v.filter(we=>we.position).map(we=>we.position)))),[v,i]),[N,R]=X.useState([]),[M,j]=X.useState(!1),[H,z]=X.useState(!1),[q,ne]=X.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=X.useRef(null),_e=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),le=X.useRef(null),xe=X.useRef(!1),Te=X.useCallback(we=>{S(Le=>{var He;return(He=Le.find(Be=>Be.id===we.id))!=null&&He.delete||Jt.dismiss(we.id),Le.filter(({id:Be})=>Be!==we.id)})},[]);return X.useEffect(()=>Jt.subscribe(we=>{if(we.dismiss){requestAnimationFrame(()=>{S(Le=>Le.map(He=>He.id===we.id?{...He,delete:!0}:He))});return}setTimeout(()=>{X0.flushSync(()=>{S(Le=>{const He=Le.findIndex(Be=>Be.id===we.id);return He!==-1?[...Le.slice(0,He),{...Le[He],...we},...Le.slice(He+1)]:[we,...Le]})})})}),[k]),X.useEffect(()=>{if(l!=="system"){ne(l);return}if(l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const we=window.matchMedia("(prefers-color-scheme: dark)");try{we.addEventListener("change",({matches:Le})=>{ne(Le?"dark":"light")})}catch{we.addListener(({matches:He})=>{try{ne(He?"dark":"light")}catch(Be){console.error(Be)}})}},[l]),X.useEffect(()=>{k.length<=1&&j(!1)},[k]),X.useEffect(()=>{const we=Le=>{var He;if(o.every(Ve=>Le[Ve]||Le.code===Ve)){var et;j(!0),(et=ae.current)==null||et.focus()}Le.code==="Escape"&&(document.activeElement===ae.current||(He=ae.current)!=null&&He.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",we),()=>document.removeEventListener("keydown",we)},[o]),X.useEffect(()=>{if(ae.current)return()=>{le.current&&(le.current.focus({preventScroll:!0}),le.current=null,xe.current=!1)}},[ae.current]),X.createElement("section",{ref:n,"aria-label":`${w} ${_e}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((we,Le)=>{var He;const[Be,et]=we.split("-");return v.length?X.createElement("ol",{key:we,dir:y==="auto"?Kl():y,tabIndex:-1,ref:ae,className:d,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":Be,"data-x-position":et,style:{"--front-toast-height":`${((He=N[0])==null?void 0:He.height)||0}px`,"--width":`${qp}px`,"--gap":`${_}px`,...h,...Xp(p,u)},onBlur:Ve=>{xe.current&&!Ve.currentTarget.contains(Ve.relatedTarget)&&(xe.current=!1,le.current&&(le.current.focus({preventScroll:!0}),le.current=null))},onFocus:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||xe.current||(xe.current=!0,le.current=Ve.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{H||j(!1)},onDragEnd:()=>j(!1),onPointerDown:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},v.filter(Ve=>!Ve.position&&Le===0||Ve.position===we).map((Ve,gt)=>{var Je,Et;return X.createElement(Kp,{key:Ve.id,icons:T,index:gt,toast:Ve,defaultRichColors:f,duration:(Je=g==null?void 0:g.duration)!=null?Je:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:s,visibleToasts:x,closeButton:(Et=g==null?void 0:g.closeButton)!=null?Et:c,interacting:H,position:we,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,closeButtonAriaLabel:g==null?void 0:g.closeButtonAriaLabel,removeToast:Te,toasts:v.filter(dt=>dt.position==Ve.position),heights:N.filter(dt=>dt.position==Ve.position),setHeights:R,expandByDefault:a,gap:_,expanded:M,swipeDirections:t.swipeDirections})})):null}))});function Rf({hash:e}){return E.jsxs("a",{className:"inline-flex items-center gap-1.5 text-accent-cyan hover:text-accent-cyan/80 transition-colors text-sm",href:Ke.blockExplorer.url+"/tx/"+e,target:"_blank",rel:"noopener noreferrer",children:["View on ",Ke.blockExplorer.name,E.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}function Zp(){const{register:e}=If(),t=(n,r)=>{const s=r.hash?E.jsx(Rf,{hash:r.hash}):null;r.status==="pending"?Mi.loading(r.content||"Waiting for approval...",{id:n,description:r.name}):r.status==="approved"?Mi.loading(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction approved, confirming..."}),s]}),{id:n,description:r.name}):r.status==="success"?Mi.success(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction confirmed!"}),s]}),{id:n,description:r.name,duration:8e3}):r.status==="error"&&Mi.error(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction failed"}),r.errorMessage&&E.jsx("p",{className:"text-xs text-ink-400 break-words",children:r.errorMessage}),s]}),{id:n,description:r.name,duration:1e4})};return B.useEffect(()=>{e(t)},[]),E.jsx(Qp,{position:"bottom-right",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"sonner-toast"},richColors:!0,closeButton:!0})}function Jp(){const{isConnected:e}=cn(),t=Sf(),{switchChain:n}=z0();return B.useEffect(()=>{e&&t!==Xs.id&&(n==null||n({chainId:Xs.id}))},[e,t,n]),null}function eg({children:e,props:t}){return E.jsxs("div",{className:"min-h-screen flex flex-col bg-ink-950",children:[E.jsx(Jp,{}),E.jsx("main",{className:"flex-1",children:e}),E.jsx(Zp,{}),E.jsx("footer",{className:"bg-ink-900/50 border-t border-ink-800/50 mt-auto",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("span",{className:"font-mono text-xl font-bold text-ink-100",children:[".zang","{"]}),E.jsxs("p",{className:"text-ink-400 text-sm",children:["Text-based NFTs on Base.",E.jsx("br",{}),"By artists, for artists."]}),E.jsx("p",{className:"text-ink-500 text-xs",children:"Platform fee: 5%"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-ink-300 font-medium text-sm uppercase tracking-wide",children:"Contact"}),E.jsx("a",{href:"mailto:team@zang.gallery",className:"block text-ink-400 hover:text-accent-cyan transition-colors text-sm",children:"team@zang.gallery"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-ink-300 font-medium text-sm uppercase tracking-wide",children:"Community"}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsxs("a",{href:"https://twitter.com/zanggallery",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Twitter"]}),E.jsxs("a",{href:"https://github.com/zanggallery",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),"GitHub"]}),E.jsxs("a",{href:"https://discord.gg/jnpCz9R3gf",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189z"})}),"Discord"]})]})]})]}),E.jsx("div",{className:"mt-8 pt-8 border-t border-ink-800/50",children:E.jsx("p",{className:"text-ink-500 text-xs text-center",children:"Built on Base"})})]})})]})}function Kr(){const[e,t]=B.useState(!1),{isConnected:n}=cn(),r=Sf(),s=[{href:"/",label:"Home"},{href:"/mint",label:"Mint"},{href:"/activity",label:"Activity"}];return n&&s.push({href:"/vault",label:"Vault"}),E.jsxs("header",{className:"sticky top-0 z-50 bg-ink-950/80 backdrop-blur-md border-b border-ink-800/50",children:[E.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"flex items-center h-16",children:[E.jsx("div",{className:"flex-shrink-0 w-64",children:E.jsx(ea,{href:"/",className:"group flex items-center",children:E.jsxs("span",{className:"font-mono text-2xl font-bold text-ink-100 group-hover:text-white transition-colors duration-200",children:[".zang","{"]})})}),E.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center space-x-8",children:s.map(i=>E.jsx(ea,{href:i.href,className:"nav-link text-sm font-medium uppercase tracking-wide",children:i.label},i.href))}),E.jsx("div",{className:"hidden md:flex flex-shrink-0 justify-end w-64",children:E.jsx(Uc,{})}),E.jsx("button",{className:"md:hidden ml-auto p-2 rounded-lg text-ink-400 hover:text-white hover:bg-ink-800/50 transition-colors",onClick:()=>t(!e),"aria-label":"Toggle menu","aria-expanded":e,children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&E.jsx("div",{className:"md:hidden py-4 border-t border-ink-800/50 animate-fade-in",children:E.jsxs("div",{className:"flex flex-col space-y-4",children:[s.map(i=>E.jsx(ea,{href:i.href,className:"text-ink-300 hover:text-white text-sm font-medium uppercase tracking-wide py-2 transition-colors",onClick:()=>t(!1),children:i.label},i.href)),E.jsx("div",{className:"pt-4 border-t border-ink-800/50",children:E.jsx(Uc,{})})]})})]}),n&&r!==Ke.networks.main.chainId&&E.jsx("div",{className:"bg-red-500/10 border-b border-red-500/20 px-4 py-3",children:E.jsxs("p",{className:"text-center text-red-400 text-sm",children:["Please switch to"," ",E.jsx("span",{className:"font-semibold",children:Ke.networks.main.name})]})})]})}var pi=e=>e.type==="checkbox",Pr=e=>e instanceof Date,en=e=>e==null;const Lf=e=>typeof e=="object";var Tt=e=>!en(e)&&!Array.isArray(e)&&Lf(e)&&!Pr(e),tg=e=>Tt(e)&&e.target?pi(e.target)?e.target.checked:e.target.value:e,ng=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,rg=(e,t)=>e.has(ng(t)),sg=e=>{const t=e.constructor&&e.constructor.prototype;return Tt(t)&&t.hasOwnProperty("isPrototypeOf")},Gu=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function It(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Gu&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(Tt(e)&&sg(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=It(e[s]));return r}var Oa=e=>/^\w*$/.test(e),yt=e=>e===void 0,Ku=e=>Array.isArray(e)?e.filter(Boolean):[],Xu=e=>Ku(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(e,t,n)=>{if(!t||!Tt(e))return n;const r=(Oa(t)?[t]:Xu(t)).reduce((s,i)=>en(s)?s:s[i],e);return yt(r)||r===e?yt(e[t])?n:e[t]:r},Mn=e=>typeof e=="boolean",wn=e=>typeof e=="function",it=(e,t,n)=>{let r=-1;const s=Oa(t)?[t]:Xu(t),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let c=n;if(r!==o){const d=e[a];c=Tt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const Xl={BLUR:"blur",FOCUS_OUT:"focusout"},An={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ig=X.createContext(null);ig.displayName="HookFormContext";var ag=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==An.all&&(t._proxyFormState[o]=!r||An.all),e[o]}});return s};const og=typeof window<"u"?X.useLayoutEffect:X.useEffect;var un=e=>typeof e=="string",ug=(e,t,n,r,s)=>un(e)?(r&&t.watch.add(e),ve(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),ve(n,i))):(r&&(t.watchAll=!0),n),Uo=e=>en(e)||!Lf(e);function mr(e,t,n=new WeakSet){if(Uo(e)||Uo(t))return Object.is(e,t);if(Pr(e)&&Pr(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=t[i];if(Pr(o)&&Pr(a)||Tt(o)&&Tt(a)||Array.isArray(o)&&Array.isArray(a)?!mr(o,a,n):!Object.is(o,a))return!1}}return!0}var Df=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Fs=e=>Array.isArray(e)?e:[e],Ql=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function Pf(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],i=t[r];if(s&&Tt(s)&&i){const o=Pf(s,i);Tt(o)&&(n[r]=o)}else e[r]&&(n[r]=i)}return n}var Yt=e=>Tt(e)&&!Object.keys(e).length,Qu=e=>e.type==="file",da=e=>{if(!Gu)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Mf=e=>e.type==="select-multiple",Zu=e=>e.type==="radio",lg=e=>Zu(e)||pi(e),io=e=>da(e)&&e.isConnected;function cg(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=yt(e)?r++:e[t[r++]];return e}function dg(e){for(const t in e)if(e.hasOwnProperty(t)&&!yt(e[t]))return!1;return!0}function xt(e,t){const n=Array.isArray(t)?t:Oa(t)?[t]:Xu(t),r=n.length===1?e:cg(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Tt(r)&&Yt(r)||Array.isArray(r)&&dg(r))&&xt(e,n.slice(0,-1)),e}var fg=e=>{for(const t in e)if(wn(e[t]))return!0;return!1};function jf(e){return Array.isArray(e)||Tt(e)&&!fg(e)}function Ho(e,t={}){for(const n in e){const r=e[n];jf(r)?(t[n]=Array.isArray(r)?[]:{},Ho(r,t[n])):yt(r)||(t[n]=!0)}return t}function is(e,t,n){n||(n=Ho(t));for(const r in e){const s=e[r];if(jf(s))yt(t)||Uo(n[r])?n[r]=Ho(s,Array.isArray(s)?[]:{}):is(s,en(t)?{}:t[r],n[r]);else{const i=t[r];n[r]=!mr(s,i)}}return n}const Zl={value:!1,isValid:!1},Jl={value:!0,isValid:!0};var Bf=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yt(e[0].attributes.value)?yt(e[0].value)||e[0].value===""?Jl:{value:e[0].value,isValid:!0}:Jl:Zl}return Zl},Ff=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>yt(e)?e:t?e===""?NaN:e&&+e:n&&un(e)?new Date(e):r?r(e):e;const ec={isValid:!1,value:null};var Uf=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ec):ec;function tc(e){const t=e.ref;return Qu(t)?t.files:Zu(t)?Uf(e.refs).value:Mf(t)?[...t.selectedOptions].map(({value:n})=>n):pi(t)?Bf(e.refs).value:Ff(yt(t.value)?e.ref.value:t.value,e)}var hg=(e,t,n,r)=>{const s={};for(const i of e){const o=ve(t,i);o&&it(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},fa=e=>e instanceof RegExp,Os=e=>yt(e)?e:fa(e)?e.source:Tt(e)?fa(e.value)?e.value.source:e.value:e,nc=e=>({isOnSubmit:!e||e===An.onSubmit,isOnBlur:e===An.onBlur,isOnChange:e===An.onChange,isOnAll:e===An.all,isOnTouch:e===An.onTouched});const rc="AsyncFunction";var mg=e=>!!e&&!!e.validate&&!!(wn(e.validate)&&e.validate.constructor.name===rc||Tt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===rc)),pg=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),sc=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Us=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=ve(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Us(a,t))break}else if(Tt(a)&&Us(a,t))break}}};function ic(e,t,n){const r=ve(e,n);if(r||Oa(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ve(t,i),a=ve(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var gg=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return Yt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||An.all))},bg=(e,t,n)=>!e||!t||e===t||Fs(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),yg=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,Eg=(e,t)=>!Ku(ve(e,t)).length&&xt(e,t),xg=(e,t,n)=>{const r=Fs(ve(e,n));return it(r,"root",t[n]),it(e,n,r),e};function ac(e,t,n="validate"){if(un(e)||Array.isArray(e)&&e.every(un)||Mn(e)&&!e)return{type:n,message:un(e)?e:"",ref:t}}var ts=e=>Tt(e)&&!fa(e)?e:{value:e,message:""},oc=async(e,t,n,r,s,i)=>{const{ref:o,refs:a,required:c,maxLength:d,minLength:p,min:u,max:l,pattern:f,validate:m,name:h,valueAsNumber:x,mount:g}=e._f,y=ve(n,h);if(!g||t.has(h))return{};const _=a?a[0]:o,T=M=>{s&&_.reportValidity&&(_.setCustomValidity(Mn(M)?"":M||""),_.reportValidity())},w={},k=Zu(o),S=pi(o),v=k||S,A=(x||Qu(o))&&yt(o.value)&&yt(y)||da(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,N=Df.bind(null,h,r,w),R=(M,j,H,z=Qn.maxLength,q=Qn.minLength)=>{const ne=M?j:H;w[h]={type:M?z:q,message:ne,ref:o,...N(M?z:q,ne)}};if(i?!Array.isArray(y)||!y.length:c&&(!v&&(A||en(y))||Mn(y)&&!y||S&&!Bf(a).isValid||k&&!Uf(a).isValid)){const{value:M,message:j}=un(c)?{value:!!c,message:c}:ts(c);if(M&&(w[h]={type:Qn.required,message:j,ref:_,...N(Qn.required,j)},!r))return T(j),w}if(!A&&(!en(u)||!en(l))){let M,j;const H=ts(l),z=ts(u);if(!en(y)&&!isNaN(y)){const q=o.valueAsNumber||y&&+y;en(H.value)||(M=q>H.value),en(z.value)||(j=q<z.value)}else{const q=o.valueAsDate||new Date(y),ne=le=>new Date(new Date().toDateString()+" "+le),ae=o.type=="time",_e=o.type=="week";un(H.value)&&y&&(M=ae?ne(y)>ne(H.value):_e?y>H.value:q>new Date(H.value)),un(z.value)&&y&&(j=ae?ne(y)<ne(z.value):_e?y<z.value:q<new Date(z.value))}if((M||j)&&(R(!!M,H.message,z.message,Qn.max,Qn.min),!r))return T(w[h].message),w}if((d||p)&&!A&&(un(y)||i&&Array.isArray(y))){const M=ts(d),j=ts(p),H=!en(M.value)&&y.length>+M.value,z=!en(j.value)&&y.length<+j.value;if((H||z)&&(R(H,M.message,j.message),!r))return T(w[h].message),w}if(f&&!A&&un(y)){const{value:M,message:j}=ts(f);if(fa(M)&&!y.match(M)&&(w[h]={type:Qn.pattern,message:j,ref:o,...N(Qn.pattern,j)},!r))return T(j),w}if(m){if(wn(m)){const M=await m(y,n),j=ac(M,_);if(j&&(w[h]={...j,...N(Qn.validate,j.message)},!r))return T(j.message),w}else if(Tt(m)){let M={};for(const j in m){if(!Yt(M)&&!r)break;const H=ac(await m[j](y,n),_,j);H&&(M={...H,...N(j,H.message)},T(H.message),r&&(w[h]=M))}if(!Yt(M)&&(w[h]={ref:_,...M},!r))return w}}return T(!0),w};const _g={mode:An.onSubmit,reValidateMode:An.onChange,shouldFocusError:!0};function vg(e={}){let t={..._g,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:wn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Tt(t.defaultValues)||Tt(t.values)?It(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:It(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={...p};let l={...u};const f={array:Ql(),state:Ql()},m=t.criteriaMode===An.all,h=L=>F=>{clearTimeout(d),d=setTimeout(L,F)},x=async L=>{if(!o.keepIsValid&&!t.disabled&&(u.isValid||l.isValid||L)){let F;t.resolver?(F=Yt((await v()).errors),g()):F=await N(r,!0),F!==n.isValid&&f.state.next({isValid:F})}},g=(L,F)=>{!t.disabled&&(u.isValidating||u.validatingFields||l.isValidating||l.validatingFields)&&((L||Array.from(a.mount)).forEach($=>{$&&(F?it(n.validatingFields,$,F):xt(n.validatingFields,$))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Yt(n.validatingFields)}))},y=(L,F=[],$,ie,ee=!0,K=!0)=>{if(ie&&$&&!t.disabled){if(o.action=!0,K&&Array.isArray(ve(r,L))){const ye=$(ve(r,L),ie.argA,ie.argB);ee&&it(r,L,ye)}if(K&&Array.isArray(ve(n.errors,L))){const ye=$(ve(n.errors,L),ie.argA,ie.argB);ee&&it(n.errors,L,ye),Eg(n.errors,L)}if((u.touchedFields||l.touchedFields)&&K&&Array.isArray(ve(n.touchedFields,L))){const ye=$(ve(n.touchedFields,L),ie.argA,ie.argB);ee&&it(n.touchedFields,L,ye)}(u.dirtyFields||l.dirtyFields)&&(n.dirtyFields=is(s,i)),f.state.next({name:L,isDirty:M(L,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else it(i,L,F)},_=(L,F)=>{it(n.errors,L,F),f.state.next({errors:n.errors})},T=L=>{n.errors=L,f.state.next({errors:n.errors,isValid:!1})},w=(L,F,$,ie)=>{const ee=ve(r,L);if(ee){const K=ve(i,L,yt($)?ve(s,L):$);yt(K)||ie&&ie.defaultChecked||F?it(i,L,F?K:tc(ee._f)):z(L,K),o.mount&&!o.action&&x()}},k=(L,F,$,ie,ee)=>{let K=!1,ye=!1;const Ie={name:L};if(!t.disabled){if(!$||ie){(u.isDirty||l.isDirty)&&(ye=n.isDirty,n.isDirty=Ie.isDirty=M(),K=ye!==Ie.isDirty);const Fe=mr(ve(s,L),F);ye=!!ve(n.dirtyFields,L),Fe?xt(n.dirtyFields,L):it(n.dirtyFields,L,!0),Ie.dirtyFields=n.dirtyFields,K=K||(u.dirtyFields||l.dirtyFields)&&ye!==!Fe}if($){const Fe=ve(n.touchedFields,L);Fe||(it(n.touchedFields,L,$),Ie.touchedFields=n.touchedFields,K=K||(u.touchedFields||l.touchedFields)&&Fe!==$)}K&&ee&&f.state.next(Ie)}return K?Ie:{}},S=(L,F,$,ie)=>{const ee=ve(n.errors,L),K=(u.isValid||l.isValid)&&Mn(F)&&n.isValid!==F;if(t.delayError&&$?(c=h(()=>_(L,$)),c(t.delayError)):(clearTimeout(d),c=null,$?it(n.errors,L,$):xt(n.errors,L)),($?!mr(ee,$):ee)||!Yt(ie)||K){const ye={...ie,...K&&Mn(F)?{isValid:F}:{},errors:n.errors,name:L};n={...n,...ye},f.state.next(ye)}},v=async L=>(g(L,!0),await t.resolver(i,t.context,hg(L||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),A=async L=>{const{errors:F}=await v(L);if(g(L),L)for(const $ of L){const ie=ve(F,$);ie?it(n.errors,$,ie):xt(n.errors,$)}else n.errors=F;return F},N=async(L,F,$={valid:!0})=>{for(const ie in L){const ee=L[ie];if(ee){const{_f:K,...ye}=ee;if(K){const Ie=a.array.has(K.name),Fe=ee._f&&mg(ee._f);Fe&&u.validatingFields&&g([K.name],!0);const Ye=await oc(ee,a.disabled,i,m,t.shouldUseNativeValidation&&!F,Ie);if(Fe&&u.validatingFields&&g([K.name]),Ye[K.name]&&($.valid=!1,F))break;!F&&(ve(Ye,K.name)?Ie?xg(n.errors,Ye,K.name):it(n.errors,K.name,Ye[K.name]):xt(n.errors,K.name))}!Yt(ye)&&await N(ye,F,$)}}return $.valid},R=()=>{for(const L of a.unMount){const F=ve(r,L);F&&(F._f.refs?F._f.refs.every($=>!io($)):!io(F._f.ref))&&Ve(L)}a.unMount=new Set},M=(L,F)=>!t.disabled&&(L&&F&&it(i,L,F),!mr(xe(),s)),j=(L,F,$)=>ug(L,a,{...o.mount?i:yt(F)?s:un(L)?{[L]:F}:F},$,F),H=L=>Ku(ve(o.mount?i:s,L,t.shouldUnregister?ve(s,L,[]):[])),z=(L,F,$={})=>{const ie=ve(r,L);let ee=F;if(ie){const K=ie._f;K&&(!K.disabled&&it(i,L,Ff(F,K)),ee=da(K.ref)&&en(F)?"":F,Mf(K.ref)?[...K.ref.options].forEach(ye=>ye.selected=ee.includes(ye.value)):K.refs?pi(K.ref)?K.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(ee)?ye.checked=!!ee.find(Ie=>Ie===ye.value):ye.checked=ee===ye.value||!!ee)}):K.refs.forEach(ye=>ye.checked=ye.value===ee):Qu(K.ref)?K.ref.value="":(K.ref.value=ee,K.ref.type||f.state.next({name:L,values:It(i)})))}($.shouldDirty||$.shouldTouch)&&k(L,ee,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&le(L)},q=(L,F,$)=>{for(const ie in F){if(!F.hasOwnProperty(ie))return;const ee=F[ie],K=L+"."+ie,ye=ve(r,K);(a.array.has(L)||Tt(ee)||ye&&!ye._f)&&!Pr(ee)?q(K,ee,$):z(K,ee,$)}},ne=(L,F,$={})=>{const ie=ve(r,L),ee=a.array.has(L),K=It(F);it(i,L,K),ee?(f.array.next({name:L,values:It(i)}),(u.isDirty||u.dirtyFields||l.isDirty||l.dirtyFields)&&$.shouldDirty&&f.state.next({name:L,dirtyFields:is(s,i),isDirty:M(L,K)})):ie&&!ie._f&&!en(K)?q(L,K,$):z(L,K,$),sc(L,a)&&f.state.next({...n,name:L}),f.state.next({name:o.mount?L:void 0,values:It(i)})},ae=async L=>{o.mount=!0;const F=L.target;let $=F.name,ie=!0;const ee=ve(r,$),K=Fe=>{ie=Number.isNaN(Fe)||Pr(Fe)&&isNaN(Fe.getTime())||mr(Fe,ve(i,$,Fe))},ye=nc(t.mode),Ie=nc(t.reValidateMode);if(ee){let Fe,Ye;const Ot=F.type?tc(ee._f):tg(L),ft=L.type===Xl.BLUR||L.type===Xl.FOCUS_OUT,Gt=!pg(ee._f)&&!t.resolver&&!ve(n.errors,$)&&!ee._f.deps||yg(ft,ve(n.touchedFields,$),n.isSubmitted,Ie,ye),Z=sc($,a,ft);it(i,$,Ot),ft?(!F||!F.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(L),c&&c(0)):ee._f.onChange&&ee._f.onChange(L);const de=k($,Ot,ft),Ee=!Yt(de)||Z;if(!ft&&f.state.next({name:$,type:L.type,values:It(i)}),Gt)return(u.isValid||l.isValid)&&(t.mode==="onBlur"?ft&&x():ft||x()),Ee&&f.state.next({name:$,...Z?{}:de});if(!ft&&Z&&f.state.next({...n}),t.resolver){const{errors:Me}=await v([$]);if(g([$]),K(Ot),ie){const We=ic(n.errors,r,$),Oe=ic(Me,r,We.name||$);Fe=Oe.error,$=Oe.name,Ye=Yt(Me)}}else g([$],!0),Fe=(await oc(ee,a.disabled,i,m,t.shouldUseNativeValidation))[$],g([$]),K(Ot),ie&&(Fe?Ye=!1:(u.isValid||l.isValid)&&(Ye=await N(r,!0)));ie&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&le(ee._f.deps),S($,Ye,Fe,de))}},_e=(L,F)=>{if(ve(n.errors,F)&&L.focus)return L.focus(),1},le=async(L,F={})=>{let $,ie;const ee=Fs(L);if(t.resolver){const K=await A(yt(L)?L:ee);$=Yt(K),ie=L?!ee.some(ye=>ve(K,ye)):$}else L?(ie=(await Promise.all(ee.map(async K=>{const ye=ve(r,K);return await N(ye&&ye._f?{[K]:ye}:ye)}))).every(Boolean),!(!ie&&!n.isValid)&&x()):ie=$=await N(r);return f.state.next({...!un(L)||(u.isValid||l.isValid)&&$!==n.isValid?{}:{name:L},...t.resolver||!L?{isValid:$}:{},errors:n.errors}),F.shouldFocus&&!ie&&Us(r,_e,L?ee:a.mount),ie},xe=(L,F)=>{let $={...o.mount?i:s};return F&&($=Pf(F.dirtyFields?n.dirtyFields:n.touchedFields,$)),yt(L)?$:un(L)?ve($,L):L.map(ie=>ve($,ie))},Te=(L,F)=>({invalid:!!ve((F||n).errors,L),isDirty:!!ve((F||n).dirtyFields,L),error:ve((F||n).errors,L),isValidating:!!ve(n.validatingFields,L),isTouched:!!ve((F||n).touchedFields,L)}),we=L=>{L&&Fs(L).forEach(F=>xt(n.errors,F)),f.state.next({errors:L?n.errors:{}})},Le=(L,F,$)=>{const ie=(ve(r,L,{_f:{}})._f||{}).ref,ee=ve(n.errors,L)||{},{ref:K,message:ye,type:Ie,...Fe}=ee;it(n.errors,L,{...Fe,...F,ref:ie}),f.state.next({name:L,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&ie&&ie.focus&&ie.focus()},He=(L,F)=>wn(L)?f.state.subscribe({next:$=>"values"in $&&L(j(void 0,F),$)}):j(L,F,!0),Be=L=>f.state.subscribe({next:F=>{bg(L.name,F.name,L.exact)&&gg(F,L.formState||u,Ut,L.reRenderRoot)&&L.callback({values:{...i},...n,...F,defaultValues:s})}}).unsubscribe,et=L=>(o.mount=!0,l={...l,...L.formState},Be({...L,formState:{...p,...L.formState}})),Ve=(L,F={})=>{for(const $ of L?Fs(L):a.mount)a.mount.delete($),a.array.delete($),F.keepValue||(xt(r,$),xt(i,$)),!F.keepError&&xt(n.errors,$),!F.keepDirty&&xt(n.dirtyFields,$),!F.keepTouched&&xt(n.touchedFields,$),!F.keepIsValidating&&xt(n.validatingFields,$),!t.shouldUnregister&&!F.keepDefaultValue&&xt(s,$);f.state.next({values:It(i)}),f.state.next({...n,...F.keepDirty?{isDirty:M()}:{}}),!F.keepIsValid&&x()},gt=({disabled:L,name:F})=>{(Mn(L)&&o.mount||L||a.disabled.has(F))&&(L?a.disabled.add(F):a.disabled.delete(F))},Je=(L,F={})=>{let $=ve(r,L);const ie=Mn(F.disabled)||Mn(t.disabled);return it(r,L,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:L}},name:L,mount:!0,...F}}),a.mount.add(L),$?gt({disabled:Mn(F.disabled)?F.disabled:t.disabled,name:L}):w(L,!0,F.value),{...ie?{disabled:F.disabled||t.disabled}:{},...t.progressive?{required:!!F.required,min:Os(F.min),max:Os(F.max),minLength:Os(F.minLength),maxLength:Os(F.maxLength),pattern:Os(F.pattern)}:{},name:L,onChange:ae,onBlur:ae,ref:ee=>{if(ee){Je(L,F),$=ve(r,L);const K=yt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ye=lg(K),Ie=$._f.refs||[];if(ye?Ie.find(Fe=>Fe===K):K===$._f.ref)return;it(r,L,{_f:{...$._f,...ye?{refs:[...Ie.filter(io),K,...Array.isArray(ve(s,L))?[{}]:[]],ref:{type:K.type,name:L}}:{ref:K}}}),w(L,!1,void 0,K)}else $=ve(r,L,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||F.shouldUnregister)&&!(rg(a.array,L)&&o.action)&&a.unMount.add(L)}}},Et=()=>t.shouldFocusError&&Us(r,_e,a.mount),dt=L=>{Mn(L)&&(f.state.next({disabled:L}),Us(r,(F,$)=>{const ie=ve(r,$);ie&&(F.disabled=ie._f.disabled||L,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ee=>{ee.disabled=ie._f.disabled||L}))},0,!1))},Dt=(L,F)=>async $=>{let ie;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ee=It(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:ye}=await v();g(),n.errors=K,ee=It(ye)}else await N(r);if(a.disabled.size)for(const K of a.disabled)xt(ee,K);if(xt(n.errors,"root"),Yt(n.errors)){f.state.next({errors:{}});try{await L(ee,$)}catch(K){ie=K}}else F&&await F({...n.errors},$),Et(),setTimeout(Et);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yt(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Pt=(L,F={})=>{ve(r,L)&&(yt(F.defaultValue)?ne(L,It(ve(s,L))):(ne(L,F.defaultValue),it(s,L,It(F.defaultValue))),F.keepTouched||xt(n.touchedFields,L),F.keepDirty||(xt(n.dirtyFields,L),n.isDirty=F.defaultValue?M(L,It(ve(s,L))):M()),F.keepError||(xt(n.errors,L),u.isValid&&x()),f.state.next({...n}))},Ct=(L,F={})=>{const $=L?It(L):s,ie=It($),ee=Yt(L),K=ee?s:ie;if(F.keepDefaultValues||(s=$),!F.keepValues){if(F.keepDirtyValues){const ye=new Set([...a.mount,...Object.keys(is(s,i))]);for(const Ie of Array.from(ye))ve(n.dirtyFields,Ie)?it(K,Ie,ve(i,Ie)):ne(Ie,ve(K,Ie))}else{if(Gu&&yt(L))for(const ye of a.mount){const Ie=ve(r,ye);if(Ie&&Ie._f){const Fe=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(da(Fe)){const Ye=Fe.closest("form");if(Ye){Ye.reset();break}}}}if(F.keepFieldsRef)for(const ye of a.mount)ne(ye,ve(K,ye));else r={}}i=t.shouldUnregister?F.keepDefaultValues?It(s):{}:It(K),f.array.next({values:{...K}}),f.state.next({values:{...K}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!F.keepIsValid||!!F.keepDirtyValues||!t.shouldUnregister&&!Yt(K),o.watch=!!t.shouldUnregister,o.keepIsValid=!!F.keepIsValid,o.action=!1,F.keepErrors||(n.errors={}),f.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!mr(L,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:F.keepDirtyValues?F.keepDefaultValues&&i?is(s,i):n.dirtyFields:F.keepDefaultValues&&L?is(s,L):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ft=(L,F)=>Ct(wn(L)?L(i):L,{...t.resetOptions,...F}),rt=(L,F={})=>{const $=ve(r,L),ie=$&&$._f;if(ie){const ee=ie.refs?ie.refs[0]:ie.ref;ee.focus&&setTimeout(()=>{ee.focus(),F.shouldSelect&&wn(ee.select)&&ee.select()})}},Ut=L=>{n={...n,...L}},st={control:{register:Je,unregister:Ve,getFieldState:Te,handleSubmit:Dt,setError:Le,_subscribe:Be,_runSchema:v,_updateIsValidating:g,_focusError:Et,_getWatch:j,_getDirty:M,_setValid:x,_setFieldArray:y,_setDisabledField:gt,_setErrors:T,_getFieldArray:H,_reset:Ct,_resetDefaultValues:()=>wn(t.defaultValues)&&t.defaultValues().then(L=>{Ft(L,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:dt,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:et,trigger:le,register:Je,handleSubmit:Dt,watch:He,setValue:ne,getValues:xe,reset:Ft,resetField:Pt,clearErrors:we,unregister:Ve,setError:Le,setFocus:rt,getFieldState:Te};return{...st,formControl:st}}function gi(e={}){const t=X.useRef(void 0),n=X.useRef(void 0),[r,s]=X.useState({isDirty:!1,isValidating:!1,isLoading:wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!wn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=vg(e);t.current={...a,formState:r}}const i=t.current.control;return i._options=e,og(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),X.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),X.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),X.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),X.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),X.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),X.useEffect(()=>{var o;e.values&&!mr(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),n.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),X.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=ag(r,i),t.current}const uc=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ve(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Hf=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?uc(r.ref,n,e):r.refs&&r.refs.forEach(s=>uc(s,n,e))}},Tg=(e,t)=>{t.shouldUseNativeValidation&&Hf(e,t);const n={};for(const r in e){const s=ve(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(wg(t.names||Object.keys(e),r)){const o=Object.assign({},ve(n,r));it(o,"root",i),it(n,r,o)}else it(n,r,i)}return n},wg=(e,t)=>e.some(n=>n.startsWith(t+"."));var bi=function(e,t,n){return t===void 0&&(t={abortEarly:!1}),n===void 0&&(n={}),function(r,s,i){try{var o=function(){return c.error?{values:{},errors:Tg((p=c.error,u=!i.shouldUseNativeValidation&&i.criteriaMode==="all",p.details.length?p.details.reduce(function(l,f){var m=f.path.join(".");if(l[m]||(l[m]={message:f.message,type:f.type}),u){var h=l[m].types,x=h&&h[f.type];l[m]=Df(m,u,l,f.type,x?[].concat(x,f.message):f.message)}return l},{}):{}),i)}:(i.shouldUseNativeValidation&&Hf({},i),{errors:{},values:c.value});var p,u},a=Object.assign({},t,{context:s}),c={},d=(function(){if(n.mode==="sync")c=e.validate(r,a);else{var p=(function(u,l){try{var f=u()}catch(m){return l(m)}return f&&f.then?f.then(void 0,l):f})(function(){return Promise.resolve(e.validateAsync(r,a)).then(function(u){c.value=u})},function(u){c.error=u});if(p&&p.then)return p.then(function(){})}})();return Promise.resolve(d&&d.then?d.then(o):o())}catch(p){return Promise.reject(p)}}};function Nn(e){const t={...e};delete t.label,delete t.name,delete t.errors,delete t.register,delete t.hint;const n=e.errors[e.name];return E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"block text-sm font-medium text-ink-300",children:e.label}),E.jsx("input",{className:`w-full px-4 py-3 bg-ink-900 border rounded-lg text-ink-100 placeholder-ink-500 transition-colors duration-200 focus:outline-none focus:ring-1 ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-ink-700 focus:border-accent-cyan focus:ring-accent-cyan"}`,...t,...e.register(e.name)}),e.hint&&!n&&E.jsx("p",{className:"text-xs text-ink-500",children:e.hint}),n&&E.jsx("p",{className:"text-sm text-red-400",children:n.message})]})}const Ag=[{type:"constructor",inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_imageURI",type:"string"},{internalType:"string",name:"_externalLink",type:"string"},{internalType:"address",name:"_zangCommissionAccount",type:"address"}]},{type:"function",name:"PLATFORM_FEE_TIMELOCK",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"applyPlatformFeePercentageIncrease",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"authorOf",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"balanceOf",inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"burn",inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"contractURI",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"decreasePlatformFeePercentage",inputs:[{internalType:"uint16",name:"_lowerFeePercentage",type:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"decreaseRoyaltyNumerator",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint96",name:"_lowerValue",type:"uint96"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"description",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"descriptionOf",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"exists",inputs:[{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"externalLink",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"imageURI",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"lastTokenId",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"lock",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"mint",inputs:[{internalType:"string",name:"textURI_",type:"string"},{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"description_",type:"string"},{internalType:"uint256",name:"amount_",type:"uint256"},{internalType:"uint96",name:"royaltyNumerator_",type:"uint96"},{internalType:"address",name:"royaltyRecipient_",type:"address"},{internalType:"bytes",name:"data_",type:"bytes"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"nameOf",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"newPlatformFeePercentage",inputs:[],outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"platformFeePercentage",inputs:[],outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"requestPlatformFeePercentageIncrease",inputs:[{internalType:"uint16",name:"_higherFeePercentage",type:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"royaltyDenominator",inputs:[],outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"pure"},{type:"function",name:"royaltyInfo",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_salePrice",type:"uint256"}],outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"royaltyNumerator",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setZangCommissionAccount",inputs:[{internalType:"address",name:"_zangCommissionAccount",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"textURI",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{internalType:"address",name:"newOwner",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"uri",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"zangCommissionAccount",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0},{name:"operator",type:"address",indexed:!0},{name:"approved",type:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0},{name:"newOwner",type:"address",indexed:!0}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0},{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"ids",type:"uint256[]",indexed:!1},{name:"values",type:"uint256[]",indexed:!1}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0},{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"id",type:"uint256",indexed:!1},{name:"value",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1},{name:"id",type:"uint256",indexed:!0}],anonymous:!1}],Ng=[{type:"constructor",inputs:[{internalType:"contract IZangNFT",name:"_zangNFTAddress",type:"address"}]},{type:"function",name:"buyToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"delistToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListing",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_expectedAmount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListingAmount",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_expectedAmount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListingPrice",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"listToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"listingCount",inputs:[{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"listings",inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{internalType:"address",name:"newOwner",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"zangNFTAddress",inputs:[],outputs:[{internalType:"contract IZangNFT",name:"",type:"address"}],stateMutability:"view"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0},{name:"newOwner",type:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1}],anonymous:!1},{type:"event",name:"TokenDelisted",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"TokenListed",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1},{name:"amount",type:"uint256",indexed:!1},{name:"_price",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"TokenPurchased",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_buyer",type:"address",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1},{name:"_amount",type:"uint256",indexed:!1},{name:"_price",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1}],anonymous:!1}],qe={zang:Ag,marketplace:Ng},Ju=(e,t,n)=>({...e,execute:(r,s)=>{if(!r.text||!r.selection){s.replaceSelection(`${t}${n}`);return}try{const i=lp({text:r.text,selection:r.selection}),o=s.setSelectionRange(i),a=o.selectedText||"",c=a.search(/\S|$/),d=a.substring(0,c),p=a.search(/\s+$/),u=p===-1?"":a.substring(p,a.length),l=s.replaceSelection(d.concat(t,o.selectedText.trim(),n,u));s.setSelectionRange({start:l.selection.end-t.length-o.selectedText.length+d.length,end:l.selection.end-n.length-u.length})}catch{s.replaceSelection(`${t}${r.selectedText||""}${n}`)}}}),Sg=Ju(ip,"**","**"),kg=Ju(ap,"*","*"),Cg=Ju(op,"~~","~~"),Hr=up();Hr[Hr.findIndex(e=>e.name==="bold")]=Sg;Hr[Hr.findIndex(e=>e.name==="italic")]=kg;Hr[Hr.findIndex(e=>e.name==="strikethrough")]=Cg;var ao={exports:{}},lc;function Og(){return lc||(lc=1,(function(e,t){(function(n,r){e.exports=r()})(self,(()=>{return n={7629:(s,i,o)=>{const a=o(375),c=o(8571),d=o(9474),p=o(1687),u=o(8652),l=o(8160),f=o(3292),m=o(6354),h=o(8901),x=o(9708),g=o(6914),y=o(2294),_=o(6133),T=o(1152),w=o(8863),k=o(2036),S={Base:class{constructor(v){this.type=v,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new y.Ids,this._preferences=null,this._refs=new _.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return a(typeof x.describe=="function","Manifest functionality disabled"),x.describe(this)}allow(...v){return l.verifyFlat(v,"allow"),this._values(v,"_valids")}alter(v){a(v&&typeof v=="object"&&!Array.isArray(v),"Invalid targets argument"),a(!this._inRuleset(),"Cannot set alterations inside a ruleset");const A=this.clone();A.$_terms.alterations=A.$_terms.alterations||[];for(const N in v){const R=v[N];a(typeof R=="function","Alteration adjuster for",N,"must be a function"),A.$_terms.alterations.push({target:N,adjuster:R})}return A.$_temp.ruleset=!1,A}artifact(v){return a(v!==void 0,"Artifact cannot be undefined"),a(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",v)}cast(v){return a(v===!1||typeof v=="string","Invalid to value"),a(v===!1||this._definition.cast[v],"Type",this.type,"does not support casting to",v),this.$_setFlag("cast",v===!1?void 0:v)}default(v,A){return this._default("default",v,A)}description(v){return a(v&&typeof v=="string","Description must be a non-empty string"),this.$_setFlag("description",v)}empty(v){const A=this.clone();return v!==void 0&&(v=A.$_compile(v,{override:!1})),A.$_setFlag("empty",v,{clone:!1})}error(v){return a(v,"Missing error"),a(v instanceof Error||typeof v=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",v)}example(v,A={}){return a(v!==void 0,"Missing example"),l.assertOptions(A,["override"]),this._inner("examples",v,{single:!0,override:A.override})}external(v,A){return typeof v=="object"&&(a(!A,"Cannot combine options with description"),A=v.description,v=v.method),a(typeof v=="function","Method must be a function"),a(A===void 0||A&&typeof A=="string","Description must be a non-empty string"),this._inner("externals",{method:v,description:A},{single:!0})}failover(v,A){return this._default("failover",v,A)}forbidden(){return this.presence("forbidden")}id(v){return v?(a(typeof v=="string","id must be a non-empty string"),a(/^[^\.]+$/.test(v),"id cannot contain period character"),this.$_setFlag("id",v)):this.$_setFlag("id",void 0)}invalid(...v){return this._values(v,"_invalids")}label(v){return a(v&&typeof v=="string","Label name must be a non-empty string"),this.$_setFlag("label",v)}meta(v){return a(v!==void 0,"Meta cannot be undefined"),this._inner("metas",v,{single:!0})}note(...v){a(v.length,"Missing notes");for(const A of v)a(A&&typeof A=="string","Notes must be non-empty strings");return this._inner("notes",v)}only(v=!0){return a(typeof v=="boolean","Invalid mode:",v),this.$_setFlag("only",v)}optional(){return this.presence("optional")}prefs(v){a(v,"Missing preferences"),a(v.context===void 0,"Cannot override context"),a(v.externals===void 0,"Cannot override externals"),a(v.warnings===void 0,"Cannot override warnings"),a(v.debug===void 0,"Cannot override debug"),l.checkPreferences(v);const A=this.clone();return A._preferences=l.preferences(A._preferences,v),A}presence(v){return a(["optional","required","forbidden"].includes(v),"Unknown presence mode",v),this.$_setFlag("presence",v)}raw(v=!0){return this.$_setFlag("result",v?"raw":void 0)}result(v){return a(["raw","strip"].includes(v),"Unknown result mode",v),this.$_setFlag("result",v)}required(){return this.presence("required")}strict(v){const A=this.clone(),N=v!==void 0&&!v;return A._preferences=l.preferences(A._preferences,{convert:N}),A}strip(v=!0){return this.$_setFlag("result",v?"strip":void 0)}tag(...v){a(v.length,"Missing tags");for(const A of v)a(A&&typeof A=="string","Tags must be non-empty strings");return this._inner("tags",v)}unit(v){return a(v&&typeof v=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",v)}valid(...v){l.verifyFlat(v,"valid");const A=this.allow(...v);return A.$_setFlag("only",!!A._valids,{clone:!1}),A}when(v,A){const N=this.clone();N.$_terms.whens||(N.$_terms.whens=[]);const R=f.when(N,v,A);if(!["any","link"].includes(N.type)){const M=R.is?[R]:R.switch;for(const j of M)a(!j.then||j.then.type==="any"||j.then.type===N.type,"Cannot combine",N.type,"with",j.then&&j.then.type),a(!j.otherwise||j.otherwise.type==="any"||j.otherwise.type===N.type,"Cannot combine",N.type,"with",j.otherwise&&j.otherwise.type)}return N.$_terms.whens.push(R),N.$_mutateRebuild()}cache(v){a(!this._inRuleset(),"Cannot set caching inside a ruleset"),a(!this._cache,"Cannot override schema cache"),a(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const A=this.clone();return A._cache=v||u.provider.provision(),A.$_temp.ruleset=!1,A}clone(){const v=Object.create(Object.getPrototypeOf(this));return this._assign(v)}concat(v){a(l.isSchema(v),"Invalid schema object"),a(this.type==="any"||v.type==="any"||v.type===this.type,"Cannot merge type",this.type,"with another type:",v.type),a(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),a(!v._inRuleset(),"Cannot concatenate a schema with open ruleset");let A=this.clone();if(this.type==="any"&&v.type!=="any"){const N=v.clone();for(const R of Object.keys(A))R!=="type"&&(N[R]=A[R]);A=N}A._ids.concat(v._ids),A._refs.register(v,_.toSibling),A._preferences=A._preferences?l.preferences(A._preferences,v._preferences):v._preferences,A._valids=k.merge(A._valids,v._valids,v._invalids),A._invalids=k.merge(A._invalids,v._invalids,v._valids);for(const N of v._singleRules.keys())A._singleRules.has(N)&&(A._rules=A._rules.filter((R=>R.keep||R.name!==N)),A._singleRules.delete(N));for(const N of v._rules)v._definition.rules[N.method].multi||A._singleRules.set(N.name,N),A._rules.push(N);if(A._flags.empty&&v._flags.empty){A._flags.empty=A._flags.empty.concat(v._flags.empty);const N=Object.assign({},v._flags);delete N.empty,p(A._flags,N)}else if(v._flags.empty){A._flags.empty=v._flags.empty;const N=Object.assign({},v._flags);delete N.empty,p(A._flags,N)}else p(A._flags,v._flags);for(const N in v.$_terms){const R=v.$_terms[N];R?A.$_terms[N]?A.$_terms[N]=A.$_terms[N].concat(R):A.$_terms[N]=R.slice():A.$_terms[N]||(A.$_terms[N]=R)}return this.$_root._tracer&&this.$_root._tracer._combine(A,[this,v]),A.$_mutateRebuild()}extend(v){return a(!v.base,"Cannot extend type with another base"),h.type(this,v)}extract(v){return v=Array.isArray(v)?v:v.split("."),this._ids.reach(v)}fork(v,A){a(!this._inRuleset(),"Cannot fork inside a ruleset");let N=this;for(let R of[].concat(v))R=Array.isArray(R)?R:R.split("."),N=N._ids.fork(R,A,N);return N.$_temp.ruleset=!1,N}rule(v){const A=this._definition;l.assertOptions(v,Object.keys(A.modifiers)),a(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const N=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;a(N>=0&&N<this._rules.length,"Cannot apply rules to empty ruleset");const R=this.clone();for(let M=N;M<R._rules.length;++M){const j=R._rules[M],H=c(j);for(const z in v)A.modifiers[z](H,v[z]),a(H.name===j.name,"Cannot change rule name");R._rules[M]=H,R._singleRules.get(H.name)===j&&R._singleRules.set(H.name,H)}return R.$_temp.ruleset=!1,R.$_mutateRebuild()}get ruleset(){a(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const v=this.clone();return v.$_temp.ruleset=v._rules.length,v}get $(){return this.ruleset}tailor(v){v=[].concat(v),a(!this._inRuleset(),"Cannot tailor inside a ruleset");let A=this;if(this.$_terms.alterations)for(const{target:N,adjuster:R}of this.$_terms.alterations)v.includes(N)&&(A=R(A),a(l.isSchema(A),"Alteration adjuster for",N,"failed to return a schema object"));return A=A.$_modify({each:N=>N.tailor(v),ref:!1}),A.$_temp.ruleset=!1,A.$_mutateRebuild()}tracer(){return T.location?T.location(this):this}validate(v,A){return w.entry(v,this,A)}validateAsync(v,A){return w.entryAsync(v,this,A)}$_addRule(v){typeof v=="string"&&(v={name:v}),a(v&&typeof v=="object","Invalid options"),a(v.name&&typeof v.name=="string","Invalid rule name");for(const j in v)a(j[0]!=="_","Cannot set private rule properties");const A=Object.assign({},v);A._resolve=[],A.method=A.method||A.name;const N=this._definition.rules[A.method],R=A.args;a(N,"Unknown rule",A.method);const M=this.clone();if(R){a(Object.keys(R).length===1||Object.keys(R).length===this._definition.rules[A.name].args.length,"Invalid rule definition for",this.type,A.name);for(const j in R){let H=R[j];if(N.argsByName){const z=N.argsByName.get(j);if(z.ref&&l.isResolvable(H))A._resolve.push(j),M.$_mutateRegister(H);else if(z.normalize&&(H=z.normalize(H),R[j]=H),z.assert){const q=l.validateArg(H,j,z);a(!q,q,"or reference")}}H!==void 0?R[j]=H:delete R[j]}}return N.multi||(M._ruleRemove(A.name,{clone:!1}),M._singleRules.set(A.name,A)),M.$_temp.ruleset===!1&&(M.$_temp.ruleset=null),N.priority?M._rules.unshift(A):M._rules.push(A),M}$_compile(v,A){return f.schema(this.$_root,v,A)}$_createError(v,A,N,R,M,j={}){const H=j.flags!==!1?this._flags:{},z=j.messages?g.merge(this._definition.messages,j.messages):this._definition.messages;return new m.Report(v,A,N,H,z,R,M)}$_getFlag(v){return this._flags[v]}$_getRule(v){return this._singleRules.get(v)}$_mapLabels(v){return v=Array.isArray(v)?v:v.split("."),this._ids.labels(v)}$_match(v,A,N,R){(N=Object.assign({},N)).abortEarly=!0,N._externals=!1,A.snapshot();const M=!w.validate(v,this,A,N,R).errors;return A.restore(),M}$_modify(v){return l.assertOptions(v,["each","once","ref","schema"]),y.schema(this,v)||this}$_mutateRebuild(){return a(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(v,{source:A,name:N,path:R,key:M})=>{const j=this._definition[A][N]&&this._definition[A][N].register;j!==!1&&this.$_mutateRegister(v,{family:j,key:M})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(v,{family:A,key:N}={}){this._refs.register(v,A),this._ids.register(v,{key:N})}$_property(v){return this._definition.properties[v]}$_reach(v){return this._ids.reach(v)}$_rootReferences(){return this._refs.roots()}$_setFlag(v,A,N={}){a(v[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const R=this._definition.flags[v]||{};if(d(A,R.default)&&(A=void 0),d(A,this._flags[v]))return this;const M=N.clone!==!1?this.clone():this;return A!==void 0?(M._flags[v]=A,M.$_mutateRegister(A)):delete M._flags[v],v[0]!=="_"&&(M.$_temp.ruleset=!1),M}$_parent(v,...A){return this[v][l.symbols.parent].call(this,...A)}$_validate(v,A,N){return w.validate(v,this,A,N)}_assign(v){v.type=this.type,v.$_root=this.$_root,v.$_temp=Object.assign({},this.$_temp),v.$_temp.whens={},v._ids=this._ids.clone(),v._preferences=this._preferences,v._valids=this._valids&&this._valids.clone(),v._invalids=this._invalids&&this._invalids.clone(),v._rules=this._rules.slice(),v._singleRules=c(this._singleRules,{shallow:!0}),v._refs=this._refs.clone(),v._flags=Object.assign({},this._flags),v._cache=null,v.$_terms={};for(const A in this.$_terms)v.$_terms[A]=this.$_terms[A]?this.$_terms[A].slice():null;v.$_super={};for(const A in this.$_super)v.$_super[A]=this._super[A].bind(v);return v}_bare(){const v=this.clone();v._reset();const A=v._definition.terms;for(const N in A){const R=A[N];v.$_terms[N]=R.init}return v.$_mutateRebuild()}_default(v,A,N={}){return l.assertOptions(N,"literal"),a(A!==void 0,"Missing",v,"value"),a(typeof A=="function"||!N.literal,"Only function value supports literal option"),typeof A=="function"&&N.literal&&(A={[l.symbols.literal]:!0,literal:A}),this.$_setFlag(v,A)}_generate(v,A,N){if(!this.$_terms.whens)return{schema:this};const R=[],M=[];for(let z=0;z<this.$_terms.whens.length;++z){const q=this.$_terms.whens[z];if(q.concat){R.push(q.concat),M.push(`${z}.concat`);continue}const ne=q.ref?q.ref.resolve(v,A,N):v,ae=q.is?[q]:q.switch,_e=M.length;for(let le=0;le<ae.length;++le){const{is:xe,then:Te,otherwise:we}=ae[le],Le=`${z}${q.switch?"."+le:""}`;if(xe.$_match(ne,A.nest(xe,`${Le}.is`),N)){if(Te){const He=A.localize([...A.path,`${Le}.then`],A.ancestors,A.schemas),{schema:Be,id:et}=Te._generate(v,He,N);R.push(Be),M.push(`${Le}.then${et?`(${et})`:""}`);break}}else if(we){const He=A.localize([...A.path,`${Le}.otherwise`],A.ancestors,A.schemas),{schema:Be,id:et}=we._generate(v,He,N);R.push(Be),M.push(`${Le}.otherwise${et?`(${et})`:""}`);break}}if(q.break&&M.length>_e)break}const j=M.join(", ");if(A.mainstay.tracer.debug(A,"rule","when",j),!j)return{schema:this};if(!A.mainstay.tracer.active&&this.$_temp.whens[j])return{schema:this.$_temp.whens[j],id:j};let H=this;this._definition.generate&&(H=this._definition.generate(this,v,A,N));for(const z of R)H=H.concat(z);return this.$_root._tracer&&this.$_root._tracer._combine(H,[this,...R]),this.$_temp.whens[j]=H,{schema:H,id:j}}_inner(v,A,N={}){a(!this._inRuleset(),`Cannot set ${v} inside a ruleset`);const R=this.clone();return R.$_terms[v]&&!N.override||(R.$_terms[v]=[]),N.single?R.$_terms[v].push(A):R.$_terms[v].push(...A),R.$_temp.ruleset=!1,R}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(v,A={}){if(!this._singleRules.has(v))return this;const N=A.clone!==!1?this.clone():this;N._singleRules.delete(v);const R=[];for(let M=0;M<N._rules.length;++M){const j=N._rules[M];j.name!==v||j.keep?R.push(j):N._inRuleset()&&M<N.$_temp.ruleset&&--N.$_temp.ruleset}return N._rules=R,N}_values(v,A){l.verifyFlat(v,A.slice(1,-1));const N=this.clone(),R=v[0]===l.symbols.override;if(R&&(v=v.slice(1)),!N[A]&&v.length?N[A]=new k:R&&(N[A]=v.length?new k:null,N.$_mutateRebuild()),!N[A])return N;R&&N[A].override();for(const M of v){a(M!==void 0,"Cannot call allow/valid/invalid with undefined"),a(M!==l.symbols.override,"Override must be the first value");const j=A==="_invalids"?"_valids":"_invalids";N[j]&&(N[j].remove(M),N[j].length||(a(A==="_valids"||!N._flags.only,"Setting invalid value",M,"leaves schema rejecting all values due to previous valid rule"),N[j]=null)),N[A].add(M,N._refs)}return N}}};S.Base.prototype[l.symbols.any]={version:l.version,compile:f.compile,root:"$_root"},S.Base.prototype.isImmutable=!0,S.Base.prototype.deny=S.Base.prototype.invalid,S.Base.prototype.disallow=S.Base.prototype.invalid,S.Base.prototype.equal=S.Base.prototype.valid,S.Base.prototype.exist=S.Base.prototype.required,S.Base.prototype.not=S.Base.prototype.invalid,S.Base.prototype.options=S.Base.prototype.prefs,S.Base.prototype.preferences=S.Base.prototype.prefs,s.exports=new S.Base},8652:(s,i,o)=>{const a=o(375),c=o(8571),d=o(8160),p={max:1e3,supported:new Set(["undefined","boolean","number","string"])};i.provider={provision:u=>new p.Cache(u)},p.Cache=class{constructor(u={}){d.assertOptions(u,["max"]),a(u.max===void 0||u.max&&u.max>0&&isFinite(u.max),"Invalid max cache size"),this._max=u.max||p.max,this._map=new Map,this._list=new p.List}get length(){return this._map.size}set(u,l){if(u!==null&&!p.supported.has(typeof u))return;let f=this._map.get(u);if(f)return f.value=l,void this._list.first(f);f=this._list.unshift({key:u,value:l}),this._map.set(u,f),this._compact()}get(u){const l=this._map.get(u);if(l)return this._list.first(l),c(l.value)}_compact(){if(this._map.size>this._max){const u=this._list.pop();this._map.delete(u.key)}}},p.List=class{constructor(){this.tail=null,this.head=null}unshift(u){return u.next=null,u.prev=this.head,this.head&&(this.head.next=u),this.head=u,this.tail||(this.tail=u),u}first(u){u!==this.head&&(this._remove(u),this.unshift(u))}pop(){return this._remove(this.tail)}_remove(u){const{next:l,prev:f}=u;return l.prev=f,f&&(f.next=l),u===this.tail&&(this.tail=l),u.prev=null,u.next=null,u}}},8160:(s,i,o)=>{const a=o(375),c=o(7916),d=o(5934);let p,u;const l={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};i.version=d.version,i.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},i.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},i.assertOptions=function(f,m,h="Options"){a(f&&typeof f=="object"&&!Array.isArray(f),"Options must be of type object");const x=Object.keys(f).filter((g=>!m.includes(g)));a(x.length===0,`${h} contain unknown keys: ${x}`)},i.checkPreferences=function(f){u=u||o(3378);const m=u.preferences.validate(f);if(m.error)throw new c([m.error.details[0].message])},i.compare=function(f,m,h){switch(h){case"=":return f===m;case">":return f>m;case"<":return f<m;case">=":return f>=m;case"<=":return f<=m}},i.default=function(f,m){return f===void 0?m:f},i.isIsoDate=function(f){return l.isoDate.test(f)},i.isNumber=function(f){return typeof f=="number"&&!isNaN(f)},i.isResolvable=function(f){return!!f&&(f[i.symbols.ref]||f[i.symbols.template])},i.isSchema=function(f,m={}){const h=f&&f[i.symbols.any];return!!h&&(a(m.legacy||h.version===i.version,"Cannot mix different versions of joi schemas"),!0)},i.isValues=function(f){return f[i.symbols.values]},i.limit=function(f){return Number.isSafeInteger(f)&&f>=0},i.preferences=function(f,m){p=p||o(6914),f=f||{},m=m||{};const h=Object.assign({},f,m);return m.errors&&f.errors&&(h.errors=Object.assign({},f.errors,m.errors),h.errors.wrap=Object.assign({},f.errors.wrap,m.errors.wrap)),m.messages&&(h.messages=p.compile(m.messages,f.messages)),delete h[i.symbols.prefs],h},i.tryWithPath=function(f,m,h={}){try{return f()}catch(x){throw x.path!==void 0?x.path=m+"."+x.path:x.path=m,h.append&&(x.message=`${x.message} (${x.path})`),x}},i.validateArg=function(f,m,{assert:h,message:x}){if(i.isSchema(h)){const g=h.validate(f);return g.error?g.error.message:void 0}if(!h(f))return m?`${m} ${x}`:x},i.verifyFlat=function(f,m){for(const h of f)a(!Array.isArray(h),"Method no longer accepts array arguments:",m)}},3292:(s,i,o)=>{const a=o(375),c=o(8160),d=o(6133),p={};i.schema=function(u,l,f={}){c.assertOptions(f,["appendPath","override"]);try{return p.schema(u,l,f)}catch(m){throw f.appendPath&&m.path!==void 0&&(m.message=`${m.message} (${m.path})`),m}},p.schema=function(u,l,f){a(l!==void 0,"Invalid undefined schema"),Array.isArray(l)&&(a(l.length,"Invalid empty array schema"),l.length===1&&(l=l[0]));const m=(h,...x)=>f.override!==!1?h.valid(u.override,...x):h.valid(...x);if(p.simple(l))return m(u,l);if(typeof l=="function")return u.custom(l);if(a(typeof l=="object","Invalid schema content:",typeof l),c.isResolvable(l))return m(u,l);if(c.isSchema(l))return l;if(Array.isArray(l)){for(const h of l)if(!p.simple(h))return u.alternatives().try(...l);return m(u,...l)}return l instanceof RegExp?u.string().regex(l):l instanceof Date?m(u.date(),l):(a(Object.getPrototypeOf(l)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),u.object().keys(l))},i.ref=function(u,l){return d.isRef(u)?u:d.create(u,l)},i.compile=function(u,l,f={}){c.assertOptions(f,["legacy"]);const m=l&&l[c.symbols.any];if(m)return a(f.legacy||m.version===c.version,"Cannot mix different versions of joi schemas:",m.version,c.version),l;if(typeof l!="object"||!f.legacy)return i.schema(u,l,{appendPath:!0});const h=p.walk(l);return h?h.compile(h.root,l):i.schema(u,l,{appendPath:!0})},p.walk=function(u){if(typeof u!="object")return null;if(Array.isArray(u)){for(const f of u){const m=p.walk(f);if(m)return m}return null}const l=u[c.symbols.any];if(l)return{root:u[l.root],compile:l.compile};a(Object.getPrototypeOf(u)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const f in u){const m=p.walk(u[f]);if(m)return m}return null},p.simple=function(u){return u===null||["boolean","string","number"].includes(typeof u)},i.when=function(u,l,f){if(f===void 0&&(a(l&&typeof l=="object","Missing options"),f=l,l=d.create(".")),Array.isArray(f)&&(f={switch:f}),c.assertOptions(f,["is","not","then","otherwise","switch","break"]),c.isSchema(l))return a(f.is===void 0,'"is" can not be used with a schema condition'),a(f.not===void 0,'"not" can not be used with a schema condition'),a(f.switch===void 0,'"switch" can not be used with a schema condition'),p.condition(u,{is:l,then:f.then,otherwise:f.otherwise,break:f.break});if(a(d.isRef(l)||typeof l=="string","Invalid condition:",l),a(f.not===void 0||f.is===void 0,'Cannot combine "is" with "not"'),f.switch===void 0){let h=f;f.not!==void 0&&(h={is:f.not,then:f.otherwise,otherwise:f.then,break:f.break});let x=h.is!==void 0?u.$_compile(h.is):u.$_root.invalid(null,!1,0,"").required();return a(h.then!==void 0||h.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),a(h.break===void 0||h.then===void 0||h.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),f.is===void 0||d.isRef(f.is)||c.isSchema(f.is)||(x=x.required()),p.condition(u,{ref:i.ref(l),is:x,then:h.then,otherwise:h.otherwise,break:h.break})}a(Array.isArray(f.switch),'"switch" must be an array'),a(f.is===void 0,'Cannot combine "switch" with "is"'),a(f.not===void 0,'Cannot combine "switch" with "not"'),a(f.then===void 0,'Cannot combine "switch" with "then"');const m={ref:i.ref(l),switch:[],break:f.break};for(let h=0;h<f.switch.length;++h){const x=f.switch[h],g=h===f.switch.length-1;c.assertOptions(x,g?["is","then","otherwise"]:["is","then"]),a(x.is!==void 0,'Switch statement missing "is"'),a(x.then!==void 0,'Switch statement missing "then"');const y={is:u.$_compile(x.is),then:u.$_compile(x.then)};if(d.isRef(x.is)||c.isSchema(x.is)||(y.is=y.is.required()),g){a(f.otherwise===void 0||x.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const _=f.otherwise!==void 0?f.otherwise:x.otherwise;_!==void 0&&(a(m.break===void 0,"Cannot specify both otherwise and break"),y.otherwise=u.$_compile(_))}m.switch.push(y)}return m},p.condition=function(u,l){for(const f of["then","otherwise"])l[f]===void 0?delete l[f]:l[f]=u.$_compile(l[f]);return l}},6354:(s,i,o)=>{const a=o(5688),c=o(8160),d=o(3328);i.Report=class{constructor(p,u,l,f,m,h,x){if(this.code=p,this.flags=f,this.messages=m,this.path=h.path,this.prefs=x,this.state=h,this.value=u,this.message=null,this.template=null,this.local=l||{},this.local.label=i.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const g=this.path[this.path.length-1];typeof g!="object"&&(this.local.key=g)}}_setTemplate(p){if(this.template=p,!this.flags.label&&this.path.length===0){const u=this._template(this.template,"root");u&&(this.local.label=u)}}toString(){if(this.message)return this.message;const p=this.code;if(!this.prefs.errors.render)return this.code;const u=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return u===void 0?`Error code "${p}" is not defined, your custom type is missing the correct messages definition`:(this.message=u.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(p,u){return i.template(this.value,p,u||this.code,this.state,this.prefs)}},i.path=function(p){let u="";for(const l of p)typeof l!="object"&&(typeof l=="string"?(u&&(u+="."),u+=l):u+=`[${l}]`);return u},i.template=function(p,u,l,f,m){if(!u)return;if(d.isTemplate(u))return l!=="root"?u:null;let h=m.errors.language;if(c.isResolvable(h)&&(h=h.resolve(p,f,m)),h&&u[h]){if(u[h][l]!==void 0)return u[h][l];if(u[h]["*"]!==void 0)return u[h]["*"]}return u[l]?u[l]:u["*"]},i.label=function(p,u,l,f){if(!l.errors.label)return"";if(p.label)return p.label;let m=u.path;return l.errors.label==="key"&&u.path.length>1&&(m=u.path.slice(-1)),i.path(m)||i.template(null,l.messages,"root",u,l)||f&&i.template(null,f,"root",u,l)||"value"},i.process=function(p,u,l){if(!p)return null;const{override:f,message:m,details:h}=i.details(p);if(f)return f;if(l.errors.stack)return new i.ValidationError(m,h,u);const x=Error.stackTraceLimit;Error.stackTraceLimit=0;const g=new i.ValidationError(m,h,u);return Error.stackTraceLimit=x,g},i.details=function(p,u={}){let l=[];const f=[];for(const m of p){if(m instanceof Error){if(u.override!==!1)return{override:m};const x=m.toString();l.push(x),f.push({message:x,type:"override",context:{error:m}});continue}const h=m.toString();l.push(h),f.push({message:h,path:m.path.filter((x=>typeof x!="object")),type:m.code,context:m.local})}return l.length>1&&(l=[...new Set(l)]),{message:l.join(". "),details:f}},i.ValidationError=class extends Error{constructor(p,u,l){super(p),this._original=l,this.details=u}static isError(p){return p instanceof i.ValidationError}},i.ValidationError.prototype.isJoi=!0,i.ValidationError.prototype.name="ValidationError",i.ValidationError.prototype.annotate=a.error},8901:(s,i,o)=>{const a=o(375),c=o(8571),d=o(8160),p=o(6914),u={};i.type=function(l,f){const m=Object.getPrototypeOf(l),h=c(m),x=l._assign(Object.create(h)),g=Object.assign({},f);delete g.base,h._definition=g;const y=m._definition||{};g.messages=p.merge(y.messages,g.messages),g.properties=Object.assign({},y.properties,g.properties),x.type=g.type,g.flags=Object.assign({},y.flags,g.flags);const _=Object.assign({},y.terms);if(g.terms)for(const S in g.terms){const v=g.terms[S];a(x.$_terms[S]===void 0,"Invalid term override for",g.type,S),x.$_terms[S]=v.init,_[S]=v}g.terms=_,g.args||(g.args=y.args),g.prepare=u.prepare(g.prepare,y.prepare),g.coerce&&(typeof g.coerce=="function"&&(g.coerce={method:g.coerce}),g.coerce.from&&!Array.isArray(g.coerce.from)&&(g.coerce={method:g.coerce.method,from:[].concat(g.coerce.from)})),g.coerce=u.coerce(g.coerce,y.coerce),g.validate=u.validate(g.validate,y.validate);const T=Object.assign({},y.rules);if(g.rules)for(const S in g.rules){const v=g.rules[S];a(typeof v=="object","Invalid rule definition for",g.type,S);let A=v.method;if(A===void 0&&(A=function(){return this.$_addRule(S)}),A&&(a(!h[S],"Rule conflict in",g.type,S),h[S]=A),a(!T[S],"Rule conflict in",g.type,S),T[S]=v,v.alias){const N=[].concat(v.alias);for(const R of N)h[R]=v.method}v.args&&(v.argsByName=new Map,v.args=v.args.map((N=>(typeof N=="string"&&(N={name:N}),a(!v.argsByName.has(N.name),"Duplicated argument name",N.name),d.isSchema(N.assert)&&(N.assert=N.assert.strict().label(N.name)),v.argsByName.set(N.name,N),N))))}g.rules=T;const w=Object.assign({},y.modifiers);if(g.modifiers)for(const S in g.modifiers){a(!h[S],"Rule conflict in",g.type,S);const v=g.modifiers[S];a(typeof v=="function","Invalid modifier definition for",g.type,S);const A=function(N){return this.rule({[S]:N})};h[S]=A,w[S]=v}if(g.modifiers=w,g.overrides){h._super=m,x.$_super={};for(const S in g.overrides)a(m[S],"Cannot override missing",S),g.overrides[S][d.symbols.parent]=m[S],x.$_super[S]=m[S].bind(x);Object.assign(h,g.overrides)}g.cast=Object.assign({},y.cast,g.cast);const k=Object.assign({},y.manifest,g.manifest);return k.build=u.build(g.manifest&&g.manifest.build,y.manifest&&y.manifest.build),g.manifest=k,g.rebuild=u.rebuild(g.rebuild,y.rebuild),x},u.build=function(l,f){return l&&f?function(m,h){return f(l(m,h),h)}:l||f},u.coerce=function(l,f){return l&&f?{from:l.from&&f.from?[...new Set([...l.from,...f.from])]:null,method(m,h){let x;if((!f.from||f.from.includes(typeof m))&&(x=f.method(m,h),x)){if(x.errors||x.value===void 0)return x;m=x.value}if(!l.from||l.from.includes(typeof m)){const g=l.method(m,h);if(g)return g}return x}}:l||f},u.prepare=function(l,f){return l&&f?function(m,h){const x=l(m,h);if(x){if(x.errors||x.value===void 0)return x;m=x.value}return f(m,h)||x}:l||f},u.rebuild=function(l,f){return l&&f?function(m){f(m),l(m)}:l||f},u.validate=function(l,f){return l&&f?function(m,h){const x=f(m,h);if(x){if(x.errors&&(!Array.isArray(x.errors)||x.errors.length))return x;m=x.value}return l(m,h)||x}:l||f}},5107:(s,i,o)=>{const a=o(375),c=o(8571),d=o(8652),p=o(8160),u=o(3292),l=o(6354),f=o(8901),m=o(9708),h=o(6133),x=o(3328),g=o(1152);let y;const _={types:{alternatives:o(4946),any:o(8068),array:o(546),boolean:o(4937),date:o(7500),function:o(390),link:o(8785),number:o(3832),object:o(8966),string:o(7417),symbol:o(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const T={_types:new Set(Object.keys(_.types))};for(const w of T._types)T[w]=function(...k){return a(!k.length||["alternatives","link","object"].includes(w),"The",w,"type does not allow arguments"),_.generate(this,_.types[w],k)};for(const w of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])T[w]=function(...k){return this.any()[w](...k)};Object.assign(T,_.methods);for(const w in _.aliases){const k=_.aliases[w];T[w]=T[k]}return T.x=T.expression,g.setup&&g.setup(T),T}};_.methods={ValidationError:l.ValidationError,version:p.version,cache:d.provider,assert(T,w,...k){_.assert(T,w,!0,k)},attempt:(T,w,...k)=>_.assert(T,w,!1,k),build(T){return a(typeof m.build=="function","Manifest functionality disabled"),m.build(this,T)},checkPreferences(T){p.checkPreferences(T)},compile(T,w){return u.compile(this,T,w)},defaults(T){a(typeof T=="function","modifier must be a function");const w=Object.assign({},this);for(const k of w._types){const S=T(w[k]());a(p.isSchema(S),"modifier must return a valid schema object"),w[k]=function(...v){return _.generate(this,S,v)}}return w},expression:(...T)=>new x(...T),extend(...T){p.verifyFlat(T,"extend"),y=y||o(3378),a(T.length,"You need to provide at least one extension"),this.assert(T,y.extensions);const w=Object.assign({},this);w._types=new Set(w._types);for(let k of T){typeof k=="function"&&(k=k(w)),this.assert(k,y.extension);const S=_.expandExtension(k,w);for(const v of S){a(w[v.type]===void 0||w._types.has(v.type),"Cannot override name",v.type);const A=v.base||this.any(),N=f.type(A,v);w._types.add(v.type),w[v.type]=function(...R){return _.generate(this,N,R)}}}return w},isError:l.ValidationError.isError,isExpression:x.isTemplate,isRef:h.isRef,isSchema:p.isSchema,in:(...T)=>h.in(...T),override:p.symbols.override,ref:(...T)=>h.create(...T),types(){const T={};for(const w of this._types)T[w]=this[w]();for(const w in _.aliases)T[w]=this[w]();return T}},_.assert=function(T,w,k,S){const v=S[0]instanceof Error||typeof S[0]=="string"?S[0]:null,A=v!==null?S[1]:S[0],N=w.validate(T,p.preferences({errors:{stack:!0}},A||{}));let R=N.error;if(!R)return N.value;if(v instanceof Error)throw v;const M=k&&typeof R.annotate=="function"?R.annotate():R.message;throw R instanceof l.ValidationError==0&&(R=c(R)),R.message=v?`${v} ${M}`:M,R},_.generate=function(T,w,k){return a(T,"Must be invoked on a Joi instance."),w.$_root=T,w._definition.args&&k.length?w._definition.args(w,...k):w},_.expandExtension=function(T,w){if(typeof T.type=="string")return[T];const k=[];for(const S of w._types)if(T.type.test(S)){const v=Object.assign({},T);v.type=S,v.base=w[S](),k.push(v)}return k},s.exports=_.root()},6914:(s,i,o)=>{const a=o(375),c=o(8571),d=o(3328);i.compile=function(p,u){if(typeof p=="string")return a(!u,"Cannot set single message string"),new d(p);if(d.isTemplate(p))return a(!u,"Cannot set single message template"),p;a(typeof p=="object"&&!Array.isArray(p),"Invalid message options"),u=u?c(u):{};for(let l in p){const f=p[l];if(l==="root"||d.isTemplate(f)){u[l]=f;continue}if(typeof f=="string"){u[l]=new d(f);continue}a(typeof f=="object"&&!Array.isArray(f),"Invalid message for",l);const m=l;for(l in u[m]=u[m]||{},f){const h=f[l];l==="root"||d.isTemplate(h)?u[m][l]=h:(a(typeof h=="string","Invalid message for",l,"in",m),u[m][l]=new d(h))}}return u},i.decompile=function(p){const u={};for(let l in p){const f=p[l];if(l==="root"){u.root=f;continue}if(d.isTemplate(f)){u[l]=f.describe({compact:!0});continue}const m=l;for(l in u[m]={},f){const h=f[l];l!=="root"?u[m][l]=h.describe({compact:!0}):u[m].root=h}}return u},i.merge=function(p,u){if(!p)return i.compile(u);if(!u)return p;if(typeof u=="string")return new d(u);if(d.isTemplate(u))return u;const l=c(p);for(let f in u){const m=u[f];if(f==="root"||d.isTemplate(m)){l[f]=m;continue}if(typeof m=="string"){l[f]=new d(m);continue}a(typeof m=="object"&&!Array.isArray(m),"Invalid message for",f);const h=f;for(f in l[h]=l[h]||{},m){const x=m[f];f==="root"||d.isTemplate(x)?l[h][f]=x:(a(typeof x=="string","Invalid message for",f,"in",h),l[h][f]=new d(x))}}return l}},2294:(s,i,o)=>{const a=o(375),c=o(8160),d=o(6133),p={};i.Ids=p.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const u=new p.Ids;return u._byId=new Map(this._byId),u._byKey=new Map(this._byKey),u._schemaChain=this._schemaChain,u}concat(u){u._schemaChain&&(this._schemaChain=!0);for(const[l,f]of u._byId.entries())a(!this._byKey.has(l),"Schema id conflicts with existing key:",l),this._byId.set(l,f);for(const[l,f]of u._byKey.entries())a(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,f)}fork(u,l,f){const m=this._collect(u);m.push({schema:f});const h=m.shift();let x={id:h.id,schema:l(h.schema)};a(c.isSchema(x.schema),"adjuster function failed to return a joi schema type");for(const g of m)x={id:g.id,schema:p.fork(g.schema,x.id,x.schema)};return x.schema}labels(u,l=[]){const f=u[0],m=this._get(f);if(!m)return[...l,...u].join(".");const h=u.slice(1);return l=[...l,m.schema._flags.label||f],h.length?m.schema._ids.labels(h,l):l.join(".")}reach(u,l=[]){const f=u[0],m=this._get(f);a(m,"Schema does not contain path",[...l,...u].join("."));const h=u.slice(1);return h.length?m.schema._ids.reach(h,[...l,f]):m.schema}register(u,{key:l}={}){if(!u||!c.isSchema(u))return;(u.$_property("schemaChain")||u._ids._schemaChain)&&(this._schemaChain=!0);const f=u._flags.id;if(f){const m=this._byId.get(f);a(!m||m.schema===u,"Cannot add different schemas with the same id:",f),a(!this._byKey.has(f),"Schema id conflicts with existing key:",f),this._byId.set(f,{schema:u,id:f})}l&&(a(!this._byKey.has(l),"Schema already contains key:",l),a(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,{schema:u,id:l}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(u,l=[],f=[]){const m=u[0],h=this._get(m);a(h,"Schema does not contain path",[...l,...u].join(".")),f=[h,...f];const x=u.slice(1);return x.length?h.schema._ids._collect(x,[...l,m],f):f}_get(u){return this._byId.get(u)||this._byKey.get(u)}},p.fork=function(u,l,f){const m=i.schema(u,{each:(h,{key:x})=>{if(l===(h._flags.id||x))return f},ref:!1});return m?m.$_mutateRebuild():u},i.schema=function(u,l){let f;for(const m in u._flags){if(m[0]==="_")continue;const h=p.scan(u._flags[m],{source:"flags",name:m},l);h!==void 0&&(f=f||u.clone(),f._flags[m]=h)}for(let m=0;m<u._rules.length;++m){const h=u._rules[m],x=p.scan(h.args,{source:"rules",name:h.name},l);if(x!==void 0){f=f||u.clone();const g=Object.assign({},h);g.args=x,f._rules[m]=g,f._singleRules.get(h.name)===h&&f._singleRules.set(h.name,g)}}for(const m in u.$_terms){if(m[0]==="_")continue;const h=p.scan(u.$_terms[m],{source:"terms",name:m},l);h!==void 0&&(f=f||u.clone(),f.$_terms[m]=h)}return f},p.scan=function(u,l,f,m,h){const x=m||[];if(u===null||typeof u!="object")return;let g;if(Array.isArray(u)){for(let y=0;y<u.length;++y){const _=l.source==="terms"&&l.name==="keys"&&u[y].key,T=p.scan(u[y],l,f,[y,...x],_);T!==void 0&&(g=g||u.slice(),g[y]=T)}return g}if(f.schema!==!1&&c.isSchema(u)||f.ref!==!1&&d.isRef(u)){const y=f.each(u,{...l,path:x,key:h});return y===u?void 0:y}for(const y in u){if(y[0]==="_")continue;const _=p.scan(u[y],l,f,[y,...x],h);_!==void 0&&(g=g||Object.assign({},u),g[y]=_)}return g}},6133:(s,i,o)=>{const a=o(375),c=o(8571),d=o(9621),p=o(8160);let u;const l={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(f,m={}){a(typeof f=="string","Invalid reference key:",f),p.assertOptions(m,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),a(!m.prefix||typeof m.prefix=="object","options.prefix must be of type object");const h=Object.assign({},l.defaults,m);delete h.prefix;const x=h.separator,g=l.context(f,x,m.prefix);if(h.type=g.type,f=g.key,h.type==="value")if(g.root&&(a(!x||f[0]!==x,"Cannot specify relative path with root prefix"),h.ancestor="root",f||(f=null)),x&&x===f)f=null,h.ancestor=0;else if(h.ancestor!==void 0)a(!x||!f||f[0]!==x,"Cannot combine prefix with ancestor option");else{const[y,_]=l.ancestor(f,x);_&&(f=f.slice(_))===""&&(f=null),h.ancestor=y}return h.path=x?f===null?[]:f.split(x):[f],new l.Ref(h)},i.in=function(f,m={}){return i.create(f,{...m,in:!0})},i.isRef=function(f){return!!f&&!!f[p.symbols.ref]},l.Ref=class{constructor(f){a(typeof f=="object","Invalid reference construction"),p.assertOptions(f,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),a([!1,void 0].includes(f.separator)||typeof f.separator=="string"&&f.separator.length===1,"Invalid separator"),a(!f.adjust||typeof f.adjust=="function","options.adjust must be a function"),a(!f.map||Array.isArray(f.map),"options.map must be an array"),a(!f.map||!f.adjust,"Cannot set both map and adjust options"),Object.assign(this,l.defaults,f),a(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(f,m,h,x,g={}){return a(!this.in||g.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(h.context,m,g):this.type==="local"?this._resolve(x,m,g):this.ancestor?this.ancestor==="root"?this._resolve(m.ancestors[m.ancestors.length-1],m,g):(a(this.ancestor<=m.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(m.ancestors[this.ancestor-1],m,g)):this._resolve(f,m,g)}_resolve(f,m,h){let x;if(this.type==="value"&&m.mainstay.shadow&&h.shadow!==!1&&(x=m.mainstay.shadow.get(this.absolute(m))),x===void 0&&(x=d(f,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(x=this.adjust(x)),this.map){const g=this.map.get(x);g!==void 0&&(x=g)}return m.mainstay&&m.mainstay.tracer.resolve(m,this,x),x}toString(){return this.display}absolute(f){return[...f.path.slice(0,-this.ancestor),...this.path]}clone(){return new l.Ref(this)}describe(){const f={path:this.path};this.type!=="value"&&(f.type=this.type),this.separator!=="."&&(f.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(f.ancestor=this.ancestor),this.map&&(f.map=[...this.map]);for(const m of["adjust","iterables","render"])this[m]!==null&&this[m]!==void 0&&(f[m]=this[m]);return this.in!==!1&&(f.in=!0),{ref:f}}updateDisplay(){const f=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${f}`);if(!this.separator)return void(this.display=`ref:${f}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${f}`);if(this.ancestor==="root")return void(this.display=`ref:root:${f}`);if(this.ancestor===1)return void(this.display=`ref:${f||".."}`);const m=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${m}${f||""}`}},l.Ref.prototype[p.symbols.ref]=!0,i.build=function(f){return(f=Object.assign({},l.defaults,f)).type==="value"&&f.ancestor===void 0&&(f.ancestor=1),new l.Ref(f)},l.context=function(f,m,h={}){if(f=f.trim(),h){const x=h.global===void 0?"$":h.global;if(x!==m&&f.startsWith(x))return{key:f.slice(x.length),type:"global"};const g=h.local===void 0?"#":h.local;if(g!==m&&f.startsWith(g))return{key:f.slice(g.length),type:"local"};const y=h.root===void 0?"/":h.root;if(y!==m&&f.startsWith(y))return{key:f.slice(y.length),type:"value",root:!0}}return{key:f,type:"value"}},l.ancestor=function(f,m){if(!m)return[1,0];if(f[0]!==m)return[1,0];if(f[1]!==m)return[0,1];let h=2;for(;f[h]===m;)++h;return[h-1,h]},i.toSibling=0,i.toParent=1,i.Manager=class{constructor(){this.refs=[]}register(f,m){if(f)if(m=m===void 0?i.toParent:m,Array.isArray(f))for(const h of f)this.register(h,m);else if(p.isSchema(f))for(const h of f._refs.refs)h.ancestor-m>=0&&this.refs.push({ancestor:h.ancestor-m,root:h.root});else i.isRef(f)&&f.type==="value"&&f.ancestor-m>=0&&this.refs.push({ancestor:f.ancestor-m,root:f.root}),u=u||o(3328),u.isTemplate(f)&&this.register(f.refs(),m)}get length(){return this.refs.length}clone(){const f=new i.Manager;return f.refs=c(this.refs),f}reset(){this.refs=[]}roots(){return this.refs.filter((f=>!f.ancestor)).map((f=>f.root))}}},3378:(s,i,o)=>{const a=o(5107),c={};c.wrap=a.string().min(1).max(2).allow(!1),i.preferences=a.object({allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),context:a.object(),convert:a.boolean(),dateFormat:a.valid("date","iso","string","time","utc"),debug:a.boolean(),errors:{escapeHtml:a.boolean(),label:a.valid("path","key",!1),language:[a.string(),a.object().ref()],render:a.boolean(),stack:a.boolean(),wrap:{label:c.wrap,array:c.wrap,string:c.wrap}},externals:a.boolean(),messages:a.object(),noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:a.valid("required","optional","forbidden"),skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()}).strict(),c.nameRx=/^[a-zA-Z0-9]\w*$/,c.rule=a.object({alias:a.array().items(a.string().pattern(c.nameRx)).single(),args:a.array().items(a.string(),a.object({name:a.string().pattern(c.nameRx).required(),ref:a.boolean(),assert:a.alternatives([a.function(),a.object().schema()]).conditional("ref",{is:!0,then:a.required()}),normalize:a.function(),message:a.string().when("assert",{is:a.function(),then:a.required()})})),convert:a.boolean(),manifest:a.boolean(),method:a.function().allow(!1),multi:a.boolean(),validate:a.function()}),i.extension=a.object({type:a.alternatives([a.string(),a.object().regex()]).required(),args:a.function(),cast:a.object().pattern(c.nameRx,a.object({from:a.function().maxArity(1).required(),to:a.function().minArity(1).maxArity(2).required()})),base:a.object().schema().when("type",{is:a.object().regex(),then:a.forbidden()}),coerce:[a.function().maxArity(3),a.object({method:a.function().maxArity(3).required(),from:a.array().items(a.string()).single()})],flags:a.object().pattern(c.nameRx,a.object({setter:a.string(),default:a.any()})),manifest:{build:a.function().arity(2)},messages:[a.object(),a.string()],modifiers:a.object().pattern(c.nameRx,a.function().minArity(1).maxArity(2)),overrides:a.object().pattern(c.nameRx,a.function()),prepare:a.function().maxArity(3),rebuild:a.function().arity(1),rules:a.object().pattern(c.nameRx,c.rule),terms:a.object().pattern(c.nameRx,a.object({init:a.array().allow(null).required(),manifest:a.object().pattern(/.+/,[a.valid("schema","single"),a.object({mapped:a.object({from:a.string().required(),to:a.string().required()}).required()})])})),validate:a.function().maxArity(3)}).strict(),i.extensions=a.array().items(a.object(),a.function().arity(1)).strict(),c.desc={buffer:a.object({buffer:a.string()}),func:a.object({function:a.function().required(),options:{literal:!0}}),override:a.object({override:!0}),ref:a.object({ref:a.object({type:a.valid("value","global","local"),path:a.array().required(),separator:a.string().length(1).allow(!1),ancestor:a.number().min(0).integer().allow("root"),map:a.array().items(a.array().length(2)).min(1),adjust:a.function(),iterables:a.boolean(),in:a.boolean(),render:a.boolean()}).required()}),regex:a.object({regex:a.string().min(3)}),special:a.object({special:a.valid("deep").required()}),template:a.object({template:a.string().required(),options:a.object()}),value:a.object({value:a.alternatives([a.object(),a.array()]).required()})},c.desc.entity=a.alternatives([a.array().items(a.link("...")),a.boolean(),a.function(),a.number(),a.string(),c.desc.buffer,c.desc.func,c.desc.ref,c.desc.regex,c.desc.special,c.desc.template,c.desc.value,a.link("/")]),c.desc.values=a.array().items(null,a.boolean(),a.function(),a.number().allow(1/0,-1/0),a.string().allow(""),a.symbol(),c.desc.buffer,c.desc.func,c.desc.override,c.desc.ref,c.desc.regex,c.desc.template,c.desc.value),c.desc.messages=a.object().pattern(/.+/,[a.string(),c.desc.template,a.object().pattern(/.+/,[a.string(),c.desc.template])]),i.description=a.object({type:a.string().required(),flags:a.object({cast:a.string(),default:a.any(),description:a.string(),empty:a.link("/"),failover:c.desc.entity,id:a.string(),label:a.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:a.boolean(),unit:a.string()}).unknown(),preferences:{allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),convert:a.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:a.boolean(),label:["path","key"],language:[a.string(),c.desc.ref],wrap:{label:c.wrap,array:c.wrap}},externals:a.boolean(),messages:c.desc.messages,noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:["required","optional","forbidden"],skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()},allow:c.desc.values,invalid:c.desc.values,rules:a.array().min(1).items({name:a.string().required(),args:a.object().min(1),keep:a.boolean(),message:[a.string(),c.desc.messages],warn:a.boolean()}),keys:a.object().pattern(/.*/,a.link("/")),link:c.desc.ref}).pattern(/^[a-z]\w*$/,a.any())},493:(s,i,o)=>{const a=o(8571),c=o(9621),d=o(8160),p={value:Symbol("value")};s.exports=p.State=class{constructor(u,l,f){this.path=u,this.ancestors=l,this.mainstay=f.mainstay,this.schemas=f.schemas,this.debug=null}localize(u,l=null,f=null){const m=new p.State(u,l,this);return f&&m.schemas&&(m.schemas=[p.schemas(f),...m.schemas]),m}nest(u,l){const f=new p.State(this.path,this.ancestors,this);return f.schemas=f.schemas&&[p.schemas(u),...f.schemas],f.debug=l,f}shadow(u,l){this.mainstay.shadow=this.mainstay.shadow||new p.Shadow,this.mainstay.shadow.set(this.path,u,l)}snapshot(){this.mainstay.shadow&&(this._snapshot=a(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},p.schemas=function(u){return d.isSchema(u)?{schema:u}:u},p.Shadow=class{constructor(){this._values=null}set(u,l,f){if(!u.length||f==="strip"&&typeof u[u.length-1]=="number")return;this._values=this._values||new Map;let m=this._values;for(let h=0;h<u.length;++h){const x=u[h];let g=m.get(x);g||(g=new Map,m.set(x,g)),m=g}m[p.value]=l}get(u){const l=this.node(u);if(l)return l[p.value]}node(u){if(this._values)return c(this._values,u,{iterables:!0})}override(u,l){if(!this._values)return;const f=u.slice(0,-1),m=u[u.length-1],h=c(this._values,f,{iterables:!0});l?h.set(m,l):h&&h.delete(m)}}},3328:(s,i,o)=>{const a=o(375),c=o(8571),d=o(5277),p=o(1447),u=o(8160),l=o(6354),f=o(6133),m={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};s.exports=m.Template=class{constructor(h,x){if(a(typeof h=="string","Template source must be a string"),a(!h.includes("\0")&&!h.includes(""),"Template source cannot contain reserved control characters"),this.source=h,this.rendered=h,this._template=null,x){const{functions:g,...y}=x;this._settings=Object.keys(y).length?c(y):void 0,this._functions=g,this._functions&&(a(Object.keys(this._functions).every((_=>typeof _=="string")),"Functions keys must be strings"),a(Object.values(this._functions).every((_=>typeof _=="function")),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const h=m.encode(this.source),x=m.split(h);let g=!1;const y=[],_=x.shift();_&&y.push(_);for(const T of x){const w=T[0]!=="{",k=w?"}":"}}",S=T.indexOf(k);if(S===-1||T[1]==="{"){y.push(`{${m.decode(T)}`);continue}let v=T.slice(w?0:1,S);const A=v[0]===":";A&&(v=v.slice(1));const N=this._ref(m.decode(v),{raw:w,wrapped:A});y.push(N),typeof N!="string"&&(g=!0);const R=T.slice(S+k.length);R&&y.push(m.decode(R))}g?this._template=y:this.rendered=y.join("")}static date(h,x){return m.dateFormat[x.dateFormat].call(h)}describe(h={}){if(!this._settings&&h.compact)return this.source;const x={template:this.source};return this._settings&&(x.options=this._settings),this._functions&&(x.functions=this._functions),x}static build(h){return new m.Template(h.template,h.options||h.functions?{...h.options,functions:h.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(h){return!!h&&!!h[u.symbols.template]}refs(){if(!this._template)return;const h=[];for(const x of this._template)typeof x!="string"&&h.push(...x.refs);return h}resolve(h,x,g,y){return this._template&&this._template.length===1?this._part(this._template[0],h,x,g,y,{}):this.render(h,x,g,y)}_part(h,...x){return h.ref?h.ref.resolve(...x):h.formula.evaluate(x)}render(h,x,g,y,_={}){if(!this.isDynamic())return this.rendered;const T=[];for(const w of this._template)if(typeof w=="string")T.push(w);else{const k=this._part(w,h,x,g,y,_),S=m.stringify(k,h,x,g,y,_);if(S!==void 0){const v=w.raw||(_.errors&&_.errors.escapeHtml)===!1?S:d(S);T.push(m.wrap(v,w.wrapped&&g.errors.wrap.label))}}return T.join("")}_ref(h,{raw:x,wrapped:g}){const y=[],_=w=>{const k=f.create(w,this._settings);return y.push(k),S=>{const v=k.resolve(...S);return v!==void 0?v:null}};try{const w=this._functions?{...m.functions,...this._functions}:m.functions;var T=new p.Parser(h,{reference:_,functions:w,constants:m.constants})}catch(w){throw w.message=`Invalid template variable "${h}" fails due to: ${w.message}`,w}if(T.single){if(T.single.type==="reference"){const w=y[0];return{ref:w,raw:x,refs:y,wrapped:g||w.type==="local"&&w.key==="label"}}return m.stringify(T.single.value)}return{formula:T,raw:x,refs:y}}toString(){return this.source}},m.Template.prototype[u.symbols.template]=!0,m.Template.prototype.isImmutable=!0,m.encode=function(h){return h.replace(/\\(\{+)/g,((x,g)=>m.opens.slice(0,g.length))).replace(/\\(\}+)/g,((x,g)=>m.closes.slice(0,g.length)))},m.decode=function(h){return h.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},m.split=function(h){const x=[];let g="";for(let y=0;y<h.length;++y){const _=h[y];if(_==="{"){let T="";for(;y+1<h.length&&h[y+1]==="{";)T+="{",++y;x.push(g),g=T}else g+=_}return x.push(g),x},m.wrap=function(h,x){return x?x.length===1?`${x}${h}${x}`:`${x[0]}${h}${x[1]}`:h},m.stringify=function(h,x,g,y,_,T={}){const w=typeof h,k=y&&y.errors&&y.errors.wrap||{};let S=!1;if(f.isRef(h)&&h.render&&(S=h.in,h=h.resolve(x,g,y,_,{in:h.in,...T})),h===null)return"null";if(w==="string")return m.wrap(h,T.arrayItems&&k.string);if(w==="number"||w==="function"||w==="symbol")return h.toString();if(w!=="object")return JSON.stringify(h);if(h instanceof Date)return m.Template.date(h,y);if(h instanceof Map){const A=[];for(const[N,R]of h.entries())A.push(`${N.toString()} -> ${R.toString()}`);h=A}if(!Array.isArray(h))return h.toString();const v=[];for(const A of h)v.push(m.stringify(A,x,g,y,_,{arrayItems:!0,...T}));return m.wrap(v.join(", "),!S&&k.array)},m.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},m.functions={if:(h,x,g)=>h?x:g,length:h=>typeof h=="string"?h.length:h&&typeof h=="object"?Array.isArray(h)?h.length:Object.keys(h).length:null,msg(h){const[x,g,y,_,T]=this,w=T.messages;if(!w)return"";const k=l.template(x,w[0],h,g,y)||l.template(x,w[1],h,g,y);return k?k.render(x,g,y,_,T):""},number:h=>typeof h=="number"?h:typeof h=="string"?parseFloat(h):typeof h=="boolean"?h?1:0:h instanceof Date?h.getTime():null}},4946:(s,i,o)=>{const a=o(375),c=o(1687),d=o(8068),p=o(8160),u=o(3292),l=o(6354),f=o(6133),m={};s.exports=d.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:(h,...x)=>x.length===1&&Array.isArray(x[0])?h.try(...x[0]):h.try(...x),validate(h,x){const{schema:g,error:y,state:_,prefs:T}=x;if(g._flags.match){const k=[],S=[];for(let A=0;A<g.$_terms.matches.length;++A){const N=g.$_terms.matches[A],R=_.nest(N.schema,`match.${A}`);R.snapshot();const M=N.schema.$_validate(h,R,T);M.errors?(S.push(M.errors),R.restore()):(k.push(M.value),R.commit())}if(k.length===0)return{errors:y("alternatives.any",{details:S.map((A=>l.details(A,{override:!1})))})};if(g._flags.match==="one")return k.length===1?{value:k[0]}:{errors:y("alternatives.one")};if(k.length!==g.$_terms.matches.length)return{errors:y("alternatives.all",{details:S.map((A=>l.details(A,{override:!1})))})};const v=A=>A.$_terms.matches.some((N=>N.schema.type==="object"||N.schema.type==="alternatives"&&v(N.schema)));return v(g)?{value:k.reduce(((A,N)=>c(A,N,{mergeArrays:!1})))}:{value:k[k.length-1]}}const w=[];for(let k=0;k<g.$_terms.matches.length;++k){const S=g.$_terms.matches[k];if(S.schema){const N=_.nest(S.schema,`match.${k}`);N.snapshot();const R=S.schema.$_validate(h,N,T);if(!R.errors)return N.commit(),R;N.restore(),w.push({schema:S.schema,reports:R.errors});continue}const v=S.ref?S.ref.resolve(h,_,T):h,A=S.is?[S]:S.switch;for(let N=0;N<A.length;++N){const R=A[N],{is:M,then:j,otherwise:H}=R,z=`match.${k}${S.switch?"."+N:""}`;if(M.$_match(v,_.nest(M,`${z}.is`),T)){if(j)return j.$_validate(h,_.nest(j,`${z}.then`),T)}else if(H)return H.$_validate(h,_.nest(H,`${z}.otherwise`),T)}}return m.errors(w,x)},rules:{conditional:{method(h,x){a(!this._flags._endedSwitch,"Unreachable condition"),a(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),a(x.break===void 0,"Cannot use break option with alternatives conditional");const g=this.clone(),y=u.when(g,h,x),_=y.is?[y]:y.switch;for(const T of _)if(T.then&&T.otherwise){g.$_setFlag("_endedSwitch",!0,{clone:!1});break}return g.$_terms.matches.push(y),g.$_mutateRebuild()}},match:{method(h){if(a(["any","one","all"].includes(h),"Invalid alternatives match mode",h),h!=="any")for(const x of this.$_terms.matches)a(x.schema,"Cannot combine match mode",h,"with conditional rules");return this.$_setFlag("match",h)}},try:{method(...h){a(h.length,"Missing alternative schemas"),p.verifyFlat(h,"try"),a(!this._flags._endedSwitch,"Unreachable condition");const x=this.clone();for(const g of h)x.$_terms.matches.push({schema:x.$_compile(g)});return x.$_mutateRebuild()}}},overrides:{label(h){return this.$_parent("label",h).$_modify({each:(x,g)=>g.path[0]!=="is"&&typeof x._flags.label!="string"?x.label(h):void 0,ref:!1})}},rebuild(h){h.$_modify({each:x=>{p.isSchema(x)&&x.type==="array"&&h.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(h,x){if(x.matches)for(const g of x.matches){const{schema:y,ref:_,is:T,not:w,then:k,otherwise:S}=g;h=y?h.try(y):_?h.conditional(_,{is:T,then:k,not:w,otherwise:S,switch:g.switch}):h.conditional(T,{then:k,otherwise:S})}return h}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),m.errors=function(h,{error:x,state:g}){if(!h.length)return{errors:x("alternatives.any")};if(h.length===1)return{errors:h[0].reports};const y=new Set,_=[];for(const{reports:T,schema:w}of h){if(T.length>1)return m.unmatched(h,x);const k=T[0];if(k instanceof l.Report==0)return m.unmatched(h,x);if(k.state.path.length!==g.path.length){_.push({type:w.type,report:k});continue}if(k.code==="any.only"){for(const A of k.local.valids)y.add(A);continue}const[S,v]=k.code.split(".");v!=="base"?_.push({type:w.type,report:k}):k.code==="object.base"?y.add(k.local.type):y.add(S)}return _.length?_.length===1?{errors:_[0].report}:m.unmatched(h,x):{errors:x("alternatives.types",{types:[...y]})}},m.unmatched=function(h,x){const g=[];for(const y of h)g.push(...y.reports);return{errors:x("alternatives.match",l.details(g,{override:!1}))}}},8068:(s,i,o)=>{const a=o(375),c=o(7629),d=o(8160),p=o(6914);s.exports=c.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(u,l){return a(typeof u=="function","Method must be a function"),a(l===void 0||l&&typeof l=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:u,description:l}})},validate(u,l,{method:f}){try{return f(u,l)}catch(m){return l.error("any.custom",{error:m})}},args:["method","description"],multi:!0},messages:{method(u){return this.prefs({messages:u})}},shared:{method(u){a(d.isSchema(u)&&u._flags.id,"Schema must be a schema with an id");const l=this.clone();return l.$_terms.shared=l.$_terms.shared||[],l.$_terms.shared.push(u),l.$_mutateRegister(u),l}},warning:{method(u,l){return a(u&&typeof u=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:u,local:l},warn:!0})},validate:(u,l,{code:f,local:m})=>l.error(f,m),args:["code","local"],multi:!0}},modifiers:{keep(u,l=!0){u.keep=l},message(u,l){u.message=p.compile(l)},warn(u,l=!0){u.warn=l}},manifest:{build(u,l){for(const f in l){const m=l[f];if(["examples","externals","metas","notes","tags"].includes(f))for(const h of m)u=u[f.slice(0,-1)](h);else if(f!=="alterations")if(f!=="whens"){if(f==="shared")for(const h of m)u=u.shared(h)}else for(const h of m){const{ref:x,is:g,not:y,then:_,otherwise:T,concat:w}=h;u=w?u.concat(w):x?u.when(x,{is:g,not:y,then:_,otherwise:T,switch:h.switch,break:h.break}):u.when(g,{then:_,otherwise:T,break:h.break})}else{const h={};for(const{target:x,adjuster:g}of m)h[x]=g;u=u.alter(h)}}return u}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(s,i,o)=>{const a=o(375),c=o(9474),d=o(9621),p=o(8068),u=o(8160),l=o(3292),f={};s.exports=p.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(m,{schema:h,state:x,prefs:g}){if(!Array.isArray(m))return;const y=h.$_getRule("sort");return y?f.sort(h,m,y.args.options,x,g):void 0}},validate(m,{schema:h,error:x}){if(!Array.isArray(m)){if(h._flags.single){const g=[m];return g[u.symbols.arraySingle]=!0,{value:g}}return{errors:x("array.base")}}if(h.$_getRule("items")||h.$_terms.externals)return{value:m.slice()}},rules:{has:{method(m){m=this.$_compile(m,{appendPath:!0});const h=this.$_addRule({name:"has",args:{schema:m}});return h.$_mutateRegister(m),h},validate(m,{state:h,prefs:x,error:g},{schema:y}){const _=[m,...h.ancestors];for(let w=0;w<m.length;++w){const k=h.localize([...h.path,w],_,y);if(y.$_match(m[w],k,x))return m}const T=y._flags.label;return T?g("array.hasKnown",{patternLabel:T}):g("array.hasUnknown",null)},multi:!0},items:{method(...m){u.verifyFlat(m,"items");const h=this.$_addRule("items");for(let x=0;x<m.length;++x){const g=u.tryWithPath((()=>this.$_compile(m[x])),x,{append:!0});h.$_terms.items.push(g)}return h.$_mutateRebuild()},validate(m,{schema:h,error:x,state:g,prefs:y,errorsArray:_}){const T=h.$_terms._requireds.slice(),w=h.$_terms.ordered.slice(),k=[...h.$_terms._inclusions,...T],S=!m[u.symbols.arraySingle];delete m[u.symbols.arraySingle];const v=_();let A=m.length;for(let N=0;N<A;++N){const R=m[N];let M=!1,j=!1;const H=S?N:new Number(N),z=[...g.path,H];if(!h._flags.sparse&&R===void 0){if(v.push(x("array.sparse",{key:H,path:z,pos:N,value:void 0},g.localize(z))),y.abortEarly)return v;w.shift();continue}const q=[m,...g.ancestors];for(const le of h.$_terms._exclusions)if(le.$_match(R,g.localize(z,q,le),y,{presence:"ignore"})){if(v.push(x("array.excludes",{pos:N,value:R},g.localize(z))),y.abortEarly)return v;M=!0,w.shift();break}if(M)continue;if(h.$_terms.ordered.length){if(w.length){const le=w.shift(),xe=le.$_validate(R,g.localize(z,q,le),y);if(xe.errors){if(v.push(...xe.errors),y.abortEarly)return v}else if(le._flags.result==="strip")f.fastSplice(m,N),--N,--A;else{if(!h._flags.sparse&&xe.value===void 0){if(v.push(x("array.sparse",{key:H,path:z,pos:N,value:void 0},g.localize(z))),y.abortEarly)return v;continue}m[N]=xe.value}continue}if(!h.$_terms.items.length){if(v.push(x("array.orderedLength",{pos:N,limit:h.$_terms.ordered.length})),y.abortEarly)return v;break}}const ne=[];let ae=T.length;for(let le=0;le<ae;++le){const xe=g.localize(z,q,T[le]);xe.snapshot();const Te=T[le].$_validate(R,xe,y);if(ne[le]=Te,!Te.errors){if(xe.commit(),m[N]=Te.value,j=!0,f.fastSplice(T,le),--le,--ae,!h._flags.sparse&&Te.value===void 0&&(v.push(x("array.sparse",{key:H,path:z,pos:N,value:void 0},g.localize(z))),y.abortEarly))return v;break}xe.restore()}if(j)continue;const _e=y.stripUnknown&&!!y.stripUnknown.arrays||!1;ae=k.length;for(const le of k){let xe;const Te=T.indexOf(le);if(Te!==-1)xe=ne[Te];else{const we=g.localize(z,q,le);if(we.snapshot(),xe=le.$_validate(R,we,y),!xe.errors){we.commit(),le._flags.result==="strip"?(f.fastSplice(m,N),--N,--A):h._flags.sparse||xe.value!==void 0?m[N]=xe.value:(v.push(x("array.sparse",{key:H,path:z,pos:N,value:void 0},g.localize(z))),M=!0),j=!0;break}we.restore()}if(ae===1){if(_e){f.fastSplice(m,N),--N,--A,j=!0;break}if(v.push(...xe.errors),y.abortEarly)return v;M=!0;break}}if(!M&&(h.$_terms._inclusions.length||h.$_terms._requireds.length)&&!j){if(_e){f.fastSplice(m,N),--N,--A;continue}if(v.push(x("array.includes",{pos:N,value:R},g.localize(z))),y.abortEarly)return v}}return T.length&&f.fillMissedErrors(h,v,T,m,g,y),w.length&&(f.fillOrderedErrors(h,v,w,m,g,y),v.length||f.fillDefault(w,m,g,y)),v.length?v:m},priority:!0,manifest:!1},length:{method(m){return this.$_addRule({name:"length",args:{limit:m},operator:"="})},validate:(m,h,{limit:x},{name:g,operator:y,args:_})=>u.compare(m.length,x,y)?m:h.error("array."+g,{limit:_.limit,value:m}),args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method(m){return this.$_addRule({name:"max",method:"length",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"length",args:{limit:m},operator:">="})}},ordered:{method(...m){u.verifyFlat(m,"ordered");const h=this.$_addRule("items");for(let x=0;x<m.length;++x){const g=u.tryWithPath((()=>this.$_compile(m[x])),x,{append:!0});f.validateSingle(g,h),h.$_mutateRegister(g),h.$_terms.ordered.push(g)}return h.$_mutateRebuild()}},single:{method(m){const h=m===void 0||!!m;return a(!h||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",h)}},sort:{method(m={}){u.assertOptions(m,["by","order"]);const h={order:m.order||"ascending"};return m.by&&(h.by=l.ref(m.by,{ancestor:0}),a(!h.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:h}})},validate(m,{error:h,state:x,prefs:g,schema:y},{options:_}){const{value:T,errors:w}=f.sort(y,m,_,x,g);if(w)return w;for(let k=0;k<m.length;++k)if(m[k]!==T[k])return h("array.sort",{order:_.order,by:_.by?_.by.key:"value"});return m},convert:!0},sparse:{method(m){const h=m===void 0||!!m;return this._flags.sparse===h?this:(h?this.clone():this.$_addRule("items")).$_setFlag("sparse",h,{clone:!1})}},unique:{method(m,h={}){a(!m||typeof m=="function"||typeof m=="string","comparator must be a function or a string"),u.assertOptions(h,["ignoreUndefined","separator"]);const x={name:"unique",args:{options:h,comparator:m}};if(m)if(typeof m=="string"){const g=u.default(h.separator,".");x.path=g?m.split(g):[m]}else x.comparator=m;return this.$_addRule(x)},validate(m,{state:h,error:x,schema:g},{comparator:y,options:_},{comparator:T,path:w}){const k={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},S=T||c,v=_.ignoreUndefined;for(let A=0;A<m.length;++A){const N=w?d(m[A],w):m[A],R=T?k.custom:k[typeof N];if(a(R,"Failed to find unique map container for type",typeof N),R instanceof Map){const M=R.entries();let j;for(;!(j=M.next()).done;)if(S(j.value[0],N)){const H=h.localize([...h.path,A],[m,...h.ancestors]),z={pos:A,value:m[A],dupePos:j.value[1],dupeValue:m[j.value[1]]};return w&&(z.path=y),x("array.unique",z,H)}R.set(N,A)}else{if((!v||N!==void 0)&&R[N]!==void 0){const M={pos:A,value:m[A],dupePos:R[N],dupeValue:m[R[N]]};return w&&(M.path=y),x("array.unique",M,h.localize([...h.path,A],[m,...h.ancestors]))}R[N]=A}}return m},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(m,h)=>new Set(m)}},rebuild(m){m.$_terms._inclusions=[],m.$_terms._exclusions=[],m.$_terms._requireds=[];for(const h of m.$_terms.items)f.validateSingle(h,m),h._flags.presence==="required"?m.$_terms._requireds.push(h):h._flags.presence==="forbidden"?m.$_terms._exclusions.push(h):m.$_terms._inclusions.push(h);for(const h of m.$_terms.ordered)f.validateSingle(h,m)},manifest:{build:(m,h)=>(h.items&&(m=m.items(...h.items)),h.ordered&&(m=m.ordered(...h.ordered)),m)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(m,h,x,g,y,_){const T=[];let w=0;for(const k of x){const S=k._flags.label;S?T.push(S):++w}T.length?w?h.push(m.$_createError("array.includesRequiredBoth",g,{knownMisses:T,unknownMisses:w},y,_)):h.push(m.$_createError("array.includesRequiredKnowns",g,{knownMisses:T},y,_)):h.push(m.$_createError("array.includesRequiredUnknowns",g,{unknownMisses:w},y,_))},f.fillOrderedErrors=function(m,h,x,g,y,_){const T=[];for(const w of x)w._flags.presence==="required"&&T.push(w);T.length&&f.fillMissedErrors(m,h,T,g,y,_)},f.fillDefault=function(m,h,x,g){const y=[];let _=!0;for(let T=m.length-1;T>=0;--T){const w=m[T],k=[h,...x.ancestors],S=w.$_validate(void 0,x.localize(x.path,k,w),g).value;if(_){if(S===void 0)continue;_=!1}y.unshift(S)}y.length&&h.push(...y)},f.fastSplice=function(m,h){let x=h;for(;x<m.length;)m[x++]=m[x];--m.length},f.validateSingle=function(m,h){(m.type==="array"||m._flags._arrayItems)&&(a(!h._flags.single,"Cannot specify array item with single rule enabled"),h.$_setFlag("_arrayItems",!0,{clone:!1}))},f.sort=function(m,h,x,g,y){const _=x.order==="ascending"?1:-1,T=-1*_,w=_,k=(S,v)=>{let A=f.compare(S,v,T,w);if(A!==null||(x.by&&(S=x.by.resolve(S,g,y),v=x.by.resolve(v,g,y)),A=f.compare(S,v,T,w),A!==null))return A;const N=typeof S;if(N!==typeof v)throw m.$_createError("array.sort.mismatching",h,null,g,y);if(N!=="number"&&N!=="string")throw m.$_createError("array.sort.unsupported",h,{type:N},g,y);return N==="number"?(S-v)*_:S<v?T:w};try{return{value:h.slice().sort(k)}}catch(S){return{errors:S}}},f.compare=function(m,h,x,g){return m===h?0:m===void 0?1:h===void 0?-1:m===null?g:h===null?x:null}},4937:(s,i,o)=>{const a=o(375),c=o(8068),d=o(8160),p=o(2036),u={isBool:function(l){return typeof l=="boolean"}};s.exports=c.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(l,{schema:f}){if(typeof l!="boolean"){if(typeof l=="string"){const m=f._flags.sensitive?l:l.toLowerCase();l=m==="true"||m!=="false"&&l}return typeof l!="boolean"&&(l=f.$_terms.truthy&&f.$_terms.truthy.has(l,null,null,!f._flags.sensitive)||(!f.$_terms.falsy||!f.$_terms.falsy.has(l,null,null,!f._flags.sensitive))&&l),{value:l}}},validate(l,{error:f}){if(typeof l!="boolean")return{value:l,errors:f("boolean.base")}},rules:{truthy:{method(...l){d.verifyFlat(l,"truthy");const f=this.clone();f.$_terms.truthy=f.$_terms.truthy||new p;for(let m=0;m<l.length;++m){const h=l[m];a(h!==void 0,"Cannot call truthy with undefined"),f.$_terms.truthy.add(h)}return f}},falsy:{method(...l){d.verifyFlat(l,"falsy");const f=this.clone();f.$_terms.falsy=f.$_terms.falsy||new p;for(let m=0;m<l.length;++m){const h=l[m];a(h!==void 0,"Cannot call falsy with undefined"),f.$_terms.falsy.add(h)}return f}},sensitive:{method(l=!0){return this.$_setFlag("sensitive",l)}}},cast:{number:{from:u.isBool,to:(l,f)=>l?1:0},string:{from:u.isBool,to:(l,f)=>l?"true":"false"}},manifest:{build:(l,f)=>(f.truthy&&(l=l.truthy(...f.truthy)),f.falsy&&(l=l.falsy(...f.falsy)),l)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(s,i,o)=>{const a=o(375),c=o(8068),d=o(8160),p=o(3328),u={isDate:function(l){return l instanceof Date}};s.exports=c.extend({type:"date",coerce:{from:["number","string"],method:(l,{schema:f})=>({value:u.parse(l,f._flags.format)||l})},validate(l,{schema:f,error:m,prefs:h}){if(l instanceof Date&&!isNaN(l.getTime()))return;const x=f._flags.format;return h.convert&&x&&typeof l=="string"?{value:l,errors:m("date.format",{format:x})}:{value:l,errors:m("date.base")}},rules:{compare:{method:!1,validate(l,f,{date:m},{name:h,operator:x,args:g}){const y=m==="now"?Date.now():m.getTime();return d.compare(l.getTime(),y,x)?l:f.error("date."+h,{limit:g.date,value:l})},args:[{name:"date",ref:!0,normalize:l=>l==="now"?l:u.parse(l),assert:l=>l!==null,message:"must have a valid date format"}]},format:{method(l){return a(["iso","javascript","unix"].includes(l),"Unknown date format",l),this.$_setFlag("format",l)}},greater:{method(l){return this.$_addRule({name:"greater",method:"compare",args:{date:l},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(l){return this.$_addRule({name:"less",method:"compare",args:{date:l},operator:"<"})}},max:{method(l){return this.$_addRule({name:"max",method:"compare",args:{date:l},operator:"<="})}},min:{method(l){return this.$_addRule({name:"min",method:"compare",args:{date:l},operator:">="})}},timestamp:{method(l="javascript"){return a(["javascript","unix"].includes(l),'"type" must be one of "javascript, unix"'),this.format(l)}}},cast:{number:{from:u.isDate,to:(l,f)=>l.getTime()},string:{from:u.isDate,to:(l,{prefs:f})=>p.date(l,f)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),u.parse=function(l,f){if(l instanceof Date)return l;if(typeof l!="string"&&(isNaN(l)||!isFinite(l))||/^\s*$/.test(l))return null;if(f==="iso")return d.isIsoDate(l)?u.date(l.toString()):null;const m=l;if(typeof l=="string"&&/^[+-]?\d+(\.\d+)?$/.test(l)&&(l=parseFloat(l)),f){if(f==="javascript")return u.date(1*l);if(f==="unix")return u.date(1e3*l);if(typeof m=="string")return null}return u.date(l)},u.date=function(l){const f=new Date(l);return isNaN(f.getTime())?null:f}},390:(s,i,o)=>{const a=o(375),c=o(7824);s.exports=c.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(d){return a(Number.isSafeInteger(d)&&d>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:d}})},validate:(d,p,{n:u})=>d.length===u?d:p.error("function.arity",{n:u})},class:{method(){return this.$_addRule("class")},validate:(d,p)=>/^\s*class\s/.test(d.toString())?d:p.error("function.class",{value:d})},minArity:{method(d){return a(Number.isSafeInteger(d)&&d>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:d}})},validate:(d,p,{n:u})=>d.length>=u?d:p.error("function.minArity",{n:u})},maxArity:{method(d){return a(Number.isSafeInteger(d)&&d>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:d}})},validate:(d,p,{n:u})=>d.length<=u?d:p.error("function.maxArity",{n:u})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(s,i,o)=>{const a=o(978),c=o(375),d=o(8571),p=o(3652),u=o(8068),l=o(8160),f=o(3292),m=o(6354),h=o(6133),x=o(3328),g={renameDefaults:{alias:!1,multiple:!1,override:!1}};s.exports=u.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(y,_)=>y.keys(_),validate(y,{schema:_,error:T,state:w,prefs:k}){if(!y||typeof y!==_.$_property("typeof")||Array.isArray(y))return{value:y,errors:T("object.base",{type:_.$_property("typeof")})};if(!(_.$_terms.renames||_.$_terms.dependencies||_.$_terms.keys||_.$_terms.patterns||_.$_terms.externals))return;y=g.clone(y,k);const S=[];if(_.$_terms.renames&&!g.rename(_,y,w,k,S))return{value:y,errors:S};if(!_.$_terms.keys&&!_.$_terms.patterns&&!_.$_terms.dependencies)return{value:y,errors:S};const v=new Set(Object.keys(y));if(_.$_terms.keys){const A=[y,...w.ancestors];for(const N of _.$_terms.keys){const R=N.key,M=y[R];v.delete(R);const j=w.localize([...w.path,R],A,N),H=N.schema.$_validate(M,j,k);if(H.errors){if(k.abortEarly)return{value:y,errors:H.errors};H.value!==void 0&&(y[R]=H.value),S.push(...H.errors)}else N.schema._flags.result==="strip"||H.value===void 0&&M!==void 0?delete y[R]:H.value!==void 0&&(y[R]=H.value)}}if(v.size||_._flags._hasPatternMatch){const A=g.unknown(_,y,v,S,w,k);if(A)return A}if(_.$_terms.dependencies)for(const A of _.$_terms.dependencies){if(A.key!==null&&g.isPresent(A.options)(A.key.resolve(y,w,k,null,{shadow:!1}))===!1)continue;const N=g.dependencies[A.rel](_,A,y,w,k);if(N){const R=_.$_createError(N.code,y,N.context,w,k);if(k.abortEarly)return{value:y,errors:R};S.push(R)}}return{value:y,errors:S}},rules:{and:{method(...y){return l.verifyFlat(y,"and"),g.dependency(this,"and",null,y)}},append:{method(y){return y==null||Object.keys(y).length===0?this:this.keys(y)}},assert:{method(y,_,T){x.isTemplate(y)||(y=f.ref(y)),c(T===void 0||typeof T=="string","Message must be a string"),_=this.$_compile(_,{appendPath:!0});const w=this.$_addRule({name:"assert",args:{subject:y,schema:_,message:T}});return w.$_mutateRegister(y),w.$_mutateRegister(_),w},validate(y,{error:_,prefs:T,state:w},{subject:k,schema:S,message:v}){const A=k.resolve(y,w,T),N=h.isRef(k)?k.absolute(w):[];return S.$_match(A,w.localize(N,[y,...w.ancestors],S),T)?y:_("object.assert",{subject:k,message:v})},args:["subject","schema","message"],multi:!0},instance:{method(y,_){return c(typeof y=="function","constructor must be a function"),_=_||y.name,this.$_addRule({name:"instance",args:{constructor:y,name:_}})},validate:(y,_,{constructor:T,name:w})=>y instanceof T?y:_.error("object.instance",{type:w,value:y}),args:["constructor","name"]},keys:{method(y){c(y===void 0||typeof y=="object","Object schema must be a valid object"),c(!l.isSchema(y),"Object schema cannot be a joi schema");const _=this.clone();if(y)if(Object.keys(y).length){_.$_terms.keys=_.$_terms.keys?_.$_terms.keys.filter((T=>!y.hasOwnProperty(T.key))):new g.Keys;for(const T in y)l.tryWithPath((()=>_.$_terms.keys.push({key:T,schema:this.$_compile(y[T])})),T)}else _.$_terms.keys=new g.Keys;else _.$_terms.keys=null;return _.$_mutateRebuild()}},length:{method(y){return this.$_addRule({name:"length",args:{limit:y},operator:"="})},validate:(y,_,{limit:T},{name:w,operator:k,args:S})=>l.compare(Object.keys(y).length,T,k)?y:_.error("object."+w,{limit:S.limit,value:y}),args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"}]},max:{method(y){return this.$_addRule({name:"max",method:"length",args:{limit:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"length",args:{limit:y},operator:">="})}},nand:{method(...y){return l.verifyFlat(y,"nand"),g.dependency(this,"nand",null,y)}},or:{method(...y){return l.verifyFlat(y,"or"),g.dependency(this,"or",null,y)}},oxor:{method(...y){return g.dependency(this,"oxor",null,y)}},pattern:{method(y,_,T={}){const w=y instanceof RegExp;w||(y=this.$_compile(y,{appendPath:!0})),c(_!==void 0,"Invalid rule"),l.assertOptions(T,["fallthrough","matches"]),w&&c(!y.flags.includes("g")&&!y.flags.includes("y"),"pattern should not use global or sticky mode"),_=this.$_compile(_,{appendPath:!0});const k=this.clone();k.$_terms.patterns=k.$_terms.patterns||[];const S={[w?"regex":"schema"]:y,rule:_};return T.matches&&(S.matches=this.$_compile(T.matches),S.matches.type!=="array"&&(S.matches=S.matches.$_root.array().items(S.matches)),k.$_mutateRegister(S.matches),k.$_setFlag("_hasPatternMatch",!0,{clone:!1})),T.fallthrough&&(S.fallthrough=!0),k.$_terms.patterns.push(S),k.$_mutateRegister(_),k}},ref:{method(){return this.$_addRule("ref")},validate:(y,_)=>h.isRef(y)?y:_.error("object.refType",{value:y})},regex:{method(){return this.$_addRule("regex")},validate:(y,_)=>y instanceof RegExp?y:_.error("object.regex",{value:y})},rename:{method(y,_,T={}){c(typeof y=="string"||y instanceof RegExp,"Rename missing the from argument"),c(typeof _=="string"||_ instanceof x,"Invalid rename to argument"),c(_!==y,"Cannot rename key to same name:",y),l.assertOptions(T,["alias","ignoreUndefined","override","multiple"]);const w=this.clone();w.$_terms.renames=w.$_terms.renames||[];for(const k of w.$_terms.renames)c(k.from!==y,"Cannot rename the same key multiple times");return _ instanceof x&&w.$_mutateRegister(_),w.$_terms.renames.push({from:y,to:_,options:a(g.renameDefaults,T)}),w}},schema:{method(y="any"){return this.$_addRule({name:"schema",args:{type:y}})},validate:(y,_,{type:T})=>!l.isSchema(y)||T!=="any"&&y.type!==T?_.error("object.schema",{type:T}):y},unknown:{method(y){return this.$_setFlag("unknown",y!==!1)}},with:{method(y,_,T={}){return g.dependency(this,"with",y,_,T)}},without:{method(y,_,T={}){return g.dependency(this,"without",y,_,T)}},xor:{method(...y){return l.verifyFlat(y,"xor"),g.dependency(this,"xor",null,y)}}},overrides:{default(y,_){return y===void 0&&(y=l.symbols.deepDefault),this.$_parent("default",y,_)}},rebuild(y){if(y.$_terms.keys){const _=new p.Sorter;for(const T of y.$_terms.keys)l.tryWithPath((()=>_.add(T,{after:T.schema.$_rootReferences(),group:T.key})),T.key);y.$_terms.keys=new g.Keys(..._.nodes)}},manifest:{build(y,_){if(_.keys&&(y=y.keys(_.keys)),_.dependencies)for(const{rel:T,key:w=null,peers:k,options:S}of _.dependencies)y=g.dependency(y,T,w,k,S);if(_.patterns)for(const{regex:T,schema:w,rule:k,fallthrough:S,matches:v}of _.patterns)y=y.pattern(T||w,k,{fallthrough:S,matches:v});if(_.renames)for(const{from:T,to:w,options:k}of _.renames)y=y.rename(T,w,k);return y}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),g.clone=function(y,_){if(typeof y=="object"){if(_.nonEnumerables)return d(y,{shallow:!0});const w=Object.create(Object.getPrototypeOf(y));return Object.assign(w,y),w}const T=function(...w){return y.apply(this,w)};return T.prototype=d(y.prototype),Object.defineProperty(T,"name",{value:y.name,writable:!1}),Object.defineProperty(T,"length",{value:y.length,writable:!1}),Object.assign(T,y),T},g.dependency=function(y,_,T,w,k){c(T===null||typeof T=="string",_,"key must be a strings"),k||(k=w.length>1&&typeof w[w.length-1]=="object"?w.pop():{}),l.assertOptions(k,["separator","isPresent"]),w=[].concat(w);const S=l.default(k.separator,"."),v=[];for(const N of w)c(typeof N=="string",_,"peers must be strings"),v.push(f.ref(N,{separator:S,ancestor:0,prefix:!1}));T!==null&&(T=f.ref(T,{separator:S,ancestor:0,prefix:!1}));const A=y.clone();return A.$_terms.dependencies=A.$_terms.dependencies||[],A.$_terms.dependencies.push(new g.Dependency(_,T,v,w,k)),A},g.dependencies={and(y,_,T,w,k){const S=[],v=[],A=_.peers.length,N=g.isPresent(_.options);for(const R of _.peers)N(R.resolve(T,w,k,null,{shadow:!1}))===!1?S.push(R.key):v.push(R.key);if(S.length!==A&&v.length!==A)return{code:"object.and",context:{present:v,presentWithLabels:g.keysToLabels(y,v),missing:S,missingWithLabels:g.keysToLabels(y,S)}}},nand(y,_,T,w,k){const S=[],v=g.isPresent(_.options);for(const R of _.peers)v(R.resolve(T,w,k,null,{shadow:!1}))&&S.push(R.key);if(S.length!==_.peers.length)return;const A=_.paths[0],N=_.paths.slice(1);return{code:"object.nand",context:{main:A,mainWithLabel:g.keysToLabels(y,A),peers:N,peersWithLabels:g.keysToLabels(y,N)}}},or(y,_,T,w,k){const S=g.isPresent(_.options);for(const v of _.peers)if(S(v.resolve(T,w,k,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:_.paths,peersWithLabels:g.keysToLabels(y,_.paths)}}},oxor(y,_,T,w,k){const S=[],v=g.isPresent(_.options);for(const N of _.peers)v(N.resolve(T,w,k,null,{shadow:!1}))&&S.push(N.key);if(!S.length||S.length===1)return;const A={peers:_.paths,peersWithLabels:g.keysToLabels(y,_.paths)};return A.present=S,A.presentWithLabels=g.keysToLabels(y,S),{code:"object.oxor",context:A}},with(y,_,T,w,k){const S=g.isPresent(_.options);for(const v of _.peers)if(S(v.resolve(T,w,k,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:_.key.key,mainWithLabel:g.keysToLabels(y,_.key.key),peer:v.key,peerWithLabel:g.keysToLabels(y,v.key)}}},without(y,_,T,w,k){const S=g.isPresent(_.options);for(const v of _.peers)if(S(v.resolve(T,w,k,null,{shadow:!1})))return{code:"object.without",context:{main:_.key.key,mainWithLabel:g.keysToLabels(y,_.key.key),peer:v.key,peerWithLabel:g.keysToLabels(y,v.key)}}},xor(y,_,T,w,k){const S=[],v=g.isPresent(_.options);for(const N of _.peers)v(N.resolve(T,w,k,null,{shadow:!1}))&&S.push(N.key);if(S.length===1)return;const A={peers:_.paths,peersWithLabels:g.keysToLabels(y,_.paths)};return S.length===0?{code:"object.missing",context:A}:(A.present=S,A.presentWithLabels=g.keysToLabels(y,S),{code:"object.xor",context:A})}},g.keysToLabels=function(y,_){return Array.isArray(_)?_.map((T=>y.$_mapLabels(T))):y.$_mapLabels(_)},g.isPresent=function(y){return typeof y.isPresent=="function"?y.isPresent:_=>_!==void 0},g.rename=function(y,_,T,w,k){const S={};for(const v of y.$_terms.renames){const A=[],N=typeof v.from!="string";if(N)for(const R in _){if(_[R]===void 0&&v.options.ignoreUndefined||R===v.to)continue;const M=v.from.exec(R);M&&A.push({from:R,to:v.to,match:M})}else!Object.prototype.hasOwnProperty.call(_,v.from)||_[v.from]===void 0&&v.options.ignoreUndefined||A.push(v);for(const R of A){const M=R.from;let j=R.to;if(j instanceof x&&(j=j.render(_,T,w,R.match)),M!==j){if(!v.options.multiple&&S[j]&&(k.push(y.$_createError("object.rename.multiple",_,{from:M,to:j,pattern:N},T,w)),w.abortEarly)||Object.prototype.hasOwnProperty.call(_,j)&&!v.options.override&&!S[j]&&(k.push(y.$_createError("object.rename.override",_,{from:M,to:j,pattern:N},T,w)),w.abortEarly))return!1;_[M]===void 0?delete _[j]:_[j]=_[M],S[j]=!0,v.options.alias||delete _[M]}}}return!0},g.unknown=function(y,_,T,w,k,S){if(y.$_terms.patterns){let v=!1;const A=y.$_terms.patterns.map((R=>{if(R.matches)return v=!0,[]})),N=[_,...k.ancestors];for(const R of T){const M=_[R],j=[...k.path,R];for(let H=0;H<y.$_terms.patterns.length;++H){const z=y.$_terms.patterns[H];if(z.regex){const ae=z.regex.test(R);if(k.mainstay.tracer.debug(k,"rule",`pattern.${H}`,ae?"pass":"error"),!ae)continue}else if(!z.schema.$_match(R,k.nest(z.schema,`pattern.${H}`),S))continue;T.delete(R);const q=k.localize(j,N,{schema:z.rule,key:R}),ne=z.rule.$_validate(M,q,S);if(ne.errors){if(S.abortEarly)return{value:_,errors:ne.errors};w.push(...ne.errors)}if(z.matches&&A[H].push(R),_[R]=ne.value,!z.fallthrough)break}}if(v)for(let R=0;R<A.length;++R){const M=A[R];if(!M)continue;const j=y.$_terms.patterns[R].matches,H=k.localize(k.path,N,j),z=j.$_validate(M,H,S);if(z.errors){const q=m.details(z.errors,{override:!1});q.matches=M;const ne=y.$_createError("object.pattern.match",_,q,k,S);if(S.abortEarly)return{value:_,errors:ne};w.push(ne)}}}if(T.size&&(y.$_terms.keys||y.$_terms.patterns)){if(S.stripUnknown&&y._flags.unknown===void 0||S.skipFunctions){const v=!(!S.stripUnknown||S.stripUnknown!==!0&&!S.stripUnknown.objects);for(const A of T)v?(delete _[A],T.delete(A)):typeof _[A]=="function"&&T.delete(A)}if(!l.default(y._flags.unknown,S.allowUnknown))for(const v of T){const A=k.localize([...k.path,v],[]),N=y.$_createError("object.unknown",_[v],{child:v},A,S,{flags:!1});if(S.abortEarly)return{value:_,errors:N};w.push(N)}}},g.Dependency=class{constructor(y,_,T,w,k){this.rel=y,this.key=_,this.peers=T,this.paths=w,this.options=k}describe(){const y={rel:this.rel,peers:this.paths};return this.key!==null&&(y.key=this.key.key),this.peers[0].separator!=="."&&(y.options={...y.options,separator:this.peers[0].separator}),this.options.isPresent&&(y.options={...y.options,isPresent:this.options.isPresent}),y}},g.Keys=class extends Array{concat(y){const _=this.slice(),T=new Map;for(let w=0;w<_.length;++w)T.set(_[w].key,w);for(const w of y){const k=w.key,S=T.get(k);S!==void 0?_[S]={key:k,schema:_[S].schema.concat(w.schema)}:_.push(w)}return _}}},8785:(s,i,o)=>{const a=o(375),c=o(8068),d=o(8160),p=o(3292),u=o(6354),l={};s.exports=c.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(f,m)=>f.ref(m),validate(f,{schema:m,state:h,prefs:x}){a(m.$_terms.link,"Uninitialized link schema");const g=l.generate(m,f,h,x),y=m.$_terms.link[0].ref;return g.$_validate(f,h.nest(g,`link:${y.display}:${g.type}`),x)},generate:(f,m,h,x)=>l.generate(f,m,h,x),rules:{ref:{method(f){a(!this.$_terms.link,"Cannot reinitialize schema"),f=p.ref(f),a(f.type==="value"||f.type==="local","Invalid reference type:",f.type),a(f.type==="local"||f.ancestor==="root"||f.ancestor>0,"Link cannot reference itself");const m=this.clone();return m.$_terms.link=[{ref:f}],m}},relative:{method(f=!0){return this.$_setFlag("relative",f)}}},overrides:{concat(f){a(this.$_terms.link,"Uninitialized link schema"),a(d.isSchema(f),"Invalid schema object"),a(f.type!=="link","Cannot merge type link with another link");const m=this.clone();return m.$_terms.whens||(m.$_terms.whens=[]),m.$_terms.whens.push({concat:f}),m.$_mutateRebuild()}},manifest:{build:(f,m)=>(a(m.link,"Invalid link description missing link"),f.ref(m.link))}}),l.generate=function(f,m,h,x){let g=h.mainstay.links.get(f);if(g)return g._generate(m,h,x).schema;const y=f.$_terms.link[0].ref,{perspective:_,path:T}=l.perspective(y,h);l.assert(_,"which is outside of schema boundaries",y,f,h,x);try{g=T.length?_.$_reach(T):_}catch{l.assert(!1,"to non-existing schema",y,f,h,x)}return l.assert(g.type!=="link","which is another link",y,f,h,x),f._flags.relative||h.mainstay.links.set(f,g),g._generate(m,h,x).schema},l.perspective=function(f,m){if(f.type==="local"){for(const{schema:h,key:x}of m.schemas){if((h._flags.id||x)===f.path[0])return{perspective:h,path:f.path.slice(1)};if(h.$_terms.shared){for(const g of h.$_terms.shared)if(g._flags.id===f.path[0])return{perspective:g,path:f.path.slice(1)}}}return{perspective:null,path:null}}return f.ancestor==="root"?{perspective:m.schemas[m.schemas.length-1].schema,path:f.path}:{perspective:m.schemas[f.ancestor]&&m.schemas[f.ancestor].schema,path:f.path}},l.assert=function(f,m,h,x,g,y){f||a(!1,`"${u.label(x._flags,g,y)}" contains link reference "${h.display}" ${m}`)}},3832:(s,i,o)=>{const a=o(375),c=o(8068),d=o(8160),p={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(u){const l=u.toString(),f=l.indexOf("."),m=l.indexOf("e");return(f<0?0:(m<0?l.length:m)-f-1)+(m<0?0:Math.max(0,-parseInt(l.slice(m+1))))}};s.exports=c.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(u,{schema:l,error:f}){if(!u.match(p.numberRx))return;u=u.trim();const m={value:parseFloat(u)};if(m.value===0&&(m.value=0),!l._flags.unsafe)if(u.match(/e/i)){if(p.extractSignificantDigits(u)!==p.extractSignificantDigits(String(m.value)))return m.errors=f("number.unsafe"),m}else{const h=m.value.toString();if(h.match(/e/i))return m;if(h!==p.normalizeDecimal(u))return m.errors=f("number.unsafe"),m}return m}},validate(u,{schema:l,error:f,prefs:m}){if(u===1/0||u===-1/0)return{value:u,errors:f("number.infinity")};if(!d.isNumber(u))return{value:u,errors:f("number.base")};const h={value:u};if(m.convert){const x=l.$_getRule("precision");if(x){const g=Math.pow(10,x.args.limit);h.value=Math.round(h.value*g)/g}}return h.value===0&&(h.value=0),!l._flags.unsafe&&(u>Number.MAX_SAFE_INTEGER||u<Number.MIN_SAFE_INTEGER)&&(h.errors=f("number.unsafe")),h},rules:{compare:{method:!1,validate:(u,l,{limit:f},{name:m,operator:h,args:x})=>d.compare(u,f,h)?u:l.error("number."+m,{limit:x.limit,value:u}),args:[{name:"limit",ref:!0,assert:d.isNumber,message:"must be a number"}]},greater:{method(u){return this.$_addRule({name:"greater",method:"compare",args:{limit:u},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(u,l)=>Math.trunc(u)-u==0?u:l.error("number.integer")},less:{method(u){return this.$_addRule({name:"less",method:"compare",args:{limit:u},operator:"<"})}},max:{method(u){return this.$_addRule({name:"max",method:"compare",args:{limit:u},operator:"<="})}},min:{method(u){return this.$_addRule({name:"min",method:"compare",args:{limit:u},operator:">="})}},multiple:{method(u){const l=typeof u=="number"?p.decimalPlaces(u):null,f=Math.pow(10,l);return this.$_addRule({name:"multiple",args:{base:u,baseDecimalPlace:l,pfactor:f}})},validate:(u,l,{base:f,baseDecimalPlace:m,pfactor:h},x)=>p.decimalPlaces(u)>m?l.error("number.multiple",{multiple:x.args.base,value:u}):Math.round(h*u)%Math.round(h*f)==0?u:l.error("number.multiple",{multiple:x.args.base,value:u}),args:[{name:"base",ref:!0,assert:u=>typeof u=="number"&&isFinite(u)&&u>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(u,l)=>Number.isSafeInteger(u)&&u>=0&&u<=65535?u:l.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(u){return a(Number.isSafeInteger(u),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:u}})},validate(u,l,{limit:f}){const m=u.toString().match(p.precisionRx);return Math.max((m[1]?m[1].length:0)-(m[2]?parseInt(m[2],10):0),0)<=f?u:l.error("number.precision",{limit:f,value:u})},convert:!0},sign:{method(u){return a(["negative","positive"].includes(u),"Invalid sign",u),this.$_addRule({name:"sign",args:{sign:u}})},validate:(u,l,{sign:f})=>f==="negative"&&u<0||f==="positive"&&u>0?u:l.error(`number.${f}`)},unsafe:{method(u=!0){return a(typeof u=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",u)}}},cast:{string:{from:u=>typeof u=="number",to:(u,l)=>u.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),p.extractSignificantDigits=function(u){return u.replace(p.exponentialPartRegex,"").replace(p.dotRegex,"").replace(p.trailingZerosRegex,"").replace(p.leadingSignAndZerosRegex,"")},p.normalizeDecimal=function(u){return(u=u.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&u.endsWith("0")&&(u=u.replace(/0+$/,"")),u==="-0"?"0":u}},8966:(s,i,o)=>{const a=o(7824);s.exports=a.extend({type:"object",cast:{map:{from:c=>c&&typeof c=="object",to:(c,d)=>new Map(Object.entries(c))}}})},7417:(s,i,o)=>{const a=o(375),c=o(5380),d=o(1745),p=o(9959),u=o(6064),l=o(9926),f=o(5752),m=o(8068),h=o(8160),x={tlds:l instanceof Set&&{tlds:{allow:l,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:p.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};s.exports=m.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(g,{schema:y,state:_,prefs:T}){const w=y.$_getRule("normalize");w&&(g=g.normalize(w.args.form));const k=y.$_getRule("case");k&&(g=k.args.direction==="upper"?g.toLocaleUpperCase():g.toLocaleLowerCase());const S=y.$_getRule("trim");if(S&&S.args.enabled&&(g=g.trim()),y.$_terms.replacements)for(const A of y.$_terms.replacements)g=g.replace(A.pattern,A.replacement);const v=y.$_getRule("hex");if(v&&v.args.options.byteAligned&&g.length%2!=0&&(g=`0${g}`),y.$_getRule("isoDate")){const A=x.isoDate(g);A&&(g=A)}if(y._flags.truncate){const A=y.$_getRule("max");if(A){let N=A.args.limit;if(h.isResolvable(N)&&(N=N.resolve(g,_,T),!h.limit(N)))return{value:g,errors:y.$_createError("any.ref",N,{ref:A.args.limit,arg:"limit",reason:"must be a positive integer"},_,T)};g=g.slice(0,N)}}return{value:g}}},validate(g,{schema:y,error:_}){if(typeof g!="string")return{value:g,errors:_("string.base")};if(g===""){const T=y.$_getRule("min");return T&&T.args.limit===0?void 0:{value:g,errors:_("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(g,y)=>/^[a-zA-Z0-9]+$/.test(g)?g:y.error("string.alphanum")},base64:{method(g={}){return h.assertOptions(g,["paddingRequired","urlSafe"]),g={urlSafe:!1,paddingRequired:!0,...g},a(typeof g.paddingRequired=="boolean","paddingRequired must be boolean"),a(typeof g.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:g}})},validate:(g,y,{options:_})=>x.base64Regex[_.paddingRequired][_.urlSafe].test(g)?g:y.error("string.base64")},case:{method(g){return a(["lower","upper"].includes(g),"Invalid case:",g),this.$_addRule({name:"case",args:{direction:g}})},validate:(g,y,{direction:_})=>_==="lower"&&g===g.toLocaleLowerCase()||_==="upper"&&g===g.toLocaleUpperCase()?g:y.error(`string.${_}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(g,y){let _=g.length,T=0,w=1;for(;_--;){const k=g.charAt(_)*w;T+=k-9*(k>9),w^=3}return T>0&&T%10==0?g:y.error("string.creditCard")}},dataUri:{method(g={}){return h.assertOptions(g,["paddingRequired"]),g={paddingRequired:!0,...g},a(typeof g.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:g}})},validate(g,y,{options:_}){const T=g.match(x.dataUriRegex);return T&&(!T[2]||T[2]!=="base64"||x.base64Regex[_.paddingRequired].false.test(T[3]))?g:y.error("string.dataUri")}},domain:{method(g){g&&h.assertOptions(g,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const y=x.addressOptions(g);return this.$_addRule({name:"domain",args:{options:g},address:y})},validate:(g,y,_,{address:T})=>c.isValid(g,T)?g:y.error("string.domain")},email:{method(g={}){h.assertOptions(g,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),a(g.multiple===void 0||typeof g.multiple=="boolean","multiple option must be an boolean");const y=x.addressOptions(g),_=new RegExp(`\\s*[${g.separator?u(g.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:g},regex:_,address:y})},validate(g,y,{options:_},{regex:T,address:w}){const k=_.multiple?g.split(T):[g],S=[];for(const v of k)d.isValid(v,w)||S.push(v);return S.length?y.error("string.email",{value:g,invalids:S}):g}},guid:{alias:"uuid",method(g={}){h.assertOptions(g,["version","separator"]);let y="";if(g.version){const w=[].concat(g.version);a(w.length>=1,"version must have at least 1 valid version specified");const k=new Set;for(let S=0;S<w.length;++S){const v=w[S];a(typeof v=="string","version at position "+S+" must be a string");const A=x.guidVersions[v.toLowerCase()];a(A,"version at position "+S+" must be one of "+Object.keys(x.guidVersions).join(", ")),a(!k.has(A),"version at position "+S+" must not be a duplicate"),y+=A,k.add(A)}}a(x.guidSeparators.has(g.separator),'separator must be one of true, false, "-", or ":"');const _=g.separator===void 0?"[:-]?":g.separator===!0?"[:-]":g.separator===!1?"[]?":`\\${g.separator}`,T=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${_})[0-9A-F]{4}\\2?[${y||"0-9A-F"}][0-9A-F]{3}\\2?[${y?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:g},regex:T})},validate(g,y,_,{regex:T}){const w=T.exec(g);return w?x.guidBrackets[w[1]]!==w[w.length-1]?y.error("string.guid"):g:y.error("string.guid")}},hex:{method(g={}){return h.assertOptions(g,["byteAligned","prefix"]),g={byteAligned:!1,prefix:!1,...g},a(typeof g.byteAligned=="boolean","byteAligned must be boolean"),a(typeof g.prefix=="boolean"||g.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:g}})},validate:(g,y,{options:_})=>(_.prefix==="optional"?x.hexRegex.withOptionalPrefix:_.prefix===!0?x.hexRegex.withPrefix:x.hexRegex.withoutPrefix).test(g)?_.byteAligned&&g.length%2!=0?y.error("string.hexAlign"):g:y.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(g,y)=>c.isValid(g,{minDomainSegments:1})||x.ipRegex.test(g)?g:y.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(g={}){h.assertOptions(g,["cidr","version"]);const{cidr:y,versions:_,regex:T}=p.regex(g),w=g.version?_:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:y,version:w}},regex:T})},validate:(g,y,{options:_},{regex:T})=>T.test(g)?g:_.version?y.error("string.ipVersion",{value:g,cidr:_.cidr,version:_.version}):y.error("string.ip",{value:g,cidr:_.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(g,{error:y})=>x.isoDate(g)?g:y("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(g,y)=>x.isoDurationRegex.test(g)?g:y.error("string.isoDuration")},length:{method(g,y){return x.length(this,"length",g,"=",y)},validate(g,y,{limit:_,encoding:T},{name:w,operator:k,args:S}){const v=!T&&g.length;return h.compare(v,_,k)?g:y.error("string."+w,{limit:S.limit,value:g,encoding:T})},args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(g,y){return x.length(this,"max",g,"<=",y)},args:["limit","encoding"]},min:{method(g,y){return x.length(this,"min",g,">=",y)},args:["limit","encoding"]},normalize:{method(g="NFC"){return a(x.normalizationForms.includes(g),"normalization form must be one of "+x.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:g}})},validate:(g,{error:y},{form:_})=>g===g.normalize(_)?g:y("string.normalize",{value:g,form:_}),convert:!0},pattern:{alias:"regex",method(g,y={}){a(g instanceof RegExp,"regex must be a RegExp"),a(!g.flags.includes("g")&&!g.flags.includes("y"),"regex should not use global or sticky mode"),typeof y=="string"&&(y={name:y}),h.assertOptions(y,["invert","name"]);const _=["string.pattern",y.invert?".invert":"",y.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:g,options:y},errorCode:_})},validate:(g,y,{regex:_,options:T},{errorCode:w})=>_.test(g)^T.invert?g:y.error(w,{name:T.name,regex:_,value:g}),args:["regex","options"],multi:!0},replace:{method(g,y){typeof g=="string"&&(g=new RegExp(u(g),"g")),a(g instanceof RegExp,"pattern must be a RegExp"),a(typeof y=="string","replacement must be a String");const _=this.clone();return _.$_terms.replacements||(_.$_terms.replacements=[]),_.$_terms.replacements.push({pattern:g,replacement:y}),_}},token:{method(){return this.$_addRule("token")},validate:(g,y)=>/^\w+$/.test(g)?g:y.error("string.token")},trim:{method(g=!0){return a(typeof g=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:g}})},validate:(g,y,{enabled:_})=>_&&g!==g.trim()?y.error("string.trim"):g,convert:!0},truncate:{method(g=!0){return a(typeof g=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",g)}},uppercase:{method(){return this.case("upper")}},uri:{method(g={}){h.assertOptions(g,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),g.domain&&h.assertOptions(g.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:y,scheme:_}=f.regex(g),T=g.domain?x.addressOptions(g.domain):null;return this.$_addRule({name:"uri",args:{options:g},regex:y,domain:T,scheme:_})},validate(g,y,{options:_},{regex:T,domain:w,scheme:k}){if(["http:/","https:/"].includes(g))return y.error("string.uri");let S=T.exec(g);if(!S&&y.prefs.convert&&_.encodeUri){const v=encodeURI(g);S=T.exec(v),S&&(g=v)}if(S){const v=S[1]||S[2];return!w||_.allowRelative&&!v||c.isValid(v,w)?g:y.error("string.domain",{value:v})}return _.relativeOnly?y.error("string.uriRelativeOnly"):_.scheme?y.error("string.uriCustomScheme",{scheme:k,value:g}):y.error("string.uri")}}},manifest:{build(g,y){if(y.replacements)for(const{pattern:_,replacement:T}of y.replacements)g=g.replace(_,T);return g}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),x.addressOptions=function(g){if(!g)return x.tlds||g;if(a(g.minDomainSegments===void 0||Number.isSafeInteger(g.minDomainSegments)&&g.minDomainSegments>0,"minDomainSegments must be a positive integer"),a(g.maxDomainSegments===void 0||Number.isSafeInteger(g.maxDomainSegments)&&g.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),g.tlds===!1)return g;if(g.tlds===!0||g.tlds===void 0)return a(x.tlds,"Built-in TLD list disabled"),Object.assign({},g,x.tlds);a(typeof g.tlds=="object","tlds must be true, false, or an object");const y=g.tlds.deny;if(y)return Array.isArray(y)&&(g=Object.assign({},g,{tlds:{deny:new Set(y)}})),a(g.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),a(!g.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),x.validateTlds(g.tlds.deny,"tlds.deny"),g;const _=g.tlds.allow;return _?_===!0?(a(x.tlds,"Built-in TLD list disabled"),Object.assign({},g,x.tlds)):(Array.isArray(_)&&(g=Object.assign({},g,{tlds:{allow:new Set(_)}})),a(g.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),x.validateTlds(g.tlds.allow,"tlds.allow"),g):g},x.validateTlds=function(g,y){for(const _ of g)a(c.isValid(_,{minDomainSegments:1,maxDomainSegments:1}),`${y} must contain valid top level domain names`)},x.isoDate=function(g){if(!h.isIsoDate(g))return null;/.*T.*[+-]\d\d$/.test(g)&&(g+="00");const y=new Date(g);return isNaN(y.getTime())?null:y.toISOString()},x.length=function(g,y,_,T,w){return a(!w||!1,"Invalid encoding:",w),g.$_addRule({name:y,method:"length",args:{limit:_,encoding:w},operator:T})}},8826:(s,i,o)=>{const a=o(375),c=o(8068),d={};d.Map=class extends Map{slice(){return new d.Map(this)}},s.exports=c.extend({type:"symbol",terms:{map:{init:new d.Map}},coerce:{method(p,{schema:u,error:l}){const f=u.$_terms.map.get(p);return f&&(p=f),u._flags.only&&typeof p!="symbol"?{value:p,errors:l("symbol.map",{map:u.$_terms.map})}:{value:p}}},validate(p,{error:u}){if(typeof p!="symbol")return{value:p,errors:u("symbol.base")}},rules:{map:{method(p){p&&!p[Symbol.iterator]&&typeof p=="object"&&(p=Object.entries(p)),a(p&&p[Symbol.iterator],"Iterable must be an iterable or object");const u=this.clone(),l=[];for(const f of p){a(f&&f[Symbol.iterator],"Entry must be an iterable");const[m,h]=f;a(typeof m!="object"&&typeof m!="function"&&typeof m!="symbol","Key must not be of type object, function, or Symbol"),a(typeof h=="symbol","Value must be a Symbol"),u.$_terms.map.set(m,h),l.push(h)}return u.valid(...l)}}},manifest:{build:(p,u)=>(u.map&&(p=p.map(u.map)),p)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(s,i,o)=>{const a=o(375),c=o(8571),d=o(738),p=o(9621),u=o(8160),l=o(6354),f=o(493),m={result:Symbol("result")};i.entry=function(h,x,g){let y=u.defaults;g&&(a(g.warnings===void 0,"Cannot override warnings preference in synchronous validation"),a(g.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),y=u.preferences(u.defaults,g));const _=m.entry(h,x,y);a(!_.mainstay.externals.length,"Schema with external rules must use validateAsync()");const T={value:_.value};return _.error&&(T.error=_.error),_.mainstay.warnings.length&&(T.warning=l.details(_.mainstay.warnings)),_.mainstay.debug&&(T.debug=_.mainstay.debug),_.mainstay.artifacts&&(T.artifacts=_.mainstay.artifacts),T},i.entryAsync=async function(h,x,g){let y=u.defaults;g&&(y=u.preferences(u.defaults,g));const _=m.entry(h,x,y),T=_.mainstay;if(_.error)throw T.debug&&(_.error.debug=T.debug),_.error;if(T.externals.length){let k=_.value;const S=[];for(const v of T.externals){const A=v.state.path,N=v.schema.type==="link"?T.links.get(v.schema):null;let R,M,j=k;const H=A.length?[k]:[],z=A.length?p(h,A):h;if(A.length){R=A[A.length-1];let q=k;for(const ne of A.slice(0,-1))q=q[ne],H.unshift(q);M=H[0],j=M[R]}try{const q=(ae,_e)=>(N||v.schema).$_createError(ae,j,_e,v.state,y),ne=await v.method(j,{schema:v.schema,linked:N,state:v.state,prefs:g,original:z,error:q,errorsArray:m.errorsArray,warn:(ae,_e)=>T.warnings.push((N||v.schema).$_createError(ae,j,_e,v.state,y)),message:(ae,_e)=>(N||v.schema).$_createError("external",j,_e,v.state,y,{messages:ae})});if(ne===void 0||ne===j)continue;if(ne instanceof l.Report){if(T.tracer.log(v.schema,v.state,"rule","external","error"),S.push(ne),y.abortEarly)break;continue}if(Array.isArray(ne)&&ne[u.symbols.errors]){if(T.tracer.log(v.schema,v.state,"rule","external","error"),S.push(...ne),y.abortEarly)break;continue}M?(T.tracer.value(v.state,"rule",j,ne,"external"),M[R]=ne):(T.tracer.value(v.state,"rule",k,ne,"external"),k=ne)}catch(q){throw y.errors.label&&(q.message+=` (${v.label})`),q}}if(_.value=k,S.length)throw _.error=l.process(S,h,y),T.debug&&(_.error.debug=T.debug),_.error}if(!y.warnings&&!y.debug&&!y.artifacts)return _.value;const w={value:_.value};return T.warnings.length&&(w.warning=l.details(T.warnings)),T.debug&&(w.debug=T.debug),T.artifacts&&(w.artifacts=T.artifacts),w},m.Mainstay=class{constructor(h,x,g){this.externals=[],this.warnings=[],this.tracer=h,this.debug=x,this.links=g,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const h=this._snapshots.pop();this.externals=h.externals,this.warnings=h.warnings}commit(){this._snapshots.pop()}},m.entry=function(h,x,g){const{tracer:y,cleanup:_}=m.tracer(x,g),T=g.debug?[]:null,w=x._ids._schemaChain?new Map:null,k=new m.Mainstay(y,T,w),S=x._ids._schemaChain?[{schema:x}]:null,v=new f([],[],{mainstay:k,schemas:S}),A=i.validate(h,x,v,g);_&&x.$_root.untrace();const N=l.process(A.errors,h,g);return{value:A.value,error:N,mainstay:k}},m.tracer=function(h,x){return h.$_root._tracer?{tracer:h.$_root._tracer._register(h)}:x.debug?(a(h.$_root.trace,"Debug mode not supported"),{tracer:h.$_root.trace()._register(h),cleanup:!0}):{tracer:m.ignore}},i.validate=function(h,x,g,y,_={}){if(x.$_terms.whens&&(x=x._generate(h,g,y).schema),x._preferences&&(y=m.prefs(x,y)),x._cache&&y.cache){const N=x._cache.get(h);if(g.mainstay.tracer.debug(g,"validate","cached",!!N),N)return N}const T=(N,R,M)=>x.$_createError(N,h,R,M||g,y),w={original:h,prefs:y,schema:x,state:g,error:T,errorsArray:m.errorsArray,warn:(N,R,M)=>g.mainstay.warnings.push(T(N,R,M)),message:(N,R)=>x.$_createError("custom",h,R,g,y,{messages:N})};g.mainstay.tracer.entry(x,g);const k=x._definition;if(k.prepare&&h!==void 0&&y.convert){const N=k.prepare(h,w);if(N){if(g.mainstay.tracer.value(g,"prepare",h,N.value),N.errors)return m.finalize(N.value,[].concat(N.errors),w);h=N.value}}if(k.coerce&&h!==void 0&&y.convert&&(!k.coerce.from||k.coerce.from.includes(typeof h))){const N=k.coerce.method(h,w);if(N){if(g.mainstay.tracer.value(g,"coerced",h,N.value),N.errors)return m.finalize(N.value,[].concat(N.errors),w);h=N.value}}const S=x._flags.empty;S&&S.$_match(m.trim(h,x),g.nest(S),u.defaults)&&(g.mainstay.tracer.value(g,"empty",h,void 0),h=void 0);const v=_.presence||x._flags.presence||(x._flags._endedSwitch?null:y.presence);if(h===void 0){if(v==="forbidden")return m.finalize(h,null,w);if(v==="required")return m.finalize(h,[x.$_createError("any.required",h,null,g,y)],w);if(v==="optional"){if(x._flags.default!==u.symbols.deepDefault)return m.finalize(h,null,w);g.mainstay.tracer.value(g,"default",h,{}),h={}}}else if(v==="forbidden")return m.finalize(h,[x.$_createError("any.unknown",h,null,g,y)],w);const A=[];if(x._valids){const N=x._valids.get(h,g,y,x._flags.insensitive);if(N)return y.convert&&(g.mainstay.tracer.value(g,"valids",h,N.value),h=N.value),g.mainstay.tracer.filter(x,g,"valid",N),m.finalize(h,null,w);if(x._flags.only){const R=x.$_createError("any.only",h,{valids:x._valids.values({display:!0})},g,y);if(y.abortEarly)return m.finalize(h,[R],w);A.push(R)}}if(x._invalids){const N=x._invalids.get(h,g,y,x._flags.insensitive);if(N){g.mainstay.tracer.filter(x,g,"invalid",N);const R=x.$_createError("any.invalid",h,{invalids:x._invalids.values({display:!0})},g,y);if(y.abortEarly)return m.finalize(h,[R],w);A.push(R)}}if(k.validate){const N=k.validate(h,w);if(N&&(g.mainstay.tracer.value(g,"base",h,N.value),h=N.value,N.errors)){if(!Array.isArray(N.errors))return A.push(N.errors),m.finalize(h,A,w);if(N.errors.length)return A.push(...N.errors),m.finalize(h,A,w)}}return x._rules.length?m.rules(h,A,w):m.finalize(h,A,w)},m.rules=function(h,x,g){const{schema:y,state:_,prefs:T}=g;for(const w of y._rules){const k=y._definition.rules[w.method];if(k.convert&&T.convert){_.mainstay.tracer.log(y,_,"rule",w.name,"full");continue}let S,v=w.args;if(w._resolve.length){v=Object.assign({},v);for(const N of w._resolve){const R=k.argsByName.get(N),M=v[N].resolve(h,_,T),j=R.normalize?R.normalize(M):M,H=u.validateArg(j,null,R);if(H){S=y.$_createError("any.ref",M,{arg:N,ref:v[N],reason:H},_,T);break}v[N]=j}}S=S||k.validate(h,g,v,w);const A=m.rule(S,w);if(A.errors){if(_.mainstay.tracer.log(y,_,"rule",w.name,"error"),w.warn){_.mainstay.warnings.push(...A.errors);continue}if(T.abortEarly)return m.finalize(h,A.errors,g);x.push(...A.errors)}else _.mainstay.tracer.log(y,_,"rule",w.name,"pass"),_.mainstay.tracer.value(_,"rule",h,A.value,w.name),h=A.value}return m.finalize(h,x,g)},m.rule=function(h,x){return h instanceof l.Report?(m.error(h,x),{errors:[h],value:null}):Array.isArray(h)&&h[u.symbols.errors]?(h.forEach((g=>m.error(g,x))),{errors:h,value:null}):{errors:null,value:h}},m.error=function(h,x){return x.message&&h._setTemplate(x.message),h},m.finalize=function(h,x,g){x=x||[];const{schema:y,state:_,prefs:T}=g;if(x.length){const k=m.default("failover",void 0,x,g);k!==void 0&&(_.mainstay.tracer.value(_,"failover",h,k),h=k,x=[])}if(x.length&&y._flags.error)if(typeof y._flags.error=="function"){x=y._flags.error(x),Array.isArray(x)||(x=[x]);for(const k of x)a(k instanceof Error||k instanceof l.Report,"error() must return an Error object")}else x=[y._flags.error];if(h===void 0){const k=m.default("default",h,x,g);_.mainstay.tracer.value(_,"default",h,k),h=k}if(y._flags.cast&&h!==void 0){const k=y._definition.cast[y._flags.cast];if(k.from(h)){const S=k.to(h,g);_.mainstay.tracer.value(_,"cast",h,S,y._flags.cast),h=S}}if(y.$_terms.externals&&T.externals&&T._externals!==!1)for(const{method:k}of y.$_terms.externals)_.mainstay.externals.push({method:k,schema:y,state:_,label:l.label(y._flags,_,T)});const w={value:h,errors:x.length?x:null};return y._flags.result&&(w.value=y._flags.result==="strip"?void 0:g.original,_.mainstay.tracer.value(_,y._flags.result,h,w.value),_.shadow(h,y._flags.result)),y._cache&&T.cache!==!1&&!y._refs.length&&y._cache.set(g.original,w),h===void 0||w.errors||y._flags.artifact===void 0||(_.mainstay.artifacts=_.mainstay.artifacts||new Map,_.mainstay.artifacts.has(y._flags.artifact)||_.mainstay.artifacts.set(y._flags.artifact,[]),_.mainstay.artifacts.get(y._flags.artifact).push(_.path)),w},m.prefs=function(h,x){const g=x===u.defaults;return g&&h._preferences[u.symbols.prefs]?h._preferences[u.symbols.prefs]:(x=u.preferences(x,h._preferences),g&&(h._preferences[u.symbols.prefs]=x),x)},m.default=function(h,x,g,y){const{schema:_,state:T,prefs:w}=y,k=_._flags[h];if(w.noDefaults||k===void 0)return x;if(T.mainstay.tracer.log(_,T,"rule",h,"full"),!k)return k;if(typeof k=="function"){const S=k.length?[c(T.ancestors[0]),y]:[];try{return k(...S)}catch(v){return void g.push(_.$_createError(`any.${h}`,null,{error:v},T,w))}}return typeof k!="object"?k:k[u.symbols.literal]?k.literal:u.isResolvable(k)?k.resolve(x,T,w):c(k)},m.trim=function(h,x){if(typeof h!="string")return h;const g=x.$_getRule("trim");return g&&g.args.enabled?h.trim():h},m.ignore={active:!1,debug:d,entry:d,filter:d,log:d,resolve:d,value:d},m.errorsArray=function(){const h=[];return h[u.symbols.errors]=!0,h}},2036:(s,i,o)=>{const a=o(375),c=o(9474),d=o(8160),p={};s.exports=p.Values=class{constructor(u,l){this._values=new Set(u),this._refs=new Set(l),this._lowercase=p.lowercases(u),this._override=!1}get length(){return this._values.size+this._refs.size}add(u,l){d.isResolvable(u)?this._refs.has(u)||(this._refs.add(u),l&&l.register(u)):this.has(u,null,null,!1)||(this._values.add(u),typeof u=="string"&&this._lowercase.set(u.toLowerCase(),u))}static merge(u,l,f){if(u=u||new p.Values,l){if(l._override)return l.clone();for(const m of[...l._values,...l._refs])u.add(m)}if(f)for(const m of[...f._values,...f._refs])u.remove(m);return u.length?u:null}remove(u){d.isResolvable(u)?this._refs.delete(u):(this._values.delete(u),typeof u=="string"&&this._lowercase.delete(u.toLowerCase()))}has(u,l,f,m){return!!this.get(u,l,f,m)}get(u,l,f,m){if(!this.length)return!1;if(this._values.has(u))return{value:u};if(typeof u=="string"&&u&&m){const h=this._lowercase.get(u.toLowerCase());if(h)return{value:h}}if(!this._refs.size&&typeof u!="object")return!1;if(typeof u=="object"){for(const h of this._values)if(c(h,u))return{value:h}}if(l)for(const h of this._refs){const x=h.resolve(u,l,f,null,{in:!0});if(x===void 0)continue;const g=h.in&&typeof x=="object"?Array.isArray(x)?x:Object.keys(x):[x];for(const y of g)if(typeof y==typeof u){if(m&&u&&typeof u=="string"){if(y.toLowerCase()===u.toLowerCase())return{value:y,ref:h}}else if(c(y,u))return{value:y,ref:h}}}return!1}override(){this._override=!0}values(u){if(u&&u.display){const l=[];for(const f of[...this._values,...this._refs])f!==void 0&&l.push(f);return l}return Array.from([...this._values,...this._refs])}clone(){const u=new p.Values(this._values,this._refs);return u._override=this._override,u}concat(u){a(!u._override,"Cannot concat override set of values");const l=new p.Values([...this._values,...u._values],[...this._refs,...u._refs]);return l._override=this._override,l}describe(){const u=[];this._override&&u.push({override:!0});for(const l of this._values.values())u.push(l&&typeof l=="object"?{value:l}:l);for(const l of this._refs.values())u.push(l.describe());return u}},p.Values.prototype[d.symbols.values]=!0,p.Values.prototype.slice=p.Values.prototype.clone,p.lowercases=function(u){const l=new Map;if(u)for(const f of u)typeof f=="string"&&l.set(f.toLowerCase(),f);return l}},978:(s,i,o)=>{const a=o(375),c=o(8571),d=o(1687),p=o(9621),u={};s.exports=function(l,f,m={}){if(a(l&&typeof l=="object","Invalid defaults value: must be an object"),a(!f||f===!0||typeof f=="object","Invalid source value: must be true, falsy or an object"),a(typeof m=="object","Invalid options: must be an object"),!f)return null;if(m.shallow)return u.applyToDefaultsWithShallow(l,f,m);const h=c(l);if(f===!0)return h;const x=m.nullOverride!==void 0&&m.nullOverride;return d(h,f,{nullOverride:x,mergeArrays:!1})},u.applyToDefaultsWithShallow=function(l,f,m){const h=m.shallow;a(Array.isArray(h),"Invalid keys");const x=new Map,g=f===!0?null:new Set;for(let T of h){T=Array.isArray(T)?T:T.split(".");const w=p(l,T);w&&typeof w=="object"?x.set(w,g&&p(f,T)||w):g&&g.add(T)}const y=c(l,{},x);if(!g)return y;for(const T of g)u.reachCopy(y,f,T);const _=m.nullOverride!==void 0&&m.nullOverride;return d(y,f,{nullOverride:_,mergeArrays:!1})},u.reachCopy=function(l,f,m){for(const g of m){if(!(g in f))return;const y=f[g];if(typeof y!="object"||y===null)return;f=y}const h=f;let x=l;for(let g=0;g<m.length-1;++g){const y=m[g];typeof x[y]!="object"&&(x[y]={}),x=x[y]}x[m[m.length-1]]=h}},375:(s,i,o)=>{const a=o(7916);s.exports=function(c,...d){if(!c)throw d.length===1&&d[0]instanceof Error?d[0]:new a(d)}},8571:(s,i,o)=>{const a=o(9621),c=o(4277),d=o(7043),p={needsProtoHack:new Set([c.set,c.map,c.weakSet,c.weakMap])};s.exports=p.clone=function(u,l={},f=null){if(typeof u!="object"||u===null)return u;let m=p.clone,h=f;if(l.shallow){if(l.shallow!==!0)return p.cloneWithShallow(u,l);m=_=>_}else if(h){const _=h.get(u);if(_)return _}else h=new Map;const x=c.getInternalProto(u);if(x===c.buffer)return!1;if(x===c.date)return new Date(u.getTime());if(x===c.regex)return new RegExp(u);const g=p.base(u,x,l);if(g===u)return u;if(h&&h.set(u,g),x===c.set)for(const _ of u)g.add(m(_,l,h));else if(x===c.map)for(const[_,T]of u)g.set(_,m(T,l,h));const y=d.keys(u,l);for(const _ of y){if(_==="__proto__")continue;if(x===c.array&&_==="length"){g.length=u.length;continue}const T=Object.getOwnPropertyDescriptor(u,_);T?T.get||T.set?Object.defineProperty(g,_,T):T.enumerable?g[_]=m(u[_],l,h):Object.defineProperty(g,_,{enumerable:!1,writable:!0,configurable:!0,value:m(u[_],l,h)}):Object.defineProperty(g,_,{enumerable:!0,writable:!0,configurable:!0,value:m(u[_],l,h)})}return g},p.cloneWithShallow=function(u,l){const f=l.shallow;(l=Object.assign({},l)).shallow=!1;const m=new Map;for(const h of f){const x=a(u,h);typeof x!="object"&&typeof x!="function"||m.set(x,x)}return p.clone(u,l,m)},p.base=function(u,l,f){if(f.prototype===!1)return p.needsProtoHack.has(l)?new l.constructor:l===c.array?[]:{};const m=Object.getPrototypeOf(u);if(m&&m.isImmutable)return u;if(l===c.array){const h=[];return m!==l&&Object.setPrototypeOf(h,m),h}if(p.needsProtoHack.has(l)){const h=new m.constructor;return m!==l&&Object.setPrototypeOf(h,m),h}return Object.create(m)}},9474:(s,i,o)=>{const a=o(4277),c={mismatched:null};s.exports=function(d,p,u){return u=Object.assign({prototype:!0},u),!!c.isDeepEqual(d,p,u,[])},c.isDeepEqual=function(d,p,u,l){if(d===p)return d!==0||1/d==1/p;const f=typeof d;if(f!==typeof p||d===null||p===null)return!1;if(f==="function"){if(!u.deepFunction||d.toString()!==p.toString())return!1}else if(f!=="object")return d!=d&&p!=p;const m=c.getSharedType(d,p,!!u.prototype);switch(m){case a.buffer:return!1;case a.promise:return d===p;case a.regex:return d.toString()===p.toString();case c.mismatched:return!1}for(let h=l.length-1;h>=0;--h)if(l[h].isSame(d,p))return!0;l.push(new c.SeenEntry(d,p));try{return!!c.isDeepEqualObj(m,d,p,u,l)}finally{l.pop()}},c.getSharedType=function(d,p,u){if(u)return Object.getPrototypeOf(d)!==Object.getPrototypeOf(p)?c.mismatched:a.getInternalProto(d);const l=a.getInternalProto(d);return l!==a.getInternalProto(p)?c.mismatched:l},c.valueOf=function(d){const p=d.valueOf;if(p===void 0)return d;try{return p.call(d)}catch(u){return u}},c.hasOwnEnumerableProperty=function(d,p){return Object.prototype.propertyIsEnumerable.call(d,p)},c.isSetSimpleEqual=function(d,p){for(const u of Set.prototype.values.call(d))if(!Set.prototype.has.call(p,u))return!1;return!0},c.isDeepEqualObj=function(d,p,u,l,f){const{isDeepEqual:m,valueOf:h,hasOwnEnumerableProperty:x}=c,{keys:g,getOwnPropertySymbols:y}=Object;if(d===a.array){if(!l.part){if(p.length!==u.length)return!1;for(let S=0;S<p.length;++S)if(!m(p[S],u[S],l,f))return!1;return!0}for(const S of p)for(const v of u)if(m(S,v,l,f))return!0}else if(d===a.set){if(p.size!==u.size)return!1;if(!c.isSetSimpleEqual(p,u)){const S=new Set(Set.prototype.values.call(u));for(const v of Set.prototype.values.call(p)){if(S.delete(v))continue;let A=!1;for(const N of S)if(m(v,N,l,f)){S.delete(N),A=!0;break}if(!A)return!1}}}else if(d===a.map){if(p.size!==u.size)return!1;for(const[S,v]of Map.prototype.entries.call(p))if(v===void 0&&!Map.prototype.has.call(u,S)||!m(v,Map.prototype.get.call(u,S),l,f))return!1}else if(d===a.error&&(p.name!==u.name||p.message!==u.message))return!1;const _=h(p),T=h(u);if((p!==_||u!==T)&&!m(_,T,l,f))return!1;const w=g(p);if(!l.part&&w.length!==g(u).length&&!l.skip)return!1;let k=0;for(const S of w)if(l.skip&&l.skip.includes(S))u[S]===void 0&&++k;else if(!x(u,S)||!m(p[S],u[S],l,f))return!1;if(!l.part&&w.length-k!==g(u).length)return!1;if(l.symbols!==!1){const S=y(p),v=new Set(y(u));for(const A of S){if(!l.skip||!l.skip.includes(A)){if(x(p,A)){if(!x(u,A)||!m(p[A],u[A],l,f))return!1}else if(x(u,A))return!1}v.delete(A)}for(const A of v)if(x(u,A))return!1}return!0},c.SeenEntry=class{constructor(d,p){this.obj=d,this.ref=p}isSame(d,p){return this.obj===d&&this.ref===p}}},7916:(s,i,o)=>{const a=o(8761);s.exports=class extends Error{constructor(c){super(c.filter((d=>d!=="")).map((d=>typeof d=="string"?d:d instanceof Error?d.message:a(d))).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,i.assert)}}},5277:s=>{const i={};s.exports=function(o){if(!o)return"";let a="";for(let c=0;c<o.length;++c){const d=o.charCodeAt(c);i.isSafe(d)?a+=o[c]:a+=i.escapeHtmlChar(d)}return a},i.escapeHtmlChar=function(o){return i.namedHtml.get(o)||(o>=256?"&#"+o+";":`&#x${o.toString(16).padStart(2,"0")};`)},i.isSafe=function(o){return i.safeCharCodes.has(o)},i.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),i.safeCharCodes=(function(){const o=new Set;for(let a=32;a<123;++a)(a>=97||a>=65&&a<=90||a>=48&&a<=57||a===32||a===46||a===44||a===45||a===58||a===95)&&o.add(a);return o})()},6064:s=>{s.exports=function(i){return i.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:s=>{s.exports=function(){}},1687:(s,i,o)=>{const a=o(375),c=o(8571),d=o(7043),p={};s.exports=p.merge=function(u,l,f){if(a(u&&typeof u=="object","Invalid target value: must be an object"),a(l==null||typeof l=="object","Invalid source value: must be null, undefined, or an object"),!l)return u;if(f=Object.assign({nullOverride:!0,mergeArrays:!0},f),Array.isArray(l)){a(Array.isArray(u),"Cannot merge array onto an object"),f.mergeArrays||(u.length=0);for(let h=0;h<l.length;++h)u.push(c(l[h],{symbols:f.symbols}));return u}const m=d.keys(l,f);for(let h=0;h<m.length;++h){const x=m[h];if(x==="__proto__"||!Object.prototype.propertyIsEnumerable.call(l,x))continue;const g=l[x];if(g&&typeof g=="object"){if(u[x]===g)continue;!u[x]||typeof u[x]!="object"||Array.isArray(u[x])!==Array.isArray(g)||g instanceof Date||g instanceof RegExp?u[x]=c(g,{symbols:f.symbols}):p.merge(u[x],g,f)}else(g!=null||f.nullOverride)&&(u[x]=g)}return u}},9621:(s,i,o)=>{const a=o(375),c={};s.exports=function(d,p,u){if(p===!1||p==null)return d;typeof(u=u||{})=="string"&&(u={separator:u});const l=Array.isArray(p);a(!l||!u.separator,"Separator option is not valid for array-based chain");const f=l?p:p.split(u.separator||".");let m=d;for(let h=0;h<f.length;++h){let x=f[h];const g=u.iterables&&c.iterables(m);if(Array.isArray(m)||g==="set"){const y=Number(x);Number.isInteger(y)&&(x=y<0?m.length+y:y)}if(!m||typeof m=="function"&&u.functions===!1||!g&&m[x]===void 0){a(!u.strict||h+1===f.length,"Missing segment",x,"in reach path ",p),a(typeof m=="object"||u.functions===!0||typeof m!="function","Invalid segment",x,"in reach path ",p),m=u.default;break}m=g?g==="set"?[...m][x]:m.get(x):m[x]}return m},c.iterables=function(d){return d instanceof Set?"set":d instanceof Map?"map":void 0}},8761:s=>{s.exports=function(...i){try{return JSON.stringify(...i)}catch(o){return"[Cannot display object: "+o.message+"]"}}},4277:(s,i)=>{const o={};i=s.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},o.typeMap=new Map([["[object Error]",i.error],["[object Map]",i.map],["[object Promise]",i.promise],["[object Set]",i.set],["[object WeakMap]",i.weakMap],["[object WeakSet]",i.weakSet]]),i.getInternalProto=function(a){if(Array.isArray(a))return i.array;if(a instanceof Date)return i.date;if(a instanceof RegExp)return i.regex;if(a instanceof Error)return i.error;const c=Object.prototype.toString.call(a);return o.typeMap.get(c)||i.generic}},7043:(s,i)=>{i.keys=function(o,a={}){return a.symbols!==!1?Reflect.ownKeys(o):Object.getOwnPropertyNames(o)}},3652:(s,i,o)=>{const a=o(375),c={};i.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(d,p){const u=[].concat((p=p||{}).before||[]),l=[].concat(p.after||[]),f=p.group||"?",m=p.sort||0;a(!u.includes(f),`Item cannot come before itself: ${f}`),a(!u.includes("?"),"Item cannot come before unassociated items"),a(!l.includes(f),`Item cannot come after itself: ${f}`),a(!l.includes("?"),"Item cannot come after unassociated items"),Array.isArray(d)||(d=[d]);for(const h of d){const x={seq:this._items.length,sort:m,before:u,after:l,group:f,node:h};this._items.push(x)}if(!p.manual){const h=this._sort();a(h,"item",f!=="?"?`added into group ${f}`:"","created a dependencies error")}return this.nodes}merge(d){Array.isArray(d)||(d=[d]);for(const u of d)if(u)for(const l of u._items)this._items.push(Object.assign({},l));this._items.sort(c.mergeSort);for(let u=0;u<this._items.length;++u)this._items[u].seq=u;const p=this._sort();return a(p,"merge created a dependencies error"),this.nodes}sort(){const d=this._sort();return a(d,"sort created a dependencies error"),this.nodes}_sort(){const d={},p=Object.create(null),u=Object.create(null);for(const x of this._items){const g=x.seq,y=x.group;u[y]=u[y]||[],u[y].push(g),d[g]=x.before;for(const _ of x.after)p[_]=p[_]||[],p[_].push(g)}for(const x in d){const g=[];for(const y in d[x]){const _=d[x][y];u[_]=u[_]||[],g.push(...u[_])}d[x]=g}for(const x in p)if(u[x])for(const g of u[x])d[g].push(...p[x]);const l={};for(const x in d){const g=d[x];for(const y of g)l[y]=l[y]||[],l[y].push(x)}const f={},m=[];for(let x=0;x<this._items.length;++x){let g=x;if(l[x]){g=null;for(let y=0;y<this._items.length;++y){if(f[y]===!0)continue;l[y]||(l[y]=[]);const _=l[y].length;let T=0;for(let w=0;w<_;++w)f[l[y][w]]&&++T;if(T===_){g=y;break}}}g!==null&&(f[g]=!0,m.push(g))}if(m.length!==this._items.length)return!1;const h={};for(const x of this._items)h[x.seq]=x;this._items=[],this.nodes=[];for(const x of m){const g=h[x];this.nodes.push(g.node),this._items.push(g)}return!0}},c.mergeSort=(d,p)=>d.sort===p.sort?0:d.sort<p.sort?-1:1},5380:(s,i,o)=>{const a=o(443),c=o(2178),d={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:a.URL||URL};i.analyze=function(p,u={}){if(!p)return c.code("DOMAIN_NON_EMPTY_STRING");if(typeof p!="string")throw new Error("Invalid input: domain must be a string");if(p.length>256)return c.code("DOMAIN_TOO_LONG");if(d.nonAsciiRx.test(p)){if(u.allowUnicode===!1)return c.code("DOMAIN_INVALID_UNICODE_CHARS");p=p.normalize("NFC")}if(d.domainControlRx.test(p))return c.code("DOMAIN_INVALID_CHARS");p=d.punycode(p),u.allowFullyQualified&&p[p.length-1]==="."&&(p=p.slice(0,-1));const l=u.minDomainSegments||d.minDomainSegments,f=p.split(".");if(f.length<l)return c.code("DOMAIN_SEGMENTS_COUNT");if(u.maxDomainSegments&&f.length>u.maxDomainSegments)return c.code("DOMAIN_SEGMENTS_COUNT_MAX");const m=u.tlds;if(m){const h=f[f.length-1].toLowerCase();if(m.deny&&m.deny.has(h)||m.allow&&!m.allow.has(h))return c.code("DOMAIN_FORBIDDEN_TLDS")}for(let h=0;h<f.length;++h){const x=f[h];if(!x.length)return c.code("DOMAIN_EMPTY_SEGMENT");if(x.length>63)return c.code("DOMAIN_LONG_SEGMENT");if(h<f.length-1){if(!d.domainSegmentRx.test(x))return c.code("DOMAIN_INVALID_CHARS")}else if(!d.tldSegmentRx.test(x))return c.code("DOMAIN_INVALID_TLDS_CHARS")}return null},i.isValid=function(p,u){return!i.analyze(p,u)},d.punycode=function(p){p.includes("%")&&(p=p.replace(/%/g,"%25"));try{return new d.URL(`http://${p}`).host}catch{return p}}},1745:(s,i,o)=>{const a=o(9848),c=o(5380),d=o(2178),p={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(a.TextEncoder||TextEncoder)};i.analyze=function(u,l){return p.email(u,l)},i.isValid=function(u,l){return!p.email(u,l)},p.email=function(u,l={}){if(typeof u!="string")throw new Error("Invalid input: email must be a string");if(!u)return d.code("EMPTY_STRING");const f=!p.nonAsciiRx.test(u);if(!f){if(l.allowUnicode===!1)return d.code("FORBIDDEN_UNICODE");u=u.normalize("NFC")}const m=u.split("@");if(m.length!==2)return m.length>2?d.code("MULTIPLE_AT_CHAR"):d.code("MISSING_AT_CHAR");const[h,x]=m;if(!h)return d.code("EMPTY_LOCAL");if(!l.ignoreLength){if(u.length>254)return d.code("ADDRESS_TOO_LONG");if(p.encoder.encode(h).length>64)return d.code("LOCAL_TOO_LONG")}return p.local(h,f)||c.analyze(x,l)},p.local=function(u,l){const f=u.split(".");for(const m of f){if(!m.length)return d.code("EMPTY_LOCAL_SEGMENT");if(l){if(!p.atextRx.test(m))return d.code("INVALID_LOCAL_CHARS")}else for(const h of m){if(p.atextRx.test(h))continue;const x=p.binary(h);if(!p.atomRx.test(x))return d.code("INVALID_LOCAL_CHARS")}}},p.binary=function(u){return Array.from(p.encoder.encode(u)).map((l=>String.fromCharCode(l))).join("")},p.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,p.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(s,i)=>{i.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},i.code=function(o){return{code:o,error:i.codes[o]}}},9959:(s,i,o)=>{const a=o(375),c=o(5752);i.regex=function(d={}){a(d.cidr===void 0||typeof d.cidr=="string","options.cidr must be a string");const p=d.cidr?d.cidr.toLowerCase():"optional";a(["required","optional","forbidden"].includes(p),"options.cidr must be one of required, optional, forbidden"),a(d.version===void 0||typeof d.version=="string"||Array.isArray(d.version),"options.version must be a string or an array of string");let u=d.version||["ipv4","ipv6","ipvfuture"];Array.isArray(u)||(u=[u]),a(u.length>=1,"options.version must have at least 1 version specified");for(let m=0;m<u.length;++m)a(typeof u[m]=="string","options.version must only contain strings"),u[m]=u[m].toLowerCase(),a(["ipv4","ipv6","ipvfuture"].includes(u[m]),"options.version contains unknown version "+u[m]+" - must be one of ipv4, ipv6, ipvfuture");u=Array.from(new Set(u));const l=`(?:${u.map((m=>{if(p==="forbidden")return c.ip[m];const h=`\\/${m==="ipv4"?c.ip.v4Cidr:c.ip.v6Cidr}`;return p==="required"?`${c.ip[m]}${h}`:`${c.ip[m]}(?:${h})?`})).join("|")})`,f=new RegExp(`^${l}$`);return{cidr:p,versions:u,regex:f,raw:l}}},5752:(s,i,o)=>{const a=o(375),c=o(6064),d={generate:function(){const p={},u="\\dA-Fa-f",l="["+u+"]",f="\\w-\\.~",m="!\\$&'\\(\\)\\*\\+,;=",h="%"+u,x=f+h+m+":@",g="["+x+"]",y="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";p.ipv4address="(?:"+y+"\\.){3}"+y;const _=l+"{1,4}",T="(?:"+_+":"+_+"|"+p.ipv4address+")",w="(?:"+_+":){6}"+T,k="::(?:"+_+":){5}"+T,S="(?:"+_+")?::(?:"+_+":){4}"+T,v="(?:(?:"+_+":){0,1}"+_+")?::(?:"+_+":){3}"+T,A="(?:(?:"+_+":){0,2}"+_+")?::(?:"+_+":){2}"+T,N="(?:(?:"+_+":){0,3}"+_+")?::"+_+":"+T,R="(?:(?:"+_+":){0,4}"+_+")?::"+T,M="(?:(?:"+_+":){0,5}"+_+")?::"+_,j="(?:(?:"+_+":){0,6}"+_+")?::";p.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",p.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",p.ipv6address="(?:"+w+"|"+k+"|"+S+"|"+v+"|"+A+"|"+N+"|"+R+"|"+M+"|"+j+")",p.ipvFuture="v"+l+"+\\.["+f+m+":]+",p.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",p.schemeRegex=new RegExp(p.scheme);const H="["+f+h+m+":]*",z="["+f+h+m+"]{1,255}",q="(?:\\[(?:"+p.ipv6address+"|"+p.ipvFuture+")\\]|"+p.ipv4address+"|"+z+")",ne="(?:"+H+"@)?"+q+"(?::\\d*)?",ae="(?:"+H+"@)?("+q+")(?::\\d*)?",_e=g+"*",le=g+"+",xe="(?:\\/"+_e+")*",Te="\\/(?:"+le+xe+")?",we=le+xe,Le="["+f+h+m+"@]+"+xe,He="(?:\\/\\/\\/"+_e+xe+")";return p.hierPart="(?:(?:\\/\\/"+ne+xe+")|"+Te+"|"+we+"|"+He+")",p.hierPartCapture="(?:(?:\\/\\/"+ae+xe+")|"+Te+"|"+we+")",p.relativeRef="(?:(?:\\/\\/"+ne+xe+")|"+Te+"|"+Le+"|)",p.relativeRefCapture="(?:(?:\\/\\/"+ae+xe+")|"+Te+"|"+Le+"|)",p.query="["+x+"\\/\\?]*(?=#|$)",p.queryWithSquareBrackets="["+x+"\\[\\]\\/\\?]*(?=#|$)",p.fragment="["+x+"\\/\\?]*",p}};d.rfc3986=d.generate(),i.ip={v4Cidr:d.rfc3986.ipv4Cidr,v6Cidr:d.rfc3986.ipv6Cidr,ipv4:d.rfc3986.ipv4address,ipv6:d.rfc3986.ipv6address,ipvfuture:d.rfc3986.ipvFuture},d.createRegex=function(p){const u=d.rfc3986,l="(?:\\?"+(p.allowQuerySquareBrackets?u.queryWithSquareBrackets:u.query)+")?(?:#"+u.fragment+")?",f=p.domain?u.relativeRefCapture:u.relativeRef;if(p.relativeOnly)return d.wrap(f+l);let m="";if(p.scheme){a(p.scheme instanceof RegExp||typeof p.scheme=="string"||Array.isArray(p.scheme),"scheme must be a RegExp, String, or Array");const g=[].concat(p.scheme);a(g.length>=1,"scheme must have at least 1 scheme specified");const y=[];for(let _=0;_<g.length;++_){const T=g[_];a(T instanceof RegExp||typeof T=="string","scheme at position "+_+" must be a RegExp or String"),T instanceof RegExp?y.push(T.source.toString()):(a(u.schemeRegex.test(T),"scheme at position "+_+" must be a valid scheme"),y.push(c(T)))}m=y.join("|")}const h="(?:"+(m?"(?:"+m+")":u.scheme)+":"+(p.domain?u.hierPartCapture:u.hierPart)+")",x=p.allowRelative?"(?:"+h+"|"+f+")":h;return d.wrap(x+l,m)},d.wrap=function(p,u){return{raw:p=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${p}`,regex:new RegExp(`^${p}$`),scheme:u}},d.uriRegex=d.createRegex({}),i.regex=function(p={}){return p.scheme||p.allowRelative||p.relativeOnly||p.allowQuerySquareBrackets||p.domain?d.createRegex(p):d.uriRegex}},1447:(s,i)=>{const o={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};i.Parser=class{constructor(a,c={}){if(!c[o.settings]&&c.constants)for(const d in c.constants){const p=c.constants[d];if(p!==null&&!["boolean","number","string"].includes(typeof p))throw new Error(`Formula constant ${d} contains invalid ${typeof p} value type`)}this.settings=c[o.settings]?c:Object.assign({[o.settings]:!0,constants:{},functions:{}},c),this.single=null,this._parts=null,this._parse(a)}_parse(a){let c=[],d="",p=0,u=!1;const l=m=>{if(p)throw new Error("Formula missing closing parenthesis");const h=c.length?c[c.length-1]:null;if(u||d||m){if(h&&h.type==="reference"&&m===")")return h.type="function",h.value=this._subFormula(d,h.value),void(d="");if(m===")"){const x=new i.Parser(d,this.settings);c.push({type:"segment",value:x})}else if(u){if(u==="]")return c.push({type:"reference",value:d}),void(d="");c.push({type:"literal",value:d})}else if(o.operatorCharacters.includes(d))h&&h.type==="operator"&&o.operators.includes(h.value+d)?h.value+=d:c.push({type:"operator",value:d});else if(d.match(o.numberRx))c.push({type:"constant",value:parseFloat(d)});else if(this.settings.constants[d]!==void 0)c.push({type:"constant",value:this.settings.constants[d]});else{if(!d.match(o.tokenRx))throw new Error(`Formula contains invalid token: ${d}`);c.push({type:"reference",value:d})}d=""}};for(const m of a)u?m===u?(l(),u=!1):d+=m:p?m==="("?(d+=m,++p):m===")"?(--p,p?d+=m:l(m)):d+=m:m in o.literals?u=o.literals[m]:m==="("?(l(),++p):o.operatorCharacters.includes(m)?(l(),d=m,l()):m!==" "?d+=m:l();l(),c=c.map(((m,h)=>m.type!=="operator"||m.value!=="-"||h&&c[h-1].type!=="operator"?m:{type:"operator",value:"n"}));let f=!1;for(const m of c){if(m.type==="operator"){if(o.operatorsPrefix.includes(m.value))continue;if(!f)throw new Error("Formula contains an operator in invalid position");if(!o.operators.includes(m.value))throw new Error(`Formula contains an unknown operator ${m.value}`)}else if(f)throw new Error("Formula missing expected operator");f=!f}if(!f)throw new Error("Formula contains invalid trailing operator");c.length===1&&["reference","literal","constant"].includes(c[0].type)&&(this.single={type:c[0].type==="reference"?"reference":"value",value:c[0].value}),this._parts=c.map((m=>{if(m.type==="operator")return o.operatorsPrefix.includes(m.value)?m:m.value;if(m.type!=="reference")return m.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(m.value))throw new Error(`Formula contains invalid reference ${m.value}`);return this.settings.reference?this.settings.reference(m.value):o.reference(m.value)}))}_subFormula(a,c){const d=this.settings.functions[c];if(typeof d!="function")throw new Error(`Formula contains unknown function ${c}`);let p=[];if(a){let u="",l=0,f=!1;const m=()=>{if(!u)throw new Error(`Formula contains function ${c} with invalid arguments ${a}`);p.push(u),u=""};for(let h=0;h<a.length;++h){const x=a[h];f?(u+=x,x===f&&(f=!1)):x in o.literals&&!l?(u+=x,f=o.literals[x]):x!==","||l?(u+=x,x==="("?++l:x===")"&&--l):m()}m()}return p=p.map((u=>new i.Parser(u,this.settings))),function(u){const l=[];for(const f of p)l.push(f.evaluate(u));return d.call(u,...l)}}evaluate(a){const c=this._parts.slice();for(let d=c.length-2;d>=0;--d){const p=c[d];if(p&&p.type==="operator"){const u=c[d+1];c.splice(d+1,1);const l=o.evaluate(u,a);c[d]=o.single(p.value,l)}}return o.operatorsOrder.forEach((d=>{for(let p=1;p<c.length-1;)if(d.includes(c[p])){const u=c[p],l=o.evaluate(c[p-1],a),f=o.evaluate(c[p+1],a);c.splice(p,2);const m=o.calculate(u,l,f);c[p-1]=m===0?0:m}else p+=2})),o.evaluate(c[0],a)}},i.Parser.prototype[o.symbol]=!0,o.reference=function(a){return function(c){return c&&c[a]!==void 0?c[a]:null}},o.evaluate=function(a,c){return a===null?null:typeof a=="function"?a(c):a[o.symbol]?a.evaluate(c):a},o.single=function(a,c){if(a==="!")return!c;const d=-c;return d===0?0:d},o.calculate=function(a,c,d){if(a==="??")return o.exists(c)?c:d;if(typeof c=="string"||typeof d=="string"){if(a==="+")return(c=o.exists(c)?c:"")+(o.exists(d)?d:"")}else switch(a){case"^":return Math.pow(c,d);case"*":return c*d;case"/":return c/d;case"%":return c%d;case"+":return c+d;case"-":return c-d}switch(a){case"<":return c<d;case"<=":return c<=d;case">":return c>d;case">=":return c>=d;case"==":return c===d;case"!=":return c!==d;case"&&":return c&&d;case"||":return c||d}return null},o.exists=function(a){return a!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:s=>{s.exports=JSON.parse('{"version":"17.13.3"}')}},r={},(function s(i){var o=r[i];if(o!==void 0)return o.exports;var a=r[i]={exports:{}};return n[i](a,a.exports,s),a.exports})(5107);var n,r}))})(ao)),ao.exports}var Ig=Og();const nt=ka(Ig),$f=-1,Ia=0,Hs=1,ha=2,el=3,tl=4,nl=5,rl=6,zf=7,qf=8,cc=typeof self=="object"?self:globalThis,Rg=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,o]=t[s];switch(i){case Ia:case $f:return n(o,s);case Hs:{const a=n([],s);for(const c of o)a.push(r(c));return a}case ha:{const a=n({},s);for(const[c,d]of o)a[r(c)]=r(d);return a}case el:return n(new Date(o),s);case tl:{const{source:a,flags:c}=o;return n(new RegExp(a,c),s)}case nl:{const a=n(new Map,s);for(const[c,d]of o)a.set(r(c),r(d));return a}case rl:{const a=n(new Set,s);for(const c of o)a.add(r(c));return a}case zf:{const{name:a,message:c}=o;return n(new cc[a](c),s)}case qf:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new cc[i](o),s)};return r},dc=e=>Rg(new Map,e)(0),ns="",{toString:Lg}={},{keys:Dg}=Object,Is=e=>{const t=typeof e;if(t!=="object"||!e)return[Ia,t];const n=Lg.call(e).slice(8,-1);switch(n){case"Array":return[Hs,ns];case"Object":return[ha,ns];case"Date":return[el,ns];case"RegExp":return[tl,ns];case"Map":return[nl,ns];case"Set":return[rl,ns];case"DataView":return[Hs,n]}return n.includes("Array")?[Hs,n]:n.includes("Error")?[zf,n]:[ha,n]},Bi=([e,t])=>e===Ia&&(t==="function"||t==="symbol"),Pg=(e,t,n,r)=>{const s=(o,a)=>{const c=r.push(o)-1;return n.set(a,c),c},i=o=>{if(n.has(o))return n.get(o);let[a,c]=Is(o);switch(a){case Ia:{let p=o;switch(c){case"bigint":a=qf,p=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);p=null;break;case"undefined":return s([$f],o)}return s([a,p],o)}case Hs:{if(c){let l=o;return c==="DataView"?l=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(l=new Uint8Array(o)),s([c,[...l]],o)}const p=[],u=s([a,p],o);for(const l of o)p.push(i(l));return u}case ha:{if(c)switch(c){case"BigInt":return s([c,o.toString()],o);case"Boolean":case"Number":case"String":return s([c,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const p=[],u=s([a,p],o);for(const l of Dg(o))(e||!Bi(Is(o[l])))&&p.push([i(l),i(o[l])]);return u}case el:return s([a,o.toISOString()],o);case tl:{const{source:p,flags:u}=o;return s([a,{source:p,flags:u}],o)}case nl:{const p=[],u=s([a,p],o);for(const[l,f]of o)(e||!(Bi(Is(l))||Bi(Is(f))))&&p.push([i(l),i(f)]);return u}case rl:{const p=[],u=s([a,p],o);for(const l of o)(e||!Bi(Is(l)))&&p.push(i(l));return u}}const{message:d}=o;return s([a,{name:c,message:d}],o)};return i},fc=(e,{json:t,lossy:n}={})=>{const r=[];return Pg(!(t||n),!!t,new Map,r)(e),r},Mg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?dc(fc(e,t)):structuredClone(e):(e,t)=>dc(fc(e,t)),jg=Vf("end"),Bg=Vf("start");function Vf(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Fg(e){const t=Bg(e),n=jg(e);if(t&&n)return{start:t,end:n}}const Lr=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Tn={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Lr,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Lr],h2:[["className","sr-only"]],img:[...Lr,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Lr,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Lr],table:[...Lr],ul:[...Lr,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},dr={}.hasOwnProperty;function Ug(e,t){let n={type:"root",children:[]};const r={schema:t?{...Tn,...t}:Tn,stack:[]},s=Yf(r,e);return s&&(Array.isArray(s)?s.length===1?n=s[0]:n.children=s:n=s),n}function Yf(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return Hg(e,n);case"doctype":return $g(e,n);case"element":return zg(e,n);case"root":return qg(e,n);case"text":return Vg(e,n)}}}function Hg(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),i={type:"comment",value:r<0?n:n.slice(0,r)};return yi(i,t),i}}function $g(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return yi(n,t),n}}function zg(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=Wf(e,t.children),s=Yg(e,t.properties);e.stack.pop();let i=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(i=!0,e.schema.ancestors&&dr.call(e.schema.ancestors,n))){const a=e.schema.ancestors[n];let c=-1;for(i=!1;++c<a.length;)e.stack.includes(a[c])&&(i=!0)}if(!i)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const o={type:"element",tagName:n,properties:s,children:r};return yi(o,t),o}function qg(e,t){const r={type:"root",children:Wf(e,t.children)};return yi(r,t),r}function Vg(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return yi(r,t),r}function Wf(e,t){const n=[];if(Array.isArray(t)){const r=t;let s=-1;for(;++s<r.length;){const i=Yf(e,r[s]);i&&(Array.isArray(i)?n.push(...i):n.push(i))}}return n}function Yg(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,s=e.schema.required,i=r&&dr.call(r,n)?r[n]:void 0,o=r&&dr.call(r,"*")?r["*"]:void 0,a=t&&typeof t=="object"?t:{},c={};let d;for(d in a)if(dr.call(a,d)){const p=a[d];let u=hc(e,mc(i,d),d,p);u==null&&(u=hc(e,mc(o,d),d,p)),u!=null&&(c[d]=u)}if(s&&dr.call(s,n)){const p=s[n];for(d in p)dr.call(p,d)&&!dr.call(c,d)&&(c[d]=p[d])}return c}function hc(e,t,n,r){return t?Array.isArray(r)?Wg(e,t,n,r):Gf(e,t,n,r):void 0}function Wg(e,t,n,r){let s=-1;const i=[];for(;++s<r.length;){const o=Gf(e,t,n,r[s]);(typeof o=="number"||typeof o=="string")&&i.push(o)}return i}function Gf(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&Gg(e,n,r)){if(typeof t=="object"&&t.length>1){let s=!1,i=0;for(;++i<t.length;){const o=t[i];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(r))){s=!0;break}}else if(o===r){s=!0;break}}if(!s)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function Gg(e,t,n){const r=e.schema.protocols&&dr.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const s=String(n),i=s.indexOf(":"),o=s.indexOf("?"),a=s.indexOf("#"),c=s.indexOf("/");if(i<0||c>-1&&i>c||o>-1&&i>o||a>-1&&i>a)return!0;let d=-1;for(;++d<r.length;){const p=r[d];if(i===p.length&&s.slice(0,p.length)===p)return!0}return!1}function yi(e,t){const n=Fg(t);t.data&&(e.data=Mg(t.data)),n&&(e.position=n)}function mc(e,t){let n,r=-1;if(e)for(;++r<e.length;){const s=e[r],i=typeof s=="string"?s:s[0];if(i===t)return s;i==="data*"&&(n=s)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function Ra(e){return function(t){return Ug(t,e)}}const Kg=nt.string().domain({tlds:{allow:["eth"]}}),Xg=nt.string().pattern(/^0x[a-fA-F0-9]{40}$/),Qg=(e,t)=>{if(!e)return t.error("any.required");if(e.includes(".eth")){if(Kg.validate(e).error)return t.error("custom.address")}else if(Xg.validate(e).error)return t.error("custom.address");return e},Kf=nt.when("useCustomRecipient",{is:!0,then:nt.string().custom(Qg),otherwise:nt.string().empty("")}).messages({"custom.address":'"Address" must be a valid Ethereum name or address'}),Xf=e=>(t,n)=>{const r=n.original+"";return r.includes(".")&&r.split(".")[1].length>e?n.error("number.precision",{limit:e}):t},Qf=e=>(t,n)=>{const r=nt.number().positive().unsafe(!0).label(e);try{nt.assert(t,r)}catch(s){return n.message(s.details[0].message)}return t.includes(".")&&t.split(".")[1].length>18?n.message(`"${e}" must have at most 18 decimal places after the decimal point`):t.endsWith(".")?t.splice(-1):t},Zg=nt.object().keys({title:nt.string().allow("").label("Title"),description:nt.string().allow("").label("Description"),editionSize:nt.number().integer().min(1).empty("").required().label("Edition size"),royaltyPercentage:nt.number().custom(Xf(2)).min(0).max(100).empty("").required().label("Royalty percentage"),useCustomRecipient:nt.boolean().required(),customRecipient:Kf.label("Address"),textType:nt.valid("text/plain","text/markdown","text/html").required()}),Jg=nt.object().keys({to:Kf.label("Address"),amount:nt.number().integer().min(1).empty("").required().label("Amount")}),eb=nt.object().keys({amount:nt.number().integer().min(1).empty("").required().label("Amount")});nt.object().keys({amount:nt.number().min(1).empty("").label("Amount"),price:nt.string().custom(Qf("Price")).empty("").label("Price")});const tb=nt.object().keys({amount:nt.number().min(1).empty("").required().label("Amount"),price:nt.string().custom(Qf("Price")).empty("").required().label("Price")});nt.object().keys({amount:nt.number().integer().min(1).empty("").required().label("Amount")});const nb=nt.object().keys({royaltyPercentage:nt.number().custom(Xf(2)).min(0).max(100).empty("").required().label("Royalty percentage")}),rb={...Tn,protocols:{...Tn.protocols,src:[...Tn.protocols.src,"data"]}},sb={...Tn,tagNames:[...Tn.tagNames,"style"],protocols:{...Tn.protocols,src:[...Tn.protocols.src,"data"]},attributes:{...Tn.attributes,"*":[...Tn.attributes["*"],"class","className","style"]},clobber:[]},sr={buy:eb,editRoyalty:nb,list:tb,validHTML:sb,validMarkdown:rb,mint:Zg,transfer:Jg},ib=(e,t)=>e.substring(0,t+2)+"..."+e.substring(e.length-t),zn=()=>({maxPriorityFeePerGas:10n,maxFeePerGas:q0("0.001")}),ab={amount:1,price:"0.1"};function ob({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s,id:i,walletAddress:o,onUpdate:a}){const c=Ke.contractAddresses.v1.zang,d=qe.zang,p=Ke.contractAddresses.v1.marketplace,{register:u,formState:{isDirty:l,isValid:f,errors:m},handleSubmit:h,watch:x}=gi({defaultValues:ab,mode:"onChange",resolver:bi(sr.list)}),g=x("amount"),y=M=>{t(!1),M&&n(M.amount,M.price)},_=()=>{let M="";return s===0?M+=`You don't have any "free" (not tied to listings) tokens. `:M+=`You only have ${s} "free" (not tied to listings) token${s===1?"":"s"}. `,M+=`Proceeding will use ${g-s} token${g-s===1?"":"s"} `,M+="tied to existing listings, making some listings unfulfillable.",M},T=kr(),[,w]=St(yn),[k,S]=B.useState(!1),{isConnected:v}=cn(),{writeContractAsync:A}=Nr(),N=async()=>{if(!v){w("No wallet connected.");return}if(!i){w("No id specified.");return}const M=async()=>await A({address:c,abi:d,functionName:"setApprovalForAll",args:[p,!0],...zn()}),{success:j}=await T(M,"Approve Marketplace");j&&(S(!0),a&&a(i))},R=async()=>{if(!(!i||!o))try{const M=await Qe.readContract({address:c,abi:d,functionName:"isApprovedForAll",args:[o,p]});S(M)}catch(M){w(jt(M))}};return B.useEffect(()=>{R()},[i,o]),e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>y(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"List NFT for Sale"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Balance"}),E.jsx("span",{className:"text-white font-mono",children:r})]}),r!==s&&E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Available (not listed)"}),E.jsx("span",{className:"text-white font-mono",children:s})]}),E.jsx(Nn,{label:"Amount",name:"amount",type:"number",step:"1",min:"1",errors:m,register:u}),E.jsx(Nn,{label:"Price per item (ETH)",name:"price",type:"number",step:"0.001",min:"0",errors:m,register:u}),g>Math.min(r,s)&&(g<=r?E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Warning:"})," ",_()]})}):E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," Cannot list more than you own (",r,")."]})})),!k&&E.jsx("div",{className:"p-3 rounded-lg bg-ink-800/50 border border-ink-700",children:E.jsx("p",{className:"text-ink-300 text-sm",children:"You need to approve the marketplace to list your NFTs. This is a one-time approval."})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>y(null),children:"Cancel"}),k?E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!f&&l||g>r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!f&&l||g>r,onClick:h(y),children:"List for Sale"}):E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90 transition-colors",onClick:N,children:"Approve Marketplace"})]})]})]}):null}function ub({isOpen:e,setIsOpen:t,onClose:n}){const r=s=>{t(!1),n(s)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>r(!1)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-5 border-b border-ink-800",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/10 border border-amber-500/20",children:E.jsx("svg",{className:"w-5 h-5 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-medium text-white",children:"Some fields are empty"}),E.jsx("p",{className:"text-sm text-ink-400",children:"Are you sure you want to mint anyway?"})]})]})}),E.jsxs("div",{className:"px-6 py-4 bg-ink-900/50 flex items-center justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-ink-300 hover:text-white transition-colors",onClick:()=>r(!1),children:"Cancel"}),E.jsx("button",{className:"px-4 py-2 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-colors",onClick:()=>r(!0),children:"Mint Anyway"})]})]})]}):null}function lb(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?pc(e.position):"start"in e||"end"in e?pc(e):"line"in e||"column"in e?$o(e):""}function $o(e){return gc(e&&e.line)+":"+gc(e&&e.column)}function pc(e){return $o(e&&e.start)+"-"+$o(e&&e.end)}function gc(e){return e&&typeof e=="number"?e:1}class Wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(o=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=lb(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;const Pn={basename:cb,dirname:db,extname:fb,join:hb,sep:"/"};function cb(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ei(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else o<0&&(i=!0,o=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function db(e){if(Ei(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function fb(e){Ei(e);let t=e.length,n=-1,r=0,s=-1,i=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function hb(...e){let t=-1,n;for(;++t<e.length;)Ei(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":mb(n)}function mb(e){Ei(e);const t=e.codePointAt(0)===47;let n=pb(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function pb(e,t){let n="",r=0,s=-1,i=0,o=-1,a,c;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(s===o-1||i===1))if(s!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=o,i=0;continue}}else if(n.length>0){n="",r=0,s=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),r=o-s-1;s=o,i=0}else a===46&&i>-1?i++:i=-1}return n}function Ei(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const gb={cwd:bb};function bb(){return"/"}function zo(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function yb(e){if(typeof e=="string")e=new URL(e);else if(!zo(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Eb(e)}function Eb(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const oo=["history","path","basename","stem","extname","dirname"];class qo{constructor(t){let n;t?zo(t)?n={path:t}:typeof t=="string"||xb(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":gb.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<oo.length;){const i=oo[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)oo.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Pn.basename(this.path):void 0}set basename(t){lo(t,"basename"),uo(t,"basename"),this.path=Pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pn.dirname(this.path):void 0}set dirname(t){bc(this.basename,"dirname"),this.path=Pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pn.extname(this.path):void 0}set extname(t){if(uo(t,"extname"),bc(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){zo(t)&&(t=yb(t)),lo(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pn.basename(this.path,this.extname):void 0}set stem(t){lo(t,"stem"),uo(t,"stem"),this.path=Pn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Wt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function uo(e,t){if(e&&e.includes(Pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pn.sep+"`")}function lo(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function bc(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xb(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _b=(function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),vb={}.hasOwnProperty;class sl extends _b{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cp()}copy(){const t=new sl;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(so(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ho("data",this.frozen),this.namespace[t]=n,this):vb.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ho("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Fi(t),r=this.parser||this.Parser;return co("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),co("process",this.parser||this.Parser),fo("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,o){const a=Fi(t),c=r.parse(a);r.run(c,a,function(p,u,l){if(p||!u||!l)return d(p);const f=u,m=r.stringify(f,l);Ab(m)?l.value=m:l.result=m,d(p,l)});function d(p,u){p||!u?o(p):i?i(u):n(void 0,u)}}}processSync(t){let n=!1,r;return this.freeze(),co("processSync",this.parser||this.Parser),fo("processSync",this.compiler||this.Compiler),this.process(t,s),Ec("processSync","process",n),r;function s(i,o){n=!0,zl(i),r=o}}run(t,n,r){yc(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,a){const c=Fi(n);s.run(t,c,d);function d(p,u,l){const f=u||t;p?a(p):o?o(f):r(void 0,f,l)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),Ec("runSync","run",r),s;function i(o,a){zl(o),s=a,r=!0}}stringify(t,n){this.freeze();const r=Fi(n),s=this.compiler||this.Compiler;return fo("stringify",s),yc(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(ho("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...u]=d;c(p,u)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(d.plugins),d.settings&&(s.settings=so(!0,s.settings,d.settings))}function a(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const u=d[p];i(u)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,p){let u=-1,l=-1;for(;++u<r.length;)if(r[u][0]===d){l=u;break}if(l===-1)r.push([d,...p]);else if(p.length>0){let[f,...m]=p;const h=r[l][1];jo(h)&&jo(f)&&(f=so(!0,h,f)),r[l]=[d,f,...m]}}}}const Tb=new sl().freeze();function co(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fo(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ho(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yc(e){if(!jo(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Ec(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Fi(e){return wb(e)?e:new qo(e)}function wb(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ab(e){return typeof e=="string"||Nb(e)}function Nb(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}class xi{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}xi.prototype.normal={};xi.prototype.property={};xi.prototype.space=void 0;function Zf(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new xi(n,r,t)}function Qs(e){return e.toLowerCase()}class rn{constructor(t,n){this.attribute=n,this.property=t}}rn.prototype.attribute="";rn.prototype.booleanish=!1;rn.prototype.boolean=!1;rn.prototype.commaOrSpaceSeparated=!1;rn.prototype.commaSeparated=!1;rn.prototype.defined=!1;rn.prototype.mustUseProperty=!1;rn.prototype.number=!1;rn.prototype.overloadedBoolean=!1;rn.prototype.property="";rn.prototype.spaceSeparated=!1;rn.prototype.space=void 0;let Sb=0;const je=Xr(),_t=Xr(),Vo=Xr(),se=Xr(),ct=Xr(),ds=Xr(),an=Xr();function Xr(){return 2**++Sb}const Yo=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:_t,commaOrSpaceSeparated:an,commaSeparated:ds,number:se,overloadedBoolean:Vo,spaceSeparated:ct},Symbol.toStringTag,{value:"Module"})),mo=Object.keys(Yo);class il extends rn{constructor(t,n,r,s){let i=-1;if(super(t,n),xc(this,"space",s),typeof r=="number")for(;++i<mo.length;){const o=mo[i];xc(this,mo[i],(r&Yo[o])===Yo[o])}}}il.prototype.defined=!0;function xc(e,t,n){n&&(e[t]=n)}function vs(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new il(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Qs(r)]=r,n[Qs(i.attribute)]=r}return new xi(t,n,e.space)}const Jf=vs({properties:{ariaActiveDescendant:null,ariaAtomic:_t,ariaAutoComplete:null,ariaBusy:_t,ariaChecked:_t,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:ct,ariaCurrent:null,ariaDescribedBy:ct,ariaDetails:null,ariaDisabled:_t,ariaDropEffect:ct,ariaErrorMessage:null,ariaExpanded:_t,ariaFlowTo:ct,ariaGrabbed:_t,ariaHasPopup:null,ariaHidden:_t,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ct,ariaLevel:se,ariaLive:null,ariaModal:_t,ariaMultiLine:_t,ariaMultiSelectable:_t,ariaOrientation:null,ariaOwns:ct,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:_t,ariaReadOnly:_t,ariaRelevant:null,ariaRequired:_t,ariaRoleDescription:ct,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:_t,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function eh(e,t){return t in e?e[t]:t}function th(e,t){return eh(e,t.toLowerCase())}const kb=vs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ds,acceptCharset:ct,accessKey:ct,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:ct,autoFocus:je,autoPlay:je,blocking:ct,capture:null,charSet:null,checked:je,cite:null,className:ct,cols:se,colSpan:null,content:null,contentEditable:_t,controls:je,controlsList:ct,coords:se|ds,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:Vo,draggable:_t,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:ct,height:se,hidden:Vo,high:se,href:null,hrefLang:null,htmlFor:ct,httpEquiv:ct,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:ct,itemRef:ct,itemScope:je,itemType:ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:se,pattern:null,ping:ct,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:ct,required:je,reversed:je,rows:se,rowSpan:se,sandbox:ct,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:_t,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:_t,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ct,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:_t,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:th}),Cb=vs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:an,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ds,g2:ds,glyphName:ds,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:an,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:an,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:an,rev:an,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:an,requiredFeatures:an,requiredFonts:an,requiredFormats:an,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:an,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:an,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:an,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:eh}),nh=vs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),rh=vs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:th}),sh=vs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Ob=/[A-Z]/g,_c=/-[a-z]/g,Ib=/^data[-\w.:]+$/i;function al(e,t){const n=Qs(t);let r=t,s=rn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ib.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(_c,Lb);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!_c.test(i)){let o=i.replace(Ob,Rb);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=il}return new s(r,t)}function Rb(e){return"-"+e.toLowerCase()}function Lb(e){return e.charAt(1).toUpperCase()}const La=Zf([Jf,kb,nh,rh,sh],"html"),_i=Zf([Jf,Cb,nh,rh,sh],"svg"),vc=/[#.]/g;function Db(e,t){const n=e||"",r={};let s=0,i,o;for(;s<n.length;){vc.lastIndex=s;const a=vc.exec(n),c=n.slice(s,a?a.index:n.length);c&&(i?i==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:o=c,s+=c.length),a&&(i=a[0],s++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function ih(e,t,n){const r=n?Bb(n):void 0;function s(i,o,...a){let c;if(i==null){c={type:"root",children:[]};const d=o;a.unshift(d)}else{c=Db(i,t);const d=c.tagName.toLowerCase(),p=r?r.get(d):void 0;if(c.tagName=p||d,Pb(o))a.unshift(o);else for(const[u,l]of Object.entries(o))Mb(e,c.properties,u,l)}for(const d of a)Wo(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return s}function Pb(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const o of i)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Mb(e,t,n,r){const s=al(e,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?s.spaceSeparated?i=ql(r):s.commaSeparated?i=Vl(r):s.commaOrSpaceSeparated?i=ql(Vl(r).join(" ")):i=Tc(s,s.property,r):Array.isArray(r)?i=[...r]:i=s.property==="style"?jb(r):String(r);if(Array.isArray(i)){const o=[];for(const a of i)o.push(Tc(s,s.property,a));i=o}s.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[s.property]=i}}function Wo(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Wo(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Wo(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Tc(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Qs(n)===Qs(t)))return!0}return n}function jb(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function Bb(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const Fb=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Ub=ih(La,"div"),Hb=ih(_i,"g",Fb);function $b(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let o=0;for(;;){let a=n[o];if(a===void 0){const c=wc(t,n[o-1]);a=c===-1?t.length+1:c+1,n[o]=a}if(a>i)return{line:o+1,column:i-(o>0?n[o-1]:0)+1,offset:i};o++}}}function s(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const a=n[n.length-1],c=wc(t,a),d=c===-1?t.length+1:c+1;if(a===d)break;n.push(d)}const o=(i.line>1?n[i.line-2]:0)+i.column-1;if(o<n[i.line-1])return o}}}function wc(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const ah={}.hasOwnProperty,zb=Object.prototype;function qb(e,t){const n=t||{};return ol({file:n.file||void 0,location:!1,schema:n.space==="svg"?_i:La,verbose:n.verbose||!1},e)}function ol(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Zi(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:oh(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const i=String(e.file),o=$b(i),a=o.toPoint(0),c=o.toPoint(i.length);n.position={start:a,end:c}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Zi(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Zi(e,r,n),n}default:return n=Vb(e,t),n}}function oh(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=ol(e,t[n]);r.push(s)}return r}function Vb(e,t){const n=e.schema;e.schema=t.namespaceURI===dp.svg?_i:La;let r=-1;const s={};for(;++r<t.attrs.length;){const a=t.attrs[r],c=(a.prefix?a.prefix+":":"")+a.name;ah.call(zb,c)||(s[c]=a.value)}const o=(e.schema.space==="svg"?Hb:Ub)(t.tagName,s,oh(e,t.childNodes));if(Zi(e,t,o),o.tagName==="template"){const a=t,c=a.sourceCodeLocation,d=c&&c.startTag&&as(c.startTag),p=c&&c.endTag&&as(c.endTag),u=ol(e,a.content);d&&p&&e.file&&(u.position={start:d.end,end:p.start}),o.content=u}return e.schema=n,o}function Zi(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Yb(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Yb(e,t,n){const r=as(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const i={};let o;if(n.attrs)for(o in n.attrs)ah.call(n.attrs,o)&&(i[al(e.schema,o).property]=as(n.attrs[o]));n.startTag;const a=as(n.startTag),c=n.endTag?as(n.endTag):void 0,d={opening:a};c&&(d.closing=c),d.properties=i,t.data={position:d}}}return r}function as(e){const t=Ac({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Ac({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Ac(e){return e.line&&e.column?e:void 0}const Wb=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),mt="";var C;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(C||(C={}));const Zt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function uh(e){return e>=55296&&e<=57343}function Gb(e){return e>=56320&&e<=57343}function Kb(e,t){return(e-55296)*1024+9216+t}function lh(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function ch(e){return e>=64976&&e<=65007||Wb.has(e)}var Y;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Y||(Y={}));const Xb=65536;class Qb{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Xb,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:i}=this,o=s+n,a=i+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Gb(n))return this.pos++,this._addGap(),Kb(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,C.EOF;return this._err(Y.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,C.EOF;const r=this.html.charCodeAt(n);return r===C.CARRIAGE_RETURN?C.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,C.EOF;let t=this.html.charCodeAt(this.pos);return t===C.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,C.LINE_FEED):t===C.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,uh(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===C.LINE_FEED||t===C.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){lh(t)?this._err(Y.controlCharacterInInputStream):ch(t)&&this._err(Y.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Xe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Xe||(Xe={}));function dh(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Zb=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Jb=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function ey(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Jb.get(e))!==null&&t!==void 0?t:e}var Lt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Lt||(Lt={}));const ty=32;var pr;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(pr||(pr={}));function Go(e){return e>=Lt.ZERO&&e<=Lt.NINE}function ny(e){return e>=Lt.UPPER_A&&e<=Lt.UPPER_F||e>=Lt.LOWER_A&&e<=Lt.LOWER_F}function ry(e){return e>=Lt.UPPER_A&&e<=Lt.UPPER_Z||e>=Lt.LOWER_A&&e<=Lt.LOWER_Z||Go(e)}function sy(e){return e===Lt.EQUALS||ry(e)}var Rt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Rt||(Rt={}));var Jn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Jn||(Jn={}));class iy{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Rt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Jn.Strict}startEntity(t){this.decodeMode=t,this.state=Rt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Rt.EntityStart:return t.charCodeAt(n)===Lt.NUM?(this.state=Rt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Rt.NamedEntity,this.stateNamedEntity(t,n));case Rt.NumericStart:return this.stateNumericStart(t,n);case Rt.NumericDecimal:return this.stateNumericDecimal(t,n);case Rt.NumericHex:return this.stateNumericHex(t,n);case Rt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|ty)===Lt.LOWER_X?(this.state=Rt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Rt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+Number.parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Go(s)||ny(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Go(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Lt.SEMI)this.consumed+=1;else if(this.decodeMode===Jn.Strict)return 0;return this.emitCodePoint(ey(this.result),this.consumed),this.errors&&(t!==Lt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&pr.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=ay(r,s,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===Jn.Attribute&&(i===0||sy(o))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&pr.VALUE_LENGTH)>>14,i!==0){if(o===Lt.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Jn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&pr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~pr.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case Rt.NamedEntity:return this.result!==0&&(this.decodeMode!==Jn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Rt.NumericDecimal:return this.emitNumericEntity(0,2);case Rt.NumericHex:return this.emitNumericEntity(0,3);case Rt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Rt.EntityStart:return 0}}}function ay(e,t,n,r){const s=(t&pr.BRANCH_LENGTH)>>7,i=t&pr.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const c=r-i;return c<0||c>=s?-1:e[n+c]-1}let o=n,a=o+s-1;for(;o<=a;){const c=o+a>>>1,d=e[c];if(d<r)o=c+1;else if(d>r)a=c-1;else return e[c+s]}return-1}var J;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(J||(J={}));var jr;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(jr||(jr={}));var gn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(gn||(gn={}));var U;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(U||(U={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(b||(b={}));const oy=new Map([[U.A,b.A],[U.ADDRESS,b.ADDRESS],[U.ANNOTATION_XML,b.ANNOTATION_XML],[U.APPLET,b.APPLET],[U.AREA,b.AREA],[U.ARTICLE,b.ARTICLE],[U.ASIDE,b.ASIDE],[U.B,b.B],[U.BASE,b.BASE],[U.BASEFONT,b.BASEFONT],[U.BGSOUND,b.BGSOUND],[U.BIG,b.BIG],[U.BLOCKQUOTE,b.BLOCKQUOTE],[U.BODY,b.BODY],[U.BR,b.BR],[U.BUTTON,b.BUTTON],[U.CAPTION,b.CAPTION],[U.CENTER,b.CENTER],[U.CODE,b.CODE],[U.COL,b.COL],[U.COLGROUP,b.COLGROUP],[U.DD,b.DD],[U.DESC,b.DESC],[U.DETAILS,b.DETAILS],[U.DIALOG,b.DIALOG],[U.DIR,b.DIR],[U.DIV,b.DIV],[U.DL,b.DL],[U.DT,b.DT],[U.EM,b.EM],[U.EMBED,b.EMBED],[U.FIELDSET,b.FIELDSET],[U.FIGCAPTION,b.FIGCAPTION],[U.FIGURE,b.FIGURE],[U.FONT,b.FONT],[U.FOOTER,b.FOOTER],[U.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[U.FORM,b.FORM],[U.FRAME,b.FRAME],[U.FRAMESET,b.FRAMESET],[U.H1,b.H1],[U.H2,b.H2],[U.H3,b.H3],[U.H4,b.H4],[U.H5,b.H5],[U.H6,b.H6],[U.HEAD,b.HEAD],[U.HEADER,b.HEADER],[U.HGROUP,b.HGROUP],[U.HR,b.HR],[U.HTML,b.HTML],[U.I,b.I],[U.IMG,b.IMG],[U.IMAGE,b.IMAGE],[U.INPUT,b.INPUT],[U.IFRAME,b.IFRAME],[U.KEYGEN,b.KEYGEN],[U.LABEL,b.LABEL],[U.LI,b.LI],[U.LINK,b.LINK],[U.LISTING,b.LISTING],[U.MAIN,b.MAIN],[U.MALIGNMARK,b.MALIGNMARK],[U.MARQUEE,b.MARQUEE],[U.MATH,b.MATH],[U.MENU,b.MENU],[U.META,b.META],[U.MGLYPH,b.MGLYPH],[U.MI,b.MI],[U.MO,b.MO],[U.MN,b.MN],[U.MS,b.MS],[U.MTEXT,b.MTEXT],[U.NAV,b.NAV],[U.NOBR,b.NOBR],[U.NOFRAMES,b.NOFRAMES],[U.NOEMBED,b.NOEMBED],[U.NOSCRIPT,b.NOSCRIPT],[U.OBJECT,b.OBJECT],[U.OL,b.OL],[U.OPTGROUP,b.OPTGROUP],[U.OPTION,b.OPTION],[U.P,b.P],[U.PARAM,b.PARAM],[U.PLAINTEXT,b.PLAINTEXT],[U.PRE,b.PRE],[U.RB,b.RB],[U.RP,b.RP],[U.RT,b.RT],[U.RTC,b.RTC],[U.RUBY,b.RUBY],[U.S,b.S],[U.SCRIPT,b.SCRIPT],[U.SEARCH,b.SEARCH],[U.SECTION,b.SECTION],[U.SELECT,b.SELECT],[U.SOURCE,b.SOURCE],[U.SMALL,b.SMALL],[U.SPAN,b.SPAN],[U.STRIKE,b.STRIKE],[U.STRONG,b.STRONG],[U.STYLE,b.STYLE],[U.SUB,b.SUB],[U.SUMMARY,b.SUMMARY],[U.SUP,b.SUP],[U.TABLE,b.TABLE],[U.TBODY,b.TBODY],[U.TEMPLATE,b.TEMPLATE],[U.TEXTAREA,b.TEXTAREA],[U.TFOOT,b.TFOOT],[U.TD,b.TD],[U.TH,b.TH],[U.THEAD,b.THEAD],[U.TITLE,b.TITLE],[U.TR,b.TR],[U.TRACK,b.TRACK],[U.TT,b.TT],[U.U,b.U],[U.UL,b.UL],[U.SVG,b.SVG],[U.VAR,b.VAR],[U.WBR,b.WBR],[U.XMP,b.XMP]]);function Da(e){var t;return(t=oy.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const te=b,uy={[J.HTML]:new Set([te.ADDRESS,te.APPLET,te.AREA,te.ARTICLE,te.ASIDE,te.BASE,te.BASEFONT,te.BGSOUND,te.BLOCKQUOTE,te.BODY,te.BR,te.BUTTON,te.CAPTION,te.CENTER,te.COL,te.COLGROUP,te.DD,te.DETAILS,te.DIR,te.DIV,te.DL,te.DT,te.EMBED,te.FIELDSET,te.FIGCAPTION,te.FIGURE,te.FOOTER,te.FORM,te.FRAME,te.FRAMESET,te.H1,te.H2,te.H3,te.H4,te.H5,te.H6,te.HEAD,te.HEADER,te.HGROUP,te.HR,te.HTML,te.IFRAME,te.IMG,te.INPUT,te.LI,te.LINK,te.LISTING,te.MAIN,te.MARQUEE,te.MENU,te.META,te.NAV,te.NOEMBED,te.NOFRAMES,te.NOSCRIPT,te.OBJECT,te.OL,te.P,te.PARAM,te.PLAINTEXT,te.PRE,te.SCRIPT,te.SECTION,te.SELECT,te.SOURCE,te.STYLE,te.SUMMARY,te.TABLE,te.TBODY,te.TD,te.TEMPLATE,te.TEXTAREA,te.TFOOT,te.TH,te.THEAD,te.TITLE,te.TR,te.TRACK,te.UL,te.WBR,te.XMP]),[J.MATHML]:new Set([te.MI,te.MO,te.MN,te.MS,te.MTEXT,te.ANNOTATION_XML]),[J.SVG]:new Set([te.TITLE,te.FOREIGN_OBJECT,te.DESC]),[J.XLINK]:new Set,[J.XML]:new Set,[J.XMLNS]:new Set},Ko=new Set([te.H1,te.H2,te.H3,te.H4,te.H5,te.H6]);U.STYLE,U.SCRIPT,U.XMP,U.IFRAME,U.NOEMBED,U.NOFRAMES,U.PLAINTEXT;var O;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(O||(O={}));const tn={DATA:O.DATA,RCDATA:O.RCDATA,RAWTEXT:O.RAWTEXT,SCRIPT_DATA:O.SCRIPT_DATA,PLAINTEXT:O.PLAINTEXT,CDATA_SECTION:O.CDATA_SECTION};function ly(e){return e>=C.DIGIT_0&&e<=C.DIGIT_9}function Ms(e){return e>=C.LATIN_CAPITAL_A&&e<=C.LATIN_CAPITAL_Z}function cy(e){return e>=C.LATIN_SMALL_A&&e<=C.LATIN_SMALL_Z}function lr(e){return cy(e)||Ms(e)}function Nc(e){return lr(e)||ly(e)}function Ui(e){return e+32}function fh(e){return e===C.SPACE||e===C.LINE_FEED||e===C.TABULATION||e===C.FORM_FEED}function Sc(e){return fh(e)||e===C.SOLIDUS||e===C.GREATER_THAN_SIGN}function dy(e){return e===C.NULL?Y.nullCharacterReference:e>1114111?Y.characterReferenceOutsideUnicodeRange:uh(e)?Y.surrogateCharacterReference:ch(e)?Y.noncharacterCharacterReference:lh(e)||e===C.CARRIAGE_RETURN?Y.controlCharacterReference:null}class fy{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=O.DATA,this.returnState=O.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Qb(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new iy(Zb,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Y.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Y.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=dy(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Xe.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Xe.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Xe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Xe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(dh(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Y.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Da(t.tagName),t.type===Xe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Y.endTagWithAttributes),t.selfClosing&&this._err(Y.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Xe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Xe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Xe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Xe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=fh(t)?Xe.WHITESPACE_CHARACTER:t===C.NULL?Xe.NULL_CHARACTER:Xe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Xe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=O.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Jn.Attribute:Jn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===O.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===O.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===O.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case O.DATA:{this._stateData(t);break}case O.RCDATA:{this._stateRcdata(t);break}case O.RAWTEXT:{this._stateRawtext(t);break}case O.SCRIPT_DATA:{this._stateScriptData(t);break}case O.PLAINTEXT:{this._statePlaintext(t);break}case O.TAG_OPEN:{this._stateTagOpen(t);break}case O.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case O.TAG_NAME:{this._stateTagName(t);break}case O.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case O.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case O.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case O.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case O.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case O.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case O.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case O.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case O.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case O.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case O.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case O.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case O.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case O.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case O.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case O.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case O.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case O.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case O.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case O.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case O.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case O.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case O.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case O.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case O.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case O.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case O.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case O.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case O.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case O.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case O.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case O.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case O.BOGUS_COMMENT:{this._stateBogusComment(t);break}case O.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case O.COMMENT_START:{this._stateCommentStart(t);break}case O.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case O.COMMENT:{this._stateComment(t);break}case O.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case O.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case O.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case O.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case O.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case O.COMMENT_END:{this._stateCommentEnd(t);break}case O.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case O.DOCTYPE:{this._stateDoctype(t);break}case O.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case O.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case O.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case O.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case O.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case O.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case O.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case O.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case O.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case O.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case O.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case O.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case O.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case O.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case O.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case O.CDATA_SECTION:{this._stateCdataSection(t);break}case O.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case O.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case O.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case O.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case C.LESS_THAN_SIGN:{this.state=O.TAG_OPEN;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this._emitCodePoint(t);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case C.AMPERSAND:{this._startCharacterReference();break}case C.LESS_THAN_SIGN:{this.state=O.RCDATA_LESS_THAN_SIGN;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this._emitChars(mt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case C.LESS_THAN_SIGN:{this.state=O.RAWTEXT_LESS_THAN_SIGN;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this._emitChars(mt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case C.LESS_THAN_SIGN:{this.state=O.SCRIPT_DATA_LESS_THAN_SIGN;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this._emitChars(mt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case C.NULL:{this._err(Y.unexpectedNullCharacter),this._emitChars(mt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(lr(t))this._createStartTagToken(),this.state=O.TAG_NAME,this._stateTagName(t);else switch(t){case C.EXCLAMATION_MARK:{this.state=O.MARKUP_DECLARATION_OPEN;break}case C.SOLIDUS:{this.state=O.END_TAG_OPEN;break}case C.QUESTION_MARK:{this._err(Y.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=O.BOGUS_COMMENT,this._stateBogusComment(t);break}case C.EOF:{this._err(Y.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Y.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=O.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(lr(t))this._createEndTagToken(),this.state=O.TAG_NAME,this._stateTagName(t);else switch(t){case C.GREATER_THAN_SIGN:{this._err(Y.missingEndTagName),this.state=O.DATA;break}case C.EOF:{this._err(Y.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Y.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=O.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=O.BEFORE_ATTRIBUTE_NAME;break}case C.SOLIDUS:{this.state=O.SELF_CLOSING_START_TAG;break}case C.GREATER_THAN_SIGN:{this.state=O.DATA,this.emitCurrentTagToken();break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.tagName+=mt;break}case C.EOF:{this._err(Y.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Ms(t)?Ui(t):t)}}_stateRcdataLessThanSign(t){t===C.SOLIDUS?this.state=O.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=O.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){lr(t)?(this.state=O.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=O.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=O.BEFORE_ATTRIBUTE_NAME,!1;case C.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=O.SELF_CLOSING_START_TAG,!1;case C.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=O.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=O.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===C.SOLIDUS?this.state=O.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=O.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){lr(t)?(this.state=O.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=O.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=O.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case C.SOLIDUS:{this.state=O.SCRIPT_DATA_END_TAG_OPEN;break}case C.EXCLAMATION_MARK:{this.state=O.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=O.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){lr(t)?(this.state=O.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=O.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=O.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===C.HYPHEN_MINUS?(this.state=O.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=O.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===C.HYPHEN_MINUS?(this.state=O.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=O.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case C.HYPHEN_MINUS:{this.state=O.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=O.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this._emitChars(mt);break}case C.EOF:{this._err(Y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case C.HYPHEN_MINUS:{this.state=O.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=O.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.state=O.SCRIPT_DATA_ESCAPED,this._emitChars(mt);break}case C.EOF:{this._err(Y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=O.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case C.HYPHEN_MINUS:{this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=O.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.GREATER_THAN_SIGN:{this.state=O.SCRIPT_DATA,this._emitChars(">");break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.state=O.SCRIPT_DATA_ESCAPED,this._emitChars(mt);break}case C.EOF:{this._err(Y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=O.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===C.SOLIDUS?this.state=O.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:lr(t)?(this._emitChars("<"),this.state=O.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=O.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){lr(t)?(this.state=O.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=O.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=O.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&Sc(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=O.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case C.HYPHEN_MINUS:{this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this._emitChars(mt);break}case C.EOF:{this._err(Y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case C.HYPHEN_MINUS:{this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mt);break}case C.EOF:{this._err(Y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case C.HYPHEN_MINUS:{this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.GREATER_THAN_SIGN:{this.state=O.SCRIPT_DATA,this._emitChars(">");break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mt);break}case C.EOF:{this._err(Y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===C.SOLIDUS?(this.state=O.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&Sc(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=O.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=O.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.SOLIDUS:case C.GREATER_THAN_SIGN:case C.EOF:{this.state=O.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case C.EQUALS_SIGN:{this._err(Y.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=O.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=O.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:case C.SOLIDUS:case C.GREATER_THAN_SIGN:case C.EOF:{this._leaveAttrName(),this.state=O.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case C.EQUALS_SIGN:{this._leaveAttrName(),this.state=O.BEFORE_ATTRIBUTE_VALUE;break}case C.QUOTATION_MARK:case C.APOSTROPHE:case C.LESS_THAN_SIGN:{this._err(Y.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.currentAttr.name+=mt;break}default:this.currentAttr.name+=String.fromCodePoint(Ms(t)?Ui(t):t)}}_stateAfterAttributeName(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.SOLIDUS:{this.state=O.SELF_CLOSING_START_TAG;break}case C.EQUALS_SIGN:{this.state=O.BEFORE_ATTRIBUTE_VALUE;break}case C.GREATER_THAN_SIGN:{this.state=O.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(Y.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=O.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{this.state=O.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this.state=O.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(Y.missingAttributeValue),this.state=O.DATA,this.emitCurrentTagToken();break}default:this.state=O.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case C.QUOTATION_MARK:{this.state=O.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.currentAttr.value+=mt;break}case C.EOF:{this._err(Y.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case C.APOSTROPHE:{this.state=O.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.currentAttr.value+=mt;break}case C.EOF:{this._err(Y.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this._leaveAttrValue(),this.state=O.BEFORE_ATTRIBUTE_NAME;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=O.DATA,this.emitCurrentTagToken();break}case C.NULL:{this._err(Y.unexpectedNullCharacter),this.currentAttr.value+=mt;break}case C.QUOTATION_MARK:case C.APOSTROPHE:case C.LESS_THAN_SIGN:case C.EQUALS_SIGN:case C.GRAVE_ACCENT:{this._err(Y.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case C.EOF:{this._err(Y.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this._leaveAttrValue(),this.state=O.BEFORE_ATTRIBUTE_NAME;break}case C.SOLIDUS:{this._leaveAttrValue(),this.state=O.SELF_CLOSING_START_TAG;break}case C.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=O.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(Y.eofInTag),this._emitEOFToken();break}default:this._err(Y.missingWhitespaceBetweenAttributes),this.state=O.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case C.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=O.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(Y.eofInTag),this._emitEOFToken();break}default:this._err(Y.unexpectedSolidusInTag),this.state=O.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case C.GREATER_THAN_SIGN:{this.state=O.DATA,this.emitCurrentComment(n);break}case C.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.data+=mt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Zt.DASH_DASH,!0)?(this._createCommentToken(Zt.DASH_DASH.length+1),this.state=O.COMMENT_START):this._consumeSequenceIfMatch(Zt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Zt.DOCTYPE.length+1),this.state=O.DOCTYPE):this._consumeSequenceIfMatch(Zt.CDATA_START,!0)?this.inForeignNode?this.state=O.CDATA_SECTION:(this._err(Y.cdataInHtmlContent),this._createCommentToken(Zt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=O.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Y.incorrectlyOpenedComment),this._createCommentToken(2),this.state=O.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case C.HYPHEN_MINUS:{this.state=O.COMMENT_START_DASH;break}case C.GREATER_THAN_SIGN:{this._err(Y.abruptClosingOfEmptyComment),this.state=O.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=O.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{this.state=O.COMMENT_END;break}case C.GREATER_THAN_SIGN:{this._err(Y.abruptClosingOfEmptyComment),this.state=O.DATA,this.emitCurrentComment(n);break}case C.EOF:{this._err(Y.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=O.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{this.state=O.COMMENT_END_DASH;break}case C.LESS_THAN_SIGN:{n.data+="<",this.state=O.COMMENT_LESS_THAN_SIGN;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.data+=mt;break}case C.EOF:{this._err(Y.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case C.EXCLAMATION_MARK:{n.data+="!",this.state=O.COMMENT_LESS_THAN_SIGN_BANG;break}case C.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=O.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===C.HYPHEN_MINUS?this.state=O.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=O.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===C.HYPHEN_MINUS?this.state=O.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=O.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==C.GREATER_THAN_SIGN&&t!==C.EOF&&this._err(Y.nestedComment),this.state=O.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{this.state=O.COMMENT_END;break}case C.EOF:{this._err(Y.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=O.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case C.GREATER_THAN_SIGN:{this.state=O.DATA,this.emitCurrentComment(n);break}case C.EXCLAMATION_MARK:{this.state=O.COMMENT_END_BANG;break}case C.HYPHEN_MINUS:{n.data+="-";break}case C.EOF:{this._err(Y.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=O.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{n.data+="--!",this.state=O.COMMENT_END_DASH;break}case C.GREATER_THAN_SIGN:{this._err(Y.incorrectlyClosedComment),this.state=O.DATA,this.emitCurrentComment(n);break}case C.EOF:{this._err(Y.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=O.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=O.BEFORE_DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this.state=O.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case C.EOF:{this._err(Y.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.missingWhitespaceBeforeDoctypeName),this.state=O.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Ms(t))this._createDoctypeToken(String.fromCharCode(Ui(t))),this.state=O.DOCTYPE_NAME;else switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.NULL:{this._err(Y.unexpectedNullCharacter),this._createDoctypeToken(mt),this.state=O.DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this._err(Y.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.EOF:{this._err(Y.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=O.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=O.AFTER_DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this.state=O.DATA,this.emitCurrentDoctype(n);break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.name+=mt;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Ms(t)?Ui(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.state=O.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Zt.PUBLIC,!1)?this.state=O.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Zt.SYSTEM,!1)?this.state=O.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Y.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=O.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.QUOTATION_MARK:{this._err(Y.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=O.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(Y.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=O.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(Y.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=O.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{n.publicId="",this.state=O.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{n.publicId="",this.state=O.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(Y.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=O.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case C.QUOTATION_MARK:{this.state=O.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.publicId+=mt;break}case C.GREATER_THAN_SIGN:{this._err(Y.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case C.APOSTROPHE:{this.state=O.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.publicId+=mt;break}case C.GREATER_THAN_SIGN:{this._err(Y.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=O.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case C.GREATER_THAN_SIGN:{this.state=O.DATA,this.emitCurrentDoctype(n);break}case C.QUOTATION_MARK:{this._err(Y.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(Y.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.QUOTATION_MARK:{n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=O.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.QUOTATION_MARK:{this._err(Y.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(Y.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(Y.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=O.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{n.systemId="",this.state=O.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(Y.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=O.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case C.QUOTATION_MARK:{this.state=O.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.systemId+=mt;break}case C.GREATER_THAN_SIGN:{this._err(Y.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case C.APOSTROPHE:{this.state=O.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.NULL:{this._err(Y.unexpectedNullCharacter),n.systemId+=mt;break}case C.GREATER_THAN_SIGN:{this._err(Y.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.EOF:{this._err(Y.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Y.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=O.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=O.DATA;break}case C.NULL:{this._err(Y.unexpectedNullCharacter);break}case C.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case C.RIGHT_SQUARE_BRACKET:{this.state=O.CDATA_SECTION_BRACKET;break}case C.EOF:{this._err(Y.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===C.RIGHT_SQUARE_BRACKET?this.state=O.CDATA_SECTION_END:(this._emitChars("]"),this.state=O.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case C.GREATER_THAN_SIGN:{this.state=O.DATA;break}case C.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=O.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(C.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Nc(this.preprocessor.peek(1))?O.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Nc(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===C.SEMICOLON&&this._err(Y.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const hh=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),kc=new Set([...hh,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),ma=new Set([b.APPLET,b.CAPTION,b.HTML,b.MARQUEE,b.OBJECT,b.TABLE,b.TD,b.TEMPLATE,b.TH]),hy=new Set([...ma,b.OL,b.UL]),my=new Set([...ma,b.BUTTON]),Cc=new Set([b.ANNOTATION_XML,b.MI,b.MN,b.MO,b.MS,b.MTEXT]),Oc=new Set([b.DESC,b.FOREIGN_OBJECT,b.TITLE]),py=new Set([b.TR,b.TEMPLATE,b.HTML]),gy=new Set([b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML]),by=new Set([b.TABLE,b.TEMPLATE,b.HTML]),yy=new Set([b.TD,b.TH]);class Ey{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===J.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==J.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Ko,J.HTML)}popUntilTableCellPopped(){this.popUntilPopped(yy,J.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(by,J.HTML)}clearBackToTableBodyContext(){this.clearBackTo(gy,J.HTML)}clearBackToTableRowContext(){this.clearBackTo(py,J.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case J.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case J.SVG:{if(Oc.has(s))return!1;break}case J.MATHML:{if(Cc.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,ma)}hasInListItemScope(t){return this.hasInDynamicScope(t,hy)}hasInButtonScope(t){return this.hasInDynamicScope(t,my)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case J.HTML:{if(Ko.has(n))return!0;if(ma.has(n))return!1;break}case J.SVG:{if(Oc.has(n))return!1;break}case J.MATHML:{if(Cc.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===J.HTML)switch(this.tagIDs[n]){case t:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===J.HTML)switch(this.tagIDs[t]){case b.TBODY:case b.THEAD:case b.TFOOT:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===J.HTML)switch(this.tagIDs[n]){case t:return!0;case b.OPTION:case b.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&hh.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&kc.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&kc.has(this.currentTagId);)this.pop()}}const po=3;var jn;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(jn||(jn={}));const Ic={type:jn.Marker};class xy{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,i=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const c=this.entries[a];if(c.type===jn.Marker)break;const{element:d}=c;if(this.treeAdapter.getTagName(d)===i&&this.treeAdapter.getNamespaceURI(d)===o){const p=this.treeAdapter.getAttrList(d);p.length===s&&r.push({idx:a,attrs:p})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<po)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<po)return;const s=new Map(n.map(o=>[o.name,o.value]));let i=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(c=>s.get(c.name)===c.value)&&(i+=1,i>=po&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Ic)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:jn.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:jn.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Ic);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===jn.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===jn.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===jn.Element&&n.element===t)}}const cr={createDocument(){return{nodeName:"#document",mode:gn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};cr.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(cr.isTextNode(n)){n.value+=t;return}}cr.appendChild(e,cr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&cr.isTextNode(r)?r.value+=t:cr.insertBefore(e,cr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},mh="html",_y="about:legacy-compat",vy="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ph=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Ty=[...ph,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],wy=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),gh=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Ay=[...gh,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Rc(e,t){return t.some(n=>e.startsWith(n))}function Ny(e){return e.name===mh&&e.publicId===null&&(e.systemId===null||e.systemId===_y)}function Sy(e){if(e.name!==mh)return gn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===vy)return gn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),wy.has(n))return gn.QUIRKS;let r=t===null?Ty:ph;if(Rc(n,r))return gn.QUIRKS;if(r=t===null?gh:Ay,Rc(n,r))return gn.LIMITED_QUIRKS}return gn.NO_QUIRKS}const Lc={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},ky="definitionurl",Cy="definitionURL",Oy=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Iy=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:J.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:J.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:J.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:J.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:J.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:J.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:J.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:J.XML}],["xml:space",{prefix:"xml",name:"space",namespace:J.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:J.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:J.XMLNS}]]),Ry=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ly=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function Dy(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===jr.COLOR||r===jr.SIZE||r===jr.FACE)||Ly.has(t)}function bh(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===ky){e.attrs[t].name=Cy;break}}function yh(e){for(let t=0;t<e.attrs.length;t++){const n=Oy.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function ul(e){for(let t=0;t<e.attrs.length;t++){const n=Iy.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Py(e){const t=Ry.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Da(e.tagName))}function My(e,t){return t===J.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function jy(e,t,n){if(t===J.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===jr.ENCODING){const s=n[r].value.toLowerCase();return s===Lc.TEXT_HTML||s===Lc.APPLICATION_XML}}return t===J.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function By(e,t,n,r){return(!r||r===J.HTML)&&jy(e,t,n)||(!r||r===J.MATHML)&&My(e,t)}const Fy="hidden",Uy=8,Hy=3;var D;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(D||(D={}));const $y={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Eh=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),Dc={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:cr,onParseError:null};class xh{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=D.INITIAL,this.originalInsertionMode=D.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Dc,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new fy(this.options,this),this.activeFormattingElements=new xy(this.treeAdapter),this.fragmentContextID=r?Da(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Ey(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Dc,...n};t??(t=r.treeAdapter.createElement(U.TEMPLATE,J.HTML,[]));const s=r.treeAdapter.createElement("documentmock",J.HTML,[]),i=new this(r,s,t);return i.fragmentContextID===b.TEMPLATE&&i.tmplInsertionModeStack.unshift(D.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const i=(s=t.location)!==null&&s!==void 0?s:$y,o={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(t,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let i,o;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,o=this.fragmentContextID):{current:i,currentTagId:o}=this.openElements,this._setContextModes(i,o)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===J.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,J.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=D.TEXT}switchToPlaintextParsing(){this.insertionMode=D.TEXT,this.originalInsertionMode=D.IN_BODY,this.tokenizer.state=tn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===U.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==J.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=tn.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=tn.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=tn.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=tn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,J.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,J.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(U.HTML,J.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,o=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:c,endCol:d,endOffset:p}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:c,endCol:d,endOffset:p})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),i=n.type===Xe.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===U.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===J.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,J.HTML)}_processToken(t){switch(t.type){case Xe.CHARACTER:{this.onCharacter(t);break}case Xe.NULL_CHARACTER:{this.onNullCharacter(t);break}case Xe.COMMENT:{this.onComment(t);break}case Xe.DOCTYPE:{this.onDoctype(t);break}case Xe.START_TAG:{this._processStartTag(t);break}case Xe.END_TAG:{this.onEndTag(t);break}case Xe.EOF:{this.onEof(t);break}case Xe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return By(t,s,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===jn.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=D.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=D.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=D.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=D.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=D.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=D.IN_TABLE;return}case b.BODY:{this.insertionMode=D.IN_BODY;return}case b.FRAMESET:{this.insertionMode=D.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?D.AFTER_HEAD:D.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=D.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=D.IN_HEAD;return}break}}this.insertionMode=D.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=D.IN_SELECT_IN_TABLE;return}}this.insertionMode=D.IN_SELECT}_isElementCausesFosterParenting(t){return Eh.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===J.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return uy[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){yE(this,t);return}switch(this.insertionMode){case D.INITIAL:{Rs(this,t);break}case D.BEFORE_HTML:{$s(this,t);break}case D.BEFORE_HEAD:{zs(this,t);break}case D.IN_HEAD:{qs(this,t);break}case D.IN_HEAD_NO_SCRIPT:{Vs(this,t);break}case D.AFTER_HEAD:{Ys(this,t);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:{vh(this,t);break}case D.TEXT:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{go(this,t);break}case D.IN_TABLE_TEXT:{kh(this,t);break}case D.IN_COLUMN_GROUP:{pa(this,t);break}case D.AFTER_BODY:{ga(this,t);break}case D.AFTER_AFTER_BODY:{Ji(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){bE(this,t);return}switch(this.insertionMode){case D.INITIAL:{Rs(this,t);break}case D.BEFORE_HTML:{$s(this,t);break}case D.BEFORE_HEAD:{zs(this,t);break}case D.IN_HEAD:{qs(this,t);break}case D.IN_HEAD_NO_SCRIPT:{Vs(this,t);break}case D.AFTER_HEAD:{Ys(this,t);break}case D.TEXT:{this._insertCharacters(t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{go(this,t);break}case D.IN_COLUMN_GROUP:{pa(this,t);break}case D.AFTER_BODY:{ga(this,t);break}case D.AFTER_AFTER_BODY:{Ji(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Xo(this,t);return}switch(this.insertionMode){case D.INITIAL:case D.BEFORE_HTML:case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_TEMPLATE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{Xo(this,t);break}case D.IN_TABLE_TEXT:{Ls(this,t);break}case D.AFTER_BODY:{Ky(this,t);break}case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{Xy(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case D.INITIAL:{Qy(this,t);break}case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:{this._err(t,Y.misplacedDoctype);break}case D.IN_TABLE_TEXT:{Ls(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Y.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?EE(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case D.INITIAL:{Rs(this,t);break}case D.BEFORE_HTML:{Zy(this,t);break}case D.BEFORE_HEAD:{e1(this,t);break}case D.IN_HEAD:{In(this,t);break}case D.IN_HEAD_NO_SCRIPT:{r1(this,t);break}case D.AFTER_HEAD:{i1(this,t);break}case D.IN_BODY:{Vt(this,t);break}case D.IN_TABLE:{gs(this,t);break}case D.IN_TABLE_TEXT:{Ls(this,t);break}case D.IN_CAPTION:{tE(this,t);break}case D.IN_COLUMN_GROUP:{dl(this,t);break}case D.IN_TABLE_BODY:{ja(this,t);break}case D.IN_ROW:{Ba(this,t);break}case D.IN_CELL:{sE(this,t);break}case D.IN_SELECT:{Ih(this,t);break}case D.IN_SELECT_IN_TABLE:{aE(this,t);break}case D.IN_TEMPLATE:{uE(this,t);break}case D.AFTER_BODY:{cE(this,t);break}case D.IN_FRAMESET:{dE(this,t);break}case D.AFTER_FRAMESET:{hE(this,t);break}case D.AFTER_AFTER_BODY:{pE(this,t);break}case D.AFTER_AFTER_FRAMESET:{gE(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?xE(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case D.INITIAL:{Rs(this,t);break}case D.BEFORE_HTML:{Jy(this,t);break}case D.BEFORE_HEAD:{t1(this,t);break}case D.IN_HEAD:{n1(this,t);break}case D.IN_HEAD_NO_SCRIPT:{s1(this,t);break}case D.AFTER_HEAD:{a1(this,t);break}case D.IN_BODY:{Ma(this,t);break}case D.TEXT:{V1(this,t);break}case D.IN_TABLE:{Zs(this,t);break}case D.IN_TABLE_TEXT:{Ls(this,t);break}case D.IN_CAPTION:{nE(this,t);break}case D.IN_COLUMN_GROUP:{rE(this,t);break}case D.IN_TABLE_BODY:{Qo(this,t);break}case D.IN_ROW:{Oh(this,t);break}case D.IN_CELL:{iE(this,t);break}case D.IN_SELECT:{Rh(this,t);break}case D.IN_SELECT_IN_TABLE:{oE(this,t);break}case D.IN_TEMPLATE:{lE(this,t);break}case D.AFTER_BODY:{Dh(this,t);break}case D.IN_FRAMESET:{fE(this,t);break}case D.AFTER_FRAMESET:{mE(this,t);break}case D.AFTER_AFTER_BODY:{Ji(this,t);break}}}onEof(t){switch(this.insertionMode){case D.INITIAL:{Rs(this,t);break}case D.BEFORE_HTML:{$s(this,t);break}case D.BEFORE_HEAD:{zs(this,t);break}case D.IN_HEAD:{qs(this,t);break}case D.IN_HEAD_NO_SCRIPT:{Vs(this,t);break}case D.AFTER_HEAD:{Ys(this,t);break}case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{Nh(this,t);break}case D.TEXT:{Y1(this,t);break}case D.IN_TABLE_TEXT:{Ls(this,t);break}case D.IN_TEMPLATE:{Lh(this,t);break}case D.AFTER_BODY:case D.IN_FRAMESET:case D.AFTER_FRAMESET:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{cl(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===C.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.TEXT:case D.IN_COLUMN_GROUP:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{this._insertCharacters(t);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:case D.AFTER_BODY:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{_h(this,t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{go(this,t);break}case D.IN_TABLE_TEXT:{Sh(this,t);break}}}}function zy(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Ah(e,t),n}function qy(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function Vy(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,o=s;o!==n;i++,o=s){s=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),c=a&&i>=Hy;!a||c?(c&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=Yy(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function Yy(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Wy(e,t,n){const r=e.treeAdapter.getTagName(t),s=Da(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);s===b.TEMPLATE&&i===J.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Gy(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function ll(e,t){for(let n=0;n<Uy;n++){const r=zy(e,t);if(!r)break;const s=qy(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const i=Vy(e,s,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),o&&Wy(e,o,i),Gy(e,s,r)}}function Xo(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Ky(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Xy(e,t){e._appendCommentNode(t,e.document)}function cl(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function Qy(e,t){e._setDocumentType(t);const n=t.forceQuirks?gn.QUIRKS:Sy(t);Ny(t)||e._err(t,Y.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=D.BEFORE_HTML}function Rs(e,t){e._err(t,Y.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,gn.QUIRKS),e.insertionMode=D.BEFORE_HTML,e._processToken(t)}function Zy(e,t){t.tagID===b.HTML?(e._insertElement(t,J.HTML),e.insertionMode=D.BEFORE_HEAD):$s(e,t)}function Jy(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&$s(e,t)}function $s(e,t){e._insertFakeRootElement(),e.insertionMode=D.BEFORE_HEAD,e._processToken(t)}function e1(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.HEAD:{e._insertElement(t,J.HTML),e.headElement=e.openElements.current,e.insertionMode=D.IN_HEAD;break}default:zs(e,t)}}function t1(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?zs(e,t):e._err(t,Y.endTagWithoutMatchingOpenElement)}function zs(e,t){e._insertFakeElement(U.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=D.IN_HEAD,e._processToken(t)}function In(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,J.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,tn.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,tn.RAWTEXT):(e._insertElement(t,J.HTML),e.insertionMode=D.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,tn.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,tn.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=D.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(D.IN_TEMPLATE);break}case b.HEAD:{e._err(t,Y.misplacedStartTagForHeadElement);break}default:qs(e,t)}}function n1(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=D.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{qs(e,t);break}case b.TEMPLATE:{Qr(e,t);break}default:e._err(t,Y.endTagWithoutMatchingOpenElement)}}function Qr(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,Y.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Y.endTagWithoutMatchingOpenElement)}function qs(e,t){e.openElements.pop(),e.insertionMode=D.AFTER_HEAD,e._processToken(t)}function r1(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{In(e,t);break}case b.NOSCRIPT:{e._err(t,Y.nestedNoscriptInHead);break}default:Vs(e,t)}}function s1(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=D.IN_HEAD;break}case b.BR:{Vs(e,t);break}default:e._err(t,Y.endTagWithoutMatchingOpenElement)}}function Vs(e,t){const n=t.type===Xe.EOF?Y.openElementsLeftAfterEof:Y.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=D.IN_HEAD,e._processToken(t)}function i1(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.BODY:{e._insertElement(t,J.HTML),e.framesetOk=!1,e.insertionMode=D.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,J.HTML),e.insertionMode=D.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,Y.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),In(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,Y.misplacedStartTagForHeadElement);break}default:Ys(e,t)}}function a1(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{Ys(e,t);break}case b.TEMPLATE:{Qr(e,t);break}default:e._err(t,Y.endTagWithoutMatchingOpenElement)}}function Ys(e,t){e._insertFakeElement(U.BODY,b.BODY),e.insertionMode=D.IN_BODY,Pa(e,t)}function Pa(e,t){switch(t.type){case Xe.CHARACTER:{vh(e,t);break}case Xe.WHITESPACE_CHARACTER:{_h(e,t);break}case Xe.COMMENT:{Xo(e,t);break}case Xe.START_TAG:{Vt(e,t);break}case Xe.END_TAG:{Ma(e,t);break}case Xe.EOF:{Nh(e,t);break}}}function _h(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function vh(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function o1(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function u1(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function l1(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,J.HTML),e.insertionMode=D.IN_FRAMESET)}function c1(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,J.HTML)}function d1(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Ko.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,J.HTML)}function f1(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,J.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function h1(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,J.HTML),n||(e.formElement=e.openElements.current))}function m1(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===b.LI&&s===b.LI||(n===b.DD||n===b.DT)&&(s===b.DD||s===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==b.ADDRESS&&s!==b.DIV&&s!==b.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,J.HTML)}function p1(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,J.HTML),e.tokenizer.state=tn.PLAINTEXT}function g1(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,J.HTML),e.framesetOk=!1}function b1(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(U.A);n&&(ll(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,J.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function y1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,J.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function E1(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(ll(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,J.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function x1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,J.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function _1(e,t){e.treeAdapter.getDocumentMode(e.document)!==gn.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,J.HTML),e.framesetOk=!1,e.insertionMode=D.IN_TABLE}function Th(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,J.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function wh(e){const t=dh(e,jr.TYPE);return t!=null&&t.toLowerCase()===Fy}function v1(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,J.HTML),wh(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function T1(e,t){e._appendElement(t,J.HTML),t.ackSelfClosing=!0}function w1(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,J.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function A1(e,t){t.tagName=U.IMG,t.tagID=b.IMG,Th(e,t)}function N1(e,t){e._insertElement(t,J.HTML),e.skipNextNewLine=!0,e.tokenizer.state=tn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=D.TEXT}function S1(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function k1(e,t){e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function Pc(e,t){e._switchToTextParsing(t,tn.RAWTEXT)}function C1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,J.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===D.IN_TABLE||e.insertionMode===D.IN_CAPTION||e.insertionMode===D.IN_TABLE_BODY||e.insertionMode===D.IN_ROW||e.insertionMode===D.IN_CELL?D.IN_SELECT_IN_TABLE:D.IN_SELECT}function O1(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,J.HTML)}function I1(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,J.HTML)}function R1(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,J.HTML)}function L1(e,t){e._reconstructActiveFormattingElements(),bh(t),ul(t),t.selfClosing?e._appendElement(t,J.MATHML):e._insertElement(t,J.MATHML),t.ackSelfClosing=!0}function D1(e,t){e._reconstructActiveFormattingElements(),yh(t),ul(t),t.selfClosing?e._appendElement(t,J.SVG):e._insertElement(t,J.SVG),t.ackSelfClosing=!0}function Mc(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,J.HTML)}function Vt(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{y1(e,t);break}case b.A:{b1(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{d1(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{c1(e,t);break}case b.LI:case b.DD:case b.DT:{m1(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{Th(e,t);break}case b.HR:{w1(e,t);break}case b.RB:case b.RTC:{I1(e,t);break}case b.RT:case b.RP:{R1(e,t);break}case b.PRE:case b.LISTING:{f1(e,t);break}case b.XMP:{S1(e,t);break}case b.SVG:{D1(e,t);break}case b.HTML:{o1(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{In(e,t);break}case b.BODY:{u1(e,t);break}case b.FORM:{h1(e,t);break}case b.NOBR:{E1(e,t);break}case b.MATH:{L1(e,t);break}case b.TABLE:{_1(e,t);break}case b.INPUT:{v1(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{T1(e,t);break}case b.IMAGE:{A1(e,t);break}case b.BUTTON:{g1(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{x1(e,t);break}case b.IFRAME:{k1(e,t);break}case b.SELECT:{C1(e,t);break}case b.OPTION:case b.OPTGROUP:{O1(e,t);break}case b.NOEMBED:case b.NOFRAMES:{Pc(e,t);break}case b.FRAMESET:{l1(e,t);break}case b.TEXTAREA:{N1(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?Pc(e,t):Mc(e,t);break}case b.PLAINTEXT:{p1(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:Mc(e,t)}}function P1(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=D.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function M1(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=D.AFTER_BODY,Dh(e,t))}function j1(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function B1(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function F1(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(U.P,b.P),e._closePElement()}function U1(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function H1(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function $1(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function z1(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function q1(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(U.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function Ah(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const i=e.openElements.items[s],o=e.openElements.tagIDs[s];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(i,o))break}}function Ma(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{ll(e,t);break}case b.P:{F1(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{j1(e,t);break}case b.LI:{U1(e);break}case b.DD:case b.DT:{H1(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{$1(e);break}case b.BR:{q1(e);break}case b.BODY:{P1(e,t);break}case b.HTML:{M1(e,t);break}case b.FORM:{B1(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{z1(e,t);break}case b.TEMPLATE:{Qr(e,t);break}default:Ah(e,t)}}function Nh(e,t){e.tmplInsertionModeStack.length>0?Lh(e,t):cl(e,t)}function V1(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Y1(e,t){e._err(t,Y.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function go(e,t){if(e.openElements.currentTagId!==void 0&&Eh.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=D.IN_TABLE_TEXT,t.type){case Xe.CHARACTER:{kh(e,t);break}case Xe.WHITESPACE_CHARACTER:{Sh(e,t);break}}else vi(e,t)}function W1(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,J.HTML),e.insertionMode=D.IN_CAPTION}function G1(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,J.HTML),e.insertionMode=D.IN_COLUMN_GROUP}function K1(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(U.COLGROUP,b.COLGROUP),e.insertionMode=D.IN_COLUMN_GROUP,dl(e,t)}function X1(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,J.HTML),e.insertionMode=D.IN_TABLE_BODY}function Q1(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(U.TBODY,b.TBODY),e.insertionMode=D.IN_TABLE_BODY,ja(e,t)}function Z1(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function J1(e,t){wh(t)?e._appendElement(t,J.HTML):vi(e,t),t.ackSelfClosing=!0}function eE(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,J.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function gs(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{Q1(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{In(e,t);break}case b.COL:{K1(e,t);break}case b.FORM:{eE(e,t);break}case b.TABLE:{Z1(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{X1(e,t);break}case b.INPUT:{J1(e,t);break}case b.CAPTION:{W1(e,t);break}case b.COLGROUP:{G1(e,t);break}default:vi(e,t)}}function Zs(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{Qr(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:vi(e,t)}}function vi(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Pa(e,t),e.fosterParentingEnabled=n}function Sh(e,t){e.pendingCharacterTokens.push(t)}function kh(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ls(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)vi(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Ch=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function tE(e,t){const n=t.tagID;Ch.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_TABLE,gs(e,t)):Vt(e,t)}function nE(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_TABLE,n===b.TABLE&&Zs(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:Ma(e,t)}}function dl(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.COL:{e._appendElement(t,J.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{In(e,t);break}default:pa(e,t)}}function rE(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=D.IN_TABLE);break}case b.TEMPLATE:{Qr(e,t);break}case b.COL:break;default:pa(e,t)}}function pa(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=D.IN_TABLE,e._processToken(t))}function ja(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,J.HTML),e.insertionMode=D.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(U.TR,b.TR),e.insertionMode=D.IN_ROW,Ba(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE,gs(e,t));break}default:gs(e,t)}}function Qo(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE,Zs(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:Zs(e,t)}}function Ba(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,J.HTML),e.insertionMode=D.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,ja(e,t));break}default:gs(e,t)}}function Oh(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,Qo(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,Qo(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:Zs(e,t)}}function sE(e,t){const n=t.tagID;Ch.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),Ba(e,t)):Vt(e,t)}function iE(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Oh(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:Ma(e,t)}}function Ih(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,J.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,J.HTML);break}case b.HR:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._appendElement(t,J.HTML),t.ackSelfClosing=!0;break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{In(e,t);break}}}function Rh(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{Qr(e,t);break}}}function aE(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Ih(e,t)}function oE(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Rh(e,t)}function uE(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{In(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=D.IN_TABLE,e.insertionMode=D.IN_TABLE,gs(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=D.IN_COLUMN_GROUP,e.insertionMode=D.IN_COLUMN_GROUP,dl(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=D.IN_TABLE_BODY,e.insertionMode=D.IN_TABLE_BODY,ja(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=D.IN_ROW,e.insertionMode=D.IN_ROW,Ba(e,t);break}default:e.tmplInsertionModeStack[0]=D.IN_BODY,e.insertionMode=D.IN_BODY,Vt(e,t)}}function lE(e,t){t.tagID===b.TEMPLATE&&Qr(e,t)}function Lh(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):cl(e,t)}function cE(e,t){t.tagID===b.HTML?Vt(e,t):ga(e,t)}function Dh(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=D.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else ga(e,t)}function ga(e,t){e.insertionMode=D.IN_BODY,Pa(e,t)}function dE(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.FRAMESET:{e._insertElement(t,J.HTML);break}case b.FRAME:{e._appendElement(t,J.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{In(e,t);break}}}function fE(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=D.AFTER_FRAMESET))}function hE(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.NOFRAMES:{In(e,t);break}}}function mE(e,t){t.tagID===b.HTML&&(e.insertionMode=D.AFTER_AFTER_FRAMESET)}function pE(e,t){t.tagID===b.HTML?Vt(e,t):Ji(e,t)}function Ji(e,t){e.insertionMode=D.IN_BODY,Pa(e,t)}function gE(e,t){switch(t.tagID){case b.HTML:{Vt(e,t);break}case b.NOFRAMES:{In(e,t);break}}}function bE(e,t){t.chars=mt,e._insertCharacters(t)}function yE(e,t){e._insertCharacters(t),e.framesetOk=!1}function Ph(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==J.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function EE(e,t){if(Dy(t))Ph(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===J.MATHML?bh(t):r===J.SVG&&(Py(t),yh(t)),ul(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function xE(e,t){if(t.tagID===b.P||t.tagID===b.BR){Ph(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===J.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}U.AREA,U.BASE,U.BASEFONT,U.BGSOUND,U.BR,U.COL,U.EMBED,U.FRAME,U.HR,U.IMG,U.INPUT,U.KEYGEN,U.LINK,U.META,U.PARAM,U.SOURCE,U.TRACK,U.WBR;function _E(e,t){return xh.parse(e,t)}function vE(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=xh.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}const TE={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},wE="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",AE=/-[a-z]/g,NE=/%c(?:([-+])(\d+))?/g,SE=/%x/g,kE={2:!0,1:!1,0:null},CE={};function OE(e,t){const n=t||CE,r=n.onerror,s=e instanceof qo?e:new qo(e),i=n.fragment?vE:_E,o=String(s),a=i(o,{sourceCodeLocationInfo:!0,onParseError:n.onerror?c:null,scriptingEnabled:!1});return qb(a,{file:s,space:n.space,verbose:n.verbose});function c(d){const p=d.code,u=IE(p),l=n[u],f=l??!0,m=typeof f=="number"?f:f?1:0;if(m){const x=TE[u],g=new Wt(h(x.reason),{place:{start:{line:d.startLine,column:d.startCol,offset:d.startOffset},end:{line:d.endLine,column:d.endCol,offset:d.endOffset}},ruleId:p,source:"hast-util-from-html"});s.path&&(g.file=s.path,g.name=s.path+":"+g.name),g.fatal=kE[m],g.note=h(x.description),g.url=x.url===!1?void 0:wE+p,r(g)}function h(x){return x.replace(NE,g).replace(SE,y);function g(_,T,w){const k=(w?Number.parseInt(w,10):0)*(T==="-"?-1:1),S=o.charAt(d.startOffset+k);return LE(S)}function y(){return DE(o.charCodeAt(d.startOffset))}}}}function IE(e){return e.replace(AE,RE)}function RE(e){return e.charAt(1).toUpperCase()}function LE(e){return e==="`"?"` ` `":e}function DE(e){return"0x"+e.toString(16).toUpperCase()}function PE(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=s;function s(i,o){return OE(i,{...r,onerror:n?function(a){o.path&&(a.name=o.path+":"+a.name,a.file=o.path),o.messages.push(a)}:void 0})}}const ME=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],jE=/^>|^->|<!--|-->|--!>|<!-$/g,BE=[">"],FE=["<",">"];function UE(e,t,n,r){return r.settings.bogusComments?"<?"+cs(e.value,Object.assign({},r.settings.characterReferences,{subset:BE}))+">":"<!--"+e.value.replace(jE,s)+"-->";function s(i){return cs(i,Object.assign({},r.settings.characterReferences,{subset:FE}))}}function HE(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const $E=/[ \t\n\f\r]/g;function fl(e){return typeof e=="object"?e.type==="text"?jc(e.value):!1:jc(e)}function jc(e){return e.replace($E,"")===""}const kt=jh(1),Mh=jh(-1),zE=[];function jh(e){return t;function t(n,r,s){const i=n?n.children:zE;let o=(r||0)+e,a=i[o];if(!s)for(;a&&fl(a);)o+=e,a=i[o];return a}}const qE={}.hasOwnProperty;function Bh(e){return t;function t(n,r,s){return qE.call(e,n.tagName)&&e[n.tagName](n,r,s)}}const hl=Bh({body:YE,caption:bo,colgroup:bo,dd:XE,dt:KE,head:bo,html:VE,li:GE,optgroup:QE,option:ZE,p:WE,rp:Bc,rt:Bc,tbody:ex,td:Fc,tfoot:tx,th:Fc,thead:JE,tr:nx});function bo(e,t,n){const r=kt(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&fl(r.value.charAt(0)))}function VE(e,t,n){const r=kt(n,t);return!r||r.type!=="comment"}function YE(e,t,n){const r=kt(n,t);return!r||r.type!=="comment"}function WE(e,t,n){const r=kt(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function GE(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&r.tagName==="li"}function KE(e,t,n){const r=kt(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function XE(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function Bc(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function QE(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function ZE(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function JE(e,t,n){const r=kt(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function ex(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function tx(e,t,n){return!kt(n,t)}function nx(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function Fc(e,t,n){const r=kt(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const rx=Bh({body:ax,colgroup:ox,head:ix,html:sx,tbody:ux});function sx(e){const t=kt(e,-1);return!t||t.type!=="comment"}function ix(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function ax(e){const t=kt(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&fl(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function ox(e,t,n){const r=Mh(n,t),s=kt(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&hl(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function ux(e,t,n){const r=Mh(n,t),s=kt(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&hl(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const Hi={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function lx(e,t,n,r){const s=r.schema,i=s.space==="svg"?!1:r.settings.omitOptionalTags;let o=s.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const a=[];let c;s.space==="html"&&e.tagName==="svg"&&(r.schema=_i);const d=cx(r,e.properties),p=r.all(s.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=s,p&&(o=!1),(d||!i||!rx(e,t,n))&&(a.push("<",e.tagName,d?" "+d:""),o&&(s.space==="svg"||r.settings.closeSelfClosing)&&(c=d.charAt(d.length-1),(!r.settings.tightSelfClosing||c==="/"||c&&c!=='"'&&c!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(p),!o&&(!i||!hl(e,t,n))&&a.push("</"+e.tagName+">"),a.join("")}function cx(e,t){const n=[];let r=-1,s;if(t){for(s in t)if(t[s]!==null&&t[s]!==void 0){const i=dx(e,s,t[s]);i&&n.push(i)}}for(;++r<n.length;){const i=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&i!=='"'&&i!=="'"&&(n[r]+=" ")}return n.join("")}function dx(e,t,n){const r=al(e.schema,t),s=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,i=e.settings.allowDangerousCharacters?0:1;let o=e.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const c=cs(r.attribute,Object.assign({},e.settings.characterReferences,{subset:Hi.name[s][i]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?fp:hp)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?c:(e.settings.preferUnquoted&&(a=cs(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Hi.unquoted[s][i]}))),a!==n&&(e.settings.quoteSmart&&Yl(n,o)>Yl(n,e.alternative)&&(o=e.alternative),a=o+cs(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?Hi.single:Hi.double)[s][i],attribute:!0}))+o),c+(a&&"="+a))}const fx=["<","&"];function Fh(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:cs(e.value,Object.assign({},r.settings.characterReferences,{subset:fx}))}function hx(e,t,n,r){return r.settings.allowDangerousHtml?e.value:Fh(e,t,n,r)}function mx(e,t,n,r){return r.all(e)}const px=mp("type",{invalid:gx,unknown:bx,handlers:{comment:UE,doctype:HE,element:lx,raw:hx,root:mx,text:Fh}});function gx(e){throw new Error("Expected node, not `"+e+"`")}function bx(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const yx={},Ex={},xx=[];function _x(e,t){const n=t||yx,r=n.quote||'"',s=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:vx,all:Tx,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||ME,characterReferences:n.characterReferences||Ex,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?_i:La,quote:r,alternative:s}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function vx(e,t,n){return px(e,t,n,this)}function Tx(e){const t=[],n=e&&e.children||xx;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function wx(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(s){return _x(s,n)}}function Fa({source:e}){const[t,n]=B.useState(300),r=B.useRef(null),s=()=>{var o,a,c;if(r.current)try{const d=(c=(a=(o=r.current.contentWindow)==null?void 0:o.document)==null?void 0:a.body)==null?void 0:c.scrollHeight;d&&d>50&&n(Math.max(d+32,200))}catch{}};B.useEffect(()=>{const o=setTimeout(s,100);return()=>clearTimeout(o)},[e]);const i=o=>{const a=Tb().use(PE,{fragment:!0}).use(Ra,sr.validHTML).use(wx).processSync(o);return`<!DOCTYPE html>
<html>
<head>
    <style>
        * { box-sizing: border-box; }
        html, body {
            margin: 0;
            padding: 0;
            min-height: 100%;
            background: #18181b;
            color: #e4e4e7;
            font-family: system-ui, -apple-system, sans-serif;
        }
    </style>
</head>
<body>${String(a)}</body>
</html>`};return E.jsx("iframe",{ref:r,onLoad:s,style:{width:"100%",height:`${t}px`,border:"none",borderRadius:"8px",display:"block"},srcDoc:i(e),sandbox:"allow-scripts allow-same-origin",title:"NFT HTML Content"})}const Ax=B.lazy(()=>ss(()=>import("./index-BCNa70Kg.js").then(e=>e.i),__vite__mapDeps([0,1,2,3,4,5])).then(async e=>(await ss(()=>import("./mode-html-Cjq9fmL4.js").then(n=>n.m),__vite__mapDeps([6,1])),await ss(()=>import("./theme-monokai-l0L8ZsWv.js").then(n=>n.t),__vite__mapDeps([7,1])),await ss(()=>import("./ext-language_tools-dj6MuGN6.js").then(n=>n.e),__vite__mapDeps([8,1])),(await ss(()=>import("./ace-DC6gpk9w.js").then(n=>n.a),__vite__mapDeps([9,1,2]))).config.set("useWorker",!1),{default:e.default}))),Nx=B.lazy(()=>ss(()=>import("./index-1qFw5GQN.js").then(e=>e.i),__vite__mapDeps([10,1])).then(e=>({default:e.Split})));function Sx({value:e,setValue:t,setPreviewOpen:n}){return E.jsx("div",{className:"rounded-lg border border-ink-700 relative",style:{zIndex:0},children:E.jsx("div",{style:{height:"500px"},children:E.jsxs(Nx,{horizontal:!1,onSplitChanged:()=>window.dispatchEvent(new Event("resize")),children:[E.jsx("div",{className:"h-full",children:E.jsx(Ax,{mode:"html",theme:"monokai",onChange:t,value:e,name:"html-editor",editorProps:{$blockScrolling:!1},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showPrintMargin:!1},width:"100%",height:"100%",fontSize:14})}),E.jsxs("div",{className:"h-full overflow-auto bg-ink-950 relative",children:[E.jsx("button",{type:"button",onClick:()=>n(!0),className:"absolute top-2 right-2 z-10 p-1.5 bg-ink-800/80 hover:bg-ink-700 rounded text-ink-400 hover:text-white transition-colors",title:"Expand preview",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),E.jsx(Fa,{source:e})]})]})})})}function kx({value:e,setValue:t}){const[n,r]=B.useState(!1);return E.jsxs(B.Fragment,{children:[E.jsx(B.Suspense,{fallback:E.jsx("div",{className:"rounded-lg border border-ink-700 bg-ink-900 flex items-center justify-center",style:{height:"500px"},children:E.jsx("div",{className:"text-ink-400",children:"Loading editor..."})}),children:E.jsx(Sx,{value:e,setValue:t,setPreviewOpen:r})}),n&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>r(!1)}),E.jsxs("div",{className:"relative w-full max-w-4xl h-[80vh] bg-ink-950 rounded-xl border border-ink-700 overflow-hidden",children:[E.jsx("div",{className:"absolute top-3 right-3 z-10",children:E.jsx("button",{type:"button",onClick:()=>r(!1),className:"p-2 bg-ink-800 hover:bg-ink-700 rounded-lg text-ink-400 hover:text-white transition-colors",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),E.jsx("div",{className:"h-full",children:E.jsx(Fa,{source:e})})]})]})]})}function Cx({textType:e,value:t,setValue:n}){switch(e){case"text/markdown":return E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"rounded-lg overflow-hidden border border-ink-700","data-color-mode":"dark",children:E.jsx(Yu,{value:t,onChange:n,highlightEnable:!1,previewOptions:{rehypePlugins:[()=>Ra(sr.validMarkdown)]},commands:Hr,height:400})}),E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("span",{className:"text-purple-400 text-lg",children:"#"}),E.jsxs("p",{className:"text-sm text-ink-400",children:["Need help with Markdown? Check the"," ",E.jsx("a",{className:"text-purple-400 hover:text-purple-300 underline",target:"_blank",rel:"noopener noreferrer",href:"https://docs.github.com/en/github/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax",children:"GitHub Markdown guide"})]})]})]});case"text/plain":return E.jsx("textarea",{className:"w-full h-[400px] px-4 py-3 bg-ink-900 border border-ink-700 rounded-lg text-ink-100 font-mono text-sm placeholder-ink-500 resize-none focus:outline-none focus:border-accent-cyan focus:ring-1 focus:ring-accent-cyan transition-colors",value:t,onChange:r=>n(r.target.value),placeholder:"Start writing your text..."});case"text/html":return E.jsxs("div",{className:"space-y-3",children:[E.jsx(kx,{value:t,setValue:n}),E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("span",{className:"text-amber-400 text-lg",children:"<Fragment>"}),E.jsx("p",{className:"text-sm text-ink-400",children:"Write HTML with inline CSS. External resources and scripts are sanitized for security."})]})]});default:return E.jsx("p",{className:"text-ink-400",children:"Unsupported editor type"})}}const Ox=Sr({key:"ensInfo",default:{}}),Ix=Sr({key:"queries",default:[]}),Uh=()=>{const[e,t]=St(Ox),[n,r]=St(Ix),s=async d=>{r([...n,d]);let p=null;try{p=await Wu.getEnsName({address:d})}catch{}return t(u=>({...u,[d]:{value:p,expiration:new Date(new Date().getTime()+Ke.ens.cacheExpiration)}})),r(u=>u.filter(l=>l!==d)),p},i=d=>(!e[d]||new Date(e[d].expiration)<new Date)&&!n.includes(d),o=d=>{t(p=>({...p,[d]:null}))};return{lookupEns:d=>{var u;return d&&(i(d)&&setTimeout(()=>s(d),0),(u=e[d])==null?void 0:u.value)},lookupEnsAsync:async(d,p)=>{var f;if(!d)return d;p&&o(d);const u=i(d)||p;let l;return u?l=await s(d):l=(f=e[d])==null?void 0:f.value,l},invalidateEns:o}};function gr({address:e,shorten:t,nChar:n,disableLink:r}){const{lookupEns:s}=Uh(),i=s(e)||(t?ib(e,n):e);return E.jsx("span",{className:"font-mono text-ink-300",children:r?i:E.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:Ke.blockExplorer.url+"/address/"+e,className:"hover:text-accent-cyan transition-colors underline decoration-ink-600 hover:decoration-accent-cyan",children:i})})}function Rx({type:e}){if(!e)return null;const t={"text/plain":{label:"TXT",bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",icon:""},"text/markdown":{label:"MD",bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",icon:"#"},"text/html":{label:"HTML",bg:"bg-amber-500/10",border:"border-amber-500/30",text:"text-amber-400",icon:"<>"}},n=t[e]||t["text/plain"];return E.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono ${n.bg} ${n.border} ${n.text} border`,children:[E.jsx("span",{className:"opacity-60 w-4 text-center",children:n.icon}),n.label]})}function Hh({id:e,prefetchedData:t}){const n=Ca(),[r,s]=B.useState(t?{name:t.name,description:t.description,text_uri:t.text_uri}:null),[i,o]=B.useState((t==null?void 0:t.author)||null),[a,c]=B.useState((t==null?void 0:t.content_type)||null),[d,p]=B.useState((t==null?void 0:t.content)||null),[u,l]=B.useState(!0),[f,m]=B.useState(null),[h,x]=B.useState(null),[g,y]=B.useState(null),[_,T]=B.useState(null),w=Ke.contractAddresses.v1.zang,k=Ke.contractAddresses.v1.marketplace;if(B.useEffect(()=>{if(!e)return;(async()=>{try{const N=t?Promise.resolve(t):fetch(`/api/nft/${e}`).then(q=>q.ok?q.json():null),[R,M]=await Promise.all([N,Qe.readContract({address:w,abi:qe.zang,functionName:"totalSupply",args:[BigInt(e)]})]);!t&&R&&(o(R.author),s({name:R.name,description:R.description,text_uri:R.text_uri}),c(R.content_type),p(R.content)),m(Number(M));const j=await Qe.readContract({address:k,abi:qe.marketplace,functionName:"listingCount",args:[BigInt(e)]}),H=Number(j);if(H>0){const q=[];for(let le=0;le<H;le++)q.push(Qe.readContract({address:k,abi:qe.marketplace,functionName:"listings",args:[BigInt(e),BigInt(le)]}));const _e=(await Promise.all(q)).map(([le,xe,Te])=>({price:le,seller:xe,amount:Te})).filter(le=>le.seller!==Ur);if(y(_e.reduce((le,xe)=>le+Number(xe.amount),0)),_e.length>0){const le=_e.map(xe=>parseFloat(xr(xe.price)));x(Math.min(...le))}}else y(0);const z=await Qe.getContractEvents({address:k,abi:qe.marketplace,eventName:"TokenPurchased",args:{_tokenId:BigInt(e)},fromBlock:BigInt(Ke.firstBlocks.v1.base.marketplace)});if(z.length>0){const q=z.reduce((ne,ae)=>{const _e=parseFloat(xr(ae.args._price)),le=Number(ae.args._amount);return ne+_e*le},0);T(q)}else T(0)}catch(N){Bo(N)&&l(!1)}})()},[e]),!u)return null;const S=()=>n("/nft?id="+e),v=A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),S())};return E.jsx("div",{className:"group relative cursor-pointer",onClick:S,onKeyDown:v,role:"button",tabIndex:0,children:E.jsxs("div",{className:"relative bg-ink-900/40 border border-ink-800 rounded-xl overflow-hidden transition-all duration-300 hover:border-ink-600 hover:bg-ink-900/60 hover:-translate-y-1 hover:shadow-xl hover:shadow-ink-950/50",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-ink-800/50 bg-ink-900/30",children:[E.jsxs("span",{className:"text-ink-600 text-xs font-mono",children:["#",e]}),E.jsx(Rx,{type:a})]}),E.jsxs("div",{className:"relative h-52 overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 p-4 overflow-hidden",children:a&&d!==null?a==="text/html"?E.jsx("div",{className:"absolute inset-0 [&>iframe]:!h-full [&>iframe]:!min-h-full",children:E.jsx(Fa,{source:d})}):a==="text/markdown"?E.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-ink-300","data-color-mode":"dark",children:E.jsx(Yu.Markdown,{source:d,rehypePlugins:[()=>Ra(sr.validMarkdown)]})}):E.jsx("pre",{className:"font-mono text-sm text-ink-300 leading-relaxed whitespace-pre overflow-x-auto",children:d}):E.jsx("div",{className:"space-y-2",children:E.jsx(on,{count:5,baseColor:"#1c1c1e",highlightColor:"#2a2a2e"})})}),E.jsx("div",{className:"absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-ink-900/90 to-transparent pointer-events-none"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-ink-950/40",children:E.jsx("span",{className:"px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg text-white text-sm font-medium border border-white/20",children:"Read more "})})]}),E.jsxs("div",{className:"px-3 py-2.5 bg-gradient-to-b from-ink-900 to-ink-900/80",children:[E.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E.jsx("h3",{className:"text-ink-100 font-medium text-sm leading-tight line-clamp-1 group-hover:text-white transition-colors flex-1 min-w-0",children:(r==null?void 0:r.name)||E.jsx(on,{baseColor:"#1c1c1e",highlightColor:"#2a2a2e",width:"70%"})}),i&&E.jsx("span",{className:"text-ink-500 text-xs font-mono shrink-0",children:E.jsx(gr,{address:i,shorten:!0,nChar:4,disableLink:!0})})]}),E.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 text-xs",children:[f!==null?E.jsxs("span",{className:"text-ink-500 whitespace-nowrap",children:[f," ed."]}):E.jsx(on,{width:30,baseColor:"#1c1c1e",highlightColor:"#2a2a2e"}),g!==null&&g>0&&E.jsxs(B.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-ink-500 whitespace-nowrap",children:[g," listed"]})]}),h!==null&&E.jsxs(B.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-green-400 whitespace-nowrap font-mono",children:[h," "]})]}),_!==null&&_>0&&E.jsxs(B.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-ink-400 whitespace-nowrap font-mono",children:[_.toFixed(4),"  vol"]})]})]})]})]})})}function ea({href:e,children:t,...n}){const r=Ca(),s=i=>{i.preventDefault(),r(e)};return E.jsx("a",{href:e,onClick:s,...n,children:t})}function Uc(){const{address:e}=cn(),{data:t}=V0({address:e,chainId:Ke.networks.main.chainId}),n=t?`${parseFloat(xr(t.value)).toFixed(4)} ETH`:null;return E.jsx(tp.Custom,{children:({account:r,chain:s,openAccountModal:i,openChainModal:o,openConnectModal:a,mounted:c})=>{const d=c,p=d&&r&&s;return E.jsx("div",{...!d&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:p?s.unsupported?E.jsx("button",{onClick:o,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-red-400 bg-red-900/20 rounded-lg border border-red-700/50 hover:bg-red-900/30 transition-colors",children:"Wrong network"}):E.jsxs("div",{className:"flex items-center bg-ink-800/50 rounded-lg border border-ink-700/50 overflow-hidden",children:[n&&s.id===Ke.networks.main.chainId&&E.jsx("div",{className:"px-3 py-2 flex items-center gap-2 text-ink-300 text-sm border-r border-ink-700/50",children:E.jsx("span",{className:"font-mono",children:n})}),E.jsxs("button",{onClick:i,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-ink-100 hover:bg-ink-700/50 transition-colors",children:[r.ensAvatar&&E.jsx("img",{className:"w-5 h-5 rounded-full object-cover",src:r.ensAvatar,alt:""}),E.jsx("span",{className:"font-mono text-xs",children:r.ensName||r.displayName})]})]}):E.jsxs("button",{onClick:a,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-ink-100 bg-ink-800/50 rounded-lg border border-ink-700/50 hover:bg-ink-700/50 transition-colors",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),E.jsx("span",{children:"Connect"})]})})}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Zo=function(e,t){return Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Zo(e,t)};function Lx(e,t){Zo(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ws=function(){return Ws=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ws.apply(this,arguments)};function Dx(e,t,n,r){var s,i=!1,o=0;function a(){s&&clearTimeout(s)}function c(){a(),i=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function d(){var p=this,u=Date.now()-o,l=arguments;if(i)return;function f(){o=Date.now(),n.apply(p,l)}function m(){s=void 0}r&&!s&&f(),a(),r===void 0&&u>e?f():t!==!0&&(s=setTimeout(r?m:f,r===void 0?e-u:e))}return d.cancel=c,d}var fs={Pixel:"Pixel",Percent:"Percent"},Hc={unit:fs.Percent,value:.8};function $c(e){return typeof e=="number"?{unit:fs.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:fs.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:fs.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Hc):(console.warn("scrollThreshold should be string or number"),Hc)}var $h=(function(e){Lx(t,e);function t(n){var r=e.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(s){r.lastScrollTop||(r.dragging=!0,s instanceof MouseEvent?r.startY=s.pageY:s instanceof TouchEvent&&(r.startY=s.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(s){r.dragging&&(s instanceof MouseEvent?r.currentY=s.pageY:s instanceof TouchEvent&&(r.currentY=s.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(s){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(s)},0);var i=r.props.height||r._scrollableNode?s.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(i,r.props.scrollThreshold):r.isElementAtBottom(i,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=i.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=Dx(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,r){var s=n.dataLength!==r.prevDataLength;return s?Ws(Ws({},r),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=$c(r);return i.unit===fs.Pixel?n.scrollTop<=i.value+s-n.scrollHeight+1:n.scrollTop<=i.value/100+s-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=$c(r);return i.unit===fs.Pixel?n.scrollTop+s>=n.scrollHeight-i.value:n.scrollTop+s>=i.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,r=Ws({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return X.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},X.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:r},this.props.pullDownToRefresh&&X.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},X.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t})(B.Component);function Ua(){const[e,t]=St(yn);return e?E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:E.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-start gap-3",children:[E.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("span",{className:"font-semibold",children:"Error:"})," ",e]})}),E.jsx("button",{onClick:()=>t(null),className:"text-red-400 hover:text-red-300 transition-colors","aria-label":"Dismiss error",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}const Yn=Object.create(null);Yn.open="0";Yn.close="1";Yn.ping="2";Yn.pong="3";Yn.message="4";Yn.upgrade="5";Yn.noop="6";const ta=Object.create(null);Object.keys(Yn).forEach(e=>{ta[Yn[e]]=e});const Jo={type:"error",data:"parser error"},zh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",qh=typeof ArrayBuffer=="function",Vh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ml=({type:e,data:t},n,r)=>zh&&t instanceof Blob?n?r(t):zc(t,r):qh&&(t instanceof ArrayBuffer||Vh(t))?n?r(t):zc(new Blob([t]),r):r(Yn[e]+(t||"")),zc=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function qc(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let yo;function Px(e,t){if(zh&&e.data instanceof Blob)return e.data.arrayBuffer().then(qc).then(t);if(qh&&(e.data instanceof ArrayBuffer||Vh(e.data)))return t(qc(e.data));ml(e,!1,n=>{yo||(yo=new TextEncoder),t(yo.encode(n))})}const Vc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",js=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Vc.length;e++)js[Vc.charCodeAt(e)]=e;const Mx=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),p=new Uint8Array(d);for(r=0;r<n;r+=4)i=js[e.charCodeAt(r)],o=js[e.charCodeAt(r+1)],a=js[e.charCodeAt(r+2)],c=js[e.charCodeAt(r+3)],p[s++]=i<<2|o>>4,p[s++]=(o&15)<<4|a>>2,p[s++]=(a&3)<<6|c&63;return d},jx=typeof ArrayBuffer=="function",pl=(e,t)=>{if(typeof e!="string")return{type:"message",data:Yh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Bx(e.substring(1),t)}:ta[n]?e.length>1?{type:ta[n],data:e.substring(1)}:{type:ta[n]}:Jo},Bx=(e,t)=>{if(jx){const n=Mx(e);return Yh(n,t)}else return{base64:!0,data:e}},Yh=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Wh="",Fx=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{ml(i,!1,a=>{r[o]=a,++s===n&&t(r.join(Wh))})})},Ux=(e,t)=>{const n=e.split(Wh),r=[];for(let s=0;s<n.length;s++){const i=pl(n[s],t);if(r.push(i),i.type==="error")break}return r};function Hx(){return new TransformStream({transform(e,t){Px(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Eo;function $i(e){return e.reduce((t,n)=>t+n.length,0)}function zi(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function $x(e,t){Eo||(Eo=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if($i(n)<1)break;const c=zi(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if($i(n)<2)break;const c=zi(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if($i(n)<8)break;const c=zi(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),p=d.getUint32(0);if(p>Math.pow(2,21)-1){a.enqueue(Jo);break}s=p*Math.pow(2,32)+d.getUint32(4),r=3}else{if($i(n)<s)break;const c=zi(n,s);a.enqueue(pl(i?c:Eo.decode(c),t)),r=0}if(s===0||s>e){a.enqueue(Jo);break}}}})}const Gh=4;function vt(e){if(e)return zx(e)}function zx(e){for(var t in vt.prototype)e[t]=vt.prototype[t];return e}vt.prototype.on=vt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};vt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};vt.prototype.off=vt.prototype.removeListener=vt.prototype.removeAllListeners=vt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};vt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};vt.prototype.emitReserved=vt.prototype.emit;vt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};vt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ha=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),bn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),qx="arraybuffer";function Kh(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Vx=bn.setTimeout,Yx=bn.clearTimeout;function $a(e,t){t.useNativeTimers?(e.setTimeoutFn=Vx.bind(bn),e.clearTimeoutFn=Yx.bind(bn)):(e.setTimeoutFn=bn.setTimeout.bind(bn),e.clearTimeoutFn=bn.clearTimeout.bind(bn))}const Wx=1.33;function Gx(e){return typeof e=="string"?Kx(e):Math.ceil((e.byteLength||e.size)*Wx)}function Kx(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Xh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xx(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Qx(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Zx extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class gl extends vt{constructor(t){super(),this.writable=!1,$a(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Zx(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=pl(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Xx(t);return n.length?"?"+n:""}}class Jx extends gl{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ux(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Fx(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Xh()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Qh=!1;try{Qh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const e_=Qh;function t_(){}class n_ extends Jx{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class qn extends vt{constructor(t,n,r){super(),this.createRequest=t,$a(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Kh(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=qn.requestsCount++,qn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=t_,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete qn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}qn.requestsCount=0;qn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Yc);else if(typeof addEventListener=="function"){const e="onpagehide"in bn?"pagehide":"unload";addEventListener(e,Yc,!1)}}function Yc(){for(let e in qn.requests)qn.requests.hasOwnProperty(e)&&qn.requests[e].abort()}const r_=(function(){const e=Zh({xdomain:!1});return e&&e.responseType!==null})();class s_ extends n_{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=r_&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new qn(Zh,this.uri(),t)}}function Zh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||e_))return new XMLHttpRequest}catch{}if(!t)try{return new bn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Jh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class i_ extends gl{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Jh?{}:Kh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;ml(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Ha(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Xh()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const xo=bn.WebSocket||bn.MozWebSocket;class a_ extends i_{createSocket(t,n,r){return Jh?new xo(t,n,r):n?new xo(t,n):new xo(t)}doWrite(t,n){this.ws.send(n)}}class o_ extends gl{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=$x(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Hx();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Ha(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const u_={websocket:a_,webtransport:o_,polling:s_},l_=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c_=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function eu(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=l_.exec(e||""),i={},o=14;for(;o--;)i[c_[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=d_(i,i.path),i.queryKey=f_(i,i.query),i}function d_(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function f_(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const tu=typeof addEventListener=="function"&&typeof removeEventListener=="function",na=[];tu&&addEventListener("offline",()=>{na.forEach(e=>e())},!1);class Er extends vt{constructor(t,n){if(super(),this.binaryType=qx,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=eu(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=eu(n.host).host);$a(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qx(this.opts.query)),tu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},na.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Gh,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Er.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Er.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Gx(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ha(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Er.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),tu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=na.indexOf(this._offlineEventListener);r!==-1&&na.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Er.protocol=Gh;class h_ extends Er{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Er.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Er.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const l=new Error("probe error");l.transport=n.name,this.emitReserved("upgradeError",l)}}))};function i(){r||(r=!0,p(),n.close(),n=null)}const o=u=>{const l=new Error("probe error: "+u);l.transport=n.name,i(),this.emitReserved("upgradeError",l)};function a(){o("transport closed")}function c(){o("socket closed")}function d(u){n&&u.name!==n.name&&i()}const p=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let m_=class extends h_{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>u_[s]).filter(s=>!!s)),super(t,r)}};function p_(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=eu(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const g_=typeof ArrayBuffer=="function",b_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,em=Object.prototype.toString,y_=typeof Blob=="function"||typeof Blob<"u"&&em.call(Blob)==="[object BlobConstructor]",E_=typeof File=="function"||typeof File<"u"&&em.call(File)==="[object FileConstructor]";function bl(e){return g_&&(e instanceof ArrayBuffer||b_(e))||y_&&e instanceof Blob||E_&&e instanceof File}function ra(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ra(e[n]))return!0;return!1}if(bl(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ra(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ra(e[n]))return!0;return!1}function x_(e){const t=[],n=e.data,r=e;return r.data=nu(n,t),r.attachments=t.length,{packet:r,buffers:t}}function nu(e,t){if(!e)return e;if(bl(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=nu(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=nu(e[r],t));return n}return e}function __(e,t){return e.data=ru(e.data,t),delete e.attachments,e}function ru(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ru(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ru(e[n],t));return e}const tm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],v_=5;var Ue;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ue||(Ue={}));class T_{constructor(t){this.replacer=t}encode(t){return(t.type===Ue.EVENT||t.type===Ue.ACK)&&ra(t)?this.encodeAsBinary({type:t.type===Ue.EVENT?Ue.BINARY_EVENT:Ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ue.BINARY_EVENT||t.type===Ue.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=x_(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class yl extends vt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ue.BINARY_EVENT;r||n.type===Ue.BINARY_ACK?(n.type=r?Ue.EVENT:Ue.ACK,this.reconstructor=new w_(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(bl(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ue[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ue.BINARY_EVENT||r.type===Ue.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(yl.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ue.CONNECT:return ba(n);case Ue.DISCONNECT:return n===void 0;case Ue.CONNECT_ERROR:return typeof n=="string"||ba(n);case Ue.EVENT:case Ue.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&tm.indexOf(n[0])===-1);case Ue.ACK:case Ue.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class w_{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=__(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function A_(e){return typeof e=="string"}const N_=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function S_(e){return e===void 0||N_(e)}function ba(e){return Object.prototype.toString.call(e)==="[object Object]"}function k_(e,t){switch(e){case Ue.CONNECT:return t===void 0||ba(t);case Ue.DISCONNECT:return t===void 0;case Ue.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&tm.indexOf(t[0])===-1);case Ue.ACK:return Array.isArray(t);case Ue.CONNECT_ERROR:return typeof t=="string"||ba(t);default:return!1}}function C_(e){return A_(e.nsp)&&S_(e.id)&&k_(e.type,e.data)}const O_=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yl,Encoder:T_,get PacketType(){return Ue},isPacketValid:C_,protocol:v_},Symbol.toStringTag,{value:"Module"}));function vn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const I_=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class nm extends vt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[vn(t,"open",this.onopen.bind(this)),vn(t,"packet",this.onpacket.bind(this)),vn(t,"error",this.onerror.bind(this)),vn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(I_.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ue.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,u=n.pop();this._registerAckCallback(p,u),o.id=p}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>(this._queue[0],s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ue.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ue.EVENT:case Ue.BINARY_EVENT:this.onevent(t);break;case Ue.ACK:case Ue.BINARY_ACK:this.onack(t);break;case Ue.DISCONNECT:this.ondisconnect();break;case Ue.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ue.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Ts(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ts.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Ts.prototype.reset=function(){this.attempts=0};Ts.prototype.setMin=function(e){this.ms=e};Ts.prototype.setMax=function(e){this.max=e};Ts.prototype.setJitter=function(e){this.jitter=e};class su extends vt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,$a(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ts({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||O_;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new m_(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=vn(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=vn(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(vn(t,"ping",this.onping.bind(this)),vn(t,"data",this.ondata.bind(this)),vn(t,"error",this.onerror.bind(this)),vn(t,"close",this.onclose.bind(this)),vn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ha(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new nm(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ds={};function sa(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=p_(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Ds[s]&&i in Ds[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new su(r,t):(Ds[s]||(Ds[s]=new su(r,t)),c=Ds[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(sa,{Manager:su,Socket:nm,io:sa,connect:sa});let Ps=null;function rm(){return Ps||(Ps=sa(void 0,{transports:["websocket","polling"],autoConnect:!0}),Ps.on("connect",()=>{console.log("WebSocket connected")}),Ps.on("disconnect",()=>{console.log("WebSocket disconnected")})),Ps}function R_(e){B.useEffect(()=>{const t=rm(),n=r=>{e&&e(r)};return t.on("newEvents",n),()=>{t.off("newEvents",n)}},[e])}function L_(){const[e,t]=B.useState(!1);return B.useEffect(()=>{const n=rm();t(n.connected);const r=()=>t(!0),s=()=>t(!1);return n.on("connect",r),n.on("disconnect",s),()=>{n.off("connect",r),n.off("disconnect",s)}},[]),e}function D_(e){if(!e)return"unknown";const n=new Date-new Date(e),r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60);return r<10?"just now":r<60?`${r}s ago`:s<60?`${s}m ago`:i<24?`${i}h ago`:new Date(e).toLocaleDateString()}function P_(e,t=30){if(!e)return"unknown";const n=new Date,r=new Date(e),s=(n-r)/1e3;return s<t*2?"fresh":s<t*5?"stale":"very-stale"}function sm({meta:e,onRefresh:t,compact:n=!1}){const[r,s]=B.useState(""),[i,o]=B.useState(!1);B.useEffect(()=>{const f=()=>s(D_(e==null?void 0:e.lastSyncTime));f();const m=setInterval(f,1e4);return()=>clearInterval(m)},[e==null?void 0:e.lastSyncTime]);const a=B.useCallback(async()=>{if(!(!t||i)){o(!0);try{await t()}finally{o(!1)}}},[t,i]);if(!e)return null;const c=P_(e.lastSyncTime,e.syncIntervalSeconds),d=e.isSyncing||i,p={fresh:"text-green-500",stale:"text-yellow-500","very-stale":"text-red-500",unknown:"text-ink-500"},u={fresh:"bg-green-500",stale:"bg-yellow-500","very-stale":"bg-red-500",unknown:"bg-ink-500"},l=e.isCatchingUp||e.syncProgress!==void 0&&e.syncProgress<99;return n?E.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-ink-500",children:[E.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${d||l?"bg-blue-500 animate-pulse":u[c]}`}),E.jsx("span",{children:d?"Syncing...":l?`Syncing ${e.syncProgress}%`:r})]}):E.jsxs("div",{className:"flex items-center justify-between gap-4 px-3 py-2 bg-ink-900/30 rounded-lg border border-ink-800/50",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:`w-2 h-2 rounded-full ${d||l?"bg-blue-500 animate-pulse":u[c]}`}),E.jsx("span",{className:"text-xs text-ink-400",children:d?"Syncing blockchain data...":l?E.jsxs(E.Fragment,{children:["Catching up... ",E.jsxs("span",{className:"text-blue-400",children:[e.syncProgress,"%"]}),e.blocksRemaining&&E.jsxs("span",{className:"text-ink-600 ml-1",children:["(",Math.round(e.blocksRemaining/1e3),"k blocks remaining)"]})]}):E.jsxs(E.Fragment,{children:["Updated ",E.jsx("span",{className:p[c],children:r}),e.lastSyncBlock&&E.jsxs("span",{className:"text-ink-600 ml-1",children:["(block ",e.lastSyncBlock.toLocaleString(),")"]})]})})]}),t&&!d&&!l&&c!=="fresh"&&E.jsxs("button",{onClick:a,className:"flex items-center gap-1 text-xs text-ink-400 hover:text-ink-200 transition-colors",children:[E.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})}function im(){const[e,t]=B.useState(null),n=B.useCallback(r=>{r&&t(r)},[]);return[e,n]}function M_({phrases:e}){const[t,n]=B.useState(0),[r,s]=B.useState(""),[i,o]=B.useState(!1),a=Math.max(...e.map(c=>c.length));return B.useEffect(()=>{const c=e[t],d=setTimeout(()=>{i?r.length>0?s(r.slice(0,-1)):(o(!1),n(p=>(p+1)%e.length)):r.length<c.length?s(c.slice(0,r.length+1)):setTimeout(()=>o(!0),2e3)},i?50:100);return()=>clearTimeout(d)},[r,i,t,e]),E.jsxs("span",{className:"inline-block text-center",style:{width:`${a+1}ch`},children:[E.jsx("span",{className:"text-white",children:r}),E.jsx("span",{className:"animate-pulse text-accent-cyan",children:"|"})]})}function Wc({value:e,suffix:t=""}){const[n,r]=B.useState(0);return B.useEffect(()=>{if(e==null)return;const s=1500,i=30,o=e/i;let a=0,c=0;const d=setInterval(()=>{c++,a=Math.min(Math.round(o*c),e),r(a),c>=i&&clearInterval(d)},s/i);return()=>clearInterval(d)},[e]),E.jsxs("span",{children:[n.toLocaleString(),t]})}function j_({events:e}){const[t,n]=B.useState(0);if(B.useEffect(()=>{if(!e||e.length===0)return;const o=setInterval(()=>{n(a=>(a+1)%e.length)},3e3);return()=>clearInterval(o)},[e]),!e||e.length===0)return null;const r=e[t],s=o=>{switch(o.type){case"mint":return`New ${o.contentType} minted`;case"purchase":return`Sold for ${o.price} ETH`;case"list":return`Listed for ${o.price} ETH`;default:return"New activity"}},i=o=>{switch(o.type){case"mint":return"";case"purchase":return"";case"list":return"";default:return""}};return E.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-ink-400",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),E.jsxs(kf,{to:`/nft?id=${r.id}`,className:"transition-opacity duration-300 hover:text-ink-200",children:[i(r)," ",E.jsxs("span",{className:"text-ink-500",children:["#",r.id]})," ",E.jsx("span",{className:"text-ink-200 font-medium",children:r.title})," "," ",s(r)]})]})}function B_(){const e=Ca(),[t,n]=B.useState(null),[r,s]=B.useState([]),[i,o]=B.useState({}),[,a]=St(yn),[c,d]=B.useState([]),[p,u]=B.useState(null),[l,f]=B.useState(null),[m,h]=im(),x=6,g=Ke.contractAddresses.v1.zang;B.useEffect(()=>{(async()=>{try{const w=await Qe.readContract({address:g,abi:qe.zang,functionName:"lastTokenId"});n(Number(w))}catch(w){a(jt(w))}})()},[a]),B.useEffect(()=>{(async()=>{try{const w=await fetch("/api/activity");if(!w.ok)throw new Error("Failed to fetch activity");const{events:k,_meta:S}=await w.json();h(S);const v=k.slice(0,50).map(j=>{const H=j.data;let z="transfer",q=null;return j.event_type==="TransferSingle"&&H.from==="0x0000000000000000000000000000000000000000"?z="mint":j.event_type==="TokenPurchased"?(z="purchase",q=xr(BigInt(H._price||0))):j.event_type==="TokenListed"&&(z="list",q=xr(BigInt(H._price||0))),{type:z,id:j.token_id.toString(),blockNumber:Number(j.block_number),price:q}}).filter(j=>j.type!=="transfer").slice(0,10),A=[...new Set(v.map(j=>j.id))],N=await fetch("/api/nfts/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:A})}),R={};if(N.ok){const{nfts:j}=await N.json();for(const H of j)if(H.data){let z="text";H.data.content_type==="text/html"?z="HTML":H.data.content_type==="text/markdown"&&(z="Markdown"),R[H.id]={title:H.data.name||`#${H.id}`,contentType:z}}else R[H.id]={title:`#${H.id}`,contentType:"text"}}const M=v.map(j=>{var H,z;return{...j,title:((H=R[j.id])==null?void 0:H.title)||`#${j.id}`,contentType:((z=R[j.id])==null?void 0:z.contentType)||"text"}});d(M)}catch(w){console.error("Error fetching activity:",w)}})()},[]),B.useEffect(()=>{(async()=>{try{const w=await fetch("/api/stats");if(w.ok){const k=await w.json();k.uniqueArtists>0&&f(k.uniqueArtists),k.totalVolumeEth!==void 0&&u(k.totalVolumeEth)}}catch{}})()},[]),L_();const y=B.useCallback(async T=>{const w=T.filter(A=>A.type==="TransferSingle"||A.type==="TokenListed"||A.type==="TokenPurchased");if(w.length===0)return;const k=[...new Set(w.map(A=>A.tokenId.toString()))],S={};try{const A=await fetch("/api/nfts/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:k})});if(A.ok){const{nfts:N}=await A.json();for(const R of N)if(R.data){let M="text";R.data.content_type==="text/html"?M="HTML":R.data.content_type==="text/markdown"&&(M="Markdown"),S[R.id]={title:R.data.name||`#${R.id}`,contentType:M}}}}catch{}const v=w.map(A=>{var R,M;let N="transfer";return A.type==="TransferSingle"?N="mint":A.type==="TokenPurchased"?N="purchase":A.type==="TokenListed"&&(N="list"),{type:N,id:A.tokenId.toString(),blockNumber:A.blockNumber,title:((R=S[A.tokenId])==null?void 0:R.title)||`#${A.tokenId}`,contentType:((M=S[A.tokenId])==null?void 0:M.contentType)||"text"}}).filter(A=>A.type!=="transfer");if(d(A=>[...v,...A].slice(0,15)),w.some(A=>A.type==="TransferSingle"))try{const A=await Qe.readContract({address:g,abi:qe.zang,functionName:"lastTokenId"});n(Number(A))}catch{}},[g]);R_(y);const _=async T=>{const w=[...r],k=[];for(let S=0;S<T;S++){const v=t-w.length-S;v>=1&&k.push(v)}if(k.length!==0){s([...w,...k]);try{const S=await fetch("/api/nfts/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:k})});if(S.ok){const{nfts:v}=await S.json(),A={...i};for(const N of v)N.data&&(A[N.id]=N.data);o(A)}}catch{}}};return B.useEffect(()=>{t!==null&&_(12)},[t]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Kr,{}),E.jsx(Ua,{}),E.jsxs("section",{className:"relative overflow-hidden",children:[E.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24",children:E.jsxs("div",{className:"text-center space-y-8",children:[E.jsx("p",{className:"text-ink-500 font-mono text-xs sm:text-sm tracking-widest uppercase",children:"A canvas for writers & creators"}),E.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-mono leading-tight",children:[E.jsx("span",{className:"text-ink-400 hidden sm:inline",children:">"})," ",E.jsx(M_,{phrases:["Write beautifully.","Words, forever.","Code is poetry.","Text is art.","Create freely."]})]}),E.jsxs("p",{className:"text-ink-400 text-lg sm:text-xl max-w-2xl mx-auto leading-relaxed",children:["Mint your"," ",E.jsx("span",{className:"text-ink-200",children:"poetry"}),","," ",E.jsx("span",{className:"text-ink-200",children:"stories"}),","," ",E.jsx("span",{className:"text-ink-200",children:"code"}),", and"," ",E.jsx("span",{className:"text-ink-200",children:"HTML art"})," as NFTs. No images required. Pure text, onchain forever."]}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-2",children:[E.jsx("button",{onClick:()=>e("/mint"),className:"group relative px-8 py-4 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-all duration-200 text-lg",children:E.jsxs("span",{className:"flex items-center justify-center gap-3",children:[E.jsx("span",{className:"font-mono text-ink-500",children:"$"}),"Start Writing"]})}),E.jsx("button",{onClick:()=>{document.getElementById("gallery").scrollIntoView({behavior:"smooth"})},className:"px-8 py-4 border border-ink-700 text-ink-300 font-medium rounded-lg hover:border-ink-500 hover:text-white transition-all duration-200 text-lg",children:"Browse Gallery"})]}),E.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8 pt-6",children:[t&&E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-mono text-white",children:E.jsx(Wc,{value:t})}),E.jsx("div",{className:"text-ink-500 text-sm",children:"texts minted"})]}),l&&l>0&&E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-mono text-white",children:E.jsx(Wc,{value:l})}),E.jsx("div",{className:"text-ink-500 text-sm",children:"artists"})]}),p!==null&&p>0&&E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-3xl font-mono text-white",children:[p.toFixed(3)," ",E.jsx("span",{className:"text-ink-400",children:""})]}),E.jsx("div",{className:"text-ink-500 text-sm",children:"total volume"})]})]}),E.jsx("div",{className:"pt-8",children:E.jsx(j_,{events:c})})]})}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-ink-800 to-transparent"})]}),E.jsxs("section",{id:"gallery",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[E.jsxs("div",{className:"flex items-center justify-between mb-10",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("h2",{className:"text-2xl sm:text-3xl font-mono text-ink-100",children:"Latest Works"}),E.jsx("p",{className:"text-ink-500 text-sm",children:"Fresh from the creative minds"})]}),m&&E.jsx("div",{className:"hidden sm:block",children:E.jsx(sm,{meta:m,compact:!0})})]}),E.jsx($h,{dataLength:r.length,next:()=>_(x),hasMore:r.length<t,loader:E.jsx("div",{className:"col-span-full flex justify-center py-8",children:E.jsxs("div",{className:"flex items-center gap-3 text-ink-400",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{children:"Loading more..."})]})}),endMessage:t===null?E.jsx("div",{className:"col-span-full flex justify-center py-8",children:E.jsxs("div",{className:"flex items-center gap-3 text-ink-400",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{children:"Loading..."})]})}):E.jsxs("div",{className:"col-span-full text-center py-12",children:[E.jsxs("p",{className:"text-ink-500",children:["You've seen all ",t," NFTs!"]}),E.jsx("button",{onClick:()=>e("/mint"),className:"mt-4 text-accent-cyan hover:text-accent-cyan/80 transition-colors",children:"Create your own "})]}),children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:r.map(T=>E.jsx(Hh,{id:T,prefetchedData:i[T]},T))})})]})]})}const Gc={amount:1};function F_({isOpen:e,setIsOpen:t,onClose:n,maxAmount:r,sellerBalance:s,price:i}){const{register:o,formState:{isDirty:a,isValid:c,errors:d},handleSubmit:p,watch:u}=gi({defaultValues:Gc,mode:"onChange",resolver:bi(sr.buy)}),l=u("amount",Gc.amount),f=()=>l<=Math.min(r,s),m=x=>{x&&n(x.amount),t(!1)},h=()=>{if(!(!l||i<=0))try{return(Number(l)*Number(i)).toString()}catch{return}};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>m(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Buy NFT"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Listed"}),E.jsx("p",{className:"text-white font-mono",children:r})]}),E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Price Each"}),E.jsxs("p",{className:"text-white font-mono",children:[i," ETH"]})]})]}),s<r&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:["Seller only has ",s," available"]})}),E.jsx(Nn,{label:"Amount to Buy",name:"amount",type:"number",step:"1",min:"1",errors:d,register:o}),E.jsxs("div",{className:"p-4 rounded-lg bg-accent-cyan/10 border border-accent-cyan/20",children:[E.jsx("p",{className:"text-xs text-ink-400 uppercase tracking-wide mb-1",children:"Total"}),E.jsx("p",{className:"text-2xl font-bold text-accent-cyan font-mono",children:h()&&d.amount===void 0?`${h()} ETH`:""})]}),!f()&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"}),l<=r?` Cannot buy more than seller's balance (${s}).`:` Cannot buy more than listed amount (${r}).`]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>m(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!c&&a||!f()?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!c&&a||!f(),onClick:p(m),children:"Buy Now"})]})]})]}):null}function U_({nftId:e,listingId:t,price:n,maxAmount:r,sellerBalance:s,onUpdate:i}){s=s||0;const o=Ke.contractAddresses.v1.marketplace,a=qe.marketplace,{isConnected:c}=cn(),{writeContractAsync:d}=Nr(),[p,u]=St(yn),l=kr(),[f,m]=B.useState(!1),h=async x=>{if(x===null){u("Please enter an amount.");return}if(!e){u("Could not determine the ID of the NFT.");return}if(!c){u("Please connect a wallet.");return}u(null);const y=ca(n)*BigInt(x),_=async()=>await d({address:o,abi:a,functionName:"buyToken",args:[BigInt(e),BigInt(t),BigInt(x)],value:y,...zn()}),{success:T}=await l(_,`Buy NFTs #${e}`);T&&i&&i(e)};return E.jsxs(B.Fragment,{children:[E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${s===0?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:s===0,onClick:()=>m(!0),children:"Buy"}),E.jsx(F_,{isOpen:f,setIsOpen:m,onClose:h,maxAmount:r,sellerBalance:s,price:n})]})}const bs=Math.min,Br=Math.max,ya=Math.round,qi=Math.floor,Vn=e=>({x:e,y:e}),H_={left:"right",right:"left",bottom:"top",top:"bottom"},$_={start:"end",end:"start"};function iu(e,t,n){return Br(e,bs(t,n))}function Ti(e,t){return typeof e=="function"?e(t):e}function $r(e){return e.split("-")[0]}function wi(e){return e.split("-")[1]}function am(e){return e==="x"?"y":"x"}function El(e){return e==="y"?"height":"width"}const z_=new Set(["top","bottom"]);function br(e){return z_.has($r(e))?"y":"x"}function xl(e){return am(br(e))}function q_(e,t,n){n===void 0&&(n=!1);const r=wi(e),s=xl(e),i=El(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ea(o)),[o,Ea(o)]}function V_(e){const t=Ea(e);return[au(e),t,au(t)]}function au(e){return e.replace(/start|end/g,t=>$_[t])}const Kc=["left","right"],Xc=["right","left"],Y_=["top","bottom"],W_=["bottom","top"];function G_(e,t,n){switch(e){case"top":case"bottom":return n?t?Xc:Kc:t?Kc:Xc;case"left":case"right":return t?Y_:W_;default:return[]}}function K_(e,t,n,r){const s=wi(e);let i=G_($r(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(au)))),i}function Ea(e){return e.replace(/left|right|bottom|top/g,t=>H_[t])}function X_(e){return{top:0,right:0,bottom:0,left:0,...e}}function om(e){return typeof e!="number"?X_(e):{top:e,right:e,bottom:e,left:e}}function xa(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Qc(e,t,n){let{reference:r,floating:s}=e;const i=br(t),o=xl(t),a=El(o),c=$r(t),d=i==="y",p=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,l=r[a]/2-s[a]/2;let f;switch(c){case"top":f={x:p,y:r.y-s.height};break;case"bottom":f={x:p,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-s.width,y:u};break;default:f={x:r.x,y:r.y}}switch(wi(t)){case"start":f[o]-=l*(n&&d?-1:1);break;case"end":f[o]+=l*(n&&d?-1:1);break}return f}const Q_=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:u}=Qc(d,r,c),l=r,f={},m=0;for(let h=0;h<a.length;h++){const{name:x,fn:g}=a[h],{x:y,y:_,data:T,reset:w}=await g({x:p,y:u,initialPlacement:r,placement:l,strategy:s,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});p=y??p,u=_??u,f={...f,[x]:{...f[x],...T}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(l=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:p,y:u}=Qc(d,l,c)),h=-1)}return{x:p,y:u,placement:l,strategy:s,middlewareData:f}};async function um(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:u="floating",altBoundary:l=!1,padding:f=0}=Ti(t,e),m=om(f),x=a[l?u==="floating"?"reference":"floating":u],g=xa(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:p,strategy:c})),y=u==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),T=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},w=xa(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:c}):y);return{top:(g.top-w.top+m.top)/T.y,bottom:(w.bottom-g.bottom+m.bottom)/T.y,left:(g.left-w.left+m.left)/T.x,right:(w.right-g.right+m.right)/T.x}}const Z_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:d,padding:p=0}=Ti(e,t)||{};if(d==null)return{};const u=om(p),l={x:n,y:r},f=xl(s),m=El(f),h=await o.getDimensions(d),x=f==="y",g=x?"top":"left",y=x?"bottom":"right",_=x?"clientHeight":"clientWidth",T=i.reference[m]+i.reference[f]-l[f]-i.floating[m],w=l[f]-i.reference[f],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=k?k[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=a.floating[_]||i.floating[m]);const v=T/2-w/2,A=S/2-h[m]/2-1,N=bs(u[g],A),R=bs(u[y],A),M=N,j=S-h[m]-R,H=S/2-h[m]/2+v,z=iu(M,H,j),q=!c.arrow&&wi(s)!=null&&H!==z&&i.reference[m]/2-(H<M?N:R)-h[m]/2<0,ne=q?H<M?H-M:H-j:0;return{[f]:l[f]+ne,data:{[f]:z,centerOffset:H-z-ne,...q&&{alignmentOffset:ne}},reset:q}}}),J_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=t,{mainAxis:p=!0,crossAxis:u=!0,fallbackPlacements:l,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...x}=Ti(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=$r(s),y=br(a),_=$r(a)===a,T=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=l||(_||!h?[Ea(a)]:V_(a)),k=m!=="none";!l&&k&&w.push(...K_(a,h,m,T));const S=[a,...w],v=await um(t,x),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&A.push(v[g]),u){const H=q_(s,o,T);A.push(v[H[0]],v[H[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(H=>H<=0)){var R,M;const H=(((R=i.flip)==null?void 0:R.index)||0)+1,z=S[H];if(z&&(!(u==="alignment"?y!==br(z):!1)||N.every(ae=>br(ae.placement)===y?ae.overflows[0]>0:!0)))return{data:{index:H,overflows:N},reset:{placement:z}};let q=(M=N.filter(ne=>ne.overflows[0]<=0).sort((ne,ae)=>ne.overflows[1]-ae.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(f){case"bestFit":{var j;const ne=(j=N.filter(ae=>{if(k){const _e=br(ae.placement);return _e===y||_e==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(_e=>_e>0).reduce((_e,le)=>_e+le,0)]).sort((ae,_e)=>ae[1]-_e[1])[0])==null?void 0:j[0];ne&&(q=ne);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}},ev=new Set(["left","top"]);async function tv(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=$r(n),a=wi(n),c=br(n)==="y",d=ev.has(o)?-1:1,p=i&&c?-1:1,u=Ti(t,e);let{mainAxis:l,crossAxis:f,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),c?{x:f*p,y:l*d}:{x:l*d,y:f*p}}const nv=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await tv(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},rv=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...c}=Ti(e,t),d={x:n,y:r},p=await um(t,c),u=br($r(s)),l=am(u);let f=d[l],m=d[u];if(i){const x=l==="y"?"top":"left",g=l==="y"?"bottom":"right",y=f+p[x],_=f-p[g];f=iu(y,f,_)}if(o){const x=u==="y"?"top":"left",g=u==="y"?"bottom":"right",y=m+p[x],_=m-p[g];m=iu(y,m,_)}const h=a.fn({...t,[l]:f,[u]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[l]:i,[u]:o}}}}}};function za(){return typeof window<"u"}function ws(e){return lm(e)?(e.nodeName||"").toLowerCase():"#document"}function ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kn(e){var t;return(t=(lm(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lm(e){return za()?e instanceof Node||e instanceof ln(e).Node:!1}function Cn(e){return za()?e instanceof Element||e instanceof ln(e).Element:!1}function Wn(e){return za()?e instanceof HTMLElement||e instanceof ln(e).HTMLElement:!1}function Zc(e){return!za()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ln(e).ShadowRoot}const sv=new Set(["inline","contents"]);function Ai(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=On(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!sv.has(s)}const iv=new Set(["table","td","th"]);function av(e){return iv.has(ws(e))}const ov=[":popover-open",":modal"];function qa(e){return ov.some(t=>{try{return e.matches(t)}catch{return!1}})}const uv=["transform","translate","scale","rotate","perspective"],lv=["transform","translate","scale","rotate","perspective","filter"],cv=["paint","layout","strict","content"];function _l(e){const t=vl(),n=Cn(e)?On(e):e;return uv.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||lv.some(r=>(n.willChange||"").includes(r))||cv.some(r=>(n.contain||"").includes(r))}function dv(e){let t=_r(e);for(;Wn(t)&&!ys(t);){if(_l(t))return t;if(qa(t))return null;t=_r(t)}return null}function vl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fv=new Set(["html","body","#document"]);function ys(e){return fv.has(ws(e))}function On(e){return ln(e).getComputedStyle(e)}function Va(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _r(e){if(ws(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zc(e)&&e.host||Kn(e);return Zc(t)?t.host:t}function cm(e){const t=_r(e);return ys(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(t)&&Ai(t)?t:cm(t)}function Js(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=cm(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=ln(s);if(i){const a=ou(o);return t.concat(o,o.visualViewport||[],Ai(s)?s:[],a&&n?Js(a):[])}return t.concat(s,Js(s,[],n))}function ou(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dm(e){const t=On(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Wn(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=ya(n)!==i||ya(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Tl(e){return Cn(e)?e:e.contextElement}function hs(e){const t=Tl(e);if(!Wn(t))return Vn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=dm(t);let o=(i?ya(n.width):n.width)/r,a=(i?ya(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const hv=Vn(0);function fm(e){const t=ln(e);return!vl()||!t.visualViewport?hv:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mv(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ln(e)?!1:t}function zr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Tl(e);let o=Vn(1);t&&(r?Cn(r)&&(o=hs(r)):o=hs(e));const a=mv(i,n,r)?fm(i):Vn(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,p=s.width/o.x,u=s.height/o.y;if(i){const l=ln(i),f=r&&Cn(r)?ln(r):r;let m=l,h=ou(m);for(;h&&r&&f!==m;){const x=hs(h),g=h.getBoundingClientRect(),y=On(h),_=g.left+(h.clientLeft+parseFloat(y.paddingLeft))*x.x,T=g.top+(h.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,d*=x.y,p*=x.x,u*=x.y,c+=_,d+=T,m=ln(h),h=ou(m)}}return xa({width:p,height:u,x:c,y:d})}function Ya(e,t){const n=Va(e).scrollLeft;return t?t.left+n:zr(Kn(e)).left+n}function hm(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ya(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function pv(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Kn(r),a=t?qa(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Vn(1);const p=Vn(0),u=Wn(r);if((u||!u&&!i)&&((ws(r)!=="body"||Ai(o))&&(c=Va(r)),Wn(r))){const f=zr(r);d=hs(r),p.x=f.x+r.clientLeft,p.y=f.y+r.clientTop}const l=o&&!u&&!i?hm(o,c):Vn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+l.x,y:n.y*d.y-c.scrollTop*d.y+p.y+l.y}}function gv(e){return Array.from(e.getClientRects())}function bv(e){const t=Kn(e),n=Va(e),r=e.ownerDocument.body,s=Br(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Br(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ya(e);const a=-n.scrollTop;return On(r).direction==="rtl"&&(o+=Br(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Jc=25;function yv(e,t){const n=ln(e),r=Kn(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const p=vl();(!p||p&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const d=Ya(r);if(d<=0){const p=r.ownerDocument,u=p.body,l=getComputedStyle(u),f=p.compatMode==="CSS1Compat"&&parseFloat(l.marginLeft)+parseFloat(l.marginRight)||0,m=Math.abs(r.clientWidth-u.clientWidth-f);m<=Jc&&(i-=m)}else d<=Jc&&(i+=d);return{width:i,height:o,x:a,y:c}}const Ev=new Set(["absolute","fixed"]);function xv(e,t){const n=zr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Wn(e)?hs(e):Vn(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function ed(e,t,n){let r;if(t==="viewport")r=yv(e,n);else if(t==="document")r=bv(Kn(e));else if(Cn(t))r=xv(t,n);else{const s=fm(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return xa(r)}function mm(e,t){const n=_r(e);return n===t||!Cn(n)||ys(n)?!1:On(n).position==="fixed"||mm(n,t)}function _v(e,t){const n=t.get(e);if(n)return n;let r=Js(e,[],!1).filter(a=>Cn(a)&&ws(a)!=="body"),s=null;const i=On(e).position==="fixed";let o=i?_r(e):e;for(;Cn(o)&&!ys(o);){const a=On(o),c=_l(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&Ev.has(s.position)||Ai(o)&&!c&&mm(e,o))?r=r.filter(p=>p!==o):s=a,o=_r(o)}return t.set(e,r),r}function vv(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?qa(t)?[]:_v(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,p)=>{const u=ed(t,p,s);return d.top=Br(u.top,d.top),d.right=bs(u.right,d.right),d.bottom=bs(u.bottom,d.bottom),d.left=Br(u.left,d.left),d},ed(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Tv(e){const{width:t,height:n}=dm(e);return{width:t,height:n}}function wv(e,t,n){const r=Wn(t),s=Kn(t),i=n==="fixed",o=zr(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Vn(0);function d(){c.x=Ya(s)}if(r||!r&&!i)if((ws(t)!=="body"||Ai(s))&&(a=Va(t)),r){const f=zr(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&d();i&&!r&&s&&d();const p=s&&!r&&!i?hm(s,a):Vn(0),u=o.left+a.scrollLeft-c.x-p.x,l=o.top+a.scrollTop-c.y-p.y;return{x:u,y:l,width:o.width,height:o.height}}function _o(e){return On(e).position==="static"}function td(e,t){if(!Wn(e)||On(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Kn(e)===n&&(n=n.ownerDocument.body),n}function pm(e,t){const n=ln(e);if(qa(e))return n;if(!Wn(e)){let s=_r(e);for(;s&&!ys(s);){if(Cn(s)&&!_o(s))return s;s=_r(s)}return n}let r=td(e,t);for(;r&&av(r)&&_o(r);)r=td(r,t);return r&&ys(r)&&_o(r)&&!_l(r)?n:r||dv(e)||n}const Av=async function(e){const t=this.getOffsetParent||pm,n=this.getDimensions,r=await n(e.floating);return{reference:wv(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nv(e){return On(e).direction==="rtl"}const Sv={convertOffsetParentRelativeRectToViewportRelativeRect:pv,getDocumentElement:Kn,getClippingRect:vv,getOffsetParent:pm,getElementRects:Av,getClientRects:gv,getDimensions:Tv,getScale:hs,isElement:Cn,isRTL:Nv};function gm(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kv(e,t){let n=null,r;const s=Kn(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:p,top:u,width:l,height:f}=d;if(a||t(),!l||!f)return;const m=qi(u),h=qi(s.clientWidth-(p+l)),x=qi(s.clientHeight-(u+f)),g=qi(p),_={rootMargin:-m+"px "+-h+"px "+-x+"px "+-g+"px",threshold:Br(0,bs(1,c))||1};let T=!0;function w(k){const S=k[0].intersectionRatio;if(S!==c){if(!T)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!gm(d,e.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(w,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,_)}n.observe(e)}return o(!0),i}function Cv(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Tl(e),p=s||i?[...d?Js(d):[],...Js(t)]:[];p.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const u=d&&a?kv(d,n):null;let l=-1,f=null;o&&(f=new ResizeObserver(g=>{let[y]=g;y&&y.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(l),l=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let m,h=c?zr(e):null;c&&x();function x(){const g=zr(e);h&&!gm(h,g)&&n(),h=g,m=requestAnimationFrame(x)}return n(),()=>{var g;p.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),u==null||u(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const Ov=nv,Iv=rv,Rv=J_,Lv=Z_,nd=(e,t,n)=>{const r=new Map,s={platform:Sv,...n},i={...s.platform,_c:r};return Q_(e,t,{...s,platform:i})};var vo={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rd;function Dv(){return rd||(rd=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)t.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(vo)),vo.exports}var Pv=Dv();const uu=ka(Pv);var sd={};const Mv="react-tooltip-core-styles",jv="react-tooltip-base-styles",id={core:!1,base:!1};function ad({css:e,id:t=jv,type:n="base",ref:r}){var s,i;if(!e||typeof document>"u"||id[n]||n==="core"&&typeof Dr<"u"&&(!((s=Dr===null||Dr===void 0?void 0:sd)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof Dr<"u"&&(!((i=Dr===null||Dr===void 0?void 0:sd)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Mv),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css",o==="top"&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),id[n]=!0}const od=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:s=10,strategy:i="absolute",middlewares:o=[Ov(Number(s)),Rv({fallbackAxisSideDirection:"start"}),Iv({padding:5})],border:a,arrowSize:c=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=o;return n?(d.push(Lv({element:n,padding:5})),nd(e,t,{placement:r,strategy:i,middleware:d}).then((({x:p,y:u,placement:l,middlewareData:f})=>{var m,h;const x={left:`${p}px`,top:`${u}px`,border:a},{x:g,y}=(m=f.arrow)!==null&&m!==void 0?m:{x:0,y:0},_=(h={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]])!==null&&h!==void 0?h:"bottom",T=a&&{borderBottom:a,borderRight:a};let w=0;if(a){const k=`${a}`.match(/(\d+)px/);w=k!=null&&k[1]?Number(k[1]):1}return{tooltipStyles:x,tooltipArrowStyles:{left:g!=null?`${g}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",...T,[_]:`-${c/2+w}px`},place:l}}))):nd(e,t,{placement:"bottom",strategy:i,middleware:d}).then((({x:p,y:u,placement:l})=>({tooltipStyles:{left:`${p}px`,top:`${u}px`},tooltipArrowStyles:{},place:l})))},ud=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),ld=(e,t,n)=>{let r=null;const s=function(...i){const o=()=>{r=null};!r&&(e.apply(this,i),r=setTimeout(o,t))};return s.cancel=()=>{r&&(clearTimeout(r),r=null)},s},cd=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",lu=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((s,i)=>lu(s,t[i])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!cd(e)||!cd(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((s=>lu(e[s],t[s])))},Bv=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"}))},dd=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Bv(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Fv=typeof window<"u"?B.useLayoutEffect:B.useEffect,pn=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Uv="DEFAULT_TOOLTIP_ID",Hv={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$v=B.createContext({getTooltipData:()=>Hv});function bm(e=Uv){return B.useContext($v).getTooltipData(e)}var rs={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},To={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const zv=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:s="dark",anchorId:i,anchorSelect:o,place:a="top",offset:c=10,events:d=["hover"],openOnClick:p=!1,positionStrategy:u="absolute",middlewares:l,wrapper:f,delayShow:m=0,delayHide:h=0,float:x=!1,hidden:g=!1,noArrow:y=!1,clickable:_=!1,closeOnEsc:T=!1,closeOnScroll:w=!1,closeOnResize:k=!1,openEvents:S,closeEvents:v,globalCloseEvents:A,imperativeModeOnly:N,style:R,position:M,afterShow:j,afterHide:H,disableTooltip:z,content:q,contentWrapperRef:ne,isOpen:ae,defaultIsOpen:_e=!1,setIsOpen:le,previousActiveAnchor:xe,activeAnchor:Te,setActiveAnchor:we,border:Le,opacity:He,arrowColor:Be,arrowSize:et=8,role:Ve="tooltip"})=>{var gt;const Je=B.useRef(null),Et=B.useRef(null),dt=B.useRef(null),Dt=B.useRef(null),Pt=B.useRef(null),[Ct,Ft]=B.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[rt,Ut]=B.useState(!1),[bt,st]=B.useState(!1),[L,F]=B.useState(null),$=B.useRef(!1),ie=B.useRef(null),{anchorRefs:ee,setActiveAnchor:K}=bm(t),ye=B.useRef(!1),[Ie,Fe]=B.useState([]),Ye=B.useRef(!1),Ot=p||d.includes("click"),ft=Ot||(S==null?void 0:S.click)||(S==null?void 0:S.dblclick)||(S==null?void 0:S.mousedown),Gt=S?{...S}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!S&&Ot&&Object.assign(Gt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Z=v?{...v}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!v&&Ot&&Object.assign(Z,{mouseleave:!1,blur:!1,mouseout:!1});const de=A?{...A}:{escape:T||!1,scroll:w||!1,resize:k||!1,clickOutsideAnchor:ft||!1};N&&(Object.assign(Gt,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Z,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(de,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Fv((()=>(Ye.current=!0,()=>{Ye.current=!1})),[]);const Ee=W=>{Ye.current&&(W&&st(!0),setTimeout((()=>{Ye.current&&(le==null||le(W),ae===void 0&&Ut(W))}),10))};B.useEffect((()=>{if(t){if(rt){ce(xe);const he=W(Te),Pe=[...new Set([...he,t])].filter(Boolean).join(" ");Te==null||Te.setAttribute("aria-describedby",Pe)}else ce(Te);return()=>{ce(Te),ce(xe)}}function W(he){var Pe;return((Pe=he==null?void 0:he.getAttribute("aria-describedby"))===null||Pe===void 0?void 0:Pe.split(" "))||[]}function ce(he){const Pe=W(he).filter((pt=>pt!==t));Pe.length?he==null||he.setAttribute("aria-describedby",Pe.join(" ")):he==null||he.removeAttribute("aria-describedby")}}),[Te,rt,t,xe]),B.useEffect((()=>{if(ae===void 0)return()=>null;ae&&st(!0);const W=setTimeout((()=>{Ut(ae)}),10);return()=>{clearTimeout(W)}}),[ae]),B.useEffect((()=>{if(rt!==$.current)if(pn(Pt),$.current=rt,rt)j==null||j();else{const W=(ce=>{const he=ce.match(/^([\d.]+)(ms|s)$/);if(!he)return 0;const[,Pe,pt]=he;return Number(Pe)*(pt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Pt.current=setTimeout((()=>{st(!1),F(null),H==null||H()}),W+25)}}),[rt]);const Me=W=>{Ft((ce=>lu(ce,W)?ce:W))},We=(W=m)=>{pn(dt),bt?Ee(!0):dt.current=setTimeout((()=>{Ee(!0)}),W)},Oe=(W=h)=>{pn(Dt),Dt.current=setTimeout((()=>{ye.current||Ee(!1)}),W)},fn=W=>{var ce;if(!W)return;const he=(ce=W.currentTarget)!==null&&ce!==void 0?ce:W.target;if(!(he!=null&&he.isConnected))return we(null),void K({current:null});m?We():Ee(!0),we(he),K({current:he}),pn(Dt)},hn=()=>{_?Oe(h||100):h?Oe():Ee(!1),pn(dt)},Kt=({x:W,y:ce})=>{var he;const Pe={getBoundingClientRect:()=>({x:W,y:ce,width:0,height:0,top:ce,left:W,right:W,bottom:ce})};od({place:(he=L==null?void 0:L.place)!==null&&he!==void 0?he:a,offset:c,elementReference:Pe,tooltipReference:Je.current,tooltipArrowReference:Et.current,strategy:u,middlewares:l,border:Le,arrowSize:et}).then((pt=>{Me(pt)}))},Ht=W=>{if(!W)return;const ce=W,he={x:ce.clientX,y:ce.clientY};Kt(he),ie.current=he},I=W=>{var ce;if(!rt)return;const he=W.target;he.isConnected&&(!((ce=Je.current)===null||ce===void 0)&&ce.contains(he)||[document.querySelector(`[id='${i}']`),...Ie].some((Pe=>Pe==null?void 0:Pe.contains(he)))||(Ee(!1),pn(dt)))},V=ld(fn,50),G=ld(hn,50),pe=W=>{G.cancel(),V(W)},me=()=>{V.cancel(),G()},ge=B.useCallback((()=>{var W,ce;const he=(W=L==null?void 0:L.position)!==null&&W!==void 0?W:M;he?Kt(he):x?ie.current&&Kt(ie.current):Te!=null&&Te.isConnected&&od({place:(ce=L==null?void 0:L.place)!==null&&ce!==void 0?ce:a,offset:c,elementReference:Te,tooltipReference:Je.current,tooltipArrowReference:Et.current,strategy:u,middlewares:l,border:Le,arrowSize:et}).then((Pe=>{Ye.current&&Me(Pe)}))}),[rt,Te,q,R,a,L==null?void 0:L.place,c,u,M,L==null?void 0:L.position,x,et]);B.useEffect((()=>{var W,ce;const he=new Set(ee);Ie.forEach((Ze=>{z!=null&&z(Ze)||he.add({current:Ze})}));const Pe=document.querySelector(`[id='${i}']`);Pe&&!(z!=null&&z(Pe))&&he.add({current:Pe});const pt=()=>{Ee(!1)},Xt=dd(Te),mn=dd(Je.current);de.scroll&&(window.addEventListener("scroll",pt),Xt==null||Xt.addEventListener("scroll",pt),mn==null||mn.addEventListener("scroll",pt));let wt=null;de.resize?window.addEventListener("resize",pt):Te&&Je.current&&(wt=Cv(Te,Je.current,ge,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Qt=Ze=>{Ze.key==="Escape"&&Ee(!1)};de.escape&&window.addEventListener("keydown",Qt),de.clickOutsideAnchor&&window.addEventListener("click",I);const ot=[],ar=Ze=>!!(Ze!=null&&Ze.target&&(Te!=null&&Te.contains(Ze.target))),ki=Ze=>{rt&&ar(Ze)||fn(Ze)},Jr=Ze=>{rt&&ar(Ze)&&hn()},Ci=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Oi=["click","dblclick","mousedown","mouseup"];Object.entries(Gt).forEach((([Ze,xn])=>{xn&&(Ci.includes(Ze)?ot.push({event:Ze,listener:pe}):Oi.includes(Ze)&&ot.push({event:Ze,listener:ki}))})),Object.entries(Z).forEach((([Ze,xn])=>{xn&&(Ci.includes(Ze)?ot.push({event:Ze,listener:me}):Oi.includes(Ze)&&ot.push({event:Ze,listener:Jr}))})),x&&ot.push({event:"pointermove",listener:Ht});const Ii=()=>{ye.current=!0},En=()=>{ye.current=!1,hn()},Ss=_&&(Z.mouseout||Z.mouseleave);return Ss&&((W=Je.current)===null||W===void 0||W.addEventListener("mouseover",Ii),(ce=Je.current)===null||ce===void 0||ce.addEventListener("mouseout",En)),ot.forEach((({event:Ze,listener:xn})=>{he.forEach((ks=>{var Or;(Or=ks.current)===null||Or===void 0||Or.addEventListener(Ze,xn)}))})),()=>{var Ze,xn;de.scroll&&(window.removeEventListener("scroll",pt),Xt==null||Xt.removeEventListener("scroll",pt),mn==null||mn.removeEventListener("scroll",pt)),de.resize?window.removeEventListener("resize",pt):wt==null||wt(),de.clickOutsideAnchor&&window.removeEventListener("click",I),de.escape&&window.removeEventListener("keydown",Qt),Ss&&((Ze=Je.current)===null||Ze===void 0||Ze.removeEventListener("mouseover",Ii),(xn=Je.current)===null||xn===void 0||xn.removeEventListener("mouseout",En)),ot.forEach((({event:ks,listener:Or})=>{he.forEach((es=>{var Cs;(Cs=es.current)===null||Cs===void 0||Cs.removeEventListener(ks,Or)}))}))}}),[Te,ge,bt,ee,Ie,S,v,A,Ot,m,h]),B.useEffect((()=>{var W,ce;let he=(ce=(W=L==null?void 0:L.anchorSelect)!==null&&W!==void 0?W:o)!==null&&ce!==void 0?ce:"";!he&&t&&(he=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Pe=new MutationObserver((pt=>{const Xt=[],mn=[];pt.forEach((wt=>{if(wt.type==="attributes"&&wt.attributeName==="data-tooltip-id"&&(wt.target.getAttribute("data-tooltip-id")===t?Xt.push(wt.target):wt.oldValue===t&&mn.push(wt.target)),wt.type==="childList"){if(Te){const Qt=[...wt.removedNodes].filter((ot=>ot.nodeType===1));if(he)try{mn.push(...Qt.filter((ot=>ot.matches(he)))),mn.push(...Qt.flatMap((ot=>[...ot.querySelectorAll(he)])))}catch{}Qt.some((ot=>{var ar;return!!(!((ar=ot==null?void 0:ot.contains)===null||ar===void 0)&&ar.call(ot,Te))&&(st(!1),Ee(!1),we(null),pn(dt),pn(Dt),!0)}))}if(he)try{const Qt=[...wt.addedNodes].filter((ot=>ot.nodeType===1));Xt.push(...Qt.filter((ot=>ot.matches(he)))),Xt.push(...Qt.flatMap((ot=>[...ot.querySelectorAll(he)])))}catch{}}})),(Xt.length||mn.length)&&Fe((wt=>[...wt.filter((Qt=>!mn.includes(Qt))),...Xt]))}));return Pe.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Pe.disconnect()}}),[t,o,L==null?void 0:L.anchorSelect,Te]),B.useEffect((()=>{ge()}),[ge]),B.useEffect((()=>{if(!(ne!=null&&ne.current))return()=>null;const W=new ResizeObserver((()=>{setTimeout((()=>ge()))}));return W.observe(ne.current),()=>{W.disconnect()}}),[q,ne==null?void 0:ne.current]),B.useEffect((()=>{var W;const ce=document.querySelector(`[id='${i}']`),he=[...Ie,ce];Te&&he.includes(Te)||we((W=Ie[0])!==null&&W!==void 0?W:ce)}),[i,Ie,Te]),B.useEffect((()=>(_e&&Ee(!0),()=>{pn(dt),pn(Dt)})),[]),B.useEffect((()=>{var W;let ce=(W=L==null?void 0:L.anchorSelect)!==null&&W!==void 0?W:o;if(!ce&&t&&(ce=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ce)try{const he=Array.from(document.querySelectorAll(ce));Fe(he)}catch{Fe([])}}),[t,o,L==null?void 0:L.anchorSelect]),B.useEffect((()=>{dt.current&&(pn(dt),We(m))}),[m]);const oe=(gt=L==null?void 0:L.content)!==null&&gt!==void 0?gt:q,fe=rt&&Object.keys(Ct.tooltipStyles).length>0;return B.useImperativeHandle(e,(()=>({open:W=>{if(W!=null&&W.anchorSelect)try{document.querySelector(W.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${W.anchorSelect}" is not a valid CSS selector`)}F(W??null),W!=null&&W.delay?We(W.delay):Ee(!0)},close:W=>{W!=null&&W.delay?Oe(W.delay):Ee(!1)},activeAnchor:Te,place:Ct.place,isOpen:!!(bt&&!g&&oe&&fe)}))),bt&&!g&&oe?X.createElement(f,{id:t,role:Ve,className:uu("react-tooltip",rs.tooltip,To.tooltip,To[s],n,`react-tooltip__place-${Ct.place}`,rs[fe?"show":"closing"],fe?"react-tooltip__show":"react-tooltip__closing",u==="fixed"&&rs.fixed,_&&rs.clickable),onTransitionEnd:W=>{pn(Pt),rt||W.propertyName!=="opacity"||(st(!1),F(null),H==null||H())},style:{...R,...Ct.tooltipStyles,opacity:He!==void 0&&fe?He:void 0},ref:Je},oe,X.createElement(f,{className:uu("react-tooltip-arrow",rs.arrow,To.arrow,r,y&&rs.noArrow),style:{...Ct.tooltipArrowStyles,background:Be?`linear-gradient(to right bottom, transparent 50%, ${Be} 50%)`:void 0,"--rt-arrow-size":`${et}px`},ref:Et})):null},qv=({content:e})=>X.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Vv=X.forwardRef((({id:e,anchorId:t,anchorSelect:n,content:r,html:s,render:i,className:o,classNameArrow:a,variant:c="dark",place:d="top",offset:p=10,wrapper:u="div",children:l=null,events:f=["hover"],openOnClick:m=!1,positionStrategy:h="absolute",middlewares:x,delayShow:g=0,delayHide:y=0,float:_=!1,hidden:T=!1,noArrow:w=!1,clickable:k=!1,closeOnEsc:S=!1,closeOnScroll:v=!1,closeOnResize:A=!1,openEvents:N,closeEvents:R,globalCloseEvents:M,imperativeModeOnly:j=!1,style:H,position:z,isOpen:q,defaultIsOpen:ne=!1,disableStyleInjection:ae=!1,border:_e,opacity:le,arrowColor:xe,arrowSize:Te,setIsOpen:we,afterShow:Le,afterHide:He,disableTooltip:Be,role:et="tooltip"},Ve)=>{const[gt,Je]=B.useState(r),[Et,dt]=B.useState(s),[Dt,Pt]=B.useState(d),[Ct,Ft]=B.useState(c),[rt,Ut]=B.useState(p),[bt,st]=B.useState(g),[L,F]=B.useState(y),[$,ie]=B.useState(_),[ee,K]=B.useState(T),[ye,Ie]=B.useState(u),[Fe,Ye]=B.useState(f),[Ot,ft]=B.useState(h),[Gt,Z]=B.useState(null),[de,Ee]=B.useState(null),Me=B.useRef(null),We=B.useRef(ae),{anchorRefs:Oe,activeAnchor:fn}=bm(e),hn=G=>G==null?void 0:G.getAttributeNames().reduce(((pe,me)=>{var ge;return me.startsWith("data-tooltip-")&&(pe[me.replace(/^data-tooltip-/,"")]=(ge=G==null?void 0:G.getAttribute(me))!==null&&ge!==void 0?ge:null),pe}),{}),Kt=G=>{const pe={place:me=>{var ge;Pt((ge=me)!==null&&ge!==void 0?ge:d)},content:me=>{Je(me??r)},html:me=>{dt(me??s)},variant:me=>{var ge;Ft((ge=me)!==null&&ge!==void 0?ge:c)},offset:me=>{Ut(me===null?p:Number(me))},wrapper:me=>{var ge;Ie((ge=me)!==null&&ge!==void 0?ge:u)},events:me=>{const ge=me==null?void 0:me.split(" ");Ye(ge??f)},"position-strategy":me=>{var ge;ft((ge=me)!==null&&ge!==void 0?ge:h)},"delay-show":me=>{st(me===null?g:Number(me))},"delay-hide":me=>{F(me===null?y:Number(me))},float:me=>{ie(me===null?_:me==="true")},hidden:me=>{K(me===null?T:me==="true")},"class-name":me=>{Z(me)}};Object.values(pe).forEach((me=>me(null))),Object.entries(G).forEach((([me,ge])=>{var oe;(oe=pe[me])===null||oe===void 0||oe.call(pe,ge)}))};B.useEffect((()=>{Je(r)}),[r]),B.useEffect((()=>{dt(s)}),[s]),B.useEffect((()=>{Pt(d)}),[d]),B.useEffect((()=>{Ft(c)}),[c]),B.useEffect((()=>{Ut(p)}),[p]),B.useEffect((()=>{st(g)}),[g]),B.useEffect((()=>{F(y)}),[y]),B.useEffect((()=>{ie(_)}),[_]),B.useEffect((()=>{K(T)}),[T]),B.useEffect((()=>{ft(h)}),[h]),B.useEffect((()=>{We.current!==ae&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[ae]),B.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ae==="core",disableBase:ae}}))}),[]),B.useEffect((()=>{var G;const pe=new Set(Oe);let me=n;if(!me&&e&&(me=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),me)try{document.querySelectorAll(me).forEach((ce=>{pe.add({current:ce})}))}catch{console.warn(`[react-tooltip] "${me}" is not a valid CSS selector`)}const ge=document.querySelector(`[id='${t}']`);if(ge&&pe.add({current:ge}),!pe.size)return()=>null;const oe=(G=de??ge)!==null&&G!==void 0?G:fn.current,fe=new MutationObserver((ce=>{ce.forEach((he=>{var Pe;if(!oe||he.type!=="attributes"||!(!((Pe=he.attributeName)===null||Pe===void 0)&&Pe.startsWith("data-tooltip-")))return;const pt=hn(oe);Kt(pt)}))})),W={attributes:!0,childList:!1,subtree:!1};if(oe){const ce=hn(oe);Kt(ce),fe.observe(oe,W)}return()=>{fe.disconnect()}}),[Oe,fn,de,t,n]),B.useEffect((()=>{H!=null&&H.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),_e&&!ud("border",`${_e}`)&&console.warn(`[react-tooltip] "${_e}" is not a valid \`border\`.`),H!=null&&H.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),le&&!ud("opacity",`${le}`)&&console.warn(`[react-tooltip] "${le}" is not a valid \`opacity\`.`)}),[]);let Ht=l;const I=B.useRef(null);if(i){const G=i({content:(de==null?void 0:de.getAttribute("data-tooltip-content"))||gt||null,activeAnchor:de});Ht=G?X.createElement("div",{ref:I,className:"react-tooltip-content-wrapper"},G):null}else gt&&(Ht=gt);Et&&(Ht=X.createElement(qv,{content:Et}));const V={forwardRef:Ve,id:e,anchorId:t,anchorSelect:n,className:uu(o,Gt),classNameArrow:a,content:Ht,contentWrapperRef:I,place:Dt,variant:Ct,offset:rt,wrapper:ye,events:Fe,openOnClick:m,positionStrategy:Ot,middlewares:x,delayShow:bt,delayHide:L,float:$,hidden:ee,noArrow:w,clickable:k,closeOnEsc:S,closeOnScroll:v,closeOnResize:A,openEvents:N,closeEvents:R,globalCloseEvents:M,imperativeModeOnly:j,style:H,position:z,isOpen:q,defaultIsOpen:ne,border:_e,opacity:le,arrowColor:xe,arrowSize:Te,setIsOpen:we,afterShow:Le,afterHide:He,disableTooltip:Be,activeAnchor:de,previousActiveAnchor:Me.current,setActiveAnchor:G=>{Ee((pe=>(G!=null&&G.isSameNode(pe)||(Me.current=pe),G)))},role:et};return X.createElement(zv,{...V})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||ad({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||ad({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));function Yv({group:e}){const t=n=>n.listings.reduce((r,s)=>r+s.amount,0);return E.jsxs("div",{children:[e.sellerBalance!==void 0&&e.sellerBalance!==null&&e.sellerBalance<t(e)?e.sellerBalance===0?E.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30","data-tooltip-id":"fulfillability-tooltip","data-tooltip-content":"The listing is active but the seller doesn't have any token to sell.","data-tooltip-place":"bottom",children:"Unfulfillable"}):E.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-500/20 text-amber-400 border border-amber-500/30","data-tooltip-id":"fulfillability-tooltip","data-tooltip-content":"The listing is active but the seller doesn't have enough tokens to sell.","data-tooltip-place":"bottom",children:["Partially fulfillable (",e.sellerBalance," available)"]}):null,E.jsx(Vv,{id:"fulfillability-tooltip"})]})}function Wv({price:e,amount:t,ethPrice:n,children:r}){const s=n?(parseFloat(e)*n).toFixed(2):null;return E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"w-full flex justify-around py-3",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Price"}),E.jsxs("p",{className:"text-2xl font-semibold text-white",children:[e," ",E.jsx("span",{className:"text-ink-400 text-lg",children:"ETH"})]}),s&&E.jsxs("p",{className:"text-sm text-ink-500 mt-0.5",children:["$",s]})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Amount"}),E.jsx("p",{className:"text-2xl font-semibold text-white",children:t})]})]}),r]})}function Gv({isConnected:e,id:t,listingGroups:n,walletAddress:r,onUpdate:s,showOnlyOthers:i=!1,ethPrice:o=null}){const a=B.useMemo(()=>n?n.filter(c=>{var d;return!i||((d=c.seller)==null?void 0:d.toLowerCase())!==(r==null?void 0:r.toLowerCase())}):null,[n,i,r]);return E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Marketplace"}),a!==null?a.length>0?E.jsx("div",{className:"space-y-4",children:a.map((c,d)=>E.jsxs("div",{className:"bg-ink-800/50 rounded-xl p-4 border border-ink-700",children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide",children:"Seller"}),E.jsx("p",{className:"font-mono text-sm text-ink-200",children:E.jsx(gr,{address:c.seller,shorten:!0,nChar:8})})]}),E.jsx(Yv,{group:c}),E.jsx("div",{className:"space-y-3 mt-4",children:c.listings.map(p=>E.jsx("div",{className:"border-t border-ink-700 pt-3 first:border-t-0 first:pt-0",children:E.jsx(Wv,{price:p.price,amount:p.amount,ethPrice:o,children:e?E.jsx(U_,{nftId:t,listingId:p.id,price:p.price,maxAmount:p.amount,sellerBalance:c.sellerBalance,onUpdate:s}):E.jsx("button",{className:"px-4 py-2 bg-ink-700 text-ink-400 rounded-lg cursor-not-allowed text-sm",disabled:!0,children:"Connect wallet to buy"})})},p.id))})]},"group"+d))}):E.jsx("p",{className:"text-ink-500 text-center py-8",children:"No listings available"}):E.jsx(on,{height:120,className:"rounded-xl",baseColor:"#27272a",highlightColor:"#3f3f46"})]})}const Kv={to:"",amount:1};function Xv({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s}){const{register:i,formState:{isDirty:o,isValid:a,errors:c},handleSubmit:d,watch:p}=gi({defaultValues:Kv,mode:"onChange",resolver:bi(sr.transfer)}),u=p("amount"),l=f=>{f&&n(f.to,f.amount),t(!1)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>l(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Gift NFT"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Balance"}),E.jsx("span",{className:"text-white font-mono",children:r})]}),r!==s&&E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Available (not listed)"}),E.jsx("span",{className:"text-white font-mono",children:s})]}),E.jsx(Nn,{label:"Amount",name:"amount",type:"number",step:"1",min:"1",errors:c,register:i}),E.jsx(Nn,{label:"Recipient Address",name:"to",type:"string",errors:c,register:i,placeholder:"0x... or ENS name"}),u>s&&u<=r&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Warning:"})," You only have"," ",s," free token",s===1?"":"s",". This will use ",u-s," ","token",u-s===1?"":"s"," ","from listings."]})}),u>r&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," Cannot gift more than you own (",r,")."]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>l(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!a&&o||u>r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!a&&o||u>r,onClick:d(l),children:"Gift"})]})]})]}):null}function Qv({id:e,walletAddress:t,balance:n,availableAmount:r,onUpdate:s,secondary:i=!1}){const o=Ke.contractAddresses.v1.zang,a=qe.zang,{isConnected:c}=cn(),{writeContractAsync:d}=Nr(),p=kr(),[u,l]=B.useState(!1),[f,m]=St(yn),h=async(x,g)=>{if(x===null){m("Please enter a valid address.");return}if(g===null){m("Please enter an amount.");return}if(!e){m("Could not determine the ID of the NFT.");return}if(!c){m("Please connect a wallet.");return}if(m(null),x.includes(".eth"))try{const T=await Wu.getEnsAddress({name:Of(x)});if(!T){m("Could not resolve ENS name.");return}x=T}catch(T){m("ENS resolution failed: "+T.message);return}const y=async()=>await d({address:o,abi:a,functionName:"safeTransferFrom",args:[t,x,BigInt(e),BigInt(g),"0x"],...zn()}),{success:_}=await p(y,`Transfer NFT #${e}`);_&&s&&s(e)};return E.jsxs(B.Fragment,{children:[E.jsx("button",{className:i?"w-full mt-2 py-2 text-sm text-ink-400 hover:text-white transition-colors":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>l(!0),children:i?"or transfer to someone":"Gift"}),E.jsx(Xv,{isOpen:u,setIsOpen:l,onClose:h,balance:n,availableAmount:r})]})}const Zv={"text/plain":{label:"TXT",bg:"bg-type-plain/10",border:"border-type-plain/30",text:"text-type-plain",icon:""},"text/markdown":{label:"MD",bg:"bg-type-markdown/10",border:"border-type-markdown/30",text:"text-type-markdown",icon:"#"},"text/html":{label:"HTML",bg:"bg-type-html/10",border:"border-type-html/30",text:"text-type-html",icon:"<>"}};function Jv({type:e,isUri:t}){if(!e)return null;t&&(e=e.split(",")[0].split(":")[1]);const n=Zv[e];return n?E.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-mono ${n.bg} ${n.border} ${n.text} border`,children:[E.jsx("span",{className:"opacity-60",children:n.icon}),n.label]}):E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-mono bg-red-500/10 border-red-500/30 text-red-400 border",children:[E.jsx("span",{className:"opacity-60",children:"?"}),"unknown"]})}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var os=9e15,Cr=1e9,cu="0123456789abcdef",_a="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",va="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",du={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-os,maxE:os,crypto:!1},ym,er,Re=!0,Wa="[DecimalError] ",vr=Wa+"Invalid argument: ",Em=Wa+"Precision limit exceeded",xm=Wa+"crypto unavailable",_m="[object Decimal]",zt=Math.floor,Nt=Math.pow,eT=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tT=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,nT=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,vm=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sn=1e7,Ce=7,rT=9007199254740991,sT=_a.length-1,fu=va.length-1,Q={toStringTag:_m};Q.absoluteValue=Q.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Se(e)};Q.ceil=function(){return Se(new this.constructor(this),this.e+1,2)};Q.clampedTo=Q.clamp=function(e,t){var n,r=this,s=r.constructor;if(e=new s(e),t=new s(t),!e.s||!t.s)return new s(NaN);if(e.gt(t))throw Error(vr+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new s(r)};Q.comparedTo=Q.cmp=function(e){var t,n,r,s,i=this,o=i.d,a=(e=new i.constructor(e)).d,c=i.s,d=e.s;if(!o||!a)return!c||!d?NaN:c!==d?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-d:0;if(c!==d)return c;if(i.e!==e.e)return i.e>e.e^c<0?1:-1;for(r=o.length,s=a.length,t=0,n=r<s?r:s;t<n;++t)if(o[t]!==a[t])return o[t]>a[t]^c<0?1:-1;return r===s?0:r>s^c<0?1:-1};Q.cosine=Q.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ce,r.rounding=1,n=iT(r,Sm(r,n)),r.precision=e,r.rounding=t,Se(er==2||er==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};Q.cubeRoot=Q.cbrt=function(){var e,t,n,r,s,i,o,a,c,d,p=this,u=p.constructor;if(!p.isFinite()||p.isZero())return new u(p);for(Re=!1,i=p.s*Nt(p.s*p,1/3),!i||Math.abs(i)==1/0?(n=Bt(p.d),e=p.e,(i=(e-n.length+1)%3)&&(n+=i==1||i==-2?"0":"00"),i=Nt(n,1/3),e=zt((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?n="5e"+e:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new u(n),r.s=p.s):r=new u(i.toString()),o=(e=u.precision)+3;;)if(a=r,c=a.times(a).times(a),d=c.plus(p),r=at(d.plus(p).times(a),d.plus(c),o+2,1),Bt(a.d).slice(0,o)===(n=Bt(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!s&&n=="4999"){if(!s&&(Se(a,e+1,0),a.times(a).times(a).eq(p))){r=a;break}o+=4,s=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Se(r,e+1,1),t=!r.times(r).times(r).eq(p));break}return Re=!0,Se(r,e,u.rounding,t)};Q.decimalPlaces=Q.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-zt(this.e/Ce))*Ce,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};Q.dividedBy=Q.div=function(e){return at(this,new this.constructor(e))};Q.dividedToIntegerBy=Q.divToInt=function(e){var t=this,n=t.constructor;return Se(at(t,new n(e),0,1,1),n.precision,n.rounding)};Q.equals=Q.eq=function(e){return this.cmp(e)===0};Q.floor=function(){return Se(new this.constructor(this),this.e+1,3)};Q.greaterThan=Q.gt=function(e){return this.cmp(e)>0};Q.greaterThanOrEqualTo=Q.gte=function(e){var t=this.cmp(e);return t==1||t===0};Q.hyperbolicCosine=Q.cosh=function(){var e,t,n,r,s,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(i.e,i.sd())+4,o.rounding=1,s=i.d.length,s<32?(e=Math.ceil(s/3),t=(1/Ka(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=Es(o,1,i.times(t),new o(1),!0);for(var c,d=e,p=new o(8);d--;)c=i.times(i),i=a.minus(c.times(p.minus(c.times(p))));return Se(i,o.precision=n,o.rounding=r,!0)};Q.hyperbolicSine=Q.sinh=function(){var e,t,n,r,s=this,i=s.constructor;if(!s.isFinite()||s.isZero())return new i(s);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(s.e,s.sd())+4,i.rounding=1,r=s.d.length,r<3)s=Es(i,2,s,s,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,s=s.times(1/Ka(5,e)),s=Es(i,2,s,s,!0);for(var o,a=new i(5),c=new i(16),d=new i(20);e--;)o=s.times(s),s=s.times(a.plus(o.times(c.times(o).plus(d))))}return i.precision=t,i.rounding=n,Se(s,t,n,!0)};Q.hyperbolicTangent=Q.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,at(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};Q.inverseCosine=Q.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,s=t.rounding;return n!==-1?n===0?e.isNeg()?Un(t,r,s):new t(0):new t(NaN):e.isZero()?Un(t,r+4,s).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=s,e.times(2))};Q.inverseHyperbolicCosine=Q.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Re=!1,n=n.times(n).minus(1).sqrt().plus(n),Re=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};Q.inverseHyperbolicSine=Q.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Re=!1,n=n.times(n).plus(1).sqrt().plus(n),Re=!0,r.precision=e,r.rounding=t,n.ln())};Q.inverseHyperbolicTangent=Q.atanh=function(){var e,t,n,r,s=this,i=s.constructor;return s.isFinite()?s.e>=0?new i(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(e=i.precision,t=i.rounding,r=s.sd(),Math.max(r,e)<2*-s.e-1?Se(new i(s),e,t,!0):(i.precision=n=r-s.e,s=at(s.plus(1),new i(1).minus(s),n+e,1),i.precision=e+4,i.rounding=1,s=s.ln(),i.precision=e,i.rounding=t,s.times(.5))):new i(NaN)};Q.inverseSine=Q.asin=function(){var e,t,n,r,s=this,i=s.constructor;return s.isZero()?new i(s):(t=s.abs().cmp(1),n=i.precision,r=i.rounding,t!==-1?t===0?(e=Un(i,n+4,r).times(.5),e.s=s.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,s=s.div(new i(1).minus(s.times(s)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,s.times(2)))};Q.inverseTangent=Q.atan=function(){var e,t,n,r,s,i,o,a,c,d=this,p=d.constructor,u=p.precision,l=p.rounding;if(d.isFinite()){if(d.isZero())return new p(d);if(d.abs().eq(1)&&u+4<=fu)return o=Un(p,u+4,l).times(.25),o.s=d.s,o}else{if(!d.s)return new p(NaN);if(u+4<=fu)return o=Un(p,u+4,l).times(.5),o.s=d.s,o}for(p.precision=a=u+10,p.rounding=1,n=Math.min(28,a/Ce+2|0),e=n;e;--e)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Re=!1,t=Math.ceil(a/Ce),r=1,c=d.times(d),o=new p(d),s=d;e!==-1;)if(s=s.times(c),i=o.minus(s.div(r+=2)),s=s.times(c),o=i.plus(s.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),Re=!0,Se(o,p.precision=u,p.rounding=l,!0)};Q.isFinite=function(){return!!this.d};Q.isInteger=Q.isInt=function(){return!!this.d&&zt(this.e/Ce)>this.d.length-2};Q.isNaN=function(){return!this.s};Q.isNegative=Q.isNeg=function(){return this.s<0};Q.isPositive=Q.isPos=function(){return this.s>0};Q.isZero=function(){return!!this.d&&this.d[0]===0};Q.lessThan=Q.lt=function(e){return this.cmp(e)<0};Q.lessThanOrEqualTo=Q.lte=function(e){return this.cmp(e)<1};Q.logarithm=Q.log=function(e){var t,n,r,s,i,o,a,c,d=this,p=d.constructor,u=p.precision,l=p.rounding,f=5;if(e==null)e=new p(10),t=!0;else{if(e=new p(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new p(NaN);t=e.eq(10)}if(n=d.d,d.s<0||!n||!n[0]||d.eq(1))return new p(n&&!n[0]?-1/0:d.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(s=n[0];s%10===0;)s/=10;i=s!==1}if(Re=!1,a=u+f,o=yr(d,a),r=t?Ta(p,a+10):yr(e,a),c=at(o,r,a,1),ei(c.d,s=u,l))do if(a+=10,o=yr(d,a),r=t?Ta(p,a+10):yr(e,a),c=at(o,r,a,1),!i){+Bt(c.d).slice(s+1,s+15)+1==1e14&&(c=Se(c,u+1,0));break}while(ei(c.d,s+=10,l));return Re=!0,Se(c,u,l)};Q.minus=Q.sub=function(e){var t,n,r,s,i,o,a,c,d,p,u,l,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return!f.s||!e.s?e=new m(NaN):f.d?e.s=-e.s:e=new m(e.d||f.s!==e.s?f:NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(d=f.d,l=e.d,a=m.precision,c=m.rounding,!d[0]||!l[0]){if(l[0])e.s=-e.s;else if(d[0])e=new m(f);else return new m(c===3?-0:0);return Re?Se(e,a,c):e}if(n=zt(e.e/Ce),p=zt(f.e/Ce),d=d.slice(),i=p-n,i){for(u=i<0,u?(t=d,i=-i,o=l.length):(t=l,n=p,o=d.length),r=Math.max(Math.ceil(a/Ce),o)+2,i>r&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for(r=d.length,o=l.length,u=r<o,u&&(o=r),r=0;r<o;r++)if(d[r]!=l[r]){u=d[r]<l[r];break}i=0}for(u&&(t=d,d=l,l=t,e.s=-e.s),o=d.length,r=l.length-o;r>0;--r)d[o++]=0;for(r=l.length;r>i;){if(d[--r]<l[r]){for(s=r;s&&d[--s]===0;)d[s]=Sn-1;--d[s],d[r]+=Sn}d[r]-=l[r]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=Ga(d,n),Re?Se(e,a,c):e):new m(c===3?-0:0)};Q.modulo=Q.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?Se(new r(n),r.precision,r.rounding):(Re=!1,r.modulo==9?(t=at(n,e.abs(),0,3,1),t.s*=e.s):t=at(n,e,0,r.modulo,1),t=t.times(e),Re=!0,n.minus(t))};Q.naturalExponential=Q.exp=function(){return hu(this)};Q.naturalLogarithm=Q.ln=function(){return yr(this)};Q.negated=Q.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Se(e)};Q.plus=Q.add=function(e){var t,n,r,s,i,o,a,c,d,p,u=this,l=u.constructor;if(e=new l(e),!u.d||!e.d)return!u.s||!e.s?e=new l(NaN):u.d||(e=new l(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(d=u.d,p=e.d,a=l.precision,c=l.rounding,!d[0]||!p[0])return p[0]||(e=new l(u)),Re?Se(e,a,c):e;if(i=zt(u.e/Ce),r=zt(e.e/Ce),d=d.slice(),s=i-r,s){for(s<0?(n=d,s=-s,o=p.length):(n=p,r=i,o=d.length),i=Math.ceil(a/Ce),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=d.length,s=p.length,o-s<0&&(s=o,n=p,p=d,d=n),t=0;s;)t=(d[--s]=d[s]+p[s]+t)/Sn|0,d[s]%=Sn;for(t&&(d.unshift(t),++r),o=d.length;d[--o]==0;)d.pop();return e.d=d,e.e=Ga(d,r),Re?Se(e,a,c):e};Q.precision=Q.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vr+e);return n.d?(t=Tm(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};Q.round=function(){var e=this,t=e.constructor;return Se(new t(e),e.e+1,t.rounding)};Q.sine=Q.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ce,r.rounding=1,n=oT(r,Sm(r,n)),r.precision=e,r.rounding=t,Se(er>2?n.neg():n,e,t,!0)):new r(NaN)};Q.squareRoot=Q.sqrt=function(){var e,t,n,r,s,i,o=this,a=o.d,c=o.e,d=o.s,p=o.constructor;if(d!==1||!a||!a[0])return new p(!d||d<0&&(!a||a[0])?NaN:a?o:1/0);for(Re=!1,d=Math.sqrt(+o),d==0||d==1/0?(t=Bt(a),(t.length+c)%2==0&&(t+="0"),d=Math.sqrt(t),c=zt((c+1)/2)-(c<0||c%2),d==1/0?t="5e"+c:(t=d.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new p(t)):r=new p(d.toString()),n=(c=p.precision)+3;;)if(i=r,r=i.plus(at(o,i,n+2,1)).times(.5),Bt(i.d).slice(0,n)===(t=Bt(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!s&&t=="4999"){if(!s&&(Se(i,c+1,0),i.times(i).eq(o))){r=i;break}n+=4,s=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Se(r,c+1,1),e=!r.times(r).eq(o));break}return Re=!0,Se(r,c,p.rounding,e)};Q.tangent=Q.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=at(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,Se(er==2||er==4?n.neg():n,e,t,!0)):new r(NaN)};Q.times=Q.mul=function(e){var t,n,r,s,i,o,a,c,d,p=this,u=p.constructor,l=p.d,f=(e=new u(e)).d;if(e.s*=p.s,!l||!l[0]||!f||!f[0])return new u(!e.s||l&&!l[0]&&!f||f&&!f[0]&&!l?NaN:!l||!f?e.s/0:e.s*0);for(n=zt(p.e/Ce)+zt(e.e/Ce),c=l.length,d=f.length,c<d&&(i=l,l=f,f=i,o=c,c=d,d=o),i=[],o=c+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,s=c+r;s>r;)a=i[s]+f[r]*l[s-r-1]+t,i[s--]=a%Sn|0,t=a/Sn|0;i[s]=(i[s]+t)%Sn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=Ga(i,n),Re?Se(e,u.precision,u.rounding):e};Q.toBinary=function(e,t){return wl(this,2,e,t)};Q.toDecimalPlaces=Q.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(nn(e,0,Cr),t===void 0?t=r.rounding:nn(t,0,8),Se(n,e+n.e+1,t))};Q.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Gn(r,!0):(nn(e,0,Cr),t===void 0?t=s.rounding:nn(t,0,8),r=Se(new s(r),e+1,t),n=Gn(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};Q.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?n=Gn(s):(nn(e,0,Cr),t===void 0?t=i.rounding:nn(t,0,8),r=Se(new i(s),e+s.e+1,t),n=Gn(r,!1,e+r.e+1)),s.isNeg()&&!s.isZero()?"-"+n:n};Q.toFraction=function(e){var t,n,r,s,i,o,a,c,d,p,u,l,f=this,m=f.d,h=f.constructor;if(!m)return new h(f);if(d=n=new h(1),r=c=new h(0),t=new h(r),i=t.e=Tm(m)-f.e-1,o=i%Ce,t.d[0]=Nt(10,o<0?Ce+o:o),e==null)e=i>0?t:d;else{if(a=new h(e),!a.isInt()||a.lt(d))throw Error(vr+a);e=a.gt(t)?i>0?t:d:a}for(Re=!1,a=new h(Bt(m)),p=h.precision,h.precision=i=m.length*Ce*2;u=at(a,t,0,1,1),s=n.plus(u.times(r)),s.cmp(e)!=1;)n=r,r=s,s=d,d=c.plus(u.times(s)),c=s,s=t,t=a.minus(u.times(s)),a=s;return s=at(e.minus(n),r,0,1,1),c=c.plus(s.times(d)),n=n.plus(s.times(r)),c.s=d.s=f.s,l=at(d,r,i,1).minus(f).abs().cmp(at(c,n,i,1).minus(f).abs())<1?[d,r]:[c,n],h.precision=p,Re=!0,l};Q.toHexadecimal=Q.toHex=function(e,t){return wl(this,16,e,t)};Q.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:nn(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Re=!1,n=at(n,e,0,t,1).times(e),Re=!0,Se(n)):(e.s=n.s,n=e),n};Q.toNumber=function(){return+this};Q.toOctal=function(e,t){return wl(this,8,e,t)};Q.toPower=Q.pow=function(e){var t,n,r,s,i,o,a=this,c=a.constructor,d=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(Nt(+a,d));if(a=new c(a),a.eq(1))return a;if(r=c.precision,i=c.rounding,e.eq(1))return Se(a,r,i);if(t=zt(e.e/Ce),t>=e.d.length-1&&(n=d<0?-d:d)<=rT)return s=wm(c,a,n,r),e.s<0?new c(1).div(s):Se(s,r,i);if(o=a.s,o<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return n=Nt(+a,d),t=n==0||!isFinite(n)?zt(d*(Math.log("0."+Bt(a.d))/Math.LN10+a.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(Re=!1,c.rounding=a.s=1,n=Math.min(12,(t+"").length),s=hu(e.times(yr(a,r+n)),r),s.d&&(s=Se(s,r+5,1),ei(s.d,r,i)&&(t=r+10,s=Se(hu(e.times(yr(a,t+n)),t),t+5,1),+Bt(s.d).slice(r+1,r+15)+1==1e14&&(s=Se(s,r+1,0)))),s.s=o,Re=!0,c.rounding=i,Se(s,r,i))};Q.toPrecision=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Gn(r,r.e<=s.toExpNeg||r.e>=s.toExpPos):(nn(e,1,Cr),t===void 0?t=s.rounding:nn(t,0,8),r=Se(new s(r),e,t),n=Gn(r,e<=r.e||r.e<=s.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};Q.toSignificantDigits=Q.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(nn(e,1,Cr),t===void 0?t=r.rounding:nn(t,0,8)),Se(new r(n),e,t)};Q.toString=function(){var e=this,t=e.constructor,n=Gn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};Q.truncated=Q.trunc=function(){return Se(new this.constructor(this),this.e+1,1)};Q.valueOf=Q.toJSON=function(){var e=this,t=e.constructor,n=Gn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Bt(e){var t,n,r,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)r=e[t]+"",n=Ce-r.length,n&&(i+=fr(n)),i+=r;o=e[t],r=o+"",n=Ce-r.length,n&&(i+=fr(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function nn(e,t,n){if(e!==~~e||e<t||e>n)throw Error(vr+e)}function ei(e,t,n,r){var s,i,o,a;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=Ce,s=0):(s=Math.ceil((t+1)/Ce),t%=Ce),i=Nt(10,Ce-t),a=e[s]%i|0,r==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):o=(n<4&&a+1==i||n>3&&a+1==i/2)&&(e[s+1]/i/100|0)==Nt(10,t-2)-1||(a==i/2||a==0)&&(e[s+1]/i/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(r||n<4)&&a==9999||!r&&n>3&&a==4999):o=((r||n<4)&&a+1==i||!r&&n>3&&a+1==i/2)&&(e[s+1]/i/1e3|0)==Nt(10,t-3)-1,o}function ia(e,t,n){for(var r,s=[0],i,o=0,a=e.length;o<a;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=cu.indexOf(e.charAt(o++)),r=0;r<s.length;r++)s[r]>n-1&&(s[r+1]===void 0&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}function iT(e,t){var n,r,s;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),s=(1/Ka(4,n)).toString()):(n=16,s="2.3283064365386962890625e-10"),e.precision+=n,t=Es(e,1,t.times(s),new e(1));for(var i=n;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var at=(function(){function e(r,s,i){var o,a=0,c=r.length;for(r=r.slice();c--;)o=r[c]*s+a,r[c]=o%i|0,a=o/i|0;return a&&r.unshift(a),r}function t(r,s,i,o){var a,c;if(i!=o)c=i>o?1:-1;else for(a=c=0;a<i;a++)if(r[a]!=s[a]){c=r[a]>s[a]?1:-1;break}return c}function n(r,s,i,o){for(var a=0;i--;)r[i]-=a,a=r[i]<s[i]?1:0,r[i]=a*o+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o,a,c){var d,p,u,l,f,m,h,x,g,y,_,T,w,k,S,v,A,N,R,M,j=r.constructor,H=r.s==s.s?1:-1,z=r.d,q=s.d;if(!z||!z[0]||!q||!q[0])return new j(!r.s||!s.s||(z?q&&z[0]==q[0]:!q)?NaN:z&&z[0]==0||!q?H*0:H/0);for(c?(f=1,p=r.e-s.e):(c=Sn,f=Ce,p=zt(r.e/f)-zt(s.e/f)),R=q.length,A=z.length,g=new j(H),y=g.d=[],u=0;q[u]==(z[u]||0);u++);if(q[u]>(z[u]||0)&&p--,i==null?(k=i=j.precision,o=j.rounding):a?k=i+(r.e-s.e)+1:k=i,k<0)y.push(1),m=!0;else{if(k=k/f+2|0,u=0,R==1){for(l=0,q=q[0],k++;(u<A||l)&&k--;u++)S=l*c+(z[u]||0),y[u]=S/q|0,l=S%q|0;m=l||u<A}else{for(l=c/(q[0]+1)|0,l>1&&(q=e(q,l,c),z=e(z,l,c),R=q.length,A=z.length),v=R,_=z.slice(0,R),T=_.length;T<R;)_[T++]=0;M=q.slice(),M.unshift(0),N=q[0],q[1]>=c/2&&++N;do l=0,d=t(q,_,R,T),d<0?(w=_[0],R!=T&&(w=w*c+(_[1]||0)),l=w/N|0,l>1?(l>=c&&(l=c-1),h=e(q,l,c),x=h.length,T=_.length,d=t(h,_,x,T),d==1&&(l--,n(h,R<x?M:q,x,c))):(l==0&&(d=l=1),h=q.slice()),x=h.length,x<T&&h.unshift(0),n(_,h,T,c),d==-1&&(T=_.length,d=t(q,_,R,T),d<1&&(l++,n(_,R<T?M:q,T,c))),T=_.length):d===0&&(l++,_=[0]),y[u++]=l,d&&_[0]?_[T++]=z[v]||0:(_=[z[v]],T=1);while((v++<A||_[0]!==void 0)&&k--);m=_[0]!==void 0}y[0]||y.shift()}if(f==1)g.e=p,ym=m;else{for(u=1,l=y[0];l>=10;l/=10)u++;g.e=u+p*f-1,Se(g,a?i+g.e+1:i,o,m)}return g}})();function Se(e,t,n,r){var s,i,o,a,c,d,p,u,l,f=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(s=1,a=u[0];a>=10;a/=10)s++;if(i=t-s,i<0)i+=Ce,o=t,p=u[l=0],c=p/Nt(10,s-o-1)%10|0;else if(l=Math.ceil((i+1)/Ce),a=u.length,l>=a)if(r){for(;a++<=l;)u.push(0);p=c=0,s=1,i%=Ce,o=i-Ce+1}else break e;else{for(p=a=u[l],s=1;a>=10;a/=10)s++;i%=Ce,o=i-Ce+s,c=o<0?0:p/Nt(10,s-o-1)%10|0}if(r=r||t<0||u[l+1]!==void 0||(o<0?p:p%Nt(10,s-o-1)),d=n<4?(c||r)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(i>0?o>0?p/Nt(10,s-o):0:u[l-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,d?(t-=e.e+1,u[0]=Nt(10,(Ce-t%Ce)%Ce),e.e=-t||0):u[0]=e.e=0,e;if(i==0?(u.length=l,a=1,l--):(u.length=l+1,a=Nt(10,Ce-i),u[l]=o>0?(p/Nt(10,s-o)%Nt(10,o)|0)*a:0),d)for(;;)if(l==0){for(i=1,o=u[0];o>=10;o/=10)i++;for(o=u[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(e.e++,u[0]==Sn&&(u[0]=1));break}else{if(u[l]+=a,u[l]!=Sn)break;u[l--]=0,a=1}for(i=u.length;u[--i]===0;)u.pop()}return Re&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function Gn(e,t,n){if(!e.isFinite())return Nm(e);var r,s=e.e,i=Bt(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+fr(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):s<0?(i="0."+fr(-s-1)+i,n&&(r=n-o)>0&&(i+=fr(r))):s>=o?(i+=fr(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+fr(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=fr(r))),i}function Ga(e,t){var n=e[0];for(t*=Ce;n>=10;n/=10)t++;return t}function Ta(e,t,n){if(t>sT)throw Re=!0,n&&(e.precision=n),Error(Em);return Se(new e(_a),t,1,!0)}function Un(e,t,n){if(t>fu)throw Error(Em);return Se(new e(va),t,n,!0)}function Tm(e){var t=e.length-1,n=t*Ce+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function fr(e){for(var t="";e--;)t+="0";return t}function wm(e,t,n,r){var s,i=new e(1),o=Math.ceil(r/Ce+4);for(Re=!1;;){if(n%2&&(i=i.times(t),hd(i.d,o)&&(s=!0)),n=zt(n/2),n===0){n=i.d.length-1,s&&i.d[n]===0&&++i.d[n];break}t=t.times(t),hd(t.d,o)}return Re=!0,i}function fd(e){return e.d[e.d.length-1]&1}function Am(e,t,n){for(var r,s,i=new e(t[0]),o=0;++o<t.length;){if(s=new e(t[o]),!s.s){i=s;break}r=i.cmp(s),(r===n||r===0&&i.s===n)&&(i=s)}return i}function hu(e,t){var n,r,s,i,o,a,c,d=0,p=0,u=0,l=e.constructor,f=l.rounding,m=l.precision;if(!e.d||!e.d[0]||e.e>17)return new l(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(Re=!1,c=m):c=t,a=new l(.03125);e.e>-2;)e=e.times(a),u+=5;for(r=Math.log(Nt(2,u))/Math.LN10*2+5|0,c+=r,n=i=o=new l(1),l.precision=c;;){if(i=Se(i.times(e),c,1),n=n.times(++p),a=o.plus(at(i,n,c,1)),Bt(a.d).slice(0,c)===Bt(o.d).slice(0,c)){for(s=u;s--;)o=Se(o.times(o),c,1);if(t==null)if(d<3&&ei(o.d,c-r,f,d))l.precision=c+=10,n=i=a=new l(1),p=0,d++;else return Se(o,l.precision=m,f,Re=!0);else return l.precision=m,o}o=a}}function yr(e,t){var n,r,s,i,o,a,c,d,p,u,l,f=1,m=10,h=e,x=h.d,g=h.constructor,y=g.rounding,_=g.precision;if(h.s<0||!x||!x[0]||!h.e&&x[0]==1&&x.length==1)return new g(x&&!x[0]?-1/0:h.s!=1?NaN:x?0:h);if(t==null?(Re=!1,p=_):p=t,g.precision=p+=m,n=Bt(x),r=n.charAt(0),Math.abs(i=h.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=Bt(h.d),r=n.charAt(0),f++;i=h.e,r>1?(h=new g("0."+n),i++):h=new g(r+"."+n.slice(1))}else return d=Ta(g,p+2,_).times(i+""),h=yr(new g(r+"."+n.slice(1)),p-m).plus(d),g.precision=_,t==null?Se(h,_,y,Re=!0):h;for(u=h,c=o=h=at(h.minus(1),h.plus(1),p,1),l=Se(h.times(h),p,1),s=3;;){if(o=Se(o.times(l),p,1),d=c.plus(at(o,new g(s),p,1)),Bt(d.d).slice(0,p)===Bt(c.d).slice(0,p))if(c=c.times(2),i!==0&&(c=c.plus(Ta(g,p+2,_).times(i+""))),c=at(c,new g(f),p,1),t==null)if(ei(c.d,p-m,y,a))g.precision=p+=m,d=o=h=at(u.minus(1),u.plus(1),p,1),l=Se(h.times(h),p,1),s=a=1;else return Se(c,g.precision=_,y,Re=!0);else return g.precision=_,c;c=d,s+=2}}function Nm(e){return String(e.s*e.s/0)}function aa(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(s=t.length;t.charCodeAt(s-1)===48;--s);if(t=t.slice(r,s),t){if(s-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Ce,n<0&&(r+=Ce),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Ce;r<s;)e.d.push(+t.slice(r,r+=Ce));t=t.slice(r),r=Ce-t.length}else r-=s;for(;r--;)t+="0";e.d.push(+t),Re&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function aT(e,t){var n,r,s,i,o,a,c,d,p;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),vm.test(t))return aa(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(tT.test(t))n=16,t=t.toLowerCase();else if(eT.test(t))n=2;else if(nT.test(t))n=8;else throw Error(vr+t);for(i=t.search(/p/i),i>0?(c=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,r=e.constructor,o&&(t=t.replace(".",""),a=t.length,i=a-i,s=wm(r,new r(n),i,i*2)),d=ia(t,n,Sn),p=d.length-1,i=p;d[i]===0;--i)d.pop();return i<0?new r(e.s*0):(e.e=Ga(d,p),e.d=d,Re=!1,o&&(e=at(e,s,a*4)),c&&(e=e.times(Math.abs(c)<54?Nt(2,c):Zr.pow(2,c))),Re=!0,e)}function oT(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Es(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/Ka(5,n)),t=Es(e,2,t,t);for(var s,i=new e(5),o=new e(16),a=new e(20);n--;)s=t.times(t),t=t.times(i.plus(s.times(o.times(s).minus(a))));return t}function Es(e,t,n,r,s){var i,o,a,c,d=e.precision,p=Math.ceil(d/Ce);for(Re=!1,c=n.times(n),a=new e(r);;){if(o=at(a.times(c),new e(t++*t++),d,1),a=s?r.plus(o):r.minus(o),r=at(o.times(c),new e(t++*t++),d,1),o=a.plus(r),o.d[p]!==void 0){for(i=p;o.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=r,r=o,o=i}return Re=!0,o.d.length=p+1,o}function Ka(e,t){for(var n=e;--t;)n*=e;return n}function Sm(e,t){var n,r=t.s<0,s=Un(e,e.precision,1),i=s.times(.5);if(t=t.abs(),t.lte(i))return er=r?4:1,t;if(n=t.divToInt(s),n.isZero())er=r?3:2;else{if(t=t.minus(n.times(s)),t.lte(i))return er=fd(n)?r?2:3:r?4:1,t;er=fd(n)?r?1:4:r?3:2}return t.minus(s).abs()}function wl(e,t,n,r){var s,i,o,a,c,d,p,u,l,f=e.constructor,m=n!==void 0;if(m?(nn(n,1,Cr),r===void 0?r=f.rounding:nn(r,0,8)):(n=f.precision,r=f.rounding),!e.isFinite())p=Nm(e);else{for(p=Gn(e),o=p.indexOf("."),m?(s=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):s=t,o>=0&&(p=p.replace(".",""),l=new f(1),l.e=p.length-o,l.d=ia(Gn(l),10,s),l.e=l.d.length),u=ia(p,10,s),i=c=u.length;u[--c]==0;)u.pop();if(!u[0])p=m?"0p+0":"0";else{if(o<0?i--:(e=new f(e),e.d=u,e.e=i,e=at(e,l,n,r,0,s),u=e.d,i=e.e,d=ym),o=u[n],a=s/2,d=d||u[n+1]!==void 0,d=r<4?(o!==void 0||d)&&(r===0||r===(e.s<0?3:2)):o>a||o===a&&(r===4||d||r===6&&u[n-1]&1||r===(e.s<0?8:7)),u.length=n,d)for(;++u[--n]>s-1;)u[n]=0,n||(++i,u.unshift(1));for(c=u.length;!u[c-1];--c);for(o=0,p="";o<c;o++)p+=cu.charAt(u[o]);if(m){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)p+="0";for(u=ia(p,s,t),c=u.length;!u[c-1];--c);for(o=1,p="1.";o<c;o++)p+=cu.charAt(u[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)p="0"+p;p="0."+p}else if(++i>c)for(i-=c;i--;)p+="0";else i<c&&(p=p.slice(0,i)+"."+p.slice(i))}p=(t==16?"0x":t==2?"0b":t==8?"0o":"")+p}return e.s<0?"-"+p:p}function hd(e,t){if(e.length>t)return e.length=t,!0}function uT(e){return new this(e).abs()}function lT(e){return new this(e).acos()}function cT(e){return new this(e).acosh()}function dT(e,t){return new this(e).plus(t)}function fT(e){return new this(e).asin()}function hT(e){return new this(e).asinh()}function mT(e){return new this(e).atan()}function pT(e){return new this(e).atanh()}function gT(e,t){e=new this(e),t=new this(t);var n,r=this.precision,s=this.rounding,i=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Un(this,i,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Un(this,r,s):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Un(this,i,1).times(.5),n.s=e.s):t.s<0?(this.precision=i,this.rounding=1,n=this.atan(at(e,t,i,1)),t=Un(this,i,1),this.precision=r,this.rounding=s,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(at(e,t,i,1)),n}function bT(e){return new this(e).cbrt()}function yT(e){return Se(e=new this(e),e.e+1,2)}function ET(e,t,n){return new this(e).clamp(t,n)}function xT(e){if(!e||typeof e!="object")throw Error(Wa+"Object expected");var t,n,r,s=e.defaults===!0,i=["precision",1,Cr,"rounding",0,8,"toExpNeg",-os,0,"toExpPos",0,os,"maxE",0,os,"minE",-os,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],s&&(this[n]=du[n]),(r=e[n])!==void 0)if(zt(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(vr+n+": "+r);if(n="crypto",s&&(this[n]=du[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(xm);else this[n]=!1;else throw Error(vr+n+": "+r);return this}function _T(e){return new this(e).cos()}function vT(e){return new this(e).cosh()}function km(e){var t,n,r;function s(i){var o,a,c,d=this;if(!(d instanceof s))return new s(i);if(d.constructor=s,md(i)){d.s=i.s,Re?!i.d||i.e>s.maxE?(d.e=NaN,d.d=null):i.e<s.minE?(d.e=0,d.d=[0]):(d.e=i.e,d.d=i.d.slice()):(d.e=i.e,d.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){d.s=1/i<0?-1:1,d.e=0,d.d=[0];return}if(i<0?(i=-i,d.s=-1):d.s=1,i===~~i&&i<1e7){for(o=0,a=i;a>=10;a/=10)o++;Re?o>s.maxE?(d.e=NaN,d.d=null):o<s.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[i]):(d.e=o,d.d=[i]);return}if(i*0!==0){i||(d.s=NaN),d.e=NaN,d.d=null;return}return aa(d,i.toString())}if(c==="string")return(a=i.charCodeAt(0))===45?(i=i.slice(1),d.s=-1):(a===43&&(i=i.slice(1)),d.s=1),vm.test(i)?aa(d,i):aT(d,i);if(c==="bigint")return i<0?(i=-i,d.s=-1):d.s=1,aa(d,i.toString());throw Error(vr+i)}if(s.prototype=Q,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=xT,s.clone=km,s.isDecimal=md,s.abs=uT,s.acos=lT,s.acosh=cT,s.add=dT,s.asin=fT,s.asinh=hT,s.atan=mT,s.atanh=pT,s.atan2=gT,s.cbrt=bT,s.ceil=yT,s.clamp=ET,s.cos=_T,s.cosh=vT,s.div=TT,s.exp=wT,s.floor=AT,s.hypot=NT,s.ln=ST,s.log=kT,s.log10=OT,s.log2=CT,s.max=IT,s.min=RT,s.mod=LT,s.mul=DT,s.pow=PT,s.random=MT,s.round=jT,s.sign=BT,s.sin=FT,s.sinh=UT,s.sqrt=HT,s.sub=$T,s.sum=zT,s.tan=qT,s.tanh=VT,s.trunc=YT,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function TT(e,t){return new this(e).div(t)}function wT(e){return new this(e).exp()}function AT(e){return Se(e=new this(e),e.e+1,3)}function NT(){var e,t,n=new this(0);for(Re=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return Re=!0,new this(1/0);n=t}return Re=!0,n.sqrt()}function md(e){return e instanceof Zr||e&&e.toStringTag===_m||!1}function ST(e){return new this(e).ln()}function kT(e,t){return new this(e).log(t)}function CT(e){return new this(e).log(2)}function OT(e){return new this(e).log(10)}function IT(){return Am(this,arguments,-1)}function RT(){return Am(this,arguments,1)}function LT(e,t){return new this(e).mod(t)}function DT(e,t){return new this(e).mul(t)}function PT(e,t){return new this(e).pow(t)}function MT(e){var t,n,r,s,i=0,o=new this(1),a=[];if(e===void 0?e=this.precision:nn(e,1,Cr),r=Math.ceil(e/Ce),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)s=t[i],s>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=s%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);i<r;)s=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(t,i):(a.push(s%1e7),i+=4);i=r/4}else throw Error(xm);else for(;i<r;)a[i++]=Math.random()*1e7|0;for(r=a[--i],e%=Ce,r&&e&&(s=Nt(10,Ce-e),a[i]=(r/s|0)*s);a[i]===0;i--)a.pop();if(i<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=Ce)a.shift();for(r=1,s=a[0];s>=10;s/=10)r++;r<Ce&&(n-=Ce-r)}return o.e=n,o.d=a,o}function jT(e){return Se(e=new this(e),e.e+1,this.rounding)}function BT(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function FT(e){return new this(e).sin()}function UT(e){return new this(e).sinh()}function HT(e){return new this(e).sqrt()}function $T(e,t){return new this(e).sub(t)}function zT(){var e=0,t=arguments,n=new this(t[e]);for(Re=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return Re=!0,Se(n,this.precision,this.rounding)}function qT(e){return new this(e).tan()}function VT(e){return new this(e).tanh()}function YT(e){return Se(e=new this(e),e.e+1,1)}Q[Symbol.for("nodejs.util.inspect.custom")]=Q.toString;Q[Symbol.toStringTag]="Decimal";var Zr=Q.constructor=km(du);_a=new Zr(_a);va=new Zr(va);const WT={royaltyPercentage:1};function GT({isOpen:e,setIsOpen:t,onClose:n,currentRoyaltyPercentage:r}){const{register:s,formState:{isDirty:i,isValid:o,errors:a},handleSubmit:c,setValue:d,watch:p}=gi({defaultValues:WT,mode:"onChange",resolver:bi(sr.editRoyalty)}),u=p("royaltyPercentage");B.useEffect(()=>{d("royaltyPercentage",r-.01)},[r,d]);const l=f=>{f&&n(f.royaltyPercentage),t(!1)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>l(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Royalty"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Current Royalty"}),E.jsxs("p",{className:"text-white font-mono text-lg",children:[r.toFixed(2),"%"]})]}),E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:E.jsx("p",{className:"text-amber-400 text-sm",children:"Royalty percentage can only be decreased, not increased."})}),E.jsx(Nn,{label:"New Royalty Percentage",name:"royaltyPercentage",type:"number",defaultValue:r-.01,min:"0",max:r-.01,step:"0.01",errors:a,register:s}),u>=r&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," The royalty percentage can only be decreased."]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>l(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!o&&i||u>=r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!o&&i||u>=r,onClick:c(l),children:"Update Royalty"})]})]})]}):null}function KT({id:e,currentRoyaltyPercentage:t,onUpdate:n,minimal:r=!1}){const s=Ke.contractAddresses.v1.zang,i=qe.zang,{isConnected:o}=cn(),{writeContractAsync:a}=Nr(),c=kr(),[d,p]=B.useState(!1),[u,l]=St(yn);if(t==null)return E.jsx(B.Fragment,{});const f=async m=>{if(m===null&&l("Please enter a royalty percentage."),!e){l("Could not determine the ID of the NFT.");return}if(!o){l("Please connect a wallet.");return}l(null);const h=new Zr(m).mul("100").toNumber();if(!e)return;const x=async()=>await a({address:s,abi:i,functionName:"decreaseRoyaltyNumerator",args:[BigInt(e),BigInt(h)],...zn()}),{success:g}=await c(x,`Edit royalty for NFT #${e}`);g&&n&&n(e)};return E.jsxs(B.Fragment,{children:[E.jsx("button",{className:r?"text-ink-500 hover:text-ink-300 transition-colors":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>p(!0),title:"Edit royalty",children:r?E.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}):"Edit Royalty"}),E.jsx(GT,{isOpen:d,setIsOpen:p,onClose:f,currentRoyaltyPercentage:t})]})}function XT({id:e,userBalance:t,userAvailableAmount:n,onUpdate:r,walletAddress:s,fullWidth:i=!1}){const o=Ke.contractAddresses.v1.marketplace,a=qe.marketplace,{isConnected:c}=cn(),{writeContractAsync:d}=Nr(),p=kr(),[u,l]=B.useState(!1),[f,m]=St(yn),h=async(x,g)=>{if(x===null){m("Please enter an amount.");return}if(g===null){m("Please enter a price.");return}if(!e){m("Could not determine the ID of the NFT.");return}if(!c){m("Please connect a wallet.");return}m(null);const y=async()=>await d({address:o,abi:a,functionName:"listToken",args:[BigInt(e),ca(g),BigInt(x)],...zn()}),{success:_}=await p(y,`List NFT #${e}`);_&&r&&r(e)};return E.jsxs(B.Fragment,{children:[E.jsx("button",{className:`px-4 py-2.5 text-sm font-medium rounded-lg bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90 transition-colors ${i?"w-full":""}`,onClick:()=>l(!0),children:"List for Sale"}),E.jsx(ob,{isOpen:u,setIsOpen:l,onClose:h,balance:t,availableAmount:n,id:e,walletAddress:s,onUpdate:r})]})}function QT({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s,oldAmount:i,oldPrice:o,ethPrice:a}){const[c,d]=B.useState(""),[p,u]=B.useState("");B.useEffect(()=>{e&&(d((i==null?void 0:i.toString())||""),u((o==null?void 0:o.toString())||""))},[e,i,o]);const l=Math.min(s+i,r),f=c!==""&&parseInt(c)!==i,m=p!==""&&p!==o,h=f||m,x=parseInt(c)||0,g=x>r,y=x>l,_=h&&!g&&x>0&&parseFloat(p)>=0,T=()=>{t(!1)},w=()=>{if(!_)return;const k=f?c:null,S=m?p:null;t(!1),n(k,S)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:T}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[E.jsxs("div",{className:"px-5 py-4 border-b border-ink-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Listing"}),E.jsx("p",{className:"text-ink-400 text-sm mt-0.5",children:"Update the price or amount for this listing"})]}),E.jsxs("div",{className:"p-5 space-y-5",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-ink-200",children:"Price per edition"}),m&&E.jsx("span",{className:"text-xs text-accent-cyan",children:"Changed"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"number",min:"0",step:"0.001",value:p,onChange:k=>u(k.target.value),className:`w-full px-3 py-2.5 pr-12 bg-ink-800 border rounded-lg text-white font-mono placeholder-ink-500 focus:outline-none focus:ring-2 focus:ring-accent-cyan/50 transition-colors ${m?"border-accent-cyan/50":"border-ink-700"}`,placeholder:"0.00"}),E.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-ink-400 text-sm font-medium",children:"ETH"})]}),E.jsxs("div",{className:"flex justify-between text-xs",children:[o&&E.jsxs("span",{className:"text-ink-500",children:["Currently: ",o," ETH",a&&E.jsxs("span",{className:"text-ink-600 ml-1",children:["($",(parseFloat(o)*a).toFixed(2),")"]})]}),a&&p&&parseFloat(p)>0&&E.jsxs("span",{className:"text-ink-400",children:[" $",(parseFloat(p)*a).toFixed(2)]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-ink-200",children:"Amount to list"}),f&&E.jsx("span",{className:"text-xs text-accent-cyan",children:"Changed"})]}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"number",min:"1",step:"1",max:r,value:c,onChange:k=>d(k.target.value),className:`w-full px-3 py-2.5 bg-ink-800 border rounded-lg text-white font-mono placeholder-ink-500 focus:outline-none focus:ring-2 focus:ring-accent-cyan/50 transition-colors ${g?"border-red-500":f?"border-accent-cyan/50":"border-ink-700"}`,placeholder:"1"})}),E.jsxs("div",{className:"flex justify-between text-xs",children:[E.jsxs("span",{className:"text-ink-500",children:["Currently: ",i," edition",i!==1?"s":""]}),E.jsxs("span",{className:"text-ink-500",children:["You own: ",r]})]})]}),g&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:["You can't list more than you own (",r," ","editions)."]})}),!g&&y&&x>0&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Note:"})," This will use"," ",x-l," ","edition",x-l!==1?"s":""," ","from other listings, which may make them unfulfillable."]})}),h&&_&&E.jsx("div",{className:"p-3 rounded-lg bg-ink-800/50 border border-ink-700",children:E.jsx("p",{className:"text-ink-300 text-sm",children:m&&f?E.jsxs(E.Fragment,{children:["Updating price to"," ",E.jsxs("span",{className:"text-white font-mono",children:[p," ETH"]})," ","and amount to"," ",E.jsx("span",{className:"text-white font-mono",children:c})]}):m?E.jsxs(E.Fragment,{children:["Updating price to"," ",E.jsxs("span",{className:"text-white font-mono",children:[p," ETH"]})]}):E.jsxs(E.Fragment,{children:["Updating amount to"," ",E.jsx("span",{className:"text-white font-mono",children:c})," ","edition",c!=="1"?"s":""]})})})]}),E.jsxs("div",{className:"px-5 py-4 border-t border-ink-800 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:T,children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${_?"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90":"bg-ink-700 text-ink-500 cursor-not-allowed"}`,disabled:!_,onClick:w,children:"Save Changes"})]})]})]}):null}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function ZT(e,t,n){return(t=e2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pd(Object(n),!0).forEach(function(r){ZT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e2(e){var t=JT(e,"string");return typeof t=="symbol"?t:t+""}const gd=()=>{};let Al={},Cm={},Om=null,Im={mark:gd,measure:gd};try{typeof window<"u"&&(Al=window),typeof document<"u"&&(Cm=document),typeof MutationObserver<"u"&&(Om=MutationObserver),typeof performance<"u"&&(Im=performance)}catch{}const{userAgent:bd=""}=Al.navigator||{},Tr=Al,ht=Cm,yd=Om,Vi=Im;Tr.document;const ir=!!ht.documentElement&&!!ht.head&&typeof ht.addEventListener=="function"&&typeof ht.createElement=="function",Rm=~bd.indexOf("MSIE")||~bd.indexOf("Trident/");var t2=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,n2=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Lm={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},r2={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Dm=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],qt="classic",Xa="duotone",s2="sharp",i2="sharp-duotone",Pm=[qt,Xa,s2,i2],a2={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},o2={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},u2=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),l2={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},c2=["fak","fa-kit","fakd","fa-kit-duotone"],Ed={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},d2=["kit"],f2={kit:{"fa-kit":"fak"}},h2=["fak","fakd"],m2={kit:{fak:"fa-kit"}},xd={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Yi={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},p2=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],g2=["fak","fa-kit","fakd","fa-kit-duotone"],b2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},y2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},E2={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},mu={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},x2=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],pu=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...p2,...x2],_2=["solid","regular","light","thin","duotone","brands"],Mm=[1,2,3,4,5,6,7,8,9,10],v2=Mm.concat([11,12,13,14,15,16,17,18,19,20]),T2=[...Object.keys(E2),..._2,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Yi.GROUP,Yi.SWAP_OPACITY,Yi.PRIMARY,Yi.SECONDARY].concat(Mm.map(e=>"".concat(e,"x"))).concat(v2.map(e=>"w-".concat(e))),w2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const tr="___FONT_AWESOME___",gu=16,jm="fa",Bm="svg-inline--fa",qr="data-fa-i2svg",bu="data-fa-pseudo-element",A2="data-fa-pseudo-element-pending",Nl="data-prefix",Sl="data-icon",_d="fontawesome-i2svg",N2="async",S2=["HTML","HEAD","STYLE","SCRIPT"],Fm=(()=>{try{return!0}catch{return!1}})();function Ni(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[qt]}})}const Um=re({},Lm);Um[qt]=re(re(re(re({},{"fa-duotone":"duotone"}),Lm[qt]),Ed.kit),Ed["kit-duotone"]);const k2=Ni(Um),yu=re({},l2);yu[qt]=re(re(re(re({},{duotone:"fad"}),yu[qt]),xd.kit),xd["kit-duotone"]);const vd=Ni(yu),Eu=re({},mu);Eu[qt]=re(re({},Eu[qt]),m2.kit);const kl=Ni(Eu),xu=re({},y2);xu[qt]=re(re({},xu[qt]),f2.kit);Ni(xu);const C2=t2,Hm="fa-layers-text",O2=n2,I2=re({},a2);Ni(I2);const R2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],wo=r2,L2=[...d2,...T2],Gs=Tr.FontAwesomeConfig||{};function D2(e){var t=ht.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function P2(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}ht&&typeof ht.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=P2(D2(n));s!=null&&(Gs[r]=s)});const $m={styleDefault:"solid",familyDefault:qt,cssPrefix:jm,replacementClass:Bm,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Gs.familyPrefix&&(Gs.cssPrefix=Gs.familyPrefix);const xs=re(re({},$m),Gs);xs.autoReplaceSvg||(xs.observeMutations=!1);const Ae={};Object.keys($m).forEach(e=>{Object.defineProperty(Ae,e,{enumerable:!0,set:function(t){xs[e]=t,Ks.forEach(n=>n(Ae))},get:function(){return xs[e]}})});Object.defineProperty(Ae,"familyPrefix",{enumerable:!0,set:function(e){xs.cssPrefix=e,Ks.forEach(t=>t(Ae))},get:function(){return xs.cssPrefix}});Tr.FontAwesomeConfig=Ae;const Ks=[];function M2(e){return Ks.push(e),()=>{Ks.splice(Ks.indexOf(e),1)}}const ur=gu,Hn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function j2(e){if(!e||!ir)return;const t=ht.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=ht.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return ht.head.insertBefore(t,r),e}const B2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ti(){let e=12,t="";for(;e-- >0;)t+=B2[Math.random()*62|0];return t}function As(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Cl(e){return e.classList?As(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function zm(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function F2(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(zm(e[n]),'" '),"").trim()}function Qa(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function Ol(e){return e.size!==Hn.size||e.x!==Hn.x||e.y!==Hn.y||e.rotate!==Hn.rotate||e.flipX||e.flipY}function U2(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(i," ").concat(o," ").concat(a)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:d}}function H2(e){let{transform:t,width:n=gu,height:r=gu,startCentered:s=!1}=e,i="";return s&&Rm?i+="translate(".concat(t.x/ur-n/2,"em, ").concat(t.y/ur-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(t.x/ur,"em), calc(-50% + ").concat(t.y/ur,"em)) "):i+="translate(".concat(t.x/ur,"em, ").concat(t.y/ur,"em) "),i+="scale(".concat(t.size/ur*(t.flipX?-1:1),", ").concat(t.size/ur*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}var $2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function qm(){const e=jm,t=Bm,n=Ae.cssPrefix,r=Ae.replacementClass;let s=$2;if(n!==e||r!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return s}let Td=!1;function Ao(){Ae.autoAddCss&&!Td&&(j2(qm()),Td=!0)}var z2={mixout(){return{dom:{css:qm,insertCss:Ao}}},hooks(){return{beforeDOMElementCreation(){Ao()},beforeI2svg(){Ao()}}}};const nr=Tr||{};nr[tr]||(nr[tr]={});nr[tr].styles||(nr[tr].styles={});nr[tr].hooks||(nr[tr].hooks={});nr[tr].shims||(nr[tr].shims=[]);var $n=nr[tr];const Vm=[],Ym=function(){ht.removeEventListener("DOMContentLoaded",Ym),wa=1,Vm.map(e=>e())};let wa=!1;ir&&(wa=(ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ht.readyState),wa||ht.addEventListener("DOMContentLoaded",Ym));function q2(e){ir&&(wa?setTimeout(e,0):Vm.push(e))}function Si(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?zm(e):"<".concat(t," ").concat(F2(n),">").concat(r.map(Si).join(""),"</").concat(t,">")}function wd(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var No=function(t,n,r,s){var i=Object.keys(t),o=i.length,a=n,c,d,p;for(r===void 0?(c=1,p=t[i[0]]):(c=0,p=r);c<o;c++)d=i[c],p=a(p,t[d],d,t);return p};function V2(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=e.charCodeAt(n++);(i&64512)==56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function _u(e){const t=V2(e);return t.length===1?t[0].toString(16):null}function Y2(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function Ad(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function vu(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=Ad(t);typeof $n.hooks.addPack=="function"&&!r?$n.hooks.addPack(e,Ad(t)):$n.styles[e]=re(re({},$n.styles[e]||{}),s),e==="fas"&&vu("fa",t)}const{styles:ni,shims:W2}=$n,Wm=Object.keys(kl),G2=Wm.reduce((e,t)=>(e[t]=Object.keys(kl[t]),e),{});let Il=null,Gm={},Km={},Xm={},Qm={},Zm={};function K2(e){return~L2.indexOf(e)}function X2(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!K2(s)?s:null}const Jm=()=>{const e=r=>No(ni,(s,i,o)=>(s[o]=No(i,r,{}),s),{});Gm=e((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=i}),r)),Km=e((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=i}),r)),Zm=e((r,s,i)=>{const o=s[2];return r[i]=i,o.forEach(a=>{r[a]=i}),r});const t="far"in ni||Ae.autoFetchSvg,n=No(W2,(r,s)=>{const i=s[0];let o=s[1];const a=s[2];return o==="far"&&!t&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:a}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});Xm=n.names,Qm=n.unicodes,Il=Za(Ae.styleDefault,{family:Ae.familyDefault})};M2(e=>{Il=Za(e.styleDefault,{family:Ae.familyDefault})});Jm();function Rl(e,t){return(Gm[e]||{})[t]}function Q2(e,t){return(Km[e]||{})[t]}function Mr(e,t){return(Zm[e]||{})[t]}function e0(e){return Xm[e]||{prefix:null,iconName:null}}function Z2(e){const t=Qm[e],n=Rl("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function wr(){return Il}const t0=()=>({prefix:null,iconName:null,rest:[]});function J2(e){let t=qt;const n=Wm.reduce((r,s)=>(r[s]="".concat(Ae.cssPrefix,"-").concat(s),r),{});return Pm.forEach(r=>{(e.includes(n[r])||e.some(s=>G2[r].includes(s)))&&(t=r)}),t}function Za(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=qt}=t,r=k2[n][e];if(n===Xa&&!e)return"fad";const s=vd[n][e]||vd[n][r],i=e in $n.styles?e:null;return s||i||null}function ew(e){let t=[],n=null;return e.forEach(r=>{const s=X2(Ae.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function Nd(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function Ja(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=pu.concat(g2),i=Nd(e.filter(u=>s.includes(u))),o=Nd(e.filter(u=>!pu.includes(u))),a=i.filter(u=>(r=u,!Dm.includes(u))),[c=null]=a,d=J2(i),p=re(re({},ew(o)),{},{prefix:Za(c,{family:d})});return re(re(re({},p),sw({values:e,family:d,styles:ni,config:Ae,canonical:p,givenPrefix:r})),tw(n,r,p))}function tw(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const i=t==="fa"?e0(s):{},o=Mr(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!ni.far&&ni.fas&&!Ae.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const nw=Pm.filter(e=>e!==qt||e!==Xa),rw=Object.keys(mu).filter(e=>e!==qt).map(e=>Object.keys(mu[e])).flat();function sw(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:i={},config:o={}}=e,a=n===Xa,c=t.includes("fa-duotone")||t.includes("fad"),d=o.familyDefault==="duotone",p=r.prefix==="fad"||r.prefix==="fa-duotone";if(!a&&(c||d||p)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&nw.includes(n)&&(Object.keys(i).find(l=>rw.includes(l))||o.autoFetchSvg)){const l=u2.get(n).defaultShortPrefixId;r.prefix=l,r.iconName=Mr(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=wr()||"fas"),r}class iw{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=re(re({},this.definitions[i]||{}),s[i]),vu(i,s[i]);const o=kl[qt][i];o&&vu(o,s[i]),Jm()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:o,icon:a}=r[s],c=a[2];t[i]||(t[i]={}),c.length>0&&c.forEach(d=>{typeof d=="string"&&(t[i][d]=a)}),t[i][o]=a}),t}}let Sd=[],us={};const ms={},aw=Object.keys(ms);function ow(e,t){let{mixoutsTo:n}=t;return Sd=e,us={},Object.keys(ms).forEach(r=>{aw.indexOf(r)===-1&&delete ms[r]}),Sd.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{us[o]||(us[o]=[]),us[o].push(i[o])})}r.provides&&r.provides(ms)}),n}function Tu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(us[e]||[]).forEach(o=>{t=o.apply(null,[t,...r])}),t}function Vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(us[e]||[]).forEach(i=>{i.apply(null,n)})}function Ar(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ms[e]?ms[e].apply(null,t):void 0}function wu(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||wr();if(t)return t=Mr(n,t)||t,wd(n0.definitions,n,t)||wd($n.styles,n,t)}const n0=new iw,uw=()=>{Ae.autoReplaceSvg=!1,Ae.observeMutations=!1,Vr("noAuto")},lw={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ir?(Vr("beforeI2svg",e),Ar("pseudoElements2svg",e),Ar("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;Ae.autoReplaceSvg===!1&&(Ae.autoReplaceSvg=!0),Ae.observeMutations=!0,q2(()=>{dw({autoReplaceSvgRoot:t}),Vr("watch",e)})}},cw={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Mr(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=Za(e[0]);return{prefix:n,iconName:Mr(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(Ae.cssPrefix,"-"))>-1||e.match(C2))){const t=Ja(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||wr(),iconName:Mr(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=wr();return{prefix:t,iconName:Mr(t,e)||e}}}},dn={noAuto:uw,config:Ae,dom:lw,parse:cw,library:n0,findIconDefinition:wu,toHtml:Si},dw=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ht}=e;(Object.keys($n.styles).length>0||Ae.autoFetchSvg)&&ir&&Ae.autoReplaceSvg&&dn.dom.i2svg({node:t})};function eo(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>Si(n))}}),Object.defineProperty(e,"node",{get:function(){if(!ir)return;const n=ht.createElement("div");return n.innerHTML=e.html,n.children}}),e}function fw(e){let{children:t,main:n,mask:r,attributes:s,styles:i,transform:o}=e;if(Ol(o)&&n.found&&!r.found){const{width:a,height:c}=n,d={x:a/c/2,y:.5};s.style=Qa(re(re({},i),{},{"transform-origin":"".concat(d.x+o.x/16,"em ").concat(d.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function hw(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:i}=e;const o=i===!0?"".concat(t,"-").concat(Ae.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:re(re({},s),{},{id:o}),children:r}]}]}function Ll(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:a,maskId:c,titleId:d,extra:p,watchable:u=!1}=e,{width:l,height:f}=n.found?n:t,m=h2.includes(r),h=[Ae.replacementClass,s?"".concat(Ae.cssPrefix,"-").concat(s):""].filter(w=>p.classes.indexOf(w)===-1).filter(w=>w!==""||!!w).concat(p.classes).join(" ");let x={children:[],attributes:re(re({},p.attributes),{},{"data-prefix":r,"data-icon":s,class:h,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(l," ").concat(f)})};const g=m&&!~p.classes.indexOf("fa-fw")?{width:"".concat(l/f*16*.0625,"em")}:{};u&&(x.attributes[qr]=""),a&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(d||ti())},children:[a]}),delete x.attributes.title);const y=re(re({},x),{},{prefix:r,iconName:s,main:t,mask:n,maskId:c,transform:i,symbol:o,styles:re(re({},g),p.styles)}),{children:_,attributes:T}=n.found&&t.found?Ar("generateAbstractMask",y)||{children:[],attributes:{}}:Ar("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=_,y.attributes=T,o?hw(y):fw(y)}function kd(e){const{content:t,width:n,height:r,transform:s,title:i,extra:o,watchable:a=!1}=e,c=re(re(re({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});a&&(c[qr]="");const d=re({},o.styles);Ol(s)&&(d.transform=H2({transform:s,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const p=Qa(d);p.length>0&&(c.style=p);const u=[];return u.push({tag:"span",attributes:c,children:[t]}),i&&u.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),u}function mw(e){const{content:t,title:n,extra:r}=e,s=re(re(re({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=Qa(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:So}=$n;function Au(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(wo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(wo.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(wo.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const pw={found:!1,width:512,height:512};function gw(e,t){!Fm&&!Ae.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Nu(e,t){let n=t;return t==="fa"&&Ae.styleDefault!==null&&(t=wr()),new Promise((r,s)=>{if(n==="fa"){const i=e0(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&So[t]&&So[t][e]){const i=So[t][e];return r(Au(i))}gw(e,t),r(re(re({},pw),{},{icon:Ae.showMissingIcons&&e?Ar("missingIconAbstract")||{}:{}}))})}const Cd=()=>{},Su=Ae.measurePerformance&&Vi&&Vi.mark&&Vi.measure?Vi:{mark:Cd,measure:Cd},Bs='FA "6.7.2"',bw=e=>(Su.mark("".concat(Bs," ").concat(e," begins")),()=>r0(e)),r0=e=>{Su.mark("".concat(Bs," ").concat(e," ends")),Su.measure("".concat(Bs," ").concat(e),"".concat(Bs," ").concat(e," begins"),"".concat(Bs," ").concat(e," ends"))};var Dl={begin:bw,end:r0};const oa=()=>{};function Od(e){return typeof(e.getAttribute?e.getAttribute(qr):null)=="string"}function yw(e){const t=e.getAttribute?e.getAttribute(Nl):null,n=e.getAttribute?e.getAttribute(Sl):null;return t&&n}function Ew(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Ae.replacementClass)}function xw(){return Ae.autoReplaceSvg===!0?ua.replace:ua[Ae.autoReplaceSvg]||ua.replace}function _w(e){return ht.createElementNS("http://www.w3.org/2000/svg",e)}function vw(e){return ht.createElement(e)}function s0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?_w:vw}=t;if(typeof e=="string")return ht.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(i){r.setAttribute(i,e.attributes[i])}),(e.children||[]).forEach(function(i){r.appendChild(s0(i,{ceFn:n}))}),r}function Tw(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const ua={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(s0(n),t)}),t.getAttribute(qr)===null&&Ae.keepOriginalSource){let n=ht.createComment(Tw(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Cl(t).indexOf(Ae.replacementClass))return ua.replace(e);const r=new RegExp("".concat(Ae.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,a)=>(a===Ae.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>Si(i)).join(`
`);t.setAttribute(qr,""),t.innerHTML=s}};function Id(e){e()}function i0(e,t){const n=typeof t=="function"?t:oa;if(e.length===0)n();else{let r=Id;Ae.mutateApproach===N2&&(r=Tr.requestAnimationFrame||Id),r(()=>{const s=xw(),i=Dl.begin("mutate");e.map(s),i(),n()})}}let Pl=!1;function a0(){Pl=!0}function ku(){Pl=!1}let Aa=null;function Rd(e){if(!yd||!Ae.observeMutations)return;const{treeCallback:t=oa,nodeCallback:n=oa,pseudoElementsCallback:r=oa,observeMutationsRoot:s=ht}=e;Aa=new yd(i=>{if(Pl)return;const o=wr();As(i).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!Od(a.addedNodes[0])&&(Ae.searchPseudoElements&&r(a.target),t(a.target)),a.type==="attributes"&&a.target.parentNode&&Ae.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&Od(a.target)&&~R2.indexOf(a.attributeName))if(a.attributeName==="class"&&yw(a.target)){const{prefix:c,iconName:d}=Ja(Cl(a.target));a.target.setAttribute(Nl,c||o),d&&a.target.setAttribute(Sl,d)}else Ew(a.target)&&n(a.target)})}),ir&&Aa.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function ww(){Aa&&Aa.disconnect()}function Aw(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const i=s.split(":"),o=i[0],a=i.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function Nw(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=Ja(Cl(e));return s.prefix||(s.prefix=wr()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=Q2(s.prefix,e.innerText)||Rl(s.prefix,_u(e.innerText))),!s.iconName&&Ae.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function Sw(e){const t=As(e.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Ae.autoA11y&&(n?t["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(r||ti()):(t["aria-hidden"]="true",t.focusable="false")),t}function kw(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Hn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Ld(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=Nw(e),i=Sw(e),o=Tu("parseNodeAttributes",{},e);let a=t.styleParser?Aw(e):[];return re({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Hn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:i}},o)}const{styles:Cw}=$n;function o0(e){const t=Ae.autoReplaceSvg==="nest"?Ld(e,{styleParser:!1}):Ld(e);return~t.extra.classes.indexOf(Hm)?Ar("generateLayersText",e,t):Ar("generateSvgReplacementMutation",e,t)}function Ow(){return[...c2,...pu]}function Dd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ir)return Promise.resolve();const n=ht.documentElement.classList,r=p=>n.add("".concat(_d,"-").concat(p)),s=p=>n.remove("".concat(_d,"-").concat(p)),i=Ae.autoFetchSvg?Ow():Dm.concat(Object.keys(Cw));i.includes("fa")||i.push("fa");const o=[".".concat(Hm,":not([").concat(qr,"])")].concat(i.map(p=>".".concat(p,":not([").concat(qr,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=As(e.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),s("complete");else return Promise.resolve();const c=Dl.begin("onTree"),d=a.reduce((p,u)=>{try{const l=o0(u);l&&p.push(l)}catch(l){Fm||l.name==="MissingIcon"&&console.error(l)}return p},[]);return new Promise((p,u)=>{Promise.all(d).then(l=>{i0(l,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),c(),p()})}).catch(l=>{c(),u(l)})})}function Iw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;o0(e).then(n=>{n&&i0([n],t)})}function Rw(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:wu(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:wu(s||{})),e(r,re(re({},n),{},{mask:s}))}}const Lw=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Hn,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:a=null,classes:c=[],attributes:d={},styles:p={}}=t;if(!e)return;const{prefix:u,iconName:l,icon:f}=e;return eo(re({type:"icon"},e),()=>(Vr("beforeDOMElementCreation",{iconDefinition:e,params:t}),Ae.autoA11y&&(o?d["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(a||ti()):(d["aria-hidden"]="true",d.focusable="false")),Ll({icons:{main:Au(f),mask:s?Au(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:l,transform:re(re({},Hn),n),symbol:r,title:o,maskId:i,titleId:a,extra:{attributes:d,styles:p,classes:c}})))};var Dw={mixout(){return{icon:Rw(Lw)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Dd,e.nodeCallback=Iw,e}}},provides(e){e.i2svg=function(t){const{node:n=ht,callback:r=()=>{}}=t;return Dd(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:i,prefix:o,transform:a,symbol:c,mask:d,maskId:p,extra:u}=n;return new Promise((l,f)=>{Promise.all([Nu(r,o),d.iconName?Nu(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(m=>{let[h,x]=m;l([t,Ll({icons:{main:h,mask:x},prefix:o,iconName:r,transform:a,symbol:c,maskId:p,title:s,titleId:i,extra:u,watchable:!0})])}).catch(f)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:i,styles:o}=t;const a=Qa(o);a.length>0&&(r.style=a);let c;return Ol(i)&&(c=Ar("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},Pw={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return eo({type:"layer"},()=>{Vr("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Ae.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},Mw={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=t;return eo({type:"counter",content:e},()=>(Vr("beforeDOMElementCreation",{content:e,params:t}),mw({content:e.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(Ae.cssPrefix,"-layers-counter"),...r]}})))}}}},jw={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Hn,title:r=null,classes:s=[],attributes:i={},styles:o={}}=t;return eo({type:"text",content:e},()=>(Vr("beforeDOMElementCreation",{content:e,params:t}),kd({content:e,transform:re(re({},Hn),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(Ae.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:i}=n;let o=null,a=null;if(Rm){const c=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();o=d.width/c,a=d.height/c}return Ae.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,kd({content:t.innerHTML,width:o,height:a,transform:s,title:r,extra:i,watchable:!0})])}}};const Bw=new RegExp('"',"ug"),Pd=[1105920,1112319],Md=re(re(re(re({},{FontAwesome:{normal:"fas",400:"fas"}}),o2),w2),b2),Cu=Object.keys(Md).reduce((e,t)=>(e[t.toLowerCase()]=Md[t],e),{}),Fw=Object.keys(Cu).reduce((e,t)=>{const n=Cu[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function Uw(e){const t=e.replace(Bw,""),n=Y2(t,0),r=n>=Pd[0]&&n<=Pd[1],s=t.length===2?t[0]===t[1]:!1;return{value:_u(s?t[0]:t),isSecondary:r||s}}function Hw(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(Cu[n]||{})[s]||Fw[n]}function jd(e,t){const n="".concat(A2).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const o=As(e.children).filter(l=>l.getAttribute(bu)===t)[0],a=Tr.getComputedStyle(e,t),c=a.getPropertyValue("font-family"),d=c.match(O2),p=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!d)return e.removeChild(o),r();if(d&&u!=="none"&&u!==""){const l=a.getPropertyValue("content");let f=Hw(c,p);const{value:m,isSecondary:h}=Uw(l),x=d[0].startsWith("FontAwesome");let g=Rl(f,m),y=g;if(x){const _=Z2(m);_.iconName&&_.prefix&&(g=_.iconName,f=_.prefix)}if(g&&!h&&(!o||o.getAttribute(Nl)!==f||o.getAttribute(Sl)!==y)){e.setAttribute(n,y),o&&e.removeChild(o);const _=kw(),{extra:T}=_;T.attributes[bu]=t,Nu(g,f).then(w=>{const k=Ll(re(re({},_),{},{icons:{main:w,mask:t0()},prefix:f,iconName:y,extra:T,watchable:!0})),S=ht.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(S,e.firstChild):e.appendChild(S),S.outerHTML=k.map(v=>Si(v)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function $w(e){return Promise.all([jd(e,"::before"),jd(e,"::after")])}function zw(e){return e.parentNode!==document.head&&!~S2.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(bu)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Bd(e){if(ir)return new Promise((t,n)=>{const r=As(e.querySelectorAll("*")).filter(zw).map($w),s=Dl.begin("searchPseudoElements");a0(),Promise.all(r).then(()=>{s(),ku(),t()}).catch(()=>{s(),ku(),n()})})}var qw={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=Bd,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=ht}=t;Ae.searchPseudoElements&&Bd(n)}}};let Fd=!1;var Vw={mixout(){return{dom:{unwatch(){a0(),Fd=!0}}}},hooks(){return{bootstrap(){Rd(Tu("mutationObserverCallbacks",{}))},noAuto(){ww()},watch(e){const{observeMutationsRoot:t}=e;Fd?ku():Rd(Tu("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const Ud=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},t)};var Yw={mixout(){return{parse:{transform:e=>Ud(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=Ud(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:i}=t;const o={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),p={transform:"".concat(a," ").concat(c," ").concat(d)},u={transform:"translate(".concat(i/2*-1," -256)")},l={outer:o,inner:p,path:u};return{tag:"g",attributes:re({},l.outer),children:[{tag:"g",attributes:re({},l.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:re(re({},n.icon.attributes),l.path)}]}]}}}};const ko={x:0,y:0,width:"100%",height:"100%"};function Hd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Ww(e){return e.tag==="g"?e.children:[e]}var Gw={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Ja(n.split(" ").map(s=>s.trim())):t0();return r.prefix||(r.prefix=wr()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:a}=t;const{width:c,icon:d}=s,{width:p,icon:u}=i,l=U2({transform:a,containerWidth:p,iconWidth:c}),f={tag:"rect",attributes:re(re({},ko),{},{fill:"white"})},m=d.children?{children:d.children.map(Hd)}:{},h={tag:"g",attributes:re({},l.inner),children:[Hd(re({tag:d.tag,attributes:re(re({},d.attributes),l.path)},m))]},x={tag:"g",attributes:re({},l.outer),children:[h]},g="mask-".concat(o||ti()),y="clip-".concat(o||ti()),_={tag:"mask",attributes:re(re({},ko),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,x]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:Ww(u)},_]};return n.push(T,{tag:"rect",attributes:re({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},ko)}),{children:n,attributes:r}}}},Kw={provides(e){let t=!1;Tr.matchMedia&&(t=Tr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:re(re({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=re(re({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:re(re({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:re(re({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:re(re({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:re(re({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:re(re({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:re(re({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:re(re({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},Xw={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},Qw=[z2,Dw,Pw,Mw,jw,qw,Vw,Yw,Gw,Kw,Xw];ow(Qw,{mixoutsTo:dn});dn.noAuto;dn.config;dn.library;dn.dom;const Ou=dn.parse;dn.findIconDefinition;dn.toHtml;const Zw=dn.icon;dn.layer;dn.text;dn.counter;var Jw={};function Iu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eA(e){if(Array.isArray(e))return e}function tA(e){if(Array.isArray(e))return Iu(e)}function hr(e,t,n){return(t=lA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rA(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,a=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(p){d=!0,s=p}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return a}}function sA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$d(Object(n),!0).forEach(function(r){hr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aA(e,t){if(e==null)return{};var n,r,s=oA(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function oA(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zd(e,t){return eA(e)||rA(e,t)||u0(e,t)||sA()}function Ru(e){return tA(e)||nA(e)||u0(e)||iA()}function uA(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lA(e){var t=uA(e,"string");return typeof t=="symbol"?t:t+""}function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function u0(e,t){if(e){if(typeof e=="string")return Iu(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(e,t):void 0}}var cA="7.0.0",Lu;try{var dA=require("@fortawesome/fontawesome-svg-core/package.json");Lu=dA.version}catch{Lu=typeof Dr<"u"&&Jw.FA_VERSION||"7.0.0"}function fA(e){var t=e.beat,n=e.fade,r=e.beatFade,s=e.bounce,i=e.shake,o=e.flash,a=e.spin,c=e.spinPulse,d=e.spinReverse,p=e.pulse,u=e.fixedWidth,l=e.inverse,f=e.border,m=e.listItem,h=e.flip,x=e.size,g=e.rotation,y=e.pull,_=e.swapOpacity,T=e.rotateBy,w=e.widthAuto,k=hA(Lu,cA),S=hr(hr(hr(hr(hr(hr({"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":s,"fa-shake":i,"fa-flash":o,"fa-spin":a,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":p,"fa-fw":u,"fa-inverse":l,"fa-border":f,"fa-li":m,"fa-flip":h===!0,"fa-flip-horizontal":h==="horizontal"||h==="both","fa-flip-vertical":h==="vertical"||h==="both"},"fa-".concat(x),typeof x<"u"&&x!==null),"fa-rotate-".concat(g),typeof g<"u"&&g!==null&&g!==0),"fa-pull-".concat(y),typeof y<"u"&&y!==null),"fa-swap-opacity",_),"fa-rotate-by",k&&T),"fa-width-auto",k&&w);return Object.keys(S).map(function(v){return S[v]?v:null}).filter(function(v){return v})}function hA(e,t){for(var n=e.split("-"),r=zd(n,2),s=r[0],i=r[1],o=t.split("-"),a=zd(o,2),c=a[0],d=a[1],p=s.split("."),u=c.split("."),l=0;l<Math.max(p.length,u.length);l++){var f=p[l]||"0",m=u[l]||"0",h=parseInt(f,10),x=parseInt(m,10);if(h!==x)return h>x}for(var g=0;g<Math.max(p.length,u.length);g++){var y=p[g]||"0",_=u[g]||"0";if(y!==_&&y.length!==_.length)return y.length<_.length}return!(i&&!d)}function mA(e){return e=e-0,e===e}function l0(e){return mA(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var pA=["style"];function gA(e){return e.charAt(0).toUpperCase()+e.slice(1)}function bA(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=l0(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?t[gA(s)]=i:t[s]=i,t},{})}function c0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(c){return c0(e,c)}),s=Object.keys(t.attributes||{}).reduce(function(c,d){var p=t.attributes[d];switch(d){case"class":c.attrs.className=p,delete t.attributes.class;break;case"style":c.attrs.style=bA(p);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?c.attrs[d.toLowerCase()]=p:c.attrs[l0(d)]=p}return c},{attrs:{}}),i=n.style,o=i===void 0?{}:i,a=aA(n,pA);return s.attrs.style=Bn(Bn({},s.attrs.style),o),e.apply(void 0,[t.tag,Bn(Bn({},s.attrs),a)].concat(Ru(r)))}var d0=!1;try{d0=!0}catch{}function yA(){if(!d0&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function qd(e){if(e&&Na(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Ou.icon)return Ou.icon(e);if(e===null)return null;if(e&&Na(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Co(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?hr({},e,t):{}}var Vd={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},f0=X.forwardRef(function(e,t){var n=Bn(Bn({},Vd),e),r=n.icon,s=n.mask,i=n.symbol,o=n.className,a=n.title,c=n.titleId,d=n.maskId,p=qd(r),u=Co("classes",[].concat(Ru(fA(n)),Ru((o||"").split(" ")))),l=Co("transform",typeof n.transform=="string"?Ou.transform(n.transform):n.transform),f=Co("mask",qd(s)),m=Zw(p,Bn(Bn(Bn(Bn({},u),l),f),{},{symbol:i,title:a,titleId:c,maskId:d}));if(!m)return yA("Could not find icon",p),null;var h=m.abstract,x={ref:t};return Object.keys(n).forEach(function(g){Vd.hasOwnProperty(g)||(x[g]=n[g])}),EA(h[0],x)});f0.displayName="FontAwesomeIcon";f0.propTypes={beat:ze.bool,border:ze.bool,beatFade:ze.bool,bounce:ze.bool,className:ze.string,fade:ze.bool,flash:ze.bool,mask:ze.oneOfType([ze.object,ze.array,ze.string]),maskId:ze.string,fixedWidth:ze.bool,inverse:ze.bool,flip:ze.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ze.oneOfType([ze.object,ze.array,ze.string]),listItem:ze.bool,pull:ze.oneOf(["right","left"]),pulse:ze.bool,rotation:ze.oneOf([0,90,180,270]),rotateBy:ze.bool,shake:ze.bool,size:ze.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ze.bool,spinPulse:ze.bool,spinReverse:ze.bool,symbol:ze.oneOfType([ze.bool,ze.string]),title:ze.string,titleId:ze.string,transform:ze.oneOfType([ze.string,ze.object]),swapOpacity:ze.bool,widthAuto:ze.bool};var EA=c0.bind(null,X.createElement);function xA({nftId:e,listingId:t,availableAmount:n,balance:r,onUpdate:s,oldAmount:i,oldPrice:o,ethPrice:a,minimal:c=!1}){const d=Ke.contractAddresses.v1.marketplace,p=qe.marketplace,{isConnected:u}=cn(),{writeContractAsync:l}=Nr(),f=kr(),[m,h]=B.useState(!1),[x,g]=St(yn),y=async(_,T)=>{if(_===null&&T===null){g("Please enter an amount or a price.");return}if(!e){g("Could not determine the ID of the NFT.");return}if(!u){g("Please connect a wallet.");return}g(null);let w=null;_===null&&T!==null?w=async()=>await l({address:d,abi:p,functionName:"editListingPrice",args:[BigInt(e),BigInt(t),ca(T)],...zn()}):_!==null&&T===null?w=async()=>await l({address:d,abi:p,functionName:"editListingAmount",args:[BigInt(e),BigInt(t),BigInt(_),BigInt(i)],...zn()}):_!==null&&T!==null&&(w=async()=>await l({address:d,abi:p,functionName:"editListing",args:[BigInt(e),BigInt(t),ca(T),BigInt(_),BigInt(i)],...zn()}));const{success:k}=await f(w,`Edit listing for NFT #${e}`);k&&s&&s(e)};return E.jsxs(B.Fragment,{children:[E.jsx("button",{className:c?"text-ink-500 hover:text-ink-300 transition-colors text-sm":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>h(!0),title:"Edit listing",children:"Edit"}),E.jsx(QT,{isOpen:m,setIsOpen:h,onClose:y,balance:r,availableAmount:n,oldAmount:i,oldPrice:o,ethPrice:a})]})}function _A({nftId:e,listingId:t,onUpdate:n,minimal:r=!1}){const s=Ke.contractAddresses.v1.marketplace,i=qe.marketplace,{isConnected:o}=cn(),{writeContractAsync:a}=Nr(),[c,d]=St(yn),p=kr(),u=async()=>{if(!e){d("Could not determine the ID of the NFT.");return}if(!o){d("Please connect a wallet.");return}d(null);const l=async()=>await a({address:s,abi:i,functionName:"delistToken",args:[BigInt(e),BigInt(t)],...zn()}),{success:f}=await p(l,`Delist NFT #${e}`);f&&n&&n(e)};return E.jsx("button",{className:r?"text-ink-500 hover:text-red-400 transition-colors text-sm":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>u(),title:"Remove listing",children:r?"Remove":"Delist"})}function vA({balances:e}){return E.jsx("div",{className:"space-y-2",children:e?Object.keys(e).length>0?Object.keys(e).map((t,n)=>E.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-ink-800 last:border-b-0",children:[E.jsx("span",{className:"font-mono text-sm text-ink-300",children:E.jsx(gr,{address:t,shorten:!0,nChar:8})}),E.jsx("span",{className:"text-white font-medium",children:e[t]})]},n)):E.jsx("p",{className:"text-ink-500 text-sm text-center py-4",children:"No owners found"}):E.jsx(on,{count:3,baseColor:"#27272a",highlightColor:"#3f3f46"})})}const TA=Sr({key:"blockToDateState",default:{}}),Wi=Ke.contractAddresses.v1.zang,Oo=Ke.contractAddresses.v1.marketplace,wA=async(e,t,n)=>{t=[...t];const r=[],s=[],i=a=>{!t.includes(a)&&!r.includes(a)&&a!==Ur&&t.push(a)},o=a=>{s.some(d=>d.transactionHash===a.transactionHash&&d.logIndex===a.logIndex)||s.push(a)};for(;t.length>0;){const a=[...t];t=[];const c=[];for(const p of a)r.push(p),p===null?c.push(Qe.getContractEvents({address:Wi,abi:qe.zang,eventName:"TransferSingle",fromBlock:BigInt(n)})):c.push(Qe.getContractEvents({address:Wi,abi:qe.zang,eventName:"TransferSingle",args:{operator:p},fromBlock:BigInt(n)}),Qe.getContractEvents({address:Wi,abi:qe.zang,eventName:"TransferSingle",args:{from:p},fromBlock:BigInt(n)}),Qe.getContractEvents({address:Wi,abi:qe.zang,eventName:"TransferSingle",args:{to:p},fromBlock:BigInt(n)}));const d=await Promise.all(c);for(const p of d)for(const u of p){const{from:l,to:f,operator:m,id:h}=u.args;(h===e||e===null)&&(i(l),i(f),i(m),o(u))}}return s},AA=async e=>{try{const t=await fetch(`/api/events/${e}`);if(t.ok){const{events:n,_meta:r}=await t.json();return{events:n.map(i=>({event:i.event_type,blockNumber:BigInt(i.block_number),transactionHash:i.tx_hash,logIndex:i.log_index,args:i.data})),_meta:r}}}catch{}return null},NA=async(e,t,n,r)=>{if(e!==null){const l=await AA(e);if(l&&l.events&&l.events.length>0)return l.events.sort((f,m)=>{const h=Number(f.blockNumber),x=Number(m.blockNumber);return h!==x?h-x:f.logIndex-m.logIndex}),l.events._meta=l._meta,l.events}const s=e!==null?{_tokenId:BigInt(e)}:void 0,[i,o,a]=await Promise.all([Qe.getContractEvents({address:Oo,abi:qe.marketplace,eventName:"TokenListed",args:s,fromBlock:BigInt(r)}),Qe.getContractEvents({address:Oo,abi:qe.marketplace,eventName:"TokenDelisted",args:s,fromBlock:BigInt(r)}),Qe.getContractEvents({address:Oo,abi:qe.marketplace,eventName:"TokenPurchased",args:s,fromBlock:BigInt(r)})]),c=t?[t]:[],d=l=>{!c.includes(l)&&l!==Ur&&c.push(l)};for(const l of o)d(l.args._seller);for(const l of a)d(l.args._buyer),d(l.args._seller);const p=await wA(e!==null?BigInt(e):null,c,n),u=[...i.map(l=>({...l,event:"TokenListed"})),...o.map(l=>({...l,event:"TokenDelisted"})),...a.map(l=>({...l,event:"TokenPurchased"})),...p.map(l=>({...l,event:"TransferSingle"}))];return u.sort((l,f)=>{const m=[Number(l.blockNumber),l.transactionIndex,l.logIndex],h=[Number(f.blockNumber),f.transactionIndex,f.logIndex];for(let x=0;x<m.length;x++){if(m[x]<h[x])return-1;if(m[x]>h[x])return 1}return 0}),u},SA=e=>{if(!e)return;const t={},n=(r,s)=>{r!==Ur&&(t[r]===void 0&&(t[r]=0),t[r]+=s)};for(const r of e)if(r.event==="TransferSingle"){const{from:s,to:i,value:o}=r.args;n(s,-Number(o)),n(i,Number(o))}return Object.fromEntries(Object.keys(t).filter(r=>t[r]!==0).map(r=>[r,t[r]]))},h0=e=>{if(!e)return;let t=[];for(const n of e)switch(n.event){case"TokenListed":t.push({id:Number(n.args._tokenId),type:"list",seller:n.args._seller,price:xr(n.args._price),amount:Number(n.args.amount),transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break;case"TokenDelisted":t.push({id:Number(n.args._tokenId),type:"delist",seller:n.args._seller,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break;case"TransferSingle":{let r="transfer";n.args.from===Ur?r="mint":n.args.to===Ur&&(r="burn"),t.push({id:Number(n.args.id),type:r,from:n.args.from,to:n.args.to,amount:Number(n.args.value),operator:n.args.operator,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break}case"TokenPurchased":t.push({id:Number(n.args._tokenId),type:"purchase",buyer:n.args._buyer,seller:n.args._seller,amount:Number(n.args._amount),price:xr(n.args._price),transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break}for(const n of t.filter(r=>r.type==="purchase"))t=t.filter(r=>!((r.type==="transfer"||r.type==="delist")&&n.transactionHash===r.transactionHash));return t},Gi=new Map,Ki=new Map,kA=async e=>{if(Gi.has(e))return Gi.get(e);if(Ki.has(e))return Ki.get(e);const t=(async()=>{try{const s=await fetch(`/api/block/${e}`);if(s.ok){const i=await s.json(),o=new Date(i.timestamp*1e3);return Gi.set(e,o),o}}catch{}const n=await Qe.getBlock({blockNumber:BigInt(e)}),r=new Date(Number(n.timestamp)*1e3);return Gi.set(e,r),r})();Ki.set(e,t);try{return await t}finally{Ki.delete(e)}};var m0="en",Ml={},Du={};function p0(){return m0}function g0(e){m0=e}function CA(e){return Ml[e]}function b0(e){if(!e)throw new Error("No locale data passed");Ml[e.locale]=e,Du[e.locale.toLowerCase()]=e.locale}function Yd(e){if(Ml[e])return e;if(Du[e.toLowerCase()])return Du[e.toLowerCase()]}function y0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return Wd(e);case"best fit":return Wd(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function Wd(e){var t=Yd(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=Yd(e);if(r)return r}}var P={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":s>=3&&s<=10?"few":s>=11&&s<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-1),i=r&&n[0].slice(-2);return s==1&&i!=11?"one":s>=2&&s<=4&&(i<12||i>14)?"few":r&&s==0||s>=5&&s<=9||i>=11&&i<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-1),i=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return s==1&&i!=11&&i!=71&&i!=91?"one":s==2&&i!=12&&i!=72&&i!=92?"two":(s==3||s==4||s==9)&&(i<10||i>19)&&(i<70||i>79)&&(i<90||i>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",i=!n[1],o=r.slice(-1),a=r.slice(-2),c=s.slice(-1),d=s.slice(-2);return i&&o==1&&a!=11||c==1&&d!=11?"one":i&&o>=2&&o<=4&&(a<12||a>14)||c>=2&&c<=4&&(d<12||d>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],s=!n[1],i=r.slice(-6);return t==1&&s?"one":r!=0&&i==0&&s?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",i=!n[1],o=r.slice(-1),a=s.slice(-1);return i&&(r==1||r==2||r==3)||i&&o!=4&&o!=6&&o!=9||!i&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],s=!n[1];return t==1&&s?"one":r>=2&&r<=4&&s?"few":s?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],s=Number(n[0])==t;return t==1||!s&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",i=!n[1],o=r.slice(-2),a=s.slice(-2);return i&&o==1||a==1?"one":i&&o==2||a==2?"two":i&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],s=!n[1],i=r.slice(-6);return t==1?"one":r!=0&&i==0&&s?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],s=!n[1],i=r.slice(-6);return t>=0&&t<2?"one":r!=0&&i==0&&s?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],s=!n[1];return r==1&&s||r==0&&!s?"one":r==2&&s?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],s=(n[1]||"").replace(/0+$/,""),i=Number(n[0])==t,o=r.slice(-1),a=r.slice(-2);return i&&o==1&&a!=11||s%10==1&&s%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",s=Number(n[0])==t,i=s&&n[0].slice(-1),o=s&&n[0].slice(-2);return i==1&&(o<11||o>19)?"one":i>=2&&i<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",s=r.length,i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2),c=r.slice(-2),d=r.slice(-1);return i&&o==0||a>=11&&a<=19||s==2&&c>=11&&c<=19?"zero":o==1&&a!=11||s==2&&d==1&&c!=11||s!=2&&d==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",i=!n[1],o=r.slice(-1),a=r.slice(-2),c=s.slice(-1),d=s.slice(-2);return i&&o==1&&a!=11||c==1&&d!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||s>=3&&s<=10?"few":s>=11&&s<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],s=!n[1],i=r.slice(-1),o=r.slice(-2);return t==1&&s?"one":s&&i>=2&&i<=4&&(o<12||o>14)?"few":s&&r!=1&&(i==0||i==1)||s&&i>=5&&i<=9||s&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],s=!n[1],i=r.slice(-6);return r==0||r==1?"one":r!=0&&i==0&&s?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],s=Number(n[0])==t,i=s&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&i>=1&&i<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],s=!n[1],i=r.slice(-1),o=r.slice(-2);return s&&i==1&&o!=11?"one":s&&i>=2&&i<=4&&(o<12||o>14)?"few":s&&i==0||s&&i>=5&&i<=9||s&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"";return t==0||t==1||r==0&&s==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],s=!n[1],i=r.slice(-2);return s&&i==1?"one":s&&i==2?"two":s&&(i==3||i==4)||!s?"few":"other"}};P.as=P.am;P.az=P.af;P.bal=P.af;P.bg=P.af;P.bn=P.am;P.brx=P.af;P.ce=P.af;P.chr=P.af;P.de=P.ast;P.doi=P.am;P.ee=P.af;P.el=P.af;P.en=P.ast;P.et=P.ast;P.eu=P.af;P.fa=P.am;P.fi=P.ast;P.fil=P.ceb;P.fo=P.af;P.fur=P.af;P.fy=P.ast;P.gl=P.ast;P.gu=P.am;P.ha=P.af;P.hi=P.am;P.hr=P.bs;P.hsb=P.dsb;P.hu=P.af;P.hy=P.ff;P.ia=P.ast;P.id=P.dz;P.ig=P.dz;P.ii=P.dz;P.it=P.ca;P.ja=P.dz;P.jgo=P.af;P.jv=P.dz;P.ka=P.af;P.kea=P.dz;P.kk=P.af;P.kl=P.af;P.km=P.dz;P.kn=P.am;P.ko=P.dz;P.ks=P.af;P.ksh=P.blo;P.ku=P.af;P.ky=P.af;P.lb=P.af;P.lkt=P.dz;P.lo=P.dz;P.ml=P.af;P.mn=P.af;P.mr=P.af;P.ms=P.dz;P.my=P.dz;P.nb=P.af;P.ne=P.af;P.nl=P.ast;P.nn=P.af;P.no=P.af;P.nqo=P.dz;P.om=P.af;P.or=P.af;P.pa=P.ak;P.pcm=P.am;P.ps=P.af;P.rm=P.af;P.sah=P.dz;P.sc=P.ast;P.sd=P.af;P.sk=P.cs;P.so=P.af;P.sq=P.af;P.sr=P.bs;P.su=P.dz;P.sv=P.ast;P.sw=P.ast;P.syr=P.af;P.ta=P.af;P.te=P.af;P.th=P.dz;P.ti=P.ak;P.tk=P.af;P.tn=P.af;P.to=P.dz;P.tr=P.af;P.ug=P.af;P.uk=P.ru;P.ur=P.ast;P.uz=P.af;P.vec=P.ca;P.vi=P.dz;P.wae=P.af;P.wo=P.dz;P.xh=P.af;P.yi=P.ast;P.yo=P.dz;P.yue=P.dz;P.zh=P.dz;P.zu=P.am;function Gd(e){return e==="pt-PT"?e:IA(e)}var OA=/^([a-z0-9]+)/i;function IA(e){var t=e.match(OA);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function RA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DA(r.key),r)}}function LA(e,t,n){return t&&Kd(e.prototype,t),n&&Kd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DA(e){var t=PA(e,"string");return ri(t)=="symbol"?t:t+""}function PA(e,t){if(ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pu=(function(){function e(t,n){RA(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=P[Gd(r[0])]}return LA(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return P[Gd(r)]})}}]),e})();function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xd(Object(n),!0).forEach(function(r){MA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MA(e,t,n){return(t=E0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zd(e,t){return UA(e)||FA(e,t)||BA(e,t)||jA()}function jA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BA(e,t){if(e){if(typeof e=="string")return Jd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jd(e,t):void 0}}function Jd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function FA(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,a=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(p){d=!0,s=p}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return a}}function UA(e){if(Array.isArray(e))return e}function HA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E0(r.key),r)}}function zA(e,t,n){return t&&$A(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E0(e){var t=qA(e,"string");return _s(t)=="symbol"?t:t+""}function qA(e,t){if(_s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VA=["second","minute","hour","day","week","month","quarter","year"],YA=["auto","always"],WA=["long","short","narrow"],GA=["lookup","best fit"],rr=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};HA(this,e);var r=n.numeric,s=n.style,i=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(YA.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(s!==void 0){if(WA.indexOf(s)<0)throw new RangeError('Invalid "style" option: '.concat(s));this.style=s}if(i!==void 0){if(GA.indexOf(i)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(i));this.localeMatcher=i}if(typeof t=="string"&&(t=[t]),t.push(p0()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("Unsupported locale");Pu.supportedLocalesOf(this.locale).length>0?this.pluralRules=new Pu(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=y0(this.locale,{localeMatcher:this.localeMatcher})}return zA(e,[{key:"format",value:function(){var n=ef(arguments),r=Zd(n,2),s=r[0],i=r[1];return this.getRule(s,i).replace("{0}",this.formatNumber(Math.abs(s)))}},{key:"formatToParts",value:function(){var n=ef(arguments),r=Zd(n,2),s=r[0],i=r[1],o=this.getRule(s,i),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var c=[];return a>0&&c.push({type:"literal",value:o.slice(0,a)}),c=c.concat(this.formatNumberToParts(Math.abs(s)).map(function(d){return Qd(Qd({},d),{},{unit:i})})),a+3<o.length-1&&c.push({type:"literal",value:o.slice(a+3)}),c}},{key:"getRule",value:function(n,r){var s=CA(this.locale)[this.style][r];if(typeof s=="string")return s;if(this.numeric==="auto"){if(n===-2||n===-1){var i=s["previous".concat(n===-1?"":"-"+Math.abs(n))];if(i)return i}else if(n===1||n===2){var o=s["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&s.current)return s.current}var a=s[JA(n)?"past":"future"];if(typeof a=="string")return a;var c=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return a[c]||a.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e})();rr.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return y0(n,t)})};rr.addLocale=b0;rr.addDefaultLocale=function(e){b0(e),g0(e.locale)};rr.setDefaultLocale=g0;rr.getDefaultLocale=p0;rr.PluralRules=Pu;var Io='Invalid "unit" argument';function KA(e){if(_s(e)==="symbol")throw new TypeError(Io);if(typeof e!="string")throw new RangeError("".concat(Io,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),VA.indexOf(e)<0)throw new RangeError("".concat(Io,": ").concat(e));return e}var XA='Invalid "number" argument';function QA(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(XA,": ").concat(e));return e}function ZA(e){return 1/e===-1/0}function JA(e){return e<0||e===0&&ZA(e)}function ef(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[QA(e[0]),KA(e[1])]}function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}function eN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rN(r.key),r)}}function nN(e,t,n){return t&&tN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rN(e){var t=sN(e,"string");return Yr(t)=="symbol"?t:t+""}function sN(e,t){if(Yr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tf=(function(){function e(){eN(this,e),this.cache={}}return nN(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];for(var o=0,a=s;o<a.length;o++){var c=a[o];if(Yr(n)!=="object")return;n=n[c]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(var i=r.pop(),o=r.pop(),a=this.cache,c=0,d=r;c<d.length;c++){var p=d[c];Yr(a[p])!=="object"&&(a[p]={}),a=a[p]}return a[o]=i}}]),e})();function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function iN(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=aN(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aN(e,t){if(e){if(typeof e=="string")return nf(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nf(e,t):void 0}}function nf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oN(e,t){for(var n=iN(e),r;!(r=n()).done;){var s=r.value;if(t(s))return s;for(var i=s.split("-");i.length>1;)if(i.pop(),s=i.join("-"),t(s))return s}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function uN(){var e=(typeof Intl>"u"?"undefined":Mu(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function lN(e){return dN(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var cN={}.constructor;function dN(e){return ju(e)!==void 0&&e!==null&&e.constructor===cN}var Zn=60,Sa=60*Zn,Fr=24*Sa,Bu=7*Fr,Fu=30.44*Fr,x0=146097/400*Fr;function ps(e){switch(e){case"second":return 1;case"minute":return Zn;case"hour":return Sa;case"day":return Fr;case"week":return Bu;case"month":return Fu;case"year":return x0}}function _0(e){return e.factor!==void 0?e.factor:ps(e.unit||e.formatAs)||1}function si(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function jl(e){switch(e){case"floor":return 1;default:return .5}}function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function v0(e,t){var n=t.prevStep,r=t.timestamp,s=t.now,i=t.future,o=t.round,a;return n&&(n.id||n.unit)&&(a=e["threshold_for_".concat(n.id||n.unit)]),a===void 0&&e.threshold!==void 0&&(a=e.threshold,typeof a=="function"&&(a=a(s,i))),a===void 0&&(a=e.minTime),Uu(a)==="object"&&(n&&n.id&&a[n.id]!==void 0?a=a[n.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:i,getMinTimeForUnit:function(d,p){return rf(d,p||n&&n.formatAs,{round:o})}})),a===void 0&&e.test&&(e.test(r,{now:s,future:i})?a=0:a=9007199254740991),a===void 0&&(n?e.formatAs&&n.formatAs&&(a=rf(e.formatAs,n.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),a}function rf(e,t,n){var r=n.round,s=ps(e),i;if(t==="now"?i=ps(e):i=ps(t),s!==void 0&&i!==void 0)return s-i*(1-jl(r))}function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sf(Object(n),!0).forEach(function(r){hN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hN(e,t,n){return(t=mN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mN(e){var t=pN(e,"string");return ii(t)=="symbol"?t:t+""}function pN(e,t){if(ii(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gN(e,t,n){var r=n.now,s=n.future,i=n.round,o=n.units;e=yN(e,o);var a=bN(e,t,{now:r,future:s,round:i});{if(a){var c=e[e.indexOf(a)-1],d=e[e.indexOf(a)+1];return[c,a,d]}return[void 0,void 0,e[0]]}}function bN(e,t,n){var r=n.now,s=n.future,i=n.round;if(e.length!==0){var o=T0(e,t,{now:r,future:s||t<0,round:i});if(o!==-1){var a=e[o];if(a.granularity){var c=si(i)(Math.abs(t)/_0(a)/a.granularity)*a.granularity;if(c===0&&o>0)return e[o-1]}return a}}}function T0(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=v0(e[r],fN({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return s===void 0||Math.abs(t)<s?r-1:r===e.length-1?r:T0(e,t,n,r+1)}function yN(e,t){return e.filter(function(n){var r=n.unit,s=n.formatAs;return r=r||s,r?t.indexOf(r)>=0:!0})}function EN(e,t,n){var r=n.now,s=n.round;if(ps(e)){var i=ps(e)*1e3,o=t>r,a=Math.abs(t-r),c=si(s)(a/i)*i;return o?c>0?a-c+_N(s,i):a-c+1:-(a-c)+xN(s,i)}}function xN(e,t){return jl(e)*t}function _N(e,t){return(1-jl(e))*t+1}var vN=365*24*60*60*1e3,w0=1e3*vN;function TN(e,t,n){var r=n.prevStep,s=n.nextStep,i=n.now,o=n.future,a=n.round,c=e.getTime?e.getTime():e,d=function(m){return EN(m,c,{now:i,round:a})},p=AN(o?t:s,c,{future:o,now:i,round:a,prevStep:o?r:t});if(p!==void 0){var u;if(t&&(t.getTimeToNextUpdate&&(u=t.getTimeToNextUpdate(c,{getTimeToNextUpdateForUnit:d,getRoundFunction:si,now:i,future:o,round:a})),u===void 0)){var l=t.unit||t.formatAs;l&&(u=d(l))}return u===void 0?p:Math.min(u,p)}}function wN(e,t,n){var r=n.now,s=n.future,i=n.round,o=n.prevStep,a=v0(e,{timestamp:t,now:r,future:s,round:i,prevStep:o});if(a!==void 0)return s?t-a*1e3+1:a===0&&t===r?w0:t+a*1e3}function AN(e,t,n){var r=n.now,s=n.future,i=n.round,o=n.prevStep;if(e){var a=wN(e,t,{now:r,future:s,round:i,prevStep:o});return a===void 0?void 0:a-r}else return s?t-r+1:w0}var A0={};function ls(e){return A0[e]}function N0(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");A0[e.locale]=e}const NN=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],Hu={steps:NN,labels:"long"};function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?af(Object(n),!0).forEach(function(r){SN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):af(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SN(e,t,n){return(t=kN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kN(e){var t=CN(e,"string");return ai(t)=="symbol"?t:t+""}function CN(e,t){if(ai(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ai(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const $u=of(of({},Hu),{},{steps:Hu.steps.filter(function(e){return e.formatAs!=="second"})}),S0=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Zn,unit:"minute"},{threshold:2.5*Zn,granularity:5,factor:Zn,unit:"minute"},{threshold:22.5*Zn,factor:.5*Sa,unit:"half-hour"},{threshold:42.5*Zn,threshold_for_minute:52.5*Zn,factor:Sa,unit:"hour"},{threshold:20.5/24*Fr,factor:Fr,unit:"day"},{threshold:5.5*Fr,factor:Bu,unit:"week"},{threshold:3.5*Bu,factor:Fu,unit:"month"},{threshold:10.5*Fu,factor:x0,unit:"year"}],uf={gradation:S0,flavour:"long",units:["now","minute","hour","day","week","month","year"]},ON={gradation:S0,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function k0(e){return e instanceof Date?e:new Date(e)}var zu=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Fn={},IN={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return Fn[n]||(Fn[n]={}),Fn[n].dayMonth||(Fn[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),Fn[n].dayMonth.format(k0(t))}},RN={minTime:function(t,n){var r=n.future;if(r){var s=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-s)/1e3}else{var i=new Date(new Date(t).getFullYear()+1,0).getTime();return(i-t)/1e3}},format:function(t,n){return Fn[n]||(Fn[n]={}),Fn[n].dayMonthYear||(Fn[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),Fn[n].dayMonthYear.format(k0(t))}};uN()?zu.push(IN,RN):zu.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const Wr={steps:zu,labels:["mini","short-time","narrow","short"]};function oi(e){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lf(Object(n),!0).forEach(function(r){LN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LN(e,t,n){return(t=DN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DN(e){var t=PN(e,"string");return oi(t)=="symbol"?t:t+""}function PN(e,t){if(oi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const MN=cf(cf({},Wr),{},{steps:[{formatAs:"now"}].concat(Wr.steps)});function ui(e){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(e)}function df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?df(Object(n),!0).forEach(function(r){jN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jN(e,t,n){return(t=BN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BN(e){var t=FN(e,"string");return ui(t)=="symbol"?t:t+""}function FN(e,t){if(ui(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const qu=ff(ff({},Wr),{},{steps:Wr.steps.filter(function(e){return e.formatAs!=="second"})});function li(e){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}function hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hf(Object(n),!0).forEach(function(r){UN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UN(e,t,n){return(t=HN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HN(e){var t=$N(e,"string");return li(t)=="symbol"?t:t+""}function $N(e,t){if(li(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const zN=mf(mf({},qu),{},{steps:[{formatAs:"now"}].concat(qu.steps)});function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pf(Object(n),!0).forEach(function(r){qN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qN(e,t,n){return(t=VN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VN(e){var t=YN(e,"string");return ci(t)=="symbol"?t:t+""}function YN(e,t){if(ci(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ci(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const WN=Xi(Xi({},Wr),{},{steps:Wr.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?Xi(Xi({},e),{},{minTime:Zn}):e})}),di={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function fi(e){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(e)}function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gf(Object(n),!0).forEach(function(r){GN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GN(e,t,n){return(t=KN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KN(e){var t=XN(e,"string");return fi(t)=="symbol"?t:t+""}function XN(e,t){if(fi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const QN=bf(bf({},di),{},{steps:[{formatAs:"now"}].concat(di.steps)});function hi(e){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(e)}function yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yf(Object(n),!0).forEach(function(r){ZN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZN(e,t,n){return(t=JN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JN(e){var t=e3(e,"string");return hi(t)=="symbol"?t:t+""}function e3(e,t){if(hi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Vu=Ef(Ef({},di),{},{steps:di.steps.filter(function(e){return e.formatAs!=="second"})});function mi(e){"@babel/helpers - typeof";return mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(e)}function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xf(Object(n),!0).forEach(function(r){t3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t3(e,t,n){return(t=n3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n3(e){var t=r3(e,"string");return mi(t)=="symbol"?t:t+""}function r3(e,t){if(mi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const s3=_f(_f({},Vu),{},{steps:[{formatAs:"now"}].concat(Vu.steps)});function i3(e){switch(e){case"default":case"round":return Hu;case"round-minute":return $u;case"approximate":return uf;case"time":case"approximate-time":return ON;case"mini":return di;case"mini-now":return QN;case"mini-minute":return Vu;case"mini-minute-now":return s3;case"twitter":return Wr;case"twitter-now":return MN;case"twitter-minute":return qu;case"twitter-minute-now":return zN;case"twitter-first-minute":return WN;default:return uf}}function Gr(e){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(e)}function a3(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=C0(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3(e,t){return c3(e)||l3(e,t)||C0(e,t)||u3()}function u3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0(e,t){if(e){if(typeof e=="string")return vf(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vf(e,t):void 0}}function vf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l3(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,a=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(p){d=!0,s=p}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return a}}function c3(e){if(Array.isArray(e))return e}function d3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m3(r.key),r)}}function h3(e,t,n){return t&&f3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m3(e){var t=p3(e,"string");return Gr(t)=="symbol"?t:t+""}function p3(e,t){if(Gr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kn=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;d3(this,e),typeof t=="string"&&(t=[t]),this.locale=oN(t.concat(e.getDefaultLocale()),ls),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=rr,this.IntlPluralRules=rr.PluralRules),this.relativeTimeFormatCache=new tf,this.pluralRulesCache=new tf}return h3(e,[{key:"format",value:function(n,r,s){s||(r&&!x3(r)?(s=r,r=void 0):s={}),r||(r=$u),typeof r=="string"&&(r=i3(r));var i=g3(n),o=this.getLabels(r.flavour||r.labels),a=o.labels,c=o.labelsType,d;r.now!==void 0&&(d=r.now),d===void 0&&s.now!==void 0&&(d=s.now),d===void 0&&(d=Date.now());var p=(d-i)/1e3,u=s.future||p<0,l=E3(a,ls(this.locale).now,ls(this.locale).long,u);if(r.custom){var f=r.custom({now:d,date:new Date(i),time:i,elapsed:p,locale:this.locale});if(f!==void 0)return f}var m=y3(r.units,a,l),h=s.round||r.round,x=gN(r.gradation||r.steps||$u.steps,p,{now:d,units:m,round:h,future:u}),g=o3(x,3),y=g[0],_=g[1],T=g[2],w=this.formatDateForStep(i,_,p,{labels:a,labelsType:c,nowLabel:l,now:d,future:u,round:h})||"";if(s.getTimeToNextUpdate){var k=TN(i,_,{nextStep:T,prevStep:y,now:d,future:u,round:h});return[w,k]}return w}},{key:"formatDateForStep",value:function(n,r,s,i){var o=this,a=i.labels,c=i.labelsType,d=i.nowLabel,p=i.now,u=i.future,l=i.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(g,y){return o.formatValue(y,g,{labels:a,future:u})},now:p,future:u});var f=r.unit||r.formatAs;if(!f)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(f==="now")return d;var m=Math.abs(s)/_0(r);r.granularity&&(m=si(l)(m/r.granularity)*r.granularity);var h=-1*Math.sign(s)*si(l)(m);switch(h===0&&(u?h=0:h=-0),c){case"long":case"short":case"narrow":return this.getFormatter(c).format(h,f);default:return this.formatValue(h,f,{labels:a,future:u})}}}},{key:"formatValue",value:function(n,r,s){var i=s.labels,o=s.future;return this.getFormattingRule(i,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,s,i){var o=i.future;if(this.locale,n=n[r],typeof n=="string")return n;var a=s===0?o?"future":"past":s<0?"past":"future",c=n[a]||n;if(typeof c=="string")return c;var d=this.getPluralRules().select(Math.abs(s));return c[d]||c.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),n=n.concat("long");for(var r=ls(this.locale),s=a3(n),i;!(i=s()).done;){var o=i.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e})(),O0="en";kn.getDefaultLocale=function(){return O0};kn.setDefaultLocale=function(e){return O0=e};kn.addDefaultLocale=function(e){if(Tf)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");Tf=!0,kn.setDefaultLocale(e.locale),kn.addLocale(e)};var Tf;kn.addLocale=function(e){N0(e),rr.addLocale(e)};kn.locale=kn.addLocale;kn.addLabels=function(e,t,n){var r=ls(e);r||(N0({locale:e}),r=ls(e)),r[t]=n};function g3(e){if(e.constructor===Date||b3(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(Gr(e),", ").concat(e))}function b3(e){return Gr(e)==="object"&&typeof e.getTime=="function"}function y3(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(s){return s==="now"||r.indexOf(s)>=0})),r}function E3(e,t,n,r){var s=e.now||t&&t.now;if(s)return typeof s=="string"?s:r?s.future:s.past;if(n&&n.second&&n.second.current)return n.second.current}function x3(e){return typeof e=="string"||lN(e)}const _3={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};kn.addDefaultLocale(_3);const v3=new kn("en-US");function I0({history:e,hideId:t,newestFirst:n=!1}){const[r,s]=St(TA);B.useEffect(()=>{if(e)for(const a of e)a.blockNumber in r||kA(a.blockNumber).then(c=>{s(d=>({...d,[a.blockNumber]:c}))}).catch(()=>{})},[e,r,s]);const i=a=>{switch(a){case"mint":return"bg-green-500";case"transfer":return"bg-blue-500";case"list":return"bg-amber-500";case"delist":return"bg-ink-500";case"buy":return"bg-purple-500";default:return"bg-ink-500"}},o=B.useMemo(()=>n?e:[...e||[]].reverse(),[e,n]);return e?E.jsx("div",{className:"space-y-4",children:o.map((a,c)=>E.jsxs("div",{className:"relative pl-6 pb-4 border-l-2 border-ink-700 last:border-l-transparent",children:[E.jsx("div",{className:`absolute -left-[5px] top-1 w-2 h-2 rounded-full ${i(a.type)}`}),E.jsxs("div",{className:"bg-ink-800/50 rounded-lg p-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[!t&&a.id&&E.jsxs("a",{href:"/nft/?id="+a.id,className:"text-accent-cyan hover:underline font-mono text-sm",children:["#",a.id]}),E.jsx("span",{className:"px-2 py-0.5 bg-ink-700 rounded text-xs font-mono uppercase text-ink-200",children:a.type})]}),r[a.blockNumber]?E.jsx("span",{className:"text-xs text-ink-400 font-mono",children:v3.format(r[a.blockNumber])}):E.jsx(on,{width:80,baseColor:"#27272a",highlightColor:"#3f3f46"})]}),E.jsxs("div",{className:"space-y-1 text-sm font-mono",children:[a.from&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"FROM"}),E.jsx(gr,{address:a.from,shorten:!0,nChar:8})]}),a.to&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"TO"}),E.jsx(gr,{address:a.to,shorten:!0,nChar:8})]}),a.seller&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"SELLER"}),E.jsx(gr,{address:a.seller,shorten:!0,nChar:8})]}),a.buyer&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"BUYER"}),E.jsx(gr,{address:a.buyer,shorten:!0,nChar:8})]}),a.price&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"PRICE"}),E.jsxs("span",{className:"text-white",children:[a.price," ETH"]})]}),a.amount&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"AMOUNT"}),E.jsx("span",{className:"text-ink-300",children:a.amount})]})]}),E.jsx("div",{className:"mt-3 pt-3 border-t border-ink-700",children:E.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:"text-xs text-ink-400 hover:text-accent-cyan transition-colors font-mono",href:Ke.blockExplorer.url+"/tx/"+a.transactionHash,children:"View transaction "})})]})]},c))}):E.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>E.jsx(on,{height:120,className:"rounded-lg",baseColor:"#27272a",highlightColor:"#3f3f46"},a))})}var Ro,wf;function T3(){if(wf)return Ro;wf=1;function e(I){return I instanceof Map?I.clear=I.delete=I.set=function(){throw new Error("map is read-only")}:I instanceof Set&&(I.add=I.clear=I.delete=function(){throw new Error("set is read-only")}),Object.freeze(I),Object.getOwnPropertyNames(I).forEach(V=>{const G=I[V],pe=typeof G;(pe==="object"||pe==="function")&&!Object.isFrozen(G)&&e(G)}),I}class t{constructor(V){V.data===void 0&&(V.data={}),this.data=V.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(I){return I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(I,...V){const G=Object.create(null);for(const pe in I)G[pe]=I[pe];return V.forEach(function(pe){for(const me in pe)G[me]=pe[me]}),G}const s="</span>",i=I=>!!I.scope,o=(I,{prefix:V})=>{if(I.startsWith("language:"))return I.replace("language:","language-");if(I.includes(".")){const G=I.split(".");return[`${V}${G.shift()}`,...G.map((pe,me)=>`${pe}${"_".repeat(me+1)}`)].join(" ")}return`${V}${I}`};class a{constructor(V,G){this.buffer="",this.classPrefix=G.classPrefix,V.walk(this)}addText(V){this.buffer+=n(V)}openNode(V){if(!i(V))return;const G=o(V.scope,{prefix:this.classPrefix});this.span(G)}closeNode(V){i(V)&&(this.buffer+=s)}value(){return this.buffer}span(V){this.buffer+=`<span class="${V}">`}}const c=(I={})=>{const V={children:[]};return Object.assign(V,I),V};class d{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(V){this.top.children.push(V)}openNode(V){const G=c({scope:V});this.add(G),this.stack.push(G)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(V){return this.constructor._walk(V,this.rootNode)}static _walk(V,G){return typeof G=="string"?V.addText(G):G.children&&(V.openNode(G),G.children.forEach(pe=>this._walk(V,pe)),V.closeNode(G)),V}static _collapse(V){typeof V!="string"&&V.children&&(V.children.every(G=>typeof G=="string")?V.children=[V.children.join("")]:V.children.forEach(G=>{d._collapse(G)}))}}class p extends d{constructor(V){super(),this.options=V}addText(V){V!==""&&this.add(V)}startScope(V){this.openNode(V)}endScope(){this.closeNode()}__addSublanguage(V,G){const pe=V.root;G&&(pe.scope=`language:${G}`),this.add(pe)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(I){return I?typeof I=="string"?I:I.source:null}function l(I){return h("(?=",I,")")}function f(I){return h("(?:",I,")*")}function m(I){return h("(?:",I,")?")}function h(...I){return I.map(G=>u(G)).join("")}function x(I){const V=I[I.length-1];return typeof V=="object"&&V.constructor===Object?(I.splice(I.length-1,1),V):{}}function g(...I){return"("+(x(I).capture?"":"?:")+I.map(pe=>u(pe)).join("|")+")"}function y(I){return new RegExp(I.toString()+"|").exec("").length-1}function _(I,V){const G=I&&I.exec(V);return G&&G.index===0}const T=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(I,{joinWith:V}){let G=0;return I.map(pe=>{G+=1;const me=G;let ge=u(pe),oe="";for(;ge.length>0;){const fe=T.exec(ge);if(!fe){oe+=ge;break}oe+=ge.substring(0,fe.index),ge=ge.substring(fe.index+fe[0].length),fe[0][0]==="\\"&&fe[1]?oe+="\\"+String(Number(fe[1])+me):(oe+=fe[0],fe[0]==="("&&G++)}return oe}).map(pe=>`(${pe})`).join(V)}const k=/\b\B/,S="[a-zA-Z]\\w*",v="[a-zA-Z_]\\w*",A="\\b\\d+(\\.\\d+)?",N="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",R="\\b(0b[01]+)",M="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",j=(I={})=>{const V=/^#![ ]*\//;return I.binary&&(I.begin=h(V,/.*\b/,I.binary,/\b.*/)),r({scope:"meta",begin:V,end:/$/,relevance:0,"on:begin":(G,pe)=>{G.index!==0&&pe.ignoreMatch()}},I)},H={begin:"\\\\[\\s\\S]",relevance:0},z={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[H]},q={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[H]},ne={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ae=function(I,V,G={}){const pe=r({scope:"comment",begin:I,end:V,contains:[]},G);pe.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const me=g("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return pe.contains.push({begin:h(/[ ]+/,"(",me,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),pe},_e=ae("//","$"),le=ae("/\\*","\\*/"),xe=ae("#","$"),Te={scope:"number",begin:A,relevance:0},we={scope:"number",begin:N,relevance:0},Le={scope:"number",begin:R,relevance:0},He={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[H,{begin:/\[/,end:/\]/,relevance:0,contains:[H]}]},Be={scope:"title",begin:S,relevance:0},et={scope:"title",begin:v,relevance:0},Ve={begin:"\\.\\s*"+v,relevance:0};var Je=Object.freeze({__proto__:null,APOS_STRING_MODE:z,BACKSLASH_ESCAPE:H,BINARY_NUMBER_MODE:Le,BINARY_NUMBER_RE:R,COMMENT:ae,C_BLOCK_COMMENT_MODE:le,C_LINE_COMMENT_MODE:_e,C_NUMBER_MODE:we,C_NUMBER_RE:N,END_SAME_AS_BEGIN:function(I){return Object.assign(I,{"on:begin":(V,G)=>{G.data._beginMatch=V[1]},"on:end":(V,G)=>{G.data._beginMatch!==V[1]&&G.ignoreMatch()}})},HASH_COMMENT_MODE:xe,IDENT_RE:S,MATCH_NOTHING_RE:k,METHOD_GUARD:Ve,NUMBER_MODE:Te,NUMBER_RE:A,PHRASAL_WORDS_MODE:ne,QUOTE_STRING_MODE:q,REGEXP_MODE:He,RE_STARTERS_RE:M,SHEBANG:j,TITLE_MODE:Be,UNDERSCORE_IDENT_RE:v,UNDERSCORE_TITLE_MODE:et});function Et(I,V){I.input[I.index-1]==="."&&V.ignoreMatch()}function dt(I,V){I.className!==void 0&&(I.scope=I.className,delete I.className)}function Dt(I,V){V&&I.beginKeywords&&(I.begin="\\b("+I.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",I.__beforeBegin=Et,I.keywords=I.keywords||I.beginKeywords,delete I.beginKeywords,I.relevance===void 0&&(I.relevance=0))}function Pt(I,V){Array.isArray(I.illegal)&&(I.illegal=g(...I.illegal))}function Ct(I,V){if(I.match){if(I.begin||I.end)throw new Error("begin & end are not supported with match");I.begin=I.match,delete I.match}}function Ft(I,V){I.relevance===void 0&&(I.relevance=1)}const rt=(I,V)=>{if(!I.beforeMatch)return;if(I.starts)throw new Error("beforeMatch cannot be used with starts");const G=Object.assign({},I);Object.keys(I).forEach(pe=>{delete I[pe]}),I.keywords=G.keywords,I.begin=h(G.beforeMatch,l(G.begin)),I.starts={relevance:0,contains:[Object.assign(G,{endsParent:!0})]},I.relevance=0,delete G.beforeMatch},Ut=["of","and","for","in","not","or","if","then","parent","list","value"],bt="keyword";function st(I,V,G=bt){const pe=Object.create(null);return typeof I=="string"?me(G,I.split(" ")):Array.isArray(I)?me(G,I):Object.keys(I).forEach(function(ge){Object.assign(pe,st(I[ge],V,ge))}),pe;function me(ge,oe){V&&(oe=oe.map(fe=>fe.toLowerCase())),oe.forEach(function(fe){const W=fe.split("|");pe[W[0]]=[ge,L(W[0],W[1])]})}}function L(I,V){return V?Number(V):F(I)?0:1}function F(I){return Ut.includes(I.toLowerCase())}const $={},ie=I=>{console.error(I)},ee=(I,...V)=>{console.log(`WARN: ${I}`,...V)},K=(I,V)=>{$[`${I}/${V}`]||(console.log(`Deprecated as of ${I}. ${V}`),$[`${I}/${V}`]=!0)},ye=new Error;function Ie(I,V,{key:G}){let pe=0;const me=I[G],ge={},oe={};for(let fe=1;fe<=V.length;fe++)oe[fe+pe]=me[fe],ge[fe+pe]=!0,pe+=y(V[fe-1]);I[G]=oe,I[G]._emit=ge,I[G]._multi=!0}function Fe(I){if(Array.isArray(I.begin)){if(I.skip||I.excludeBegin||I.returnBegin)throw ie("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ye;if(typeof I.beginScope!="object"||I.beginScope===null)throw ie("beginScope must be object"),ye;Ie(I,I.begin,{key:"beginScope"}),I.begin=w(I.begin,{joinWith:""})}}function Ye(I){if(Array.isArray(I.end)){if(I.skip||I.excludeEnd||I.returnEnd)throw ie("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ye;if(typeof I.endScope!="object"||I.endScope===null)throw ie("endScope must be object"),ye;Ie(I,I.end,{key:"endScope"}),I.end=w(I.end,{joinWith:""})}}function Ot(I){I.scope&&typeof I.scope=="object"&&I.scope!==null&&(I.beginScope=I.scope,delete I.scope)}function ft(I){Ot(I),typeof I.beginScope=="string"&&(I.beginScope={_wrap:I.beginScope}),typeof I.endScope=="string"&&(I.endScope={_wrap:I.endScope}),Fe(I),Ye(I)}function Gt(I){function V(oe,fe){return new RegExp(u(oe),"m"+(I.case_insensitive?"i":"")+(I.unicodeRegex?"u":"")+(fe?"g":""))}class G{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(fe,W){W.position=this.position++,this.matchIndexes[this.matchAt]=W,this.regexes.push([W,fe]),this.matchAt+=y(fe)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const fe=this.regexes.map(W=>W[1]);this.matcherRe=V(w(fe,{joinWith:"|"}),!0),this.lastIndex=0}exec(fe){this.matcherRe.lastIndex=this.lastIndex;const W=this.matcherRe.exec(fe);if(!W)return null;const ce=W.findIndex((Pe,pt)=>pt>0&&Pe!==void 0),he=this.matchIndexes[ce];return W.splice(0,ce),Object.assign(W,he)}}class pe{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(fe){if(this.multiRegexes[fe])return this.multiRegexes[fe];const W=new G;return this.rules.slice(fe).forEach(([ce,he])=>W.addRule(ce,he)),W.compile(),this.multiRegexes[fe]=W,W}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(fe,W){this.rules.push([fe,W]),W.type==="begin"&&this.count++}exec(fe){const W=this.getMatcher(this.regexIndex);W.lastIndex=this.lastIndex;let ce=W.exec(fe);if(this.resumingScanAtSamePosition()&&!(ce&&ce.index===this.lastIndex)){const he=this.getMatcher(0);he.lastIndex=this.lastIndex+1,ce=he.exec(fe)}return ce&&(this.regexIndex+=ce.position+1,this.regexIndex===this.count&&this.considerAll()),ce}}function me(oe){const fe=new pe;return oe.contains.forEach(W=>fe.addRule(W.begin,{rule:W,type:"begin"})),oe.terminatorEnd&&fe.addRule(oe.terminatorEnd,{type:"end"}),oe.illegal&&fe.addRule(oe.illegal,{type:"illegal"}),fe}function ge(oe,fe){const W=oe;if(oe.isCompiled)return W;[dt,Ct,ft,rt].forEach(he=>he(oe,fe)),I.compilerExtensions.forEach(he=>he(oe,fe)),oe.__beforeBegin=null,[Dt,Pt,Ft].forEach(he=>he(oe,fe)),oe.isCompiled=!0;let ce=null;return typeof oe.keywords=="object"&&oe.keywords.$pattern&&(oe.keywords=Object.assign({},oe.keywords),ce=oe.keywords.$pattern,delete oe.keywords.$pattern),ce=ce||/\w+/,oe.keywords&&(oe.keywords=st(oe.keywords,I.case_insensitive)),W.keywordPatternRe=V(ce,!0),fe&&(oe.begin||(oe.begin=/\B|\b/),W.beginRe=V(W.begin),!oe.end&&!oe.endsWithParent&&(oe.end=/\B|\b/),oe.end&&(W.endRe=V(W.end)),W.terminatorEnd=u(W.end)||"",oe.endsWithParent&&fe.terminatorEnd&&(W.terminatorEnd+=(oe.end?"|":"")+fe.terminatorEnd)),oe.illegal&&(W.illegalRe=V(oe.illegal)),oe.contains||(oe.contains=[]),oe.contains=[].concat(...oe.contains.map(function(he){return de(he==="self"?oe:he)})),oe.contains.forEach(function(he){ge(he,W)}),oe.starts&&ge(oe.starts,fe),W.matcher=me(W),W}if(I.compilerExtensions||(I.compilerExtensions=[]),I.contains&&I.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return I.classNameAliases=r(I.classNameAliases||{}),ge(I)}function Z(I){return I?I.endsWithParent||Z(I.starts):!1}function de(I){return I.variants&&!I.cachedVariants&&(I.cachedVariants=I.variants.map(function(V){return r(I,{variants:null},V)})),I.cachedVariants?I.cachedVariants:Z(I)?r(I,{starts:I.starts?r(I.starts):null}):Object.isFrozen(I)?r(I):I}var Ee="11.11.1";class Me extends Error{constructor(V,G){super(V),this.name="HTMLInjectionError",this.html=G}}const We=n,Oe=r,fn=Symbol("nomatch"),hn=7,Kt=function(I){const V=Object.create(null),G=Object.create(null),pe=[];let me=!0;const ge="Could not find the language '{}', did you forget to load/include a language module?",oe={disableAutodetect:!0,name:"Plain text",contains:[]};let fe={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:p};function W(ue){return fe.noHighlightRe.test(ue)}function ce(ue){let ke=ue.className+" ";ke+=ue.parentNode?ue.parentNode.className:"";const Ge=fe.languageDetectRe.exec(ke);if(Ge){const ut=En(Ge[1]);return ut||(ee(ge.replace("{}",Ge[1])),ee("Falling back to no-highlight mode for this block.",ue)),ut?Ge[1]:"no-highlight"}return ke.split(/\s+/).find(ut=>W(ut)||En(ut))}function he(ue,ke,Ge){let ut="",At="";typeof ke=="object"?(ut=ue,Ge=ke.ignoreIllegals,At=ke.language):(K("10.7.0","highlight(lang, code, ...args) has been deprecated."),K("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),At=ue,ut=ke),Ge===void 0&&(Ge=!0);const _n={code:ut,language:At};es("before:highlight",_n);const or=_n.result?_n.result:Pe(_n.language,_n.code,Ge);return or.code=_n.code,es("after:highlight",or),or}function Pe(ue,ke,Ge,ut){const At=Object.create(null);function _n(be,Ne){return be.keywords[Ne]}function or(){if(!De.keywords){Mt.addText(lt);return}let be=0;De.keywordPatternRe.lastIndex=0;let Ne=De.keywordPatternRe.exec(lt),$e="";for(;Ne;){$e+=lt.substring(be,Ne.index);const tt=Ln.case_insensitive?Ne[0].toLowerCase():Ne[0],$t=_n(De,tt);if($t){const[Xn,H0]=$t;if(Mt.addText($e),$e="",At[tt]=(At[tt]||0)+1,At[tt]<=hn&&(Di+=H0),Xn.startsWith("_"))$e+=Ne[0];else{const $0=Ln.classNameAliases[Xn]||Xn;Rn(Ne[0],$0)}}else $e+=Ne[0];be=De.keywordPatternRe.lastIndex,Ne=De.keywordPatternRe.exec(lt)}$e+=lt.substring(be),Mt.addText($e)}function Ri(){if(lt==="")return;let be=null;if(typeof De.subLanguage=="string"){if(!V[De.subLanguage]){Mt.addText(lt);return}be=Pe(De.subLanguage,lt,!0,$l[De.subLanguage]),$l[De.subLanguage]=be._top}else be=Xt(lt,De.subLanguage.length?De.subLanguage:null);De.relevance>0&&(Di+=be.relevance),Mt.__addSublanguage(be._emitter,be.language)}function sn(){De.subLanguage!=null?Ri():or(),lt=""}function Rn(be,Ne){be!==""&&(Mt.startScope(Ne),Mt.addText(be),Mt.endScope())}function Bl(be,Ne){let $e=1;const tt=Ne.length-1;for(;$e<=tt;){if(!be._emit[$e]){$e++;continue}const $t=Ln.classNameAliases[be[$e]]||be[$e],Xn=Ne[$e];$t?Rn(Xn,$t):(lt=Xn,or(),lt=""),$e++}}function Fl(be,Ne){return be.scope&&typeof be.scope=="string"&&Mt.openNode(Ln.classNameAliases[be.scope]||be.scope),be.beginScope&&(be.beginScope._wrap?(Rn(lt,Ln.classNameAliases[be.beginScope._wrap]||be.beginScope._wrap),lt=""):be.beginScope._multi&&(Bl(be.beginScope,Ne),lt="")),De=Object.create(be,{parent:{value:De}}),De}function Ul(be,Ne,$e){let tt=_(be.endRe,$e);if(tt){if(be["on:end"]){const $t=new t(be);be["on:end"](Ne,$t),$t.isMatchIgnored&&(tt=!1)}if(tt){for(;be.endsParent&&be.parent;)be=be.parent;return be}}if(be.endsWithParent)return Ul(be.parent,Ne,$e)}function M0(be){return De.matcher.regexIndex===0?(lt+=be[0],1):(ro=!0,0)}function j0(be){const Ne=be[0],$e=be.rule,tt=new t($e),$t=[$e.__beforeBegin,$e["on:begin"]];for(const Xn of $t)if(Xn&&(Xn(be,tt),tt.isMatchIgnored))return M0(Ne);return $e.skip?lt+=Ne:($e.excludeBegin&&(lt+=Ne),sn(),!$e.returnBegin&&!$e.excludeBegin&&(lt=Ne)),Fl($e,be),$e.returnBegin?0:Ne.length}function B0(be){const Ne=be[0],$e=ke.substring(be.index),tt=Ul(De,be,$e);if(!tt)return fn;const $t=De;De.endScope&&De.endScope._wrap?(sn(),Rn(Ne,De.endScope._wrap)):De.endScope&&De.endScope._multi?(sn(),Bl(De.endScope,be)):$t.skip?lt+=Ne:($t.returnEnd||$t.excludeEnd||(lt+=Ne),sn(),$t.excludeEnd&&(lt=Ne));do De.scope&&Mt.closeNode(),!De.skip&&!De.subLanguage&&(Di+=De.relevance),De=De.parent;while(De!==tt.parent);return tt.starts&&Fl(tt.starts,be),$t.returnEnd?0:Ne.length}function F0(){const be=[];for(let Ne=De;Ne!==Ln;Ne=Ne.parent)Ne.scope&&be.unshift(Ne.scope);be.forEach(Ne=>Mt.openNode(Ne))}let Li={};function Hl(be,Ne){const $e=Ne&&Ne[0];if(lt+=be,$e==null)return sn(),0;if(Li.type==="begin"&&Ne.type==="end"&&Li.index===Ne.index&&$e===""){if(lt+=ke.slice(Ne.index,Ne.index+1),!me){const tt=new Error(`0 width match regex (${ue})`);throw tt.languageName=ue,tt.badRule=Li.rule,tt}return 1}if(Li=Ne,Ne.type==="begin")return j0(Ne);if(Ne.type==="illegal"&&!Ge){const tt=new Error('Illegal lexeme "'+$e+'" for mode "'+(De.scope||"<unnamed>")+'"');throw tt.mode=De,tt}else if(Ne.type==="end"){const tt=B0(Ne);if(tt!==fn)return tt}if(Ne.type==="illegal"&&$e==="")return lt+=`
`,1;if(no>1e5&&no>Ne.index*3)throw new Error("potential infinite loop, way more iterations than matches");return lt+=$e,$e.length}const Ln=En(ue);if(!Ln)throw ie(ge.replace("{}",ue)),new Error('Unknown language: "'+ue+'"');const U0=Gt(Ln);let to="",De=ut||U0;const $l={},Mt=new fe.__emitter(fe);F0();let lt="",Di=0,Ir=0,no=0,ro=!1;try{if(Ln.__emitTokens)Ln.__emitTokens(ke,Mt);else{for(De.matcher.considerAll();;){no++,ro?ro=!1:De.matcher.considerAll(),De.matcher.lastIndex=Ir;const be=De.matcher.exec(ke);if(!be)break;const Ne=ke.substring(Ir,be.index),$e=Hl(Ne,be);Ir=be.index+$e}Hl(ke.substring(Ir))}return Mt.finalize(),to=Mt.toHTML(),{language:ue,value:to,relevance:Di,illegal:!1,_emitter:Mt,_top:De}}catch(be){if(be.message&&be.message.includes("Illegal"))return{language:ue,value:We(ke),illegal:!0,relevance:0,_illegalBy:{message:be.message,index:Ir,context:ke.slice(Ir-100,Ir+100),mode:be.mode,resultSoFar:to},_emitter:Mt};if(me)return{language:ue,value:We(ke),illegal:!1,relevance:0,errorRaised:be,_emitter:Mt,_top:De};throw be}}function pt(ue){const ke={value:We(ue),illegal:!1,relevance:0,_top:oe,_emitter:new fe.__emitter(fe)};return ke._emitter.addText(ue),ke}function Xt(ue,ke){ke=ke||fe.languages||Object.keys(V);const Ge=pt(ue),ut=ke.filter(En).filter(Ze).map(sn=>Pe(sn,ue,!1));ut.unshift(Ge);const At=ut.sort((sn,Rn)=>{if(sn.relevance!==Rn.relevance)return Rn.relevance-sn.relevance;if(sn.language&&Rn.language){if(En(sn.language).supersetOf===Rn.language)return 1;if(En(Rn.language).supersetOf===sn.language)return-1}return 0}),[_n,or]=At,Ri=_n;return Ri.secondBest=or,Ri}function mn(ue,ke,Ge){const ut=ke&&G[ke]||Ge;ue.classList.add("hljs"),ue.classList.add(`language-${ut}`)}function wt(ue){let ke=null;const Ge=ce(ue);if(W(Ge))return;if(es("before:highlightElement",{el:ue,language:Ge}),ue.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ue);return}if(ue.children.length>0&&(fe.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ue)),fe.throwUnescapedHTML))throw new Me("One of your code blocks includes unescaped HTML.",ue.innerHTML);ke=ue;const ut=ke.textContent,At=Ge?he(ut,{language:Ge,ignoreIllegals:!0}):Xt(ut);ue.innerHTML=At.value,ue.dataset.highlighted="yes",mn(ue,Ge,At.language),ue.result={language:At.language,re:At.relevance,relevance:At.relevance},At.secondBest&&(ue.secondBest={language:At.secondBest.language,relevance:At.secondBest.relevance}),es("after:highlightElement",{el:ue,result:At,text:ut})}function Qt(ue){fe=Oe(fe,ue)}const ot=()=>{Jr(),K("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function ar(){Jr(),K("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let ki=!1;function Jr(){function ue(){Jr()}if(document.readyState==="loading"){ki||window.addEventListener("DOMContentLoaded",ue,!1),ki=!0;return}document.querySelectorAll(fe.cssSelector).forEach(wt)}function Ci(ue,ke){let Ge=null;try{Ge=ke(I)}catch(ut){if(ie("Language definition for '{}' could not be registered.".replace("{}",ue)),me)ie(ut);else throw ut;Ge=oe}Ge.name||(Ge.name=ue),V[ue]=Ge,Ge.rawDefinition=ke.bind(null,I),Ge.aliases&&Ss(Ge.aliases,{languageName:ue})}function Oi(ue){delete V[ue];for(const ke of Object.keys(G))G[ke]===ue&&delete G[ke]}function Ii(){return Object.keys(V)}function En(ue){return ue=(ue||"").toLowerCase(),V[ue]||V[G[ue]]}function Ss(ue,{languageName:ke}){typeof ue=="string"&&(ue=[ue]),ue.forEach(Ge=>{G[Ge.toLowerCase()]=ke})}function Ze(ue){const ke=En(ue);return ke&&!ke.disableAutodetect}function xn(ue){ue["before:highlightBlock"]&&!ue["before:highlightElement"]&&(ue["before:highlightElement"]=ke=>{ue["before:highlightBlock"](Object.assign({block:ke.el},ke))}),ue["after:highlightBlock"]&&!ue["after:highlightElement"]&&(ue["after:highlightElement"]=ke=>{ue["after:highlightBlock"](Object.assign({block:ke.el},ke))})}function ks(ue){xn(ue),pe.push(ue)}function Or(ue){const ke=pe.indexOf(ue);ke!==-1&&pe.splice(ke,1)}function es(ue,ke){const Ge=ue;pe.forEach(function(ut){ut[Ge]&&ut[Ge](ke)})}function Cs(ue){return K("10.7.0","highlightBlock will be removed entirely in v12.0"),K("10.7.0","Please use highlightElement now."),wt(ue)}Object.assign(I,{highlight:he,highlightAuto:Xt,highlightAll:Jr,highlightElement:wt,highlightBlock:Cs,configure:Qt,initHighlighting:ot,initHighlightingOnLoad:ar,registerLanguage:Ci,unregisterLanguage:Oi,listLanguages:Ii,getLanguage:En,registerAliases:Ss,autoDetection:Ze,inherit:Oe,addPlugin:ks,removePlugin:Or}),I.debugMode=function(){me=!1},I.safeMode=function(){me=!0},I.versionString=Ee,I.regex={concat:h,lookahead:l,either:g,optional:m,anyNumberOfTimes:f};for(const ue in Je)typeof Je[ue]=="object"&&e(Je[ue]);return Object.assign(I,Je),I},Ht=Kt({});return Ht.newInstance=()=>Kt({}),Ro=Ht,Ht.HighlightJS=Ht,Ht.default=Ht,Ro}var w3=T3();const Ns=ka(w3);function R0(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),d={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,c,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,c,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[d],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[d],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:d}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const A3=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),N3=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],S3=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],k3=[...N3,...S3],C3=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),O3=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),I3=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),R3=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function L3(e){const t=e.regex,n=A3(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",i=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+O3.join("|")+")"},{begin:":(:)?("+I3.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+R3.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:i},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:C3.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+k3.join("|")+")\\b"}]}}const Af="[A-Za-z$_][0-9A-Za-z$_]*",D3=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],P3=["true","false","null","undefined","NaN","Infinity"],L0=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],D0=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],P0=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],M3=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],j3=[].concat(P0,L0,D0);function B3(e){const t=e.regex,n=(ae,{after:_e})=>{const le="</"+ae[0].slice(1);return ae.input.indexOf(le,_e)!==-1},r=Af,s={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ae,_e)=>{const le=ae[0].length+ae.index,xe=ae.input[le];if(xe==="<"||xe===","){_e.ignoreMatch();return}xe===">"&&(n(ae,{after:le})||_e.ignoreMatch());let Te;const we=ae.input.substring(le);if(Te=we.match(/^\s*=/)){_e.ignoreMatch();return}if((Te=we.match(/^\s+extends\s+/))&&Te.index===0){_e.ignoreMatch();return}}},a={$pattern:Af,keyword:D3,literal:P3,built_in:j3,"variable.language":M3},c="[0-9](_?[0-9])*",d=`\\.(${c})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${p})((${d})|\\.)?|(${d}))[eE][+-]?(${c})\\b`},{begin:`\\b(${p})\\b((${d})\\b|\\.)?|(${d})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},l={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"css"}},h={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,l]},y={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},_=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,x,{match:/\$\d+/},u];l.contains=_.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(_)});const T=[].concat(y,l.contains),w=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(T)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w},S={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},v={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...L0,...D0]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(ae){return t.concat("(?!",ae.join("|"),")")}const j={match:t.concat(/\b/,M([...P0,"super","import"].map(ae=>`${ae}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},H={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},z={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},q="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",ne={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(q)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:v},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,x,y,{match:/\$\d+/},u,v,{scope:"attr",match:r+t.lookahead(":"),relevance:0},ne,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,e.REGEXP_MODE,{className:"function",begin:q,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:i},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},j,R,S,z,{match:/\$[(.]/}]}}function F3(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},s={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},i={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},d={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},p={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},u=e.inherit(d,{contains:[]}),l=e.inherit(p,{contains:[]});d.contains.push(l),p.contains.push(u);let f=[n,c];return[d,p,u,l].forEach(g=>{g.contains=g.contains.concat(f)}),f=f.concat(d,p),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,i,d,p,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},s,r,c,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}Ns.registerLanguage("html",R0);Ns.registerLanguage("xml",R0);Ns.registerLanguage("css",L3);Ns.registerLanguage("javascript",B3);Ns.registerLanguage("markdown",F3);const U3=Sr({key:"burnedIds",default:[]});function H3(){var ft,Gt;const e=Cf(),t=Ca(),n=Ke.contractAddresses.v1.zang,r=Ke.contractAddresses.v1.marketplace,s=new URLSearchParams(e.search),i=s.get("id")?parseInt(s.get("id")):null,[o,a]=B.useState([0,null]),{address:c,isConnected:d}=cn();Uh();const[p,u]=St(U3),[l,f]=B.useState(null),[m,h]=B.useState(null),[x,g]=B.useState(null),[y,_]=B.useState(null),[T,w]=B.useState(null),[k,S]=B.useState(null),[v,A]=B.useState(null),[N,R]=B.useState(null),[M,j]=B.useState(null),[H,z]=B.useState(!0),[q,ne]=B.useState(null),[ae,_e]=B.useState(null),[le,xe]=im(),[Te,we]=B.useState(!1),[Le,He]=B.useState(null),[,Be]=St(yn),et=async Z=>{if(!i||!Z)return;const de=Ke.firstBlocks.v1.base.zang,Ee=Ke.firstBlocks.v1.base.marketplace,Me=await NA(i,Z,de,Ee);_e(Me),Me!=null&&Me._meta&&xe(Me._meta)},Ve=async()=>{if(!i)return;let Z=i-1,de=!1;for(;Z>=1&&!de;)if(p.includes(Z))Z--;else{try{de=await Qe.readContract({address:n,abi:qe.zang,functionName:"exists",args:[BigInt(Z)]})}catch(Ee){Be(jt(Ee));break}if(de)break;u(Ee=>[...Ee,Z]),Z--}return de?Z:null},gt=async()=>{try{const Z=await Qe.readContract({address:n,abi:qe.zang,functionName:"lastTokenId"});return j(Number(Z)),Number(Z)}catch(Z){Be(jt(Z))}},Je=async(Z=null)=>{if(!i)return;let de=i+1,Ee=!1,Me=Z||M;for(Me===null&&(Me=await gt());de<=Me&&!Ee;)if(de===Me&&await gt(),p.includes(de))de++;else{try{Ee=await Qe.readContract({address:n,abi:qe.zang,functionName:"exists",args:[BigInt(de)]})}catch(We){Be(jt(We));break}if(Ee)break;u(We=>[...We,de]),de++}return Ee?de:null},Et=async()=>{if(i)try{return await Qe.readContract({address:n,abi:qe.zang,functionName:"uri",args:[BigInt(i)]})}catch(Z){Bo(Z)?z(!1):Be(jt(Z))}},dt=async()=>{if(i)try{const Z=await Qe.readContract({address:n,abi:qe.zang,functionName:"authorOf",args:[BigInt(i)]});return S(Z),Z}catch(Z){Bo(Z)||Be(jt(Z))}},Dt=async Z=>{if(Z)try{const Ee=await(await fetch(Z)).json();return g(Ee),Ee}catch(de){Be(jt(de))}},Pt=async Z=>{if(Z!=null&&Z.text_uri){var de=Z.text_uri;de=de.replace("charset=UTF-8,","");try{const Ee=await fetch(de),Me=await Ee.text();_(Ee.headers.get("content-type")),w(Me)}catch(Ee){Be(jt(Ee))}}},Ct=async()=>{if(i)try{const[Z,de]=await Qe.readContract({address:n,abi:qe.zang,functionName:"royaltyInfo",args:[BigInt(i),10000n]}),Ee=new Zr(de.toString());A({recipient:Z,amount:Ee.div(100).toNumber()})}catch(Z){Be(jt(Z))}},Ft=async()=>{if(i)try{const Z=await Qe.readContract({address:n,abi:qe.zang,functionName:"totalSupply",args:[BigInt(i)]});R(Z)}catch(Z){Be(jt(Z))}},rt=Z=>()=>{t(Z?"/nft?id="+m:"/nft?id="+l)};B.useEffect(()=>{i||t("/")},[i,t]),B.useEffect(()=>{document.title=i?`#${i} - zang`:"zang"},[i]),B.useEffect(()=>{Be(null)},[i]),B.useEffect(()=>{(async()=>{z(!0),g(null),w(null),_(null),S(null),A(null),R(null),f(null),h(null),ne(null),bt({}),_e(null),we(!1);const de=await gt();try{const We=await fetch(`/api/nft/${i}`);if(We.ok){const Oe=await We.json();S(Oe.author),g({name:Oe.name,description:Oe.description,text_uri:Oe.text_uri}),_(Oe.content_type),w(Oe.content),et(Oe.author)}else We.status===404?z(!1):(Et().then(Oe=>Dt(Oe)).then(Oe=>Pt(Oe)),dt().then(Oe=>et(Oe)))}catch{Et().then(Oe=>Dt(Oe)).then(Oe=>Pt(Oe)),dt().then(Oe=>et(Oe))}Ct(),Ft(),K();const[Ee,Me]=await Promise.all([Ve(),Je(de)]);f(Ee),h(Me)})()},[i]),B.useEffect(()=>{(async()=>{try{const Ee=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json();He(Ee.ethereum.usd)}catch{}})()},[]);const[Ut,bt]=B.useState({}),st=B.useMemo(()=>q?q.filter(Z=>Z.seller!==Ur):null,[q]),L=B.useMemo(()=>{if(!st)return null;const Z={};for(const Ee of st){const Me=Ee.seller;Z[Me]||(Z[Me]=[]),Z[Me].push(Ee)}const de=[];for(const[Ee,Me]of Object.entries(Z))Me.sort((We,Oe)=>We.price-Oe.price),de.push({seller:Ee,listings:Me,sellerBalance:Ut[Ee]});for(const Ee of de)Ee.listings.sort((Me,We)=>Me.price-We.price);return de.sort((Ee,Me)=>Ee.listings[0].price-Me.listings[0].price),de},[st,Ut]),F=Z=>Ut[Z],$=()=>F(c),ie=Z=>{if(!i||!c||st===null)return null;let de=F(Z);if(de==null)return null;for(const Ee of st)Ee.seller===Z&&(de-=Ee.amount);return de<0&&(de=0),de},ee=()=>ie(c),K=async()=>{if(i)try{const Z=await Qe.readContract({address:r,abi:qe.marketplace,functionName:"listingCount",args:[BigInt(i)]}),de=Number(Z),Ee=[],Me=[];for(let We=0;We<de;We++)Me.push(Qe.readContract({address:r,abi:qe.marketplace,functionName:"listings",args:[BigInt(i),BigInt(We)]}).then(Oe=>{const[fn,hn,Kt]=Oe;Ee.push({amount:Number(Kt),price:xr(fn),seller:hn,id:We})}).catch(()=>null));await Promise.all(Me),Ee.sort((We,Oe)=>We.price-Oe.price),ne(Ee)}catch(Z){Be(jt(Z))}},ye=async Z=>{if(!(!Z||!i))try{const de=await Qe.readContract({address:n,abi:qe.zang,functionName:"balanceOf",args:[Z,BigInt(i)]});bt(Ee=>({...Ee,[Z]:Number(de)}))}catch(de){Be(jt(de))}},Ie=async()=>{await ye(c)},Fe=async()=>{if(!i||!q)return;const Z=[];try{if(st)for(const de of st){const Ee=ye(de.seller);Z.push(Ee)}await Promise.all(Z)}catch(de){Be(jt(de))}};B.useEffect(()=>{st&&st.length>0&&Fe()},[st]),B.useEffect(()=>{o[0]===i&&fetch("/api/sync/force",{method:"POST"}).then(()=>{K(),Ft(),Ct(),k&&et(k)}).catch(()=>{K(),Ft(),Ct()})},[o]),B.useEffect(()=>{c&&i&&d&&Ie()},[c,i,d]);const Ye=Z=>{a(([de,Ee])=>[Z,Ee+1])},Ot=async()=>{try{await fetch("/api/sync/force",{method:"POST"}),k&&await et(k)}catch(Z){console.error("Error forcing sync:",Z)}};return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Kr,{}),E.jsx(Ua,{}),H?E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("button",{onClick:rt(!1),disabled:!l,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l?"text-ink-300 hover:text-white hover:bg-ink-800":"text-ink-700 cursor-not-allowed"}`,children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),E.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),E.jsxs("span",{className:"text-ink-500 font-mono text-sm",children:["#",i]}),E.jsxs("button",{onClick:rt(!0),disabled:!m,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${m?"text-ink-300 hover:text-white hover:bg-ink-800":"text-ink-700 cursor-not-allowed"}`,children:[E.jsx("span",{className:"hidden sm:inline",children:"Next"}),E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsx("div",{className:"lg:col-span-2",children:E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[y&&(y==="text/markdown"||y==="text/html")&&E.jsx("div",{className:"flex justify-end px-4 pt-4",children:E.jsx("button",{onClick:()=>we(!Te),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${Te?"bg-ink-700 text-white":"bg-ink-800/50 text-ink-400 hover:text-ink-200 hover:bg-ink-800"}`,children:Te?E.jsxs(B.Fragment,{children:[E.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Rendered"]}):E.jsxs(B.Fragment,{children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),"View Source"]})})}),E.jsx("div",{className:"p-6",children:y&&(T||T==="")?Te?E.jsx("pre",{className:"bg-ink-950 rounded-lg p-4 overflow-auto max-h-[400px] text-sm border border-ink-800",children:E.jsx("code",{className:`hljs language-${y==="text/html"?"html":"markdown"}`,dangerouslySetInnerHTML:{__html:Ns.highlight(T,{language:y==="text/html"?"html":"markdown"}).value}})}):y==="text/html"?E.jsx(Fa,{source:T}):y==="text/markdown"?E.jsx("div",{className:"prose prose-invert prose-ink max-w-none","data-color-mode":"dark",children:E.jsx(Yu.Markdown,{source:T,rehypePlugins:[()=>Ra(sr.validMarkdown)]})}):E.jsx("pre",{className:"font-mono text-ink-100 whitespace-pre overflow-x-auto text-sm leading-relaxed",children:T}):E.jsx(on,{count:12,baseColor:"#27272a",highlightColor:"#3f3f46"})})]})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:[E.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:(x==null?void 0:x.name)!==null&&(x==null?void 0:x.name)!==void 0?x.name:E.jsx(on,{baseColor:"#27272a",highlightColor:"#3f3f46"})}),E.jsx("p",{className:"text-ink-400 mb-4",children:k!==null?E.jsxs(B.Fragment,{children:["by"," ",E.jsx(gr,{address:k,shorten:!0,nChar:8})]}):E.jsx(on,{width:150,baseColor:"#27272a",highlightColor:"#3f3f46"})}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:y&&N!==null?E.jsxs(B.Fragment,{children:[E.jsx(Jv,{type:y}),E.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded bg-ink-800 text-ink-300",children:["Edition:"," ",N.toString()]})]}):E.jsx(on,{width:180,baseColor:"#27272a",highlightColor:"#3f3f46"})}),(x==null?void 0:x.description)!==void 0&&(x==null?void 0:x.description)!==null?E.jsx("p",{className:"text-ink-300 text-sm italic",children:x.description}):E.jsx(on,{count:2,baseColor:"#27272a",highlightColor:"#3f3f46"}),v&&k&&(v==null?void 0:v.amount)!==null?E.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[E.jsxs("p",{className:"text-ink-500 text-xs",children:[v.amount.toFixed(2),"% royalty to"," ",v.recipient===k?"the author":v.recipient]}),k===c&&E.jsx(KT,{id:i,walletAddress:c,currentRoyaltyPercentage:v==null?void 0:v.amount,onUpdate:Ye,minimal:!0})]}):E.jsx(on,{width:200,baseColor:"#27272a",highlightColor:"#3f3f46",className:"mt-4"})]}),d&&$()!==null&&$()!==0&&E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:[E.jsxs("div",{className:"flex items-baseline justify-between mb-5",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-3xl font-bold text-white",children:$()}),E.jsx("span",{className:"text-ink-400 text-sm ml-2",children:"owned"})]}),$()!==ee()&&ee()!==null&&E.jsxs("span",{className:"text-ink-500 text-sm",children:[ee()," ","available"]})]}),ee()>0?E.jsxs(E.Fragment,{children:[E.jsx(XT,{id:i,userBalance:$(),userAvailableAmount:ee(),onUpdate:Ye,walletAddress:c,fullWidth:!0}),E.jsx(Qv,{id:i,walletAddress:c,balance:$(),availableAmount:ee(),onUpdate:Ye,secondary:!0})]}):ee()===0?E.jsx("div",{className:"text-center py-3 text-ink-400 text-sm",children:"All copies are listed for sale"}):null,((Gt=(ft=L==null?void 0:L.find(Z=>Z.seller===c))==null?void 0:ft.listings)==null?void 0:Gt.length)>0&&E.jsxs("div",{className:"border-t border-ink-700 pt-4 mt-5",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-3",children:"Your Listings"}),E.jsx("div",{className:"space-y-2",children:L.find(Z=>Z.seller===c).listings.map(Z=>E.jsxs("div",{className:"flex items-center justify-between py-2",children:[E.jsxs("div",{className:"flex items-baseline gap-2",children:[E.jsxs("span",{className:"text-white font-mono text-sm",children:[Z.price," ","ETH"]}),Le&&E.jsxs("span",{className:"text-ink-500 text-xs",children:["$",(parseFloat(Z.price)*Le).toFixed(2)]}),E.jsxs("span",{className:"text-ink-500 text-xs",children:[""," ",Z.amount]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(xA,{nftId:i,listingId:Z.id,balance:$(),onUpdate:Ye,oldAmount:Z.amount,oldPrice:Z.price,ethPrice:Le,availableAmount:ee(),minimal:!0}),E.jsx(_A,{nftId:i,listingId:Z.id,onUpdate:Ye,minimal:!0})]})]},Z.id))})]})]}),E.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:E.jsx(Gv,{isConnected:d,id:i,walletAddress:c,onUpdate:Ye,listingGroups:L,showOnlyOthers:!0,ethPrice:Le})}),E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[E.jsx("div",{className:"px-4 py-3 border-b border-ink-800/50",children:E.jsx("h3",{className:"text-sm font-medium text-ink-300",children:"Owners"})}),E.jsx("div",{className:"p-4 max-h-60 overflow-y-auto",children:E.jsx(vA,{balances:SA(ae)})})]}),E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[E.jsxs("div",{className:"px-4 py-3 border-b border-ink-800/50 flex items-center justify-between",children:[E.jsx("h3",{className:"text-sm font-medium text-ink-300",children:"History"}),le&&E.jsx(sm,{meta:le,onRefresh:Ot,compact:!0})]}),E.jsx("div",{className:"p-4 max-h-72 overflow-y-auto",children:E.jsx(I0,{history:h0(ae),hideId:!0})})]})]})]})]}):E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-12 inline-block",children:[E.jsx("p",{className:"text-ink-400 text-lg",children:"This NFT doesn't exist."}),E.jsx("a",{href:"/",className:"inline-flex items-center mt-4 px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Home"})]})})]})}const Lo={editionSize:1,royaltyPercentage:10,useCustomRecipient:!1,textType:"text/plain"};function $3({value:e,label:t,icon:n,description:r,selected:s,onClick:i,color:o}){const a={blue:{border:"border-blue-500",bg:"bg-blue-500/10",icon:"text-blue-400"},purple:{border:"border-purple-500",bg:"bg-purple-500/10",icon:"text-purple-400"},amber:{border:"border-amber-500",bg:"bg-amber-500/10",icon:"text-amber-400"}},c=a[o]||a.blue;return E.jsxs("button",{type:"button",onClick:i,className:`flex-1 p-4 rounded-xl border-2 transition-all duration-200 text-left ${s?`${c.border} ${c.bg}`:"border-ink-700 bg-ink-900/50 hover:border-ink-500 hover:bg-ink-900"}`,children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsx("span",{className:`text-2xl w-8 text-center ${s?c.icon:"text-ink-500"}`,children:n}),E.jsx("span",{className:`font-medium ${s?"text-white":"text-ink-300"}`,children:t})]}),E.jsx("p",{className:`text-sm ${s?"text-ink-300":"text-ink-500"}`,children:r})]})}function z3(){const{register:e,formState:{errors:t,isValid:n},handleSubmit:r,watch:s,setValue:i}=gi({defaultValues:Lo,mode:"onChange",resolver:bi(sr.mint)}),[o,a]=B.useState(""),{isConnected:c,address:d}=cn(),{writeContractAsync:p}=Nr(),[u]=B.useState({status:"noTransaction"}),[l,f]=B.useState(!1),[m,h]=B.useState(!1),x=s("useCustomRecipient",Lo.useCustomRecipient),g=s("textType",Lo.textType),y=kr(),[,_]=St(yn),T=Ke.contractAddresses.v1.zang,w=S=>async v=>{if(!c){_("Please connect a wallet.");return}if(v={...v,text:o},!(v.title&&v.description&&v.text)&&!S){l||f(!0);return}const A=()=>[...v.text].some(z=>z.charCodeAt(0)>127);_(null);const N="data:"+v.textType+(A()&&v.textType==="text/plain"?",charset=UTF-8":"")+","+encodeURIComponent(v.text),R=new Zr(v.royaltyPercentage).mul("100").toNumber();let M=null;if(v.useCustomRecipient){if(M=v.customRecipient,M.includes(".eth")){let z=null;try{z=await Wu.getEnsAddress({name:Of(M)})}catch(q){_('Invalid custom recipient address: "'+q.message+'".');return}if(z)M=z;else{_("Could not resolve ENS name.");return}}}else M=d;y(async()=>await p({address:T,abi:qe.zang,functionName:"mint",args:[N,v.title||"",v.description||"",BigInt(v.editionSize),BigInt(R),M,0n],...zn()}),"Mint",async(z,q,ne,ae)=>{var _e;if(z!=="success")return null;if(ne&&ae&&ae.blockNumber){const le=(_e=ae.logs)==null?void 0:_e.find(xe=>{try{return xe.topics[0]==="0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62"}catch{return!1}});if(le){const xe=BigInt(le.topics[3]).toString();return E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{children:[E.jsxs(ea,{className:"text-accent-cyan hover:underline",href:"/nft?id="+xe,children:["NFT #",xe]})," ","minted successfully!"]}),E.jsx("p",{children:E.jsx(Rf,{hash:q.hash})})]})}else{_("Could not find token ID in transaction receipt.");return}}})},k=[{value:"text/plain",label:"Plain Text",icon:"",description:"Simple text, poetry, prose",color:"blue"},{value:"text/markdown",label:"Markdown",icon:"#",description:"Formatted text with styling",color:"purple"},{value:"text/html",label:"HTML",icon:"<>",description:"Rich content with CSS",color:"amber"}];return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Kr,{}),E.jsx(Ua,{}),E.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("p",{className:"text-ink-500 font-mono text-sm mb-3",children:"$ create new"}),E.jsx("h1",{className:"text-3xl sm:text-4xl font-mono text-white mb-4",children:"Mint Your Work"}),E.jsx("p",{className:"text-ink-400 max-w-lg mx-auto",children:"Turn your text into a permanent, collectible NFT on Base."})]}),E.jsxs("form",{onSubmit:r(w(!1)),className:"space-y-8",children:[E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"1"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Choose your medium"})]}),E.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:k.map(S=>E.jsx($3,{...S,selected:g===S.value,onClick:()=>i("textType",S.value)},S.value))}),E.jsx("input",{type:"hidden",...e("textType")})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"2"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Write your content"})]}),E.jsx(Cx,{textType:g,value:o,setValue:a})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"3"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Add details"})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.jsx("div",{className:"sm:col-span-2",children:E.jsx(Nn,{label:"Title",name:"title",type:"text",placeholder:"Give your work a name",register:e,errors:t})}),E.jsx("div",{className:"sm:col-span-2",children:E.jsx(Nn,{label:"Description",name:"description",type:"text",placeholder:"What's it about? (optional)",register:e,errors:t})}),E.jsx(Nn,{label:"Edition Size",name:"editionSize",type:"number",hint:"How many copies to mint",register:e,errors:t}),E.jsx(Nn,{label:"Royalty %",name:"royaltyPercentage",type:"number",hint:"You earn this on secondary sales",register:e,errors:t})]}),E.jsxs("div",{className:"pt-4",children:[E.jsxs("button",{type:"button",onClick:()=>h(!m),className:"flex items-center gap-2 text-sm text-ink-500 hover:text-ink-300 transition-colors",children:[E.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Advanced options"]}),m&&E.jsxs("div",{className:"mt-4 p-4 bg-ink-900/50 rounded-lg border border-ink-800 space-y-4",children:[E.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",...e("useCustomRecipient"),className:"w-4 h-4 rounded border-ink-600 bg-ink-800 text-accent-cyan focus:ring-accent-cyan focus:ring-offset-ink-900"}),E.jsx("span",{className:"text-sm text-ink-300",children:"Use custom royalty recipient"})]}),x&&E.jsx(Nn,{label:"Recipient Address",name:"customRecipient",type:"text",placeholder:"0x... or ENS name",register:e,errors:t})]})]})]}),E.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[E.jsx("svg",{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsxs("p",{className:"text-sm text-amber-200/80",children:["This will create a transaction on"," ",E.jsx("strong",{className:"text-amber-200",children:Ke.networks.main.name}),". Make sure your wallet is connected to the right network."]})]}),E.jsx("div",{className:"pt-4",children:c?u.status==="noTransaction"||u.status==="error"?E.jsxs("button",{type:"submit",disabled:!n,className:"w-full py-4 px-6 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[E.jsx("span",{className:"font-mono text-ink-500",children:"$"}),"Mint NFT",E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}):null:E.jsxs("div",{className:"text-center p-6 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("p",{className:"text-ink-400 mb-4",children:"Connect your wallet to mint"}),E.jsx("p",{className:"text-ink-600 text-sm",children:"Use the button in the header to connect"})]})})]}),E.jsx(ub,{isOpen:l,setIsOpen:f,onClose:S=>r(w(S))()})]})]})}function q3(){const{address:e,isConnected:t}=cn(),[n,r]=B.useState(null),[s,i]=B.useState([]),[o,a]=B.useState({}),[,c]=St(yn),d=Ke.contractAddresses.v1.zang,p=5;B.useEffect(()=>{!t||!e||(i([]),a({}))},[e,t]),B.useEffect(()=>{(async()=>{try{const y=await Qe.readContract({address:d,abi:qe.zang,functionName:"lastTokenId"});r(Number(y))}catch(y){c(jt(y))}})()},[c]);const u=async(g,y)=>{try{const _=await Qe.readContract({address:d,abi:qe.zang,functionName:"balanceOf",args:[y,BigInt(g)]});a(T=>({...T,[g]:Number(_)}))}catch(_){c(jt(_))}},l=async(g,y)=>{if(!y)return;const _=[...s];for(let T=0;T<g;T++){const w=n-_.length;w>=1&&(_.push(w),u(w,y))}i(_)};B.useEffect(()=>{l(20,e)},[n,e]);const f=s.filter(g=>o[g]!==void 0&&o[g]!==0),m=s.length>0&&Object.keys(o).length<s.length,h=n!==null&&(s.length===0||f.length===0&&s.length<n),x=n===null||m||h;return B.useEffect(()=>{f.length<20&&s.length<n&&l(20,e)},[s,e]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Kr,{}),E.jsx(Ua,{}),E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-center text-white mb-8",children:"Your Collection"}),e?x?E.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[E.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-cyan",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{className:"text-ink-400",children:"Loading your collection..."})]}):f.length>0?E.jsx($h,{dataLength:s.length,next:()=>l(p,e),hasMore:s.length<n,loader:E.jsx("div",{className:"flex justify-center py-8",children:E.jsx("div",{className:"animate-pulse text-ink-400",children:"Loading more..."})}),endMessage:E.jsx("div",{className:"text-center py-8 text-ink-400",children:"You've seen all your NFTs"}),children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:f.map(g=>E.jsx(Hh,{id:g},g))})}):E.jsx("div",{className:"text-center py-16",children:E.jsxs("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:[E.jsx("p",{className:"text-ink-400 text-lg mb-4",children:"Your collection is empty"}),E.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Explore NFTs"})]})}):E.jsx("div",{className:"text-center py-16",children:E.jsx("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:E.jsx("p",{className:"text-ink-400 text-lg",children:"Connect a wallet to view your collection"})})})]})]})}let Do=null,Po=null;const V3=6e4;function Y3(){const e=Ke.contractAddresses.v1.zang,t=Ke.contractAddresses.v1.marketplace,[n,r]=B.useState(null),[s,i]=B.useState(!0),o=B.useCallback(async()=>{if(Do&&Po&&Date.now()-Po<V3){r(Do),i(!1);return}i(!0);try{const a=await Qe.getBlockNumber(),c=BigInt(Math.max(Number(a)-5e4,Ke.firstBlocks.v1.base.zang)),[d,p,u,l]=await Promise.all([Qe.getContractEvents({address:e,abi:qe.zang,eventName:"TransferSingle",fromBlock:c}),Qe.getContractEvents({address:t,abi:qe.marketplace,eventName:"TokenListed",fromBlock:c}),Qe.getContractEvents({address:t,abi:qe.marketplace,eventName:"TokenDelisted",fromBlock:c}),Qe.getContractEvents({address:t,abi:qe.marketplace,eventName:"TokenPurchased",fromBlock:c})]),m=[...d.map(h=>({...h,event:"TransferSingle"})),...p.map(h=>({...h,event:"TokenListed"})),...u.map(h=>({...h,event:"TokenDelisted"})),...l.map(h=>({...h,event:"TokenPurchased"}))].sort((h,x)=>Number(x.blockNumber)!==Number(h.blockNumber)?Number(x.blockNumber)-Number(h.blockNumber):x.logIndex-h.logIndex).slice(0,100);Do=m,Po=Date.now(),r(m)}catch{r([])}finally{i(!1)}},[e,t]);return B.useEffect(()=>{o()},[o]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Kr,{}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-mono font-bold text-center text-white mb-8",children:"Recent Activity"}),E.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:s?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[E.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-cyan",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{className:"text-ink-400",children:"Loading activity..."})]}):n&&n.length===0?E.jsx("div",{className:"text-center py-12 text-ink-400",children:"No recent activity"}):E.jsx(I0,{history:h0(n),newestFirst:!0})})]})]})}function W3(){return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Kr,{}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsx("div",{className:"bg-ink-800/50 rounded-lg border border-ink-700/50 p-4 mb-6",children:E.jsxs("p",{className:"text-ink-300",children:[E.jsx("span",{className:"font-semibold text-ink-100",children:"Note"}),": We are not affiliated with Li.Finance."]})}),E.jsx("div",{className:"bg-ink-900/50 rounded-lg border border-ink-700/50 overflow-hidden",style:{height:"80vh"},children:E.jsx("iframe",{id:"lifi-iframe",className:"w-full h-full",src:"https://li.finance/embed?fromChain=eth&toChain=base&toToken=0x0000000000000000000000000000000000000000",scrolling:"auto",title:"Li.Fi Widget",frameBorder:"0"})})]})]})}const G3=()=>E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Kr,{}),E.jsxs("main",{className:"flex flex-col items-center justify-center px-4 py-20",children:[E.jsx("pre",{className:"text-accent-cyan font-mono text-xs sm:text-sm md:text-base leading-tight mb-8 select-none",children:`
       
     
 
 
           
             
`}),E.jsxs("div",{className:"text-center max-w-md",children:[E.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-white mb-4",children:"Page Not Found"}),E.jsxs("p",{className:"text-ink-400 mb-8 font-mono text-sm",children:["The text you're looking for doesn't exist here.",E.jsx("br",{}),"Perhaps it was never written..."]}),E.jsxs("div",{className:"text-ink-600 font-mono text-xs mb-8",children:[E.jsx("span",{className:"text-ink-500",children:">"})," searching for page...",E.jsx("br",{}),E.jsx("span",{className:"text-red-500",children:">"})," ERROR: file not found",E.jsx("br",{}),E.jsx("span",{className:"text-ink-500",children:">"})," redirecting to safety..."]}),E.jsx(kf,{to:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Gallery"})]}),E.jsxs("div",{className:"mt-16 text-ink-800 font-mono text-xs opacity-50",children:["",E.jsx("br",{}),"  ",E.jsx("br",{})," TEXT is art. This page isn't. ",E.jsx("br",{}),"  ",E.jsx("br",{}),""]})]})]});function K3(){const{pathname:e}=Cf();return B.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const X3=new Y0;function Q3(){return E.jsx(W0,{config:xp,children:E.jsx(G0,{client:X3,children:E.jsx(np,{theme:rp({accentColor:"#22d3ee",accentColorForeground:"#0a0a0a",borderRadius:"medium"}),children:E.jsxs(J0,{children:[E.jsx(K3,{}),E.jsx(eg,{children:E.jsxs(Z0,{children:[E.jsx(Rr,{path:"/",element:E.jsx(B_,{})}),E.jsx(Rr,{path:"/nft",element:E.jsx(H3,{})}),E.jsx(Rr,{path:"/mint",element:E.jsx(z3,{})}),E.jsx(Rr,{path:"/vault",element:E.jsx(q3,{})}),E.jsx(Rr,{path:"/activity",element:E.jsx(Y3,{})}),E.jsx(Rr,{path:"/bridge",element:E.jsx(W3,{})}),E.jsx(Rr,{path:"*",element:E.jsx(G3,{})})]})})]})})})})}bp.createRoot(document.getElementById("root")).render(E.jsx(X.StrictMode,{children:E.jsx(Q0,{children:E.jsx(Q3,{})})}));const sS=Object.freeze(Object.defineProperty({__proto__:null,default:sp},Symbol.toStringTag,{value:"Module"}));export{sS as e,sa as l};
