import{j as e}from"./web3-core-DUkMGIH9.js";import{u as F,a as o}from"./react-vendor-z79Uuty_.js";import{u as B,m as H,H as T,c as A,N as M}from"./index-DdheOn2a.js";import{S as a}from"./ui-vendor-51-FR4Jz.js";import"./md-editor-ChPQj20R.js";import"./rainbowkit-BwJ3vwML.js";function q(){var p,b,v,N,w,C;const y=F(),t=(p=new URLSearchParams(y.search).get("address"))==null?void 0:p.toLowerCase(),{lookupEns:x}=B(),[s,L]=o.useState(null),[i,l]=o.useState(!0),[m,c]=o.useState(null),[d,g]=o.useState("created"),[E,u]=o.useState(!1),f=t?H(t):null;o.useEffect(()=>{if(!t){c("No address provided"),l(!1);return}if(!/^0x[a-fA-F0-9]{40}$/.test(t)){c("Invalid address format"),l(!1);return}(async()=>{l(!0),c(null);try{const n=await fetch(`/api/author/${t}`);if(!n.ok)throw new Error("Failed to fetch profile");const S=await n.json();L(S)}catch(n){c(n.message)}finally{l(!1)}})()},[t]),o.useEffect(()=>{const n=x(t)||h(t);document.title=n?`${n} - zang`:"Profile - zang"},[t,x]);const h=r=>r?`${r.slice(0,6)}...${r.slice(-4)}`:"",P=()=>{navigator.clipboard.writeText(t),u(!0),setTimeout(()=>u(!1),2e3)},j=t?x(t):null,$=j||h(t),k=d==="created"?(s==null?void 0:s.created)||[]:(s==null?void 0:s.collected)||[];return e.jsxs("div",{className:"min-h-screen bg-ink-950",children:[e.jsx(T,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:m?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:[e.jsx("p",{className:"text-red-400 text-lg mb-4",children:m}),e.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Home"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[f?e.jsx("img",{src:f,alt:"Avatar",className:"w-20 h-20 rounded-xl"}):e.jsx(a,{width:80,height:80,className:"rounded-xl",baseColor:"#27272a",highlightColor:"#3f3f46"}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-2 font-mono",children:$||e.jsx(a,{width:200,baseColor:"#27272a",highlightColor:"#3f3f46"})}),j&&e.jsx("p",{className:"text-ink-400 font-mono text-sm mb-2",children:h(t)}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3",children:[e.jsx("button",{onClick:P,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700 transition-colors text-sm",children:E?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})}),e.jsxs("a",{href:`${A.blockExplorer.url}/address/${t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700 transition-colors text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Basescan"]})]})]}),e.jsxs("div",{className:"flex gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i?e.jsx(a,{width:40,baseColor:"#27272a",highlightColor:"#3f3f46"}):((b=s==null?void 0:s.stats)==null?void 0:b.totalCreated)||0}),e.jsx("div",{className:"text-xs text-ink-400 uppercase tracking-wide",children:"Created"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i?e.jsx(a,{width:40,baseColor:"#27272a",highlightColor:"#3f3f46"}):((v=s==null?void 0:s.stats)==null?void 0:v.totalCollected)||0}),e.jsx("div",{className:"text-xs text-ink-400 uppercase tracking-wide",children:"Collected"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i?e.jsx(a,{width:60,baseColor:"#27272a",highlightColor:"#3f3f46"}):e.jsxs(e.Fragment,{children:[((N=s==null?void 0:s.stats)==null?void 0:N.totalVolume)||"0"," ",e.jsx("span",{className:"text-ink-400 text-base",children:"ETH"})]})}),e.jsx("div",{className:"text-xs text-ink-400 uppercase tracking-wide",children:"Volume"})]})]})]})}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>g("created"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d==="created"?"bg-accent-cyan text-ink-950":"bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700"}`,children:["Created (",((w=s==null?void 0:s.stats)==null?void 0:w.totalCreated)||0,")"]}),e.jsxs("button",{onClick:()=>g("collected"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d==="collected"?"bg-accent-cyan text-ink-950":"bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700"}`,children:["Collected (",((C=s==null?void 0:s.stats)==null?void 0:C.totalCollected)||0,")"]})]}),i?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(r=>e.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[e.jsx(a,{height:208,baseColor:"#27272a",highlightColor:"#3f3f46"}),e.jsx("div",{className:"p-4",children:e.jsx(a,{count:2,baseColor:"#27272a",highlightColor:"#3f3f46"})})]},r))}):k.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(r=>e.jsx(M,{id:r.token_id},r.token_id))}):e.jsx("div",{className:"text-center py-16",children:e.jsx("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:e.jsx("p",{className:"text-ink-400 text-lg",children:d==="created"?"No artworks created yet":"No artworks collected yet"})})})]})})]})}export{q as default};
