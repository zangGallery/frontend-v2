const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BCNa70Kg.js","assets/react-vendor-DDjscz8v.js","assets/ace-Crcp_Mm0.js","assets/md-editor-DazOniVP.js","assets/web3-core-Bdneq6MY.js","assets/md-editor-Bsl8KSMX.css","assets/mode-html-Cjq9fmL4.js","assets/theme-monokai-l0L8ZsWv.js","assets/ext-language_tools-dj6MuGN6.js","assets/ace-DC6gpk9w.js","assets/index-1qFw5GQN.js"])))=>i.map(i=>d[i]);
import{r as ca,am as td,j as E,z as Ht,aB as nd,E as Gm,aC as Km,aD as Zn,_ as Sr,aE as qn,aF as Cn,A as Xm,aG as da,aH as Qm,aI as Zm,aJ as Jm}from"./web3-core-Bdneq6MY.js";import{h as e0,g as Ro,R as Y,c as t0,a as F,u as Ca,L as rd,p as ar,i as sd,B as n0,j as r0,k as rr}from"./react-vendor-DDjscz8v.js";import{R as Jn,a as dt,S as Ft,b as s0}from"./ui-vendor-D1Om885V.js";import{t as a0,m as Si,f as fs,C as i0,u as ad,R as o0,v as u0,w as l0}from"./rainbowkit-By2ri_MS.js";import{b as c0,i as d0,s as f0,g as m0,a as h0,t as p0,e as ei,c as Au,d as Ci,p as Nu,f as Su,w as g0,h as Lr,j as b0,k as y0,l as Cu,z as E0,E as Lo,P as Ce}from"./md-editor-DazOniVP.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Vs={},ku;function x0(){if(ku)return Vs;ku=1;var e=e0();return Vs.createRoot=e.createRoot,Vs.hydrateRoot=e.hydrateRoot,Vs}var v0=x0();const T0=Ro(v0),_0="3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",w0="3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",A0=a0({appName:"zang.gallery",projectId:"3a8170812b534d0ff9d794f19a901d64",chains:[fs,Si],transports:{[fs.id]:ca(`https://base-mainnet.g.alchemy.com/v2/${_0}`),[Si.id]:ca(`https://eth-mainnet.g.alchemy.com/v2/${w0}`)},ssr:!1}),Gt=Jn({key:"standardError",default:null}),ki=e=>{const t=JSON.stringify(e);return t.includes("ZangNFT")&&t.includes("query for nonexistent token")},bt=e=>{var t;return e.message?e.message==="Internal JSON-RPC error."&&((t=e.data)!=null&&t.message)?"Internal JSON-RPC error: "+e.data.message+".":e.message:"Unknown error."},Le={contractAddresses:{v1:{zang:"0x5541ff300e9b01176b953EA3153006e36D4BA273",marketplace:"0xbD5C4612084eA90847DeB475529aC74B3521498d"}},firstBlocks:{v1:{base:{zang:5300011,marketplace:5300368}}},networks:{main:{name:"Base",chainId:8453,rpcUrl:"https://base-mainnet.g.alchemy.com/v2/3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J"},ens:{name:"ENS",chainId:1}},api_keys:{alchemy_base:"3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",alchemy_mainnet:"3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J"},ens:{cacheExpiration:1e3*60*2},blockExplorer:{name:"BaseScan",url:"https://basescan.org"}},na={calls:[],enabled:typeof window<"u"&&window.__RPC_TRACKING_ENABLED__===!0,enable(){this.enabled=!0,this.calls=[],console.log("[RPC] Tracking enabled. Refresh page to capture all calls.")},disable(){this.enabled=!1,console.log("[RPC] Tracking disabled")},reset(){this.calls=[],console.log("[RPC] Counter reset")},log(e,t){if(!this.enabled)return;const n=JSON.stringify(t,(s,a)=>typeof a=="bigint"?a.toString():a),r={id:this.calls.length+1,method:e,args:n,time:new Date().toISOString()};this.calls.push(r),console.log(`[RPC #${r.id}] ${e}`,t)},summary(){const e={};for(const t of this.calls){const n=`${t.method}(${t.args})`;e[n]=(e[n]||0)+1}return console.log("[RPC Summary] Total calls:",this.calls.length),console.table(e),{total:this.calls.length,byMethod:e}}};typeof window<"u"&&(window.rpcTracker=na);const N0=td({chain:fs,transport:ca(`https://base-mainnet.g.alchemy.com/v2/${Le.api_keys.alchemy_base}`)}),ke=new Proxy(N0,{get(e,t){const n=e[t];return typeof n=="function"?async(...r)=>{var s,a;return t==="readContract"?na.log(r[0].functionName,{address:(s=r[0].address)==null?void 0:s.slice(0,10),args:r[0].args}):t==="getContractEvents"?na.log("getContractEvents",{address:(a=r[0].address)==null?void 0:a.slice(0,10),eventName:r[0].eventName}):t==="getBlockNumber"&&na.log("getBlockNumber",{}),n.apply(e,r)}:n}}),Do=td({chain:Si,transport:ca(`https://eth-mainnet.g.alchemy.com/v2/${Le.api_keys.alchemy_mainnet}`)}),S0=Jn({key:"transactionCount",default:0}),C0=Jn({key:"transactionStatus",default:{}}),k0=Jn({key:"transactionListeners",default:[]}),id=()=>{const[e,t]=dt(C0),[n,r]=dt(k0);return{getTransactionStatus:i=>e[i],transactions:e,updateTransactionStatus:async(i,d)=>{t(c=>({...c,[i]:d}));for(const c of n)c(i,d)},register:i=>{r(d=>d.includes(i)?d:[...d,i])}}},er=()=>{const{updateTransactionStatus:e}=id(),[t,n]=dt(S0),r=()=>(n(a=>a+1),t);return async(a,o,i,d)=>{const c=r();let g;try{e(c,{status:"pending",name:o,content:i?await i("pending"):null}),g=await a(),e(c,{status:"approved",name:o,hash:g,content:i?await i("approved",{hash:g}):null});const u=await ke.waitForTransactionReceipt({hash:g,confirmations:1});return e(c,{status:"success",name:o,hash:g,content:i?await i("success",{hash:g},!0,u):null}),{hash:g,receipt:u,success:!0}}catch(u){if(e(c,{status:"error",name:o,hash:g,errorMessage:bt(u),content:i?await i("success",{hash:g},!1):null}),d)throw u;return{error:u,success:!1}}}};function I0(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const O0=e=>{switch(e){case"success":return D0;case"info":return M0;case"warning":return P0;case"error":return j0;default:return null}},R0=Array(12).fill(0),L0=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},R0.map((n,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),D0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),P0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),M0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),j0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),B0=()=>{const[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Ii=1;class U0{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Ii++,o=this.toasts.find(d=>d.id===a),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...t,id:a,title:r}),{...d,...t,id:a,dismissible:i,title:r}):d):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,o;const i=s.then(async c=>{if(o=["resolve",c],Y.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if($0(c)&&!c.ok){a=!1;const u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,h=typeof u=="object"&&!Y.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...h})}else if(c instanceof Error){a=!1;const u=typeof n.error=="function"?await n.error(c):n.error,l=typeof n.description=="function"?await n.description(c):n.description,h=typeof u=="object"&&!Y.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...h})}else if(n.success!==void 0){a=!1;const u=typeof n.success=="function"?await n.success(c):n.success,l=typeof n.description=="function"?await n.description(c):n.description,h=typeof u=="object"&&!Y.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:l,...h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(c):n.error,u=typeof n.description=="function"?await n.description(c):n.description,f=typeof g=="object"&&!Y.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:u,...f})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((c,g)=>i.then(()=>o[0]==="reject"?g(o[1]):c(o[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Ii++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ot=new U0,H0=(e,t)=>{const n=(t==null?void 0:t.id)||Ii++;return Ot.addToast({title:e,...t,id:n}),n},$0=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",z0=H0,V0=()=>Ot.toasts,Y0=()=>Ot.getActiveToasts(),Ys=Object.assign(z0,{success:Ot.success,info:Ot.info,warning:Ot.warning,error:Ot.error,custom:Ot.custom,message:Ot.message,promise:Ot.promise,dismiss:Ot.dismiss,loading:Ot.loading},{getHistory:V0,getToasts:Y0});I0("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qs(e){return e.label!==void 0}const q0=3,W0="24px",G0="16px",Iu=4e3,K0=356,X0=14,Q0=45,Z0=200;function on(...e){return e.filter(Boolean).join(" ")}function J0(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const eh=e=>{var t,n,r,s,a,o,i,d,c;const{invert:g,toast:u,unstyled:l,interacting:f,setHeights:h,visibleToasts:m,heights:x,index:p,toasts:y,expanded:v,removeToast:_,defaultRichColors:w,closeButton:C,style:S,cancelButtonStyle:T,actionButtonStyle:A,className:N="",descriptionClassName:L="",duration:D,position:j,gap:V,expandByDefault:z,classNames:$,icons:Q,closeButtonAriaLabel:se="Close toast"}=e,[ge,ae]=Y.useState(null),[ie,ce]=Y.useState(null),[fe,ye]=Y.useState(!1),[Oe,ze]=Y.useState(!1),[qe,Pe]=Y.useState(!1),[ut,We]=Y.useState(!1),[gt,tt]=Y.useState(!1),[_t,wt]=Y.useState(0),[At,kt]=Y.useState(0),Ge=Y.useRef(u.duration||D||Iu),nt=Y.useRef(null),Je=Y.useRef(null),Et=p===0,O=p+1<=m,M=u.type,U=u.dismissible!==!1,ne=u.className||"",ee=u.descriptionClassName||"",K=Y.useMemo(()=>x.findIndex(Te=>Te.toastId===u.id)||0,[x,u.id]),oe=Y.useMemo(()=>{var Te;return(Te=u.closeButton)!=null?Te:C},[u.closeButton,C]),ve=Y.useMemo(()=>u.duration||D||Iu,[u.duration,D]),Se=Y.useRef(0),je=Y.useRef(0),W=Y.useRef(0),re=Y.useRef(null),[me,Ie]=j.split("-"),we=Y.useMemo(()=>x.reduce((Te,et,Re)=>Re>=K?Te:Te+et.height,0),[x,K]),Ke=B0(),zt=u.invert||g,Mt=M==="loading";je.current=Y.useMemo(()=>K*V+we,[K,we]),Y.useEffect(()=>{Ge.current=ve},[ve]),Y.useEffect(()=>{ye(!0)},[]),Y.useEffect(()=>{const Te=Je.current;if(Te){const et=Te.getBoundingClientRect().height;return kt(et),h(Re=>[{toastId:u.id,height:et,position:u.position},...Re]),()=>h(Re=>Re.filter(Fe=>Fe.toastId!==u.id))}},[h,u.id]),Y.useLayoutEffect(()=>{if(!fe)return;const Te=Je.current,et=Te.style.height;Te.style.height="auto";const Re=Te.getBoundingClientRect().height;Te.style.height=et,kt(Re),h(Fe=>Fe.find(Ee=>Ee.toastId===u.id)?Fe.map(Ee=>Ee.toastId===u.id?{...Ee,height:Re}:Ee):[{toastId:u.id,height:Re,position:u.position},...Fe])},[fe,u.title,u.description,h,u.id,u.jsx,u.action,u.cancel]);const st=Y.useCallback(()=>{ze(!0),wt(je.current),h(Te=>Te.filter(et=>et.toastId!==u.id)),setTimeout(()=>{_(u)},Z0)},[u,_,h,je]);Y.useEffect(()=>{if(u.promise&&M==="loading"||u.duration===1/0||u.type==="loading")return;let Te;return v||f||Ke?(()=>{if(W.current<Se.current){const Fe=new Date().getTime()-Se.current;Ge.current=Ge.current-Fe}W.current=new Date().getTime()})():(()=>{Ge.current!==1/0&&(Se.current=new Date().getTime(),Te=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),st()},Ge.current))})(),()=>clearTimeout(Te)},[v,f,u,M,Ke,st]),Y.useEffect(()=>{u.delete&&(st(),u.onDismiss==null||u.onDismiss.call(u,u))},[st,u.delete]);function nr(){var Te;if(Q!=null&&Q.loading){var et;return Y.createElement("div",{className:on($==null?void 0:$.loader,u==null||(et=u.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":M==="loading"},Q.loading)}return Y.createElement(L0,{className:on($==null?void 0:$.loader,u==null||(Te=u.classNames)==null?void 0:Te.loader),visible:M==="loading"})}const Dn=u.icon||(Q==null?void 0:Q[M])||O0(M);var vn,Tn;return Y.createElement("li",{tabIndex:0,ref:Je,className:on(N,ne,$==null?void 0:$.toast,u==null||(t=u.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[M],u==null||(n=u.classNames)==null?void 0:n[M]),"data-sonner-toast":"","data-rich-colors":(vn=u.richColors)!=null?vn:w,"data-styled":!(u.jsx||u.unstyled||l),"data-mounted":fe,"data-promise":!!u.promise,"data-swiped":gt,"data-removed":Oe,"data-visible":O,"data-y-position":me,"data-x-position":Ie,"data-index":p,"data-front":Et,"data-swiping":qe,"data-dismissible":U,"data-type":M,"data-invert":zt,"data-swipe-out":ut,"data-swipe-direction":ie,"data-expanded":!!(v||z&&fe),"data-testid":u.testId,style:{"--index":p,"--toasts-before":p,"--z-index":y.length-p,"--offset":`${Oe?_t:je.current}px`,"--initial-height":z?"auto":`${At}px`,...S,...u.style},onDragEnd:()=>{Pe(!1),ae(null),re.current=null},onPointerDown:Te=>{Te.button!==2&&(Mt||!U||(nt.current=new Date,wt(je.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Pe(!0),re.current={x:Te.clientX,y:Te.clientY})))},onPointerUp:()=>{var Te,et,Re;if(ut||!U)return;re.current=null;const Fe=Number(((Te=Je.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),be=Number(((et=Je.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((Re=nt.current)==null?void 0:Re.getTime()),Ve=ge==="x"?Fe:be,Vt=Math.abs(Ve)/Ee;if(Math.abs(Ve)>=Q0||Vt>.11){wt(je.current),u.onDismiss==null||u.onDismiss.call(u,u),ce(ge==="x"?Fe>0?"right":"left":be>0?"down":"up"),st(),We(!0);return}else{var te,ue;(te=Je.current)==null||te.style.setProperty("--swipe-amount-x","0px"),(ue=Je.current)==null||ue.style.setProperty("--swipe-amount-y","0px")}tt(!1),Pe(!1),ae(null)},onPointerMove:Te=>{var et,Re,Fe;if(!re.current||!U||((et=window.getSelection())==null?void 0:et.toString().length)>0)return;const Ee=Te.clientY-re.current.y,Ve=Te.clientX-re.current.x;var Vt;const te=(Vt=e.swipeDirections)!=null?Vt:J0(j);!ge&&(Math.abs(Ve)>1||Math.abs(Ee)>1)&&ae(Math.abs(Ve)>Math.abs(Ee)?"x":"y");let ue={x:0,y:0};const he=De=>1/(1.5+Math.abs(De)/20);if(ge==="y"){if(te.includes("top")||te.includes("bottom"))if(te.includes("top")&&Ee<0||te.includes("bottom")&&Ee>0)ue.y=Ee;else{const De=Ee*he(Ee);ue.y=Math.abs(De)<Math.abs(Ee)?De:Ee}}else if(ge==="x"&&(te.includes("left")||te.includes("right")))if(te.includes("left")&&Ve<0||te.includes("right")&&Ve>0)ue.x=Ve;else{const De=Ve*he(Ve);ue.x=Math.abs(De)<Math.abs(Ve)?De:Ve}(Math.abs(ue.x)>0||Math.abs(ue.y)>0)&&tt(!0),(Re=Je.current)==null||Re.style.setProperty("--swipe-amount-x",`${ue.x}px`),(Fe=Je.current)==null||Fe.style.setProperty("--swipe-amount-y",`${ue.y}px`)}},oe&&!u.jsx&&M!=="loading"?Y.createElement("button",{"aria-label":se,"data-disabled":Mt,"data-close-button":!0,onClick:Mt||!U?()=>{}:()=>{st(),u.onDismiss==null||u.onDismiss.call(u,u)},className:on($==null?void 0:$.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(Tn=Q==null?void 0:Q.close)!=null?Tn:F0):null,(M||u.icon||u.promise)&&u.icon!==null&&((Q==null?void 0:Q[M])!==null||u.icon)?Y.createElement("div",{"data-icon":"",className:on($==null?void 0:$.icon,u==null||(s=u.classNames)==null?void 0:s.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||nr():null,u.type!=="loading"?Dn:null):null,Y.createElement("div",{"data-content":"",className:on($==null?void 0:$.content,u==null||(a=u.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:on($==null?void 0:$.title,u==null||(o=u.classNames)==null?void 0:o.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?Y.createElement("div",{"data-description":"",className:on(L,ee,$==null?void 0:$.description,u==null||(i=u.classNames)==null?void 0:i.description)},typeof u.description=="function"?u.description():u.description):null),Y.isValidElement(u.cancel)?u.cancel:u.cancel&&qs(u.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||T,onClick:Te=>{qs(u.cancel)&&U&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,Te),st())},className:on($==null?void 0:$.cancelButton,u==null||(d=u.classNames)==null?void 0:d.cancelButton)},u.cancel.label):null,Y.isValidElement(u.action)?u.action:u.action&&qs(u.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||A,onClick:Te=>{qs(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,Te),!Te.defaultPrevented&&st())},className:on($==null?void 0:$.actionButton,u==null||(c=u.classNames)==null?void 0:c.actionButton)},u.action.label):null)};function Ou(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function th(e,t){const n={};return[e,t].forEach((r,s)=>{const a=s===1,o=a?"--mobile-offset":"--offset",i=a?G0:W0;function d(c){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=i:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):d(i)}),n}const nh=Y.forwardRef(function(t,n){const{id:r,invert:s,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:d,className:c,offset:g,mobileOffset:u,theme:l="light",richColors:f,duration:h,style:m,visibleToasts:x=q0,toastOptions:p,dir:y=Ou(),gap:v=X0,icons:_,containerAriaLabel:w="Notifications"}=t,[C,S]=Y.useState([]),T=Y.useMemo(()=>r?C.filter(fe=>fe.toasterId===r):C.filter(fe=>!fe.toasterId),[C,r]),A=Y.useMemo(()=>Array.from(new Set([a].concat(T.filter(fe=>fe.position).map(fe=>fe.position)))),[T,a]),[N,L]=Y.useState([]),[D,j]=Y.useState(!1),[V,z]=Y.useState(!1),[$,Q]=Y.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=Y.useRef(null),ge=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=Y.useRef(null),ie=Y.useRef(!1),ce=Y.useCallback(fe=>{S(ye=>{var Oe;return(Oe=ye.find(ze=>ze.id===fe.id))!=null&&Oe.delete||Ot.dismiss(fe.id),ye.filter(({id:ze})=>ze!==fe.id)})},[]);return Y.useEffect(()=>Ot.subscribe(fe=>{if(fe.dismiss){requestAnimationFrame(()=>{S(ye=>ye.map(Oe=>Oe.id===fe.id?{...Oe,delete:!0}:Oe))});return}setTimeout(()=>{t0.flushSync(()=>{S(ye=>{const Oe=ye.findIndex(ze=>ze.id===fe.id);return Oe!==-1?[...ye.slice(0,Oe),{...ye[Oe],...fe},...ye.slice(Oe+1)]:[fe,...ye]})})})}),[C]),Y.useEffect(()=>{if(l!=="system"){Q(l);return}if(l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:ye})=>{Q(ye?"dark":"light")})}catch{fe.addListener(({matches:Oe})=>{try{Q(Oe?"dark":"light")}catch(ze){console.error(ze)}})}},[l]),Y.useEffect(()=>{C.length<=1&&j(!1)},[C]),Y.useEffect(()=>{const fe=ye=>{var Oe;if(o.every(Pe=>ye[Pe]||ye.code===Pe)){var qe;j(!0),(qe=se.current)==null||qe.focus()}ye.code==="Escape"&&(document.activeElement===se.current||(Oe=se.current)!=null&&Oe.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[o]),Y.useEffect(()=>{if(se.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,ie.current=!1)}},[se.current]),Y.createElement("section",{ref:n,"aria-label":`${w} ${ge}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((fe,ye)=>{var Oe;const[ze,qe]=fe.split("-");return T.length?Y.createElement("ol",{key:fe,dir:y==="auto"?Ou():y,tabIndex:-1,ref:se,className:c,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":ze,"data-x-position":qe,style:{"--front-toast-height":`${((Oe=N[0])==null?void 0:Oe.height)||0}px`,"--width":`${K0}px`,"--gap":`${v}px`,...m,...th(g,u)},onBlur:Pe=>{ie.current&&!Pe.currentTarget.contains(Pe.relatedTarget)&&(ie.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:Pe=>{Pe.target instanceof HTMLElement&&Pe.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,ae.current=Pe.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{V||j(!1)},onDragEnd:()=>j(!1),onPointerDown:Pe=>{Pe.target instanceof HTMLElement&&Pe.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},T.filter(Pe=>!Pe.position&&ye===0||Pe.position===fe).map((Pe,ut)=>{var We,gt;return Y.createElement(eh,{key:Pe.id,icons:_,index:ut,toast:Pe,defaultRichColors:f,duration:(We=p==null?void 0:p.duration)!=null?We:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:s,visibleToasts:x,closeButton:(gt=p==null?void 0:p.closeButton)!=null?gt:d,interacting:V,position:fe,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:ce,toasts:T.filter(tt=>tt.position==Pe.position),heights:N.filter(tt=>tt.position==Pe.position),setHeights:L,expandByDefault:i,gap:v,expanded:D,swipeDirections:t.swipeDirections})})):null}))});function od({hash:e}){return E.jsxs("a",{className:"inline-flex items-center gap-1.5 text-accent-cyan hover:text-accent-cyan/80 transition-colors text-sm",href:Le.blockExplorer.url+"/tx/"+e,target:"_blank",rel:"noopener noreferrer",children:["View on ",Le.blockExplorer.name,E.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}function rh(){const{register:e}=id(),t=(n,r)=>{const s=r.hash?E.jsx(od,{hash:r.hash}):null;r.status==="pending"?Ys.loading(r.content||"Waiting for approval...",{id:n,description:r.name}):r.status==="approved"?Ys.loading(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction approved, confirming..."}),s]}),{id:n,description:r.name}):r.status==="success"?Ys.success(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction confirmed!"}),s]}),{id:n,description:r.name,duration:8e3}):r.status==="error"&&Ys.error(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction failed"}),r.errorMessage&&E.jsx("p",{className:"text-xs text-ink-400 break-words",children:r.errorMessage}),s]}),{id:n,description:r.name,duration:1e4})};return F.useEffect(()=>{e(t)},[]),E.jsx(nh,{position:"bottom-right",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"sonner-toast"},richColors:!0,closeButton:!0})}function sh(){const{isConnected:e}=Ht(),t=nd(),{switchChain:n}=Gm();return F.useEffect(()=>{e&&t!==fs.id&&(n==null||n({chainId:fs.id}))},[e,t,n]),null}function ah({children:e,props:t}){return E.jsxs("div",{className:"min-h-screen flex flex-col bg-ink-950",children:[E.jsx(sh,{}),E.jsx("main",{className:"flex-1",children:e}),E.jsx(rh,{}),E.jsx("footer",{className:"bg-ink-900/50 border-t border-ink-800/50 mt-auto",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("span",{className:"font-mono text-xl font-bold text-ink-100",children:[".zang","{"]}),E.jsxs("p",{className:"text-ink-400 text-sm",children:["Text-based NFTs on Base.",E.jsx("br",{}),"By artists, for artists."]}),E.jsx("p",{className:"text-ink-500 text-xs",children:"Platform fee: 5%"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-ink-300 font-medium text-sm uppercase tracking-wide",children:"Contact"}),E.jsx("a",{href:"mailto:team@zang.gallery",className:"block text-ink-400 hover:text-accent-cyan transition-colors text-sm",children:"team@zang.gallery"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-ink-300 font-medium text-sm uppercase tracking-wide",children:"Community"}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsxs("a",{href:"https://twitter.com/zanggallery",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Twitter"]}),E.jsxs("a",{href:"https://github.com/zanggallery",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),"GitHub"]}),E.jsxs("a",{href:"https://discord.gg/jnpCz9R3gf",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189z"})}),"Discord"]})]})]})]}),E.jsx("div",{className:"mt-8 pt-8 border-t border-ink-800/50",children:E.jsx("p",{className:"text-ink-500 text-xs text-center",children:"Built on Base"})})]})})]})}function Er(){const[e,t]=F.useState(!1),{isConnected:n}=Ht(),r=nd(),s=[{href:"/",label:"Home"},{href:"/mint",label:"Mint"},{href:"/activity",label:"Activity"}];return n&&s.push({href:"/vault",label:"Vault"}),E.jsxs("header",{className:"sticky top-0 z-50 bg-ink-950/80 backdrop-blur-md border-b border-ink-800/50",children:[E.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"flex items-center h-16",children:[E.jsx("div",{className:"flex-shrink-0 w-64",children:E.jsx(aa,{href:"/",className:"group flex items-center",children:E.jsxs("span",{className:"font-mono text-2xl font-bold text-ink-100 group-hover:text-white transition-colors duration-200",children:[".zang","{"]})})}),E.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center space-x-8",children:s.map(a=>E.jsx(aa,{href:a.href,className:"nav-link text-sm font-medium uppercase tracking-wide",children:a.label},a.href))}),E.jsx("div",{className:"hidden md:flex flex-shrink-0 justify-end w-64",children:E.jsx(Tl,{})}),E.jsx("button",{className:"md:hidden ml-auto p-2 rounded-lg text-ink-400 hover:text-white hover:bg-ink-800/50 transition-colors",onClick:()=>t(!e),"aria-label":"Toggle menu","aria-expanded":e,children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&E.jsx("div",{className:"md:hidden py-4 border-t border-ink-800/50 animate-fade-in",children:E.jsxs("div",{className:"flex flex-col space-y-4",children:[s.map(a=>E.jsx(aa,{href:a.href,className:"text-ink-300 hover:text-white text-sm font-medium uppercase tracking-wide py-2 transition-colors",onClick:()=>t(!1),children:a.label},a.href)),E.jsx("div",{className:"pt-4 border-t border-ink-800/50",children:E.jsx(Tl,{})})]})})]}),n&&r!==Le.networks.main.chainId&&E.jsx("div",{className:"bg-red-500/10 border-b border-red-500/20 px-4 py-3",children:E.jsxs("p",{className:"text-center text-red-400 text-sm",children:["Please switch to"," ",E.jsx("span",{className:"font-semibold",children:Le.networks.main.name})]})})]})}var Os=e=>e.type==="checkbox",ir=e=>e instanceof Date,Rt=e=>e==null;const ud=e=>typeof e=="object";var ot=e=>!Rt(e)&&!Array.isArray(e)&&ud(e)&&!ir(e),ih=e=>ot(e)&&e.target?Os(e.target)?e.target.checked:e.target.value:e,oh=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,uh=(e,t)=>e.has(oh(t)),lh=e=>{const t=e.constructor&&e.constructor.prototype;return ot(t)&&t.hasOwnProperty("isPrototypeOf")},Po=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mt(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Po&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(ot(e)&&lh(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=mt(e[s]));return r}var ka=e=>/^\w*$/.test(e),rt=e=>e===void 0,Mo=e=>Array.isArray(e)?e.filter(Boolean):[],jo=e=>Mo(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,n)=>{if(!t||!ot(e))return n;const r=(ka(t)?[t]:jo(t)).reduce((s,a)=>Rt(s)?s:s[a],e);return rt(r)||r===e?rt(e[t])?n:e[t]:r},ln=e=>typeof e=="boolean",Xt=e=>typeof e=="function",He=(e,t,n)=>{let r=-1;const s=ka(t)?[t]:jo(t),a=s.length,o=a-1;for(;++r<a;){const i=s[r];let d=n;if(r!==o){const c=e[i];d=ot(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(i==="__proto__"||i==="constructor"||i==="prototype")return;e[i]=d,e=e[i]}};const Ru={BLUR:"blur",FOCUS_OUT:"focusout"},Qt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ch=Y.createContext(null);ch.displayName="HookFormContext";var dh=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Qt.all&&(t._proxyFormState[o]=!r||Qt.all),e[o]}});return s};const fh=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;var Bt=e=>typeof e=="string",mh=(e,t,n,r,s)=>Bt(e)?(r&&t.watch.add(e),le(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),le(n,a))):(r&&(t.watchAll=!0),n),Oi=e=>Rt(e)||!ud(e);function Hn(e,t,n=new WeakSet){if(Oi(e)||Oi(t))return Object.is(e,t);if(ir(e)&&ir(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const i=t[a];if(ir(o)&&ir(i)||ot(o)&&ot(i)||Array.isArray(o)&&Array.isArray(i)?!Hn(o,i,n):!Object.is(o,i))return!1}}return!0}var ld=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},ts=e=>Array.isArray(e)?e:[e],Lu=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function cd(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],a=t[r];if(s&&ot(s)&&a){const o=cd(s,a);ot(o)&&(n[r]=o)}else e[r]&&(n[r]=a)}return n}var St=e=>ot(e)&&!Object.keys(e).length,Fo=e=>e.type==="file",fa=e=>{if(!Po)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dd=e=>e.type==="select-multiple",Bo=e=>e.type==="radio",hh=e=>Bo(e)||Os(e),ti=e=>fa(e)&&e.isConnected;function ph(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=rt(e)?r++:e[t[r++]];return e}function gh(e){for(const t in e)if(e.hasOwnProperty(t)&&!rt(e[t]))return!1;return!0}function at(e,t){const n=Array.isArray(t)?t:ka(t)?[t]:jo(t),r=n.length===1?e:ph(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(ot(r)&&St(r)||Array.isArray(r)&&gh(r))&&at(e,n.slice(0,-1)),e}var bh=e=>{for(const t in e)if(Xt(e[t]))return!0;return!1};function fd(e){return Array.isArray(e)||ot(e)&&!bh(e)}function Ri(e,t={}){for(const n in e){const r=e[n];fd(r)?(t[n]=Array.isArray(r)?[]:{},Ri(r,t[n])):rt(r)||(t[n]=!0)}return t}function Cr(e,t,n){n||(n=Ri(t));for(const r in e){const s=e[r];if(fd(s))rt(t)||Oi(n[r])?n[r]=Ri(s,Array.isArray(s)?[]:{}):Cr(s,Rt(t)?{}:t[r],n[r]);else{const a=t[r];n[r]=!Hn(s,a)}}return n}const Du={value:!1,isValid:!1},Pu={value:!0,isValid:!0};var md=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rt(e[0].attributes.value)?rt(e[0].value)||e[0].value===""?Pu:{value:e[0].value,isValid:!0}:Pu:Du}return Du},hd=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>rt(e)?e:t?e===""?NaN:e&&+e:n&&Bt(e)?new Date(e):r?r(e):e;const Mu={isValid:!1,value:null};var pd=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Mu):Mu;function ju(e){const t=e.ref;return Fo(t)?t.files:Bo(t)?pd(e.refs).value:dd(t)?[...t.selectedOptions].map(({value:n})=>n):Os(t)?md(e.refs).value:hd(rt(t.value)?e.ref.value:t.value,e)}var yh=(e,t,n,r)=>{const s={};for(const a of e){const o=le(t,a);o&&He(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},ma=e=>e instanceof RegExp,Kr=e=>rt(e)?e:ma(e)?e.source:ot(e)?ma(e.value)?e.value.source:e.value:e,Fu=e=>({isOnSubmit:!e||e===Qt.onSubmit,isOnBlur:e===Qt.onBlur,isOnChange:e===Qt.onChange,isOnAll:e===Qt.all,isOnTouch:e===Qt.onTouched});const Bu="AsyncFunction";var Eh=e=>!!e&&!!e.validate&&!!(Xt(e.validate)&&e.validate.constructor.name===Bu||ot(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Bu)),xh=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Uu=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ns=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=le(e,s);if(a){const{_f:o,...i}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(ns(i,t))break}else if(ot(i)&&ns(i,t))break}}};function Hu(e,t,n){const r=le(e,n);if(r||ka(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=le(t,a),i=le(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:`${a}.root`,error:i.root};s.pop()}return{name:n}}var vh=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return St(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Qt.all))},Th=(e,t,n)=>!e||!t||e===t||ts(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),_h=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,wh=(e,t)=>!Mo(le(e,t)).length&&at(e,t),Ah=(e,t,n)=>{const r=ts(le(e,n));return He(r,"root",t[n]),He(e,n,r),e};function $u(e,t,n="validate"){if(Bt(e)||Array.isArray(e)&&e.every(Bt)||ln(e)&&!e)return{type:n,message:Bt(e)?e:"",ref:t}}var wr=e=>ot(e)&&!ma(e)?e:{value:e,message:""},zu=async(e,t,n,r,s,a)=>{const{ref:o,refs:i,required:d,maxLength:c,minLength:g,min:u,max:l,pattern:f,validate:h,name:m,valueAsNumber:x,mount:p}=e._f,y=le(n,m);if(!p||t.has(m))return{};const v=i?i[0]:o,_=D=>{s&&v.reportValidity&&(v.setCustomValidity(ln(D)?"":D||""),v.reportValidity())},w={},C=Bo(o),S=Os(o),T=C||S,A=(x||Fo(o))&&rt(o.value)&&rt(y)||fa(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,N=ld.bind(null,m,r,w),L=(D,j,V,z=wn.maxLength,$=wn.minLength)=>{const Q=D?j:V;w[m]={type:D?z:$,message:Q,ref:o,...N(D?z:$,Q)}};if(a?!Array.isArray(y)||!y.length:d&&(!T&&(A||Rt(y))||ln(y)&&!y||S&&!md(i).isValid||C&&!pd(i).isValid)){const{value:D,message:j}=Bt(d)?{value:!!d,message:d}:wr(d);if(D&&(w[m]={type:wn.required,message:j,ref:v,...N(wn.required,j)},!r))return _(j),w}if(!A&&(!Rt(u)||!Rt(l))){let D,j;const V=wr(l),z=wr(u);if(!Rt(y)&&!isNaN(y)){const $=o.valueAsNumber||y&&+y;Rt(V.value)||(D=$>V.value),Rt(z.value)||(j=$<z.value)}else{const $=o.valueAsDate||new Date(y),Q=ae=>new Date(new Date().toDateString()+" "+ae),se=o.type=="time",ge=o.type=="week";Bt(V.value)&&y&&(D=se?Q(y)>Q(V.value):ge?y>V.value:$>new Date(V.value)),Bt(z.value)&&y&&(j=se?Q(y)<Q(z.value):ge?y<z.value:$<new Date(z.value))}if((D||j)&&(L(!!D,V.message,z.message,wn.max,wn.min),!r))return _(w[m].message),w}if((c||g)&&!A&&(Bt(y)||a&&Array.isArray(y))){const D=wr(c),j=wr(g),V=!Rt(D.value)&&y.length>+D.value,z=!Rt(j.value)&&y.length<+j.value;if((V||z)&&(L(V,D.message,j.message),!r))return _(w[m].message),w}if(f&&!A&&Bt(y)){const{value:D,message:j}=wr(f);if(ma(D)&&!y.match(D)&&(w[m]={type:wn.pattern,message:j,ref:o,...N(wn.pattern,j)},!r))return _(j),w}if(h){if(Xt(h)){const D=await h(y,n),j=$u(D,v);if(j&&(w[m]={...j,...N(wn.validate,j.message)},!r))return _(j.message),w}else if(ot(h)){let D={};for(const j in h){if(!St(D)&&!r)break;const V=$u(await h[j](y,n),v,j);V&&(D={...V,...N(j,V.message)},_(V.message),r&&(w[m]=D))}if(!St(D)&&(w[m]={ref:v,...D},!r))return w}}return _(!0),w};const Nh={mode:Qt.onSubmit,reValidateMode:Qt.onChange,shouldFocusError:!0};function Sh(e={}){let t={...Nh,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=ot(t.defaultValues)||ot(t.values)?mt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:mt(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},i={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,c=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={...g};let l={...u};const f={array:Lu(),state:Lu()},h=t.criteriaMode===Qt.all,m=O=>M=>{clearTimeout(c),c=setTimeout(O,M)},x=async O=>{if(!o.keepIsValid&&!t.disabled&&(u.isValid||l.isValid||O)){let M;t.resolver?(M=St((await T()).errors),p()):M=await N(r,!0),M!==n.isValid&&f.state.next({isValid:M})}},p=(O,M)=>{!t.disabled&&(u.isValidating||u.validatingFields||l.isValidating||l.validatingFields)&&((O||Array.from(i.mount)).forEach(U=>{U&&(M?He(n.validatingFields,U,M):at(n.validatingFields,U))}),f.state.next({validatingFields:n.validatingFields,isValidating:!St(n.validatingFields)}))},y=(O,M=[],U,ne,ee=!0,K=!0)=>{if(ne&&U&&!t.disabled){if(o.action=!0,K&&Array.isArray(le(r,O))){const oe=U(le(r,O),ne.argA,ne.argB);ee&&He(r,O,oe)}if(K&&Array.isArray(le(n.errors,O))){const oe=U(le(n.errors,O),ne.argA,ne.argB);ee&&He(n.errors,O,oe),wh(n.errors,O)}if((u.touchedFields||l.touchedFields)&&K&&Array.isArray(le(n.touchedFields,O))){const oe=U(le(n.touchedFields,O),ne.argA,ne.argB);ee&&He(n.touchedFields,O,oe)}(u.dirtyFields||l.dirtyFields)&&(n.dirtyFields=Cr(s,a)),f.state.next({name:O,isDirty:D(O,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else He(a,O,M)},v=(O,M)=>{He(n.errors,O,M),f.state.next({errors:n.errors})},_=O=>{n.errors=O,f.state.next({errors:n.errors,isValid:!1})},w=(O,M,U,ne)=>{const ee=le(r,O);if(ee){const K=le(a,O,rt(U)?le(s,O):U);rt(K)||ne&&ne.defaultChecked||M?He(a,O,M?K:ju(ee._f)):z(O,K),o.mount&&!o.action&&x()}},C=(O,M,U,ne,ee)=>{let K=!1,oe=!1;const ve={name:O};if(!t.disabled){if(!U||ne){(u.isDirty||l.isDirty)&&(oe=n.isDirty,n.isDirty=ve.isDirty=D(),K=oe!==ve.isDirty);const Se=Hn(le(s,O),M);oe=!!le(n.dirtyFields,O),Se?at(n.dirtyFields,O):He(n.dirtyFields,O,!0),ve.dirtyFields=n.dirtyFields,K=K||(u.dirtyFields||l.dirtyFields)&&oe!==!Se}if(U){const Se=le(n.touchedFields,O);Se||(He(n.touchedFields,O,U),ve.touchedFields=n.touchedFields,K=K||(u.touchedFields||l.touchedFields)&&Se!==U)}K&&ee&&f.state.next(ve)}return K?ve:{}},S=(O,M,U,ne)=>{const ee=le(n.errors,O),K=(u.isValid||l.isValid)&&ln(M)&&n.isValid!==M;if(t.delayError&&U?(d=m(()=>v(O,U)),d(t.delayError)):(clearTimeout(c),d=null,U?He(n.errors,O,U):at(n.errors,O)),(U?!Hn(ee,U):ee)||!St(ne)||K){const oe={...ne,...K&&ln(M)?{isValid:M}:{},errors:n.errors,name:O};n={...n,...oe},f.state.next(oe)}},T=async O=>(p(O,!0),await t.resolver(a,t.context,yh(O||i.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),A=async O=>{const{errors:M}=await T(O);if(p(O),O)for(const U of O){const ne=le(M,U);ne?He(n.errors,U,ne):at(n.errors,U)}else n.errors=M;return M},N=async(O,M,U={valid:!0})=>{for(const ne in O){const ee=O[ne];if(ee){const{_f:K,...oe}=ee;if(K){const ve=i.array.has(K.name),Se=ee._f&&Eh(ee._f);Se&&u.validatingFields&&p([K.name],!0);const je=await zu(ee,i.disabled,a,h,t.shouldUseNativeValidation&&!M,ve);if(Se&&u.validatingFields&&p([K.name]),je[K.name]&&(U.valid=!1,M))break;!M&&(le(je,K.name)?ve?Ah(n.errors,je,K.name):He(n.errors,K.name,je[K.name]):at(n.errors,K.name))}!St(oe)&&await N(oe,M,U)}}return U.valid},L=()=>{for(const O of i.unMount){const M=le(r,O);M&&(M._f.refs?M._f.refs.every(U=>!ti(U)):!ti(M._f.ref))&&Pe(O)}i.unMount=new Set},D=(O,M)=>!t.disabled&&(O&&M&&He(a,O,M),!Hn(ie(),s)),j=(O,M,U)=>mh(O,i,{...o.mount?a:rt(M)?s:Bt(O)?{[O]:M}:M},U,M),V=O=>Mo(le(o.mount?a:s,O,t.shouldUnregister?le(s,O,[]):[])),z=(O,M,U={})=>{const ne=le(r,O);let ee=M;if(ne){const K=ne._f;K&&(!K.disabled&&He(a,O,hd(M,K)),ee=fa(K.ref)&&Rt(M)?"":M,dd(K.ref)?[...K.ref.options].forEach(oe=>oe.selected=ee.includes(oe.value)):K.refs?Os(K.ref)?K.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(ee)?oe.checked=!!ee.find(ve=>ve===oe.value):oe.checked=ee===oe.value||!!ee)}):K.refs.forEach(oe=>oe.checked=oe.value===ee):Fo(K.ref)?K.ref.value="":(K.ref.value=ee,K.ref.type||f.state.next({name:O,values:mt(a)})))}(U.shouldDirty||U.shouldTouch)&&C(O,ee,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&ae(O)},$=(O,M,U)=>{for(const ne in M){if(!M.hasOwnProperty(ne))return;const ee=M[ne],K=O+"."+ne,oe=le(r,K);(i.array.has(O)||ot(ee)||oe&&!oe._f)&&!ir(ee)?$(K,ee,U):z(K,ee,U)}},Q=(O,M,U={})=>{const ne=le(r,O),ee=i.array.has(O),K=mt(M);He(a,O,K),ee?(f.array.next({name:O,values:mt(a)}),(u.isDirty||u.dirtyFields||l.isDirty||l.dirtyFields)&&U.shouldDirty&&f.state.next({name:O,dirtyFields:Cr(s,a),isDirty:D(O,K)})):ne&&!ne._f&&!Rt(K)?$(O,K,U):z(O,K,U),Uu(O,i)&&f.state.next({...n,name:O}),f.state.next({name:o.mount?O:void 0,values:mt(a)})},se=async O=>{o.mount=!0;const M=O.target;let U=M.name,ne=!0;const ee=le(r,U),K=Se=>{ne=Number.isNaN(Se)||ir(Se)&&isNaN(Se.getTime())||Hn(Se,le(a,U,Se))},oe=Fu(t.mode),ve=Fu(t.reValidateMode);if(ee){let Se,je;const W=M.type?ju(ee._f):ih(O),re=O.type===Ru.BLUR||O.type===Ru.FOCUS_OUT,me=!xh(ee._f)&&!t.resolver&&!le(n.errors,U)&&!ee._f.deps||_h(re,le(n.touchedFields,U),n.isSubmitted,ve,oe),Ie=Uu(U,i,re);He(a,U,W),re?(!M||!M.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(O),d&&d(0)):ee._f.onChange&&ee._f.onChange(O);const we=C(U,W,re),Ke=!St(we)||Ie;if(!re&&f.state.next({name:U,type:O.type,values:mt(a)}),me)return(u.isValid||l.isValid)&&(t.mode==="onBlur"?re&&x():re||x()),Ke&&f.state.next({name:U,...Ie?{}:we});if(!re&&Ie&&f.state.next({...n}),t.resolver){const{errors:zt}=await T([U]);if(p([U]),K(W),ne){const Mt=Hu(n.errors,r,U),st=Hu(zt,r,Mt.name||U);Se=st.error,U=st.name,je=St(zt)}}else p([U],!0),Se=(await zu(ee,i.disabled,a,h,t.shouldUseNativeValidation))[U],p([U]),K(W),ne&&(Se?je=!1:(u.isValid||l.isValid)&&(je=await N(r,!0)));ne&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&ae(ee._f.deps),S(U,je,Se,we))}},ge=(O,M)=>{if(le(n.errors,M)&&O.focus)return O.focus(),1},ae=async(O,M={})=>{let U,ne;const ee=ts(O);if(t.resolver){const K=await A(rt(O)?O:ee);U=St(K),ne=O?!ee.some(oe=>le(K,oe)):U}else O?(ne=(await Promise.all(ee.map(async K=>{const oe=le(r,K);return await N(oe&&oe._f?{[K]:oe}:oe)}))).every(Boolean),!(!ne&&!n.isValid)&&x()):ne=U=await N(r);return f.state.next({...!Bt(O)||(u.isValid||l.isValid)&&U!==n.isValid?{}:{name:O},...t.resolver||!O?{isValid:U}:{},errors:n.errors}),M.shouldFocus&&!ne&&ns(r,ge,O?ee:i.mount),ne},ie=(O,M)=>{let U={...o.mount?a:s};return M&&(U=cd(M.dirtyFields?n.dirtyFields:n.touchedFields,U)),rt(O)?U:Bt(O)?le(U,O):O.map(ne=>le(U,ne))},ce=(O,M)=>({invalid:!!le((M||n).errors,O),isDirty:!!le((M||n).dirtyFields,O),error:le((M||n).errors,O),isValidating:!!le(n.validatingFields,O),isTouched:!!le((M||n).touchedFields,O)}),fe=O=>{O&&ts(O).forEach(M=>at(n.errors,M)),f.state.next({errors:O?n.errors:{}})},ye=(O,M,U)=>{const ne=(le(r,O,{_f:{}})._f||{}).ref,ee=le(n.errors,O)||{},{ref:K,message:oe,type:ve,...Se}=ee;He(n.errors,O,{...Se,...M,ref:ne}),f.state.next({name:O,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&ne&&ne.focus&&ne.focus()},Oe=(O,M)=>Xt(O)?f.state.subscribe({next:U=>"values"in U&&O(j(void 0,M),U)}):j(O,M,!0),ze=O=>f.state.subscribe({next:M=>{Th(O.name,M.name,O.exact)&&vh(M,O.formState||u,nt,O.reRenderRoot)&&O.callback({values:{...a},...n,...M,defaultValues:s})}}).unsubscribe,qe=O=>(o.mount=!0,l={...l,...O.formState},ze({...O,formState:{...g,...O.formState}})),Pe=(O,M={})=>{for(const U of O?ts(O):i.mount)i.mount.delete(U),i.array.delete(U),M.keepValue||(at(r,U),at(a,U)),!M.keepError&&at(n.errors,U),!M.keepDirty&&at(n.dirtyFields,U),!M.keepTouched&&at(n.touchedFields,U),!M.keepIsValidating&&at(n.validatingFields,U),!t.shouldUnregister&&!M.keepDefaultValue&&at(s,U);f.state.next({values:mt(a)}),f.state.next({...n,...M.keepDirty?{isDirty:D()}:{}}),!M.keepIsValid&&x()},ut=({disabled:O,name:M})=>{(ln(O)&&o.mount||O||i.disabled.has(M))&&(O?i.disabled.add(M):i.disabled.delete(M))},We=(O,M={})=>{let U=le(r,O);const ne=ln(M.disabled)||ln(t.disabled);return He(r,O,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:O}},name:O,mount:!0,...M}}),i.mount.add(O),U?ut({disabled:ln(M.disabled)?M.disabled:t.disabled,name:O}):w(O,!0,M.value),{...ne?{disabled:M.disabled||t.disabled}:{},...t.progressive?{required:!!M.required,min:Kr(M.min),max:Kr(M.max),minLength:Kr(M.minLength),maxLength:Kr(M.maxLength),pattern:Kr(M.pattern)}:{},name:O,onChange:se,onBlur:se,ref:ee=>{if(ee){We(O,M),U=le(r,O);const K=rt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,oe=hh(K),ve=U._f.refs||[];if(oe?ve.find(Se=>Se===K):K===U._f.ref)return;He(r,O,{_f:{...U._f,...oe?{refs:[...ve.filter(ti),K,...Array.isArray(le(s,O))?[{}]:[]],ref:{type:K.type,name:O}}:{ref:K}}}),w(O,!1,void 0,K)}else U=le(r,O,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||M.shouldUnregister)&&!(uh(i.array,O)&&o.action)&&i.unMount.add(O)}}},gt=()=>t.shouldFocusError&&ns(r,ge,i.mount),tt=O=>{ln(O)&&(f.state.next({disabled:O}),ns(r,(M,U)=>{const ne=le(r,U);ne&&(M.disabled=ne._f.disabled||O,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ee=>{ee.disabled=ne._f.disabled||O}))},0,!1))},_t=(O,M)=>async U=>{let ne;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ee=mt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:oe}=await T();p(),n.errors=K,ee=mt(oe)}else await N(r);if(i.disabled.size)for(const K of i.disabled)at(ee,K);if(at(n.errors,"root"),St(n.errors)){f.state.next({errors:{}});try{await O(ee,U)}catch(K){ne=K}}else M&&await M({...n.errors},U),gt(),setTimeout(gt);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:St(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},wt=(O,M={})=>{le(r,O)&&(rt(M.defaultValue)?Q(O,mt(le(s,O))):(Q(O,M.defaultValue),He(s,O,mt(M.defaultValue))),M.keepTouched||at(n.touchedFields,O),M.keepDirty||(at(n.dirtyFields,O),n.isDirty=M.defaultValue?D(O,mt(le(s,O))):D()),M.keepError||(at(n.errors,O),u.isValid&&x()),f.state.next({...n}))},At=(O,M={})=>{const U=O?mt(O):s,ne=mt(U),ee=St(O),K=ee?s:ne;if(M.keepDefaultValues||(s=U),!M.keepValues){if(M.keepDirtyValues){const oe=new Set([...i.mount,...Object.keys(Cr(s,a))]);for(const ve of Array.from(oe))le(n.dirtyFields,ve)?He(K,ve,le(a,ve)):Q(ve,le(K,ve))}else{if(Po&&rt(O))for(const oe of i.mount){const ve=le(r,oe);if(ve&&ve._f){const Se=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(fa(Se)){const je=Se.closest("form");if(je){je.reset();break}}}}if(M.keepFieldsRef)for(const oe of i.mount)Q(oe,le(K,oe));else r={}}a=t.shouldUnregister?M.keepDefaultValues?mt(s):{}:mt(K),f.array.next({values:{...K}}),f.state.next({values:{...K}})}i={mount:M.keepDirtyValues?i.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!t.shouldUnregister&&!St(K),o.watch=!!t.shouldUnregister,o.keepIsValid=!!M.keepIsValid,o.action=!1,M.keepErrors||(n.errors={}),f.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!Hn(O,s)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:M.keepDirtyValues?M.keepDefaultValues&&a?Cr(s,a):n.dirtyFields:M.keepDefaultValues&&O?Cr(s,O):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},kt=(O,M)=>At(Xt(O)?O(a):O,{...t.resetOptions,...M}),Ge=(O,M={})=>{const U=le(r,O),ne=U&&U._f;if(ne){const ee=ne.refs?ne.refs[0]:ne.ref;ee.focus&&setTimeout(()=>{ee.focus(),M.shouldSelect&&Xt(ee.select)&&ee.select()})}},nt=O=>{n={...n,...O}},Et={control:{register:We,unregister:Pe,getFieldState:ce,handleSubmit:_t,setError:ye,_subscribe:ze,_runSchema:T,_updateIsValidating:p,_focusError:gt,_getWatch:j,_getDirty:D,_setValid:x,_setFieldArray:y,_setDisabledField:ut,_setErrors:_,_getFieldArray:V,_reset:At,_resetDefaultValues:()=>Xt(t.defaultValues)&&t.defaultValues().then(O=>{kt(O,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:tt,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(O){o=O},get _defaultValues(){return s},get _names(){return i},set _names(O){i=O},get _formState(){return n},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:qe,trigger:ae,register:We,handleSubmit:_t,watch:Oe,setValue:Q,getValues:ie,reset:kt,resetField:wt,clearErrors:fe,unregister:Pe,setError:ye,setFocus:Ge,getFieldState:ce};return{...Et,formControl:Et}}function Rs(e={}){const t=Y.useRef(void 0),n=Y.useRef(void 0),[r,s]=Y.useState({isDirty:!1,isValidating:!1,isLoading:Xt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Xt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...i}=Sh(e);t.current={...i,formState:r}}const a=t.current.control;return a._options=e,fh(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(i=>({...i,isReady:!0})),a._formState.isReady=!0,o},[a]),Y.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Y.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Y.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Y.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Y.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Y.useEffect(()=>{var o;e.values&&!Hn(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),Y.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=dh(r,a),t.current}const Vu=(e,t,n)=>{if(e&&"reportValidity"in e){const r=le(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},gd=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Vu(r.ref,n,e):r.refs&&r.refs.forEach(s=>Vu(s,n,e))}},Ch=(e,t)=>{t.shouldUseNativeValidation&&gd(e,t);const n={};for(const r in e){const s=le(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(kh(t.names||Object.keys(e),r)){const o=Object.assign({},le(n,r));He(o,"root",a),He(n,r,o)}else He(n,r,a)}return n},kh=(e,t)=>e.some(n=>n.startsWith(t+"."));var Ls=function(e,t,n){return t===void 0&&(t={abortEarly:!1}),n===void 0&&(n={}),function(r,s,a){try{var o=function(){return d.error?{values:{},errors:Ch((g=d.error,u=!a.shouldUseNativeValidation&&a.criteriaMode==="all",g.details.length?g.details.reduce(function(l,f){var h=f.path.join(".");if(l[h]||(l[h]={message:f.message,type:f.type}),u){var m=l[h].types,x=m&&m[f.type];l[h]=ld(h,u,l,f.type,x?[].concat(x,f.message):f.message)}return l},{}):{}),a)}:(a.shouldUseNativeValidation&&gd({},a),{errors:{},values:d.value});var g,u},i=Object.assign({},t,{context:s}),d={},c=(function(){if(n.mode==="sync")d=e.validate(r,i);else{var g=(function(u,l){try{var f=u()}catch(h){return l(h)}return f&&f.then?f.then(void 0,l):f})(function(){return Promise.resolve(e.validateAsync(r,i)).then(function(u){d.value=u})},function(u){d.error=u});if(g&&g.then)return g.then(function(){})}})();return Promise.resolve(c&&c.then?c.then(o):o())}catch(g){return Promise.reject(g)}}};function Zt(e){const t={...e};delete t.label,delete t.name,delete t.errors,delete t.register,delete t.hint;const n=e.errors[e.name];return E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"block text-sm font-medium text-ink-300",children:e.label}),E.jsx("input",{className:`w-full px-4 py-3 bg-ink-900 border rounded-lg text-ink-100 placeholder-ink-500 transition-colors duration-200 focus:outline-none focus:ring-1 ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-ink-700 focus:border-accent-cyan focus:ring-accent-cyan"}`,...t,...e.register(e.name)}),e.hint&&!n&&E.jsx("p",{className:"text-xs text-ink-500",children:e.hint}),n&&E.jsx("p",{className:"text-sm text-red-400",children:n.message})]})}const Ih=[{type:"constructor",inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_imageURI",type:"string"},{internalType:"string",name:"_externalLink",type:"string"},{internalType:"address",name:"_zangCommissionAccount",type:"address"}]},{type:"function",name:"PLATFORM_FEE_TIMELOCK",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"applyPlatformFeePercentageIncrease",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"authorOf",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"balanceOf",inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"burn",inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"contractURI",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"decreasePlatformFeePercentage",inputs:[{internalType:"uint16",name:"_lowerFeePercentage",type:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"decreaseRoyaltyNumerator",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint96",name:"_lowerValue",type:"uint96"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"description",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"descriptionOf",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"exists",inputs:[{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"externalLink",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"imageURI",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"lastTokenId",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"lock",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"mint",inputs:[{internalType:"string",name:"textURI_",type:"string"},{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"description_",type:"string"},{internalType:"uint256",name:"amount_",type:"uint256"},{internalType:"uint96",name:"royaltyNumerator_",type:"uint96"},{internalType:"address",name:"royaltyRecipient_",type:"address"},{internalType:"bytes",name:"data_",type:"bytes"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"nameOf",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"newPlatformFeePercentage",inputs:[],outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"platformFeePercentage",inputs:[],outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"requestPlatformFeePercentageIncrease",inputs:[{internalType:"uint16",name:"_higherFeePercentage",type:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"royaltyDenominator",inputs:[],outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"pure"},{type:"function",name:"royaltyInfo",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_salePrice",type:"uint256"}],outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"royaltyNumerator",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setZangCommissionAccount",inputs:[{internalType:"address",name:"_zangCommissionAccount",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"textURI",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{internalType:"address",name:"newOwner",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"uri",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"zangCommissionAccount",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0},{name:"operator",type:"address",indexed:!0},{name:"approved",type:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0},{name:"newOwner",type:"address",indexed:!0}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0},{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"ids",type:"uint256[]",indexed:!1},{name:"values",type:"uint256[]",indexed:!1}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0},{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"id",type:"uint256",indexed:!1},{name:"value",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1},{name:"id",type:"uint256",indexed:!0}],anonymous:!1}],Oh=[{type:"constructor",inputs:[{internalType:"contract IZangNFT",name:"_zangNFTAddress",type:"address"}]},{type:"function",name:"buyToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"delistToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListing",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_expectedAmount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListingAmount",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_expectedAmount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListingPrice",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"listToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"listingCount",inputs:[{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"listings",inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{internalType:"address",name:"newOwner",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"zangNFTAddress",inputs:[],outputs:[{internalType:"contract IZangNFT",name:"",type:"address"}],stateMutability:"view"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0},{name:"newOwner",type:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1}],anonymous:!1},{type:"event",name:"TokenDelisted",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"TokenListed",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1},{name:"amount",type:"uint256",indexed:!1},{name:"_price",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"TokenPurchased",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_buyer",type:"address",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1},{name:"_amount",type:"uint256",indexed:!1},{name:"_price",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1}],anonymous:!1}],Ae={zang:Ih,marketplace:Oh},Uo=(e,t,n)=>({...e,execute:(r,s)=>{if(!r.text||!r.selection){s.replaceSelection(`${t}${n}`);return}try{const a=h0({text:r.text,selection:r.selection}),o=s.setSelectionRange(a),i=o.selectedText||"",d=i.search(/\S|$/),c=i.substring(0,d),g=i.search(/\s+$/),u=g===-1?"":i.substring(g,i.length),l=s.replaceSelection(c.concat(t,o.selectedText.trim(),n,u));s.setSelectionRange({start:l.selection.end-t.length-o.selectedText.length+c.length,end:l.selection.end-n.length-u.length})}catch{s.replaceSelection(`${t}${r.selectedText||""}${n}`)}}}),Rh=Uo(c0,"**","**"),Lh=Uo(d0,"*","*"),Dh=Uo(f0,"~~","~~"),dr=m0();dr[dr.findIndex(e=>e.name==="bold")]=Rh;dr[dr.findIndex(e=>e.name==="italic")]=Lh;dr[dr.findIndex(e=>e.name==="strikethrough")]=Dh;var ni={exports:{}},Yu;function Ph(){return Yu||(Yu=1,(function(e,t){(function(n,r){e.exports=r()})(self,(()=>{return n={7629:(s,a,o)=>{const i=o(375),d=o(8571),c=o(9474),g=o(1687),u=o(8652),l=o(8160),f=o(3292),h=o(6354),m=o(8901),x=o(9708),p=o(6914),y=o(2294),v=o(6133),_=o(1152),w=o(8863),C=o(2036),S={Base:class{constructor(T){this.type=T,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new y.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return i(typeof x.describe=="function","Manifest functionality disabled"),x.describe(this)}allow(...T){return l.verifyFlat(T,"allow"),this._values(T,"_valids")}alter(T){i(T&&typeof T=="object"&&!Array.isArray(T),"Invalid targets argument"),i(!this._inRuleset(),"Cannot set alterations inside a ruleset");const A=this.clone();A.$_terms.alterations=A.$_terms.alterations||[];for(const N in T){const L=T[N];i(typeof L=="function","Alteration adjuster for",N,"must be a function"),A.$_terms.alterations.push({target:N,adjuster:L})}return A.$_temp.ruleset=!1,A}artifact(T){return i(T!==void 0,"Artifact cannot be undefined"),i(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",T)}cast(T){return i(T===!1||typeof T=="string","Invalid to value"),i(T===!1||this._definition.cast[T],"Type",this.type,"does not support casting to",T),this.$_setFlag("cast",T===!1?void 0:T)}default(T,A){return this._default("default",T,A)}description(T){return i(T&&typeof T=="string","Description must be a non-empty string"),this.$_setFlag("description",T)}empty(T){const A=this.clone();return T!==void 0&&(T=A.$_compile(T,{override:!1})),A.$_setFlag("empty",T,{clone:!1})}error(T){return i(T,"Missing error"),i(T instanceof Error||typeof T=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",T)}example(T,A={}){return i(T!==void 0,"Missing example"),l.assertOptions(A,["override"]),this._inner("examples",T,{single:!0,override:A.override})}external(T,A){return typeof T=="object"&&(i(!A,"Cannot combine options with description"),A=T.description,T=T.method),i(typeof T=="function","Method must be a function"),i(A===void 0||A&&typeof A=="string","Description must be a non-empty string"),this._inner("externals",{method:T,description:A},{single:!0})}failover(T,A){return this._default("failover",T,A)}forbidden(){return this.presence("forbidden")}id(T){return T?(i(typeof T=="string","id must be a non-empty string"),i(/^[^\.]+$/.test(T),"id cannot contain period character"),this.$_setFlag("id",T)):this.$_setFlag("id",void 0)}invalid(...T){return this._values(T,"_invalids")}label(T){return i(T&&typeof T=="string","Label name must be a non-empty string"),this.$_setFlag("label",T)}meta(T){return i(T!==void 0,"Meta cannot be undefined"),this._inner("metas",T,{single:!0})}note(...T){i(T.length,"Missing notes");for(const A of T)i(A&&typeof A=="string","Notes must be non-empty strings");return this._inner("notes",T)}only(T=!0){return i(typeof T=="boolean","Invalid mode:",T),this.$_setFlag("only",T)}optional(){return this.presence("optional")}prefs(T){i(T,"Missing preferences"),i(T.context===void 0,"Cannot override context"),i(T.externals===void 0,"Cannot override externals"),i(T.warnings===void 0,"Cannot override warnings"),i(T.debug===void 0,"Cannot override debug"),l.checkPreferences(T);const A=this.clone();return A._preferences=l.preferences(A._preferences,T),A}presence(T){return i(["optional","required","forbidden"].includes(T),"Unknown presence mode",T),this.$_setFlag("presence",T)}raw(T=!0){return this.$_setFlag("result",T?"raw":void 0)}result(T){return i(["raw","strip"].includes(T),"Unknown result mode",T),this.$_setFlag("result",T)}required(){return this.presence("required")}strict(T){const A=this.clone(),N=T!==void 0&&!T;return A._preferences=l.preferences(A._preferences,{convert:N}),A}strip(T=!0){return this.$_setFlag("result",T?"strip":void 0)}tag(...T){i(T.length,"Missing tags");for(const A of T)i(A&&typeof A=="string","Tags must be non-empty strings");return this._inner("tags",T)}unit(T){return i(T&&typeof T=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",T)}valid(...T){l.verifyFlat(T,"valid");const A=this.allow(...T);return A.$_setFlag("only",!!A._valids,{clone:!1}),A}when(T,A){const N=this.clone();N.$_terms.whens||(N.$_terms.whens=[]);const L=f.when(N,T,A);if(!["any","link"].includes(N.type)){const D=L.is?[L]:L.switch;for(const j of D)i(!j.then||j.then.type==="any"||j.then.type===N.type,"Cannot combine",N.type,"with",j.then&&j.then.type),i(!j.otherwise||j.otherwise.type==="any"||j.otherwise.type===N.type,"Cannot combine",N.type,"with",j.otherwise&&j.otherwise.type)}return N.$_terms.whens.push(L),N.$_mutateRebuild()}cache(T){i(!this._inRuleset(),"Cannot set caching inside a ruleset"),i(!this._cache,"Cannot override schema cache"),i(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const A=this.clone();return A._cache=T||u.provider.provision(),A.$_temp.ruleset=!1,A}clone(){const T=Object.create(Object.getPrototypeOf(this));return this._assign(T)}concat(T){i(l.isSchema(T),"Invalid schema object"),i(this.type==="any"||T.type==="any"||T.type===this.type,"Cannot merge type",this.type,"with another type:",T.type),i(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),i(!T._inRuleset(),"Cannot concatenate a schema with open ruleset");let A=this.clone();if(this.type==="any"&&T.type!=="any"){const N=T.clone();for(const L of Object.keys(A))L!=="type"&&(N[L]=A[L]);A=N}A._ids.concat(T._ids),A._refs.register(T,v.toSibling),A._preferences=A._preferences?l.preferences(A._preferences,T._preferences):T._preferences,A._valids=C.merge(A._valids,T._valids,T._invalids),A._invalids=C.merge(A._invalids,T._invalids,T._valids);for(const N of T._singleRules.keys())A._singleRules.has(N)&&(A._rules=A._rules.filter((L=>L.keep||L.name!==N)),A._singleRules.delete(N));for(const N of T._rules)T._definition.rules[N.method].multi||A._singleRules.set(N.name,N),A._rules.push(N);if(A._flags.empty&&T._flags.empty){A._flags.empty=A._flags.empty.concat(T._flags.empty);const N=Object.assign({},T._flags);delete N.empty,g(A._flags,N)}else if(T._flags.empty){A._flags.empty=T._flags.empty;const N=Object.assign({},T._flags);delete N.empty,g(A._flags,N)}else g(A._flags,T._flags);for(const N in T.$_terms){const L=T.$_terms[N];L?A.$_terms[N]?A.$_terms[N]=A.$_terms[N].concat(L):A.$_terms[N]=L.slice():A.$_terms[N]||(A.$_terms[N]=L)}return this.$_root._tracer&&this.$_root._tracer._combine(A,[this,T]),A.$_mutateRebuild()}extend(T){return i(!T.base,"Cannot extend type with another base"),m.type(this,T)}extract(T){return T=Array.isArray(T)?T:T.split("."),this._ids.reach(T)}fork(T,A){i(!this._inRuleset(),"Cannot fork inside a ruleset");let N=this;for(let L of[].concat(T))L=Array.isArray(L)?L:L.split("."),N=N._ids.fork(L,A,N);return N.$_temp.ruleset=!1,N}rule(T){const A=this._definition;l.assertOptions(T,Object.keys(A.modifiers)),i(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const N=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;i(N>=0&&N<this._rules.length,"Cannot apply rules to empty ruleset");const L=this.clone();for(let D=N;D<L._rules.length;++D){const j=L._rules[D],V=d(j);for(const z in T)A.modifiers[z](V,T[z]),i(V.name===j.name,"Cannot change rule name");L._rules[D]=V,L._singleRules.get(V.name)===j&&L._singleRules.set(V.name,V)}return L.$_temp.ruleset=!1,L.$_mutateRebuild()}get ruleset(){i(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const T=this.clone();return T.$_temp.ruleset=T._rules.length,T}get $(){return this.ruleset}tailor(T){T=[].concat(T),i(!this._inRuleset(),"Cannot tailor inside a ruleset");let A=this;if(this.$_terms.alterations)for(const{target:N,adjuster:L}of this.$_terms.alterations)T.includes(N)&&(A=L(A),i(l.isSchema(A),"Alteration adjuster for",N,"failed to return a schema object"));return A=A.$_modify({each:N=>N.tailor(T),ref:!1}),A.$_temp.ruleset=!1,A.$_mutateRebuild()}tracer(){return _.location?_.location(this):this}validate(T,A){return w.entry(T,this,A)}validateAsync(T,A){return w.entryAsync(T,this,A)}$_addRule(T){typeof T=="string"&&(T={name:T}),i(T&&typeof T=="object","Invalid options"),i(T.name&&typeof T.name=="string","Invalid rule name");for(const j in T)i(j[0]!=="_","Cannot set private rule properties");const A=Object.assign({},T);A._resolve=[],A.method=A.method||A.name;const N=this._definition.rules[A.method],L=A.args;i(N,"Unknown rule",A.method);const D=this.clone();if(L){i(Object.keys(L).length===1||Object.keys(L).length===this._definition.rules[A.name].args.length,"Invalid rule definition for",this.type,A.name);for(const j in L){let V=L[j];if(N.argsByName){const z=N.argsByName.get(j);if(z.ref&&l.isResolvable(V))A._resolve.push(j),D.$_mutateRegister(V);else if(z.normalize&&(V=z.normalize(V),L[j]=V),z.assert){const $=l.validateArg(V,j,z);i(!$,$,"or reference")}}V!==void 0?L[j]=V:delete L[j]}}return N.multi||(D._ruleRemove(A.name,{clone:!1}),D._singleRules.set(A.name,A)),D.$_temp.ruleset===!1&&(D.$_temp.ruleset=null),N.priority?D._rules.unshift(A):D._rules.push(A),D}$_compile(T,A){return f.schema(this.$_root,T,A)}$_createError(T,A,N,L,D,j={}){const V=j.flags!==!1?this._flags:{},z=j.messages?p.merge(this._definition.messages,j.messages):this._definition.messages;return new h.Report(T,A,N,V,z,L,D)}$_getFlag(T){return this._flags[T]}$_getRule(T){return this._singleRules.get(T)}$_mapLabels(T){return T=Array.isArray(T)?T:T.split("."),this._ids.labels(T)}$_match(T,A,N,L){(N=Object.assign({},N)).abortEarly=!0,N._externals=!1,A.snapshot();const D=!w.validate(T,this,A,N,L).errors;return A.restore(),D}$_modify(T){return l.assertOptions(T,["each","once","ref","schema"]),y.schema(this,T)||this}$_mutateRebuild(){return i(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(T,{source:A,name:N,path:L,key:D})=>{const j=this._definition[A][N]&&this._definition[A][N].register;j!==!1&&this.$_mutateRegister(T,{family:j,key:D})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(T,{family:A,key:N}={}){this._refs.register(T,A),this._ids.register(T,{key:N})}$_property(T){return this._definition.properties[T]}$_reach(T){return this._ids.reach(T)}$_rootReferences(){return this._refs.roots()}$_setFlag(T,A,N={}){i(T[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const L=this._definition.flags[T]||{};if(c(A,L.default)&&(A=void 0),c(A,this._flags[T]))return this;const D=N.clone!==!1?this.clone():this;return A!==void 0?(D._flags[T]=A,D.$_mutateRegister(A)):delete D._flags[T],T[0]!=="_"&&(D.$_temp.ruleset=!1),D}$_parent(T,...A){return this[T][l.symbols.parent].call(this,...A)}$_validate(T,A,N){return w.validate(T,this,A,N)}_assign(T){T.type=this.type,T.$_root=this.$_root,T.$_temp=Object.assign({},this.$_temp),T.$_temp.whens={},T._ids=this._ids.clone(),T._preferences=this._preferences,T._valids=this._valids&&this._valids.clone(),T._invalids=this._invalids&&this._invalids.clone(),T._rules=this._rules.slice(),T._singleRules=d(this._singleRules,{shallow:!0}),T._refs=this._refs.clone(),T._flags=Object.assign({},this._flags),T._cache=null,T.$_terms={};for(const A in this.$_terms)T.$_terms[A]=this.$_terms[A]?this.$_terms[A].slice():null;T.$_super={};for(const A in this.$_super)T.$_super[A]=this._super[A].bind(T);return T}_bare(){const T=this.clone();T._reset();const A=T._definition.terms;for(const N in A){const L=A[N];T.$_terms[N]=L.init}return T.$_mutateRebuild()}_default(T,A,N={}){return l.assertOptions(N,"literal"),i(A!==void 0,"Missing",T,"value"),i(typeof A=="function"||!N.literal,"Only function value supports literal option"),typeof A=="function"&&N.literal&&(A={[l.symbols.literal]:!0,literal:A}),this.$_setFlag(T,A)}_generate(T,A,N){if(!this.$_terms.whens)return{schema:this};const L=[],D=[];for(let z=0;z<this.$_terms.whens.length;++z){const $=this.$_terms.whens[z];if($.concat){L.push($.concat),D.push(`${z}.concat`);continue}const Q=$.ref?$.ref.resolve(T,A,N):T,se=$.is?[$]:$.switch,ge=D.length;for(let ae=0;ae<se.length;++ae){const{is:ie,then:ce,otherwise:fe}=se[ae],ye=`${z}${$.switch?"."+ae:""}`;if(ie.$_match(Q,A.nest(ie,`${ye}.is`),N)){if(ce){const Oe=A.localize([...A.path,`${ye}.then`],A.ancestors,A.schemas),{schema:ze,id:qe}=ce._generate(T,Oe,N);L.push(ze),D.push(`${ye}.then${qe?`(${qe})`:""}`);break}}else if(fe){const Oe=A.localize([...A.path,`${ye}.otherwise`],A.ancestors,A.schemas),{schema:ze,id:qe}=fe._generate(T,Oe,N);L.push(ze),D.push(`${ye}.otherwise${qe?`(${qe})`:""}`);break}}if($.break&&D.length>ge)break}const j=D.join(", ");if(A.mainstay.tracer.debug(A,"rule","when",j),!j)return{schema:this};if(!A.mainstay.tracer.active&&this.$_temp.whens[j])return{schema:this.$_temp.whens[j],id:j};let V=this;this._definition.generate&&(V=this._definition.generate(this,T,A,N));for(const z of L)V=V.concat(z);return this.$_root._tracer&&this.$_root._tracer._combine(V,[this,...L]),this.$_temp.whens[j]=V,{schema:V,id:j}}_inner(T,A,N={}){i(!this._inRuleset(),`Cannot set ${T} inside a ruleset`);const L=this.clone();return L.$_terms[T]&&!N.override||(L.$_terms[T]=[]),N.single?L.$_terms[T].push(A):L.$_terms[T].push(...A),L.$_temp.ruleset=!1,L}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(T,A={}){if(!this._singleRules.has(T))return this;const N=A.clone!==!1?this.clone():this;N._singleRules.delete(T);const L=[];for(let D=0;D<N._rules.length;++D){const j=N._rules[D];j.name!==T||j.keep?L.push(j):N._inRuleset()&&D<N.$_temp.ruleset&&--N.$_temp.ruleset}return N._rules=L,N}_values(T,A){l.verifyFlat(T,A.slice(1,-1));const N=this.clone(),L=T[0]===l.symbols.override;if(L&&(T=T.slice(1)),!N[A]&&T.length?N[A]=new C:L&&(N[A]=T.length?new C:null,N.$_mutateRebuild()),!N[A])return N;L&&N[A].override();for(const D of T){i(D!==void 0,"Cannot call allow/valid/invalid with undefined"),i(D!==l.symbols.override,"Override must be the first value");const j=A==="_invalids"?"_valids":"_invalids";N[j]&&(N[j].remove(D),N[j].length||(i(A==="_valids"||!N._flags.only,"Setting invalid value",D,"leaves schema rejecting all values due to previous valid rule"),N[j]=null)),N[A].add(D,N._refs)}return N}}};S.Base.prototype[l.symbols.any]={version:l.version,compile:f.compile,root:"$_root"},S.Base.prototype.isImmutable=!0,S.Base.prototype.deny=S.Base.prototype.invalid,S.Base.prototype.disallow=S.Base.prototype.invalid,S.Base.prototype.equal=S.Base.prototype.valid,S.Base.prototype.exist=S.Base.prototype.required,S.Base.prototype.not=S.Base.prototype.invalid,S.Base.prototype.options=S.Base.prototype.prefs,S.Base.prototype.preferences=S.Base.prototype.prefs,s.exports=new S.Base},8652:(s,a,o)=>{const i=o(375),d=o(8571),c=o(8160),g={max:1e3,supported:new Set(["undefined","boolean","number","string"])};a.provider={provision:u=>new g.Cache(u)},g.Cache=class{constructor(u={}){c.assertOptions(u,["max"]),i(u.max===void 0||u.max&&u.max>0&&isFinite(u.max),"Invalid max cache size"),this._max=u.max||g.max,this._map=new Map,this._list=new g.List}get length(){return this._map.size}set(u,l){if(u!==null&&!g.supported.has(typeof u))return;let f=this._map.get(u);if(f)return f.value=l,void this._list.first(f);f=this._list.unshift({key:u,value:l}),this._map.set(u,f),this._compact()}get(u){const l=this._map.get(u);if(l)return this._list.first(l),d(l.value)}_compact(){if(this._map.size>this._max){const u=this._list.pop();this._map.delete(u.key)}}},g.List=class{constructor(){this.tail=null,this.head=null}unshift(u){return u.next=null,u.prev=this.head,this.head&&(this.head.next=u),this.head=u,this.tail||(this.tail=u),u}first(u){u!==this.head&&(this._remove(u),this.unshift(u))}pop(){return this._remove(this.tail)}_remove(u){const{next:l,prev:f}=u;return l.prev=f,f&&(f.next=l),u===this.tail&&(this.tail=l),u.prev=null,u.next=null,u}}},8160:(s,a,o)=>{const i=o(375),d=o(7916),c=o(5934);let g,u;const l={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};a.version=c.version,a.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},a.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},a.assertOptions=function(f,h,m="Options"){i(f&&typeof f=="object"&&!Array.isArray(f),"Options must be of type object");const x=Object.keys(f).filter((p=>!h.includes(p)));i(x.length===0,`${m} contain unknown keys: ${x}`)},a.checkPreferences=function(f){u=u||o(3378);const h=u.preferences.validate(f);if(h.error)throw new d([h.error.details[0].message])},a.compare=function(f,h,m){switch(m){case"=":return f===h;case">":return f>h;case"<":return f<h;case">=":return f>=h;case"<=":return f<=h}},a.default=function(f,h){return f===void 0?h:f},a.isIsoDate=function(f){return l.isoDate.test(f)},a.isNumber=function(f){return typeof f=="number"&&!isNaN(f)},a.isResolvable=function(f){return!!f&&(f[a.symbols.ref]||f[a.symbols.template])},a.isSchema=function(f,h={}){const m=f&&f[a.symbols.any];return!!m&&(i(h.legacy||m.version===a.version,"Cannot mix different versions of joi schemas"),!0)},a.isValues=function(f){return f[a.symbols.values]},a.limit=function(f){return Number.isSafeInteger(f)&&f>=0},a.preferences=function(f,h){g=g||o(6914),f=f||{},h=h||{};const m=Object.assign({},f,h);return h.errors&&f.errors&&(m.errors=Object.assign({},f.errors,h.errors),m.errors.wrap=Object.assign({},f.errors.wrap,h.errors.wrap)),h.messages&&(m.messages=g.compile(h.messages,f.messages)),delete m[a.symbols.prefs],m},a.tryWithPath=function(f,h,m={}){try{return f()}catch(x){throw x.path!==void 0?x.path=h+"."+x.path:x.path=h,m.append&&(x.message=`${x.message} (${x.path})`),x}},a.validateArg=function(f,h,{assert:m,message:x}){if(a.isSchema(m)){const p=m.validate(f);return p.error?p.error.message:void 0}if(!m(f))return h?`${h} ${x}`:x},a.verifyFlat=function(f,h){for(const m of f)i(!Array.isArray(m),"Method no longer accepts array arguments:",h)}},3292:(s,a,o)=>{const i=o(375),d=o(8160),c=o(6133),g={};a.schema=function(u,l,f={}){d.assertOptions(f,["appendPath","override"]);try{return g.schema(u,l,f)}catch(h){throw f.appendPath&&h.path!==void 0&&(h.message=`${h.message} (${h.path})`),h}},g.schema=function(u,l,f){i(l!==void 0,"Invalid undefined schema"),Array.isArray(l)&&(i(l.length,"Invalid empty array schema"),l.length===1&&(l=l[0]));const h=(m,...x)=>f.override!==!1?m.valid(u.override,...x):m.valid(...x);if(g.simple(l))return h(u,l);if(typeof l=="function")return u.custom(l);if(i(typeof l=="object","Invalid schema content:",typeof l),d.isResolvable(l))return h(u,l);if(d.isSchema(l))return l;if(Array.isArray(l)){for(const m of l)if(!g.simple(m))return u.alternatives().try(...l);return h(u,...l)}return l instanceof RegExp?u.string().regex(l):l instanceof Date?h(u.date(),l):(i(Object.getPrototypeOf(l)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),u.object().keys(l))},a.ref=function(u,l){return c.isRef(u)?u:c.create(u,l)},a.compile=function(u,l,f={}){d.assertOptions(f,["legacy"]);const h=l&&l[d.symbols.any];if(h)return i(f.legacy||h.version===d.version,"Cannot mix different versions of joi schemas:",h.version,d.version),l;if(typeof l!="object"||!f.legacy)return a.schema(u,l,{appendPath:!0});const m=g.walk(l);return m?m.compile(m.root,l):a.schema(u,l,{appendPath:!0})},g.walk=function(u){if(typeof u!="object")return null;if(Array.isArray(u)){for(const f of u){const h=g.walk(f);if(h)return h}return null}const l=u[d.symbols.any];if(l)return{root:u[l.root],compile:l.compile};i(Object.getPrototypeOf(u)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const f in u){const h=g.walk(u[f]);if(h)return h}return null},g.simple=function(u){return u===null||["boolean","string","number"].includes(typeof u)},a.when=function(u,l,f){if(f===void 0&&(i(l&&typeof l=="object","Missing options"),f=l,l=c.create(".")),Array.isArray(f)&&(f={switch:f}),d.assertOptions(f,["is","not","then","otherwise","switch","break"]),d.isSchema(l))return i(f.is===void 0,'"is" can not be used with a schema condition'),i(f.not===void 0,'"not" can not be used with a schema condition'),i(f.switch===void 0,'"switch" can not be used with a schema condition'),g.condition(u,{is:l,then:f.then,otherwise:f.otherwise,break:f.break});if(i(c.isRef(l)||typeof l=="string","Invalid condition:",l),i(f.not===void 0||f.is===void 0,'Cannot combine "is" with "not"'),f.switch===void 0){let m=f;f.not!==void 0&&(m={is:f.not,then:f.otherwise,otherwise:f.then,break:f.break});let x=m.is!==void 0?u.$_compile(m.is):u.$_root.invalid(null,!1,0,"").required();return i(m.then!==void 0||m.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),i(m.break===void 0||m.then===void 0||m.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),f.is===void 0||c.isRef(f.is)||d.isSchema(f.is)||(x=x.required()),g.condition(u,{ref:a.ref(l),is:x,then:m.then,otherwise:m.otherwise,break:m.break})}i(Array.isArray(f.switch),'"switch" must be an array'),i(f.is===void 0,'Cannot combine "switch" with "is"'),i(f.not===void 0,'Cannot combine "switch" with "not"'),i(f.then===void 0,'Cannot combine "switch" with "then"');const h={ref:a.ref(l),switch:[],break:f.break};for(let m=0;m<f.switch.length;++m){const x=f.switch[m],p=m===f.switch.length-1;d.assertOptions(x,p?["is","then","otherwise"]:["is","then"]),i(x.is!==void 0,'Switch statement missing "is"'),i(x.then!==void 0,'Switch statement missing "then"');const y={is:u.$_compile(x.is),then:u.$_compile(x.then)};if(c.isRef(x.is)||d.isSchema(x.is)||(y.is=y.is.required()),p){i(f.otherwise===void 0||x.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const v=f.otherwise!==void 0?f.otherwise:x.otherwise;v!==void 0&&(i(h.break===void 0,"Cannot specify both otherwise and break"),y.otherwise=u.$_compile(v))}h.switch.push(y)}return h},g.condition=function(u,l){for(const f of["then","otherwise"])l[f]===void 0?delete l[f]:l[f]=u.$_compile(l[f]);return l}},6354:(s,a,o)=>{const i=o(5688),d=o(8160),c=o(3328);a.Report=class{constructor(g,u,l,f,h,m,x){if(this.code=g,this.flags=f,this.messages=h,this.path=m.path,this.prefs=x,this.state=m,this.value=u,this.message=null,this.template=null,this.local=l||{},this.local.label=a.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const p=this.path[this.path.length-1];typeof p!="object"&&(this.local.key=p)}}_setTemplate(g){if(this.template=g,!this.flags.label&&this.path.length===0){const u=this._template(this.template,"root");u&&(this.local.label=u)}}toString(){if(this.message)return this.message;const g=this.code;if(!this.prefs.errors.render)return this.code;const u=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return u===void 0?`Error code "${g}" is not defined, your custom type is missing the correct messages definition`:(this.message=u.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(g,u){return a.template(this.value,g,u||this.code,this.state,this.prefs)}},a.path=function(g){let u="";for(const l of g)typeof l!="object"&&(typeof l=="string"?(u&&(u+="."),u+=l):u+=`[${l}]`);return u},a.template=function(g,u,l,f,h){if(!u)return;if(c.isTemplate(u))return l!=="root"?u:null;let m=h.errors.language;if(d.isResolvable(m)&&(m=m.resolve(g,f,h)),m&&u[m]){if(u[m][l]!==void 0)return u[m][l];if(u[m]["*"]!==void 0)return u[m]["*"]}return u[l]?u[l]:u["*"]},a.label=function(g,u,l,f){if(!l.errors.label)return"";if(g.label)return g.label;let h=u.path;return l.errors.label==="key"&&u.path.length>1&&(h=u.path.slice(-1)),a.path(h)||a.template(null,l.messages,"root",u,l)||f&&a.template(null,f,"root",u,l)||"value"},a.process=function(g,u,l){if(!g)return null;const{override:f,message:h,details:m}=a.details(g);if(f)return f;if(l.errors.stack)return new a.ValidationError(h,m,u);const x=Error.stackTraceLimit;Error.stackTraceLimit=0;const p=new a.ValidationError(h,m,u);return Error.stackTraceLimit=x,p},a.details=function(g,u={}){let l=[];const f=[];for(const h of g){if(h instanceof Error){if(u.override!==!1)return{override:h};const x=h.toString();l.push(x),f.push({message:x,type:"override",context:{error:h}});continue}const m=h.toString();l.push(m),f.push({message:m,path:h.path.filter((x=>typeof x!="object")),type:h.code,context:h.local})}return l.length>1&&(l=[...new Set(l)]),{message:l.join(". "),details:f}},a.ValidationError=class extends Error{constructor(g,u,l){super(g),this._original=l,this.details=u}static isError(g){return g instanceof a.ValidationError}},a.ValidationError.prototype.isJoi=!0,a.ValidationError.prototype.name="ValidationError",a.ValidationError.prototype.annotate=i.error},8901:(s,a,o)=>{const i=o(375),d=o(8571),c=o(8160),g=o(6914),u={};a.type=function(l,f){const h=Object.getPrototypeOf(l),m=d(h),x=l._assign(Object.create(m)),p=Object.assign({},f);delete p.base,m._definition=p;const y=h._definition||{};p.messages=g.merge(y.messages,p.messages),p.properties=Object.assign({},y.properties,p.properties),x.type=p.type,p.flags=Object.assign({},y.flags,p.flags);const v=Object.assign({},y.terms);if(p.terms)for(const S in p.terms){const T=p.terms[S];i(x.$_terms[S]===void 0,"Invalid term override for",p.type,S),x.$_terms[S]=T.init,v[S]=T}p.terms=v,p.args||(p.args=y.args),p.prepare=u.prepare(p.prepare,y.prepare),p.coerce&&(typeof p.coerce=="function"&&(p.coerce={method:p.coerce}),p.coerce.from&&!Array.isArray(p.coerce.from)&&(p.coerce={method:p.coerce.method,from:[].concat(p.coerce.from)})),p.coerce=u.coerce(p.coerce,y.coerce),p.validate=u.validate(p.validate,y.validate);const _=Object.assign({},y.rules);if(p.rules)for(const S in p.rules){const T=p.rules[S];i(typeof T=="object","Invalid rule definition for",p.type,S);let A=T.method;if(A===void 0&&(A=function(){return this.$_addRule(S)}),A&&(i(!m[S],"Rule conflict in",p.type,S),m[S]=A),i(!_[S],"Rule conflict in",p.type,S),_[S]=T,T.alias){const N=[].concat(T.alias);for(const L of N)m[L]=T.method}T.args&&(T.argsByName=new Map,T.args=T.args.map((N=>(typeof N=="string"&&(N={name:N}),i(!T.argsByName.has(N.name),"Duplicated argument name",N.name),c.isSchema(N.assert)&&(N.assert=N.assert.strict().label(N.name)),T.argsByName.set(N.name,N),N))))}p.rules=_;const w=Object.assign({},y.modifiers);if(p.modifiers)for(const S in p.modifiers){i(!m[S],"Rule conflict in",p.type,S);const T=p.modifiers[S];i(typeof T=="function","Invalid modifier definition for",p.type,S);const A=function(N){return this.rule({[S]:N})};m[S]=A,w[S]=T}if(p.modifiers=w,p.overrides){m._super=h,x.$_super={};for(const S in p.overrides)i(h[S],"Cannot override missing",S),p.overrides[S][c.symbols.parent]=h[S],x.$_super[S]=h[S].bind(x);Object.assign(m,p.overrides)}p.cast=Object.assign({},y.cast,p.cast);const C=Object.assign({},y.manifest,p.manifest);return C.build=u.build(p.manifest&&p.manifest.build,y.manifest&&y.manifest.build),p.manifest=C,p.rebuild=u.rebuild(p.rebuild,y.rebuild),x},u.build=function(l,f){return l&&f?function(h,m){return f(l(h,m),m)}:l||f},u.coerce=function(l,f){return l&&f?{from:l.from&&f.from?[...new Set([...l.from,...f.from])]:null,method(h,m){let x;if((!f.from||f.from.includes(typeof h))&&(x=f.method(h,m),x)){if(x.errors||x.value===void 0)return x;h=x.value}if(!l.from||l.from.includes(typeof h)){const p=l.method(h,m);if(p)return p}return x}}:l||f},u.prepare=function(l,f){return l&&f?function(h,m){const x=l(h,m);if(x){if(x.errors||x.value===void 0)return x;h=x.value}return f(h,m)||x}:l||f},u.rebuild=function(l,f){return l&&f?function(h){f(h),l(h)}:l||f},u.validate=function(l,f){return l&&f?function(h,m){const x=f(h,m);if(x){if(x.errors&&(!Array.isArray(x.errors)||x.errors.length))return x;h=x.value}return l(h,m)||x}:l||f}},5107:(s,a,o)=>{const i=o(375),d=o(8571),c=o(8652),g=o(8160),u=o(3292),l=o(6354),f=o(8901),h=o(9708),m=o(6133),x=o(3328),p=o(1152);let y;const v={types:{alternatives:o(4946),any:o(8068),array:o(546),boolean:o(4937),date:o(7500),function:o(390),link:o(8785),number:o(3832),object:o(8966),string:o(7417),symbol:o(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const _={_types:new Set(Object.keys(v.types))};for(const w of _._types)_[w]=function(...C){return i(!C.length||["alternatives","link","object"].includes(w),"The",w,"type does not allow arguments"),v.generate(this,v.types[w],C)};for(const w of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])_[w]=function(...C){return this.any()[w](...C)};Object.assign(_,v.methods);for(const w in v.aliases){const C=v.aliases[w];_[w]=_[C]}return _.x=_.expression,p.setup&&p.setup(_),_}};v.methods={ValidationError:l.ValidationError,version:g.version,cache:c.provider,assert(_,w,...C){v.assert(_,w,!0,C)},attempt:(_,w,...C)=>v.assert(_,w,!1,C),build(_){return i(typeof h.build=="function","Manifest functionality disabled"),h.build(this,_)},checkPreferences(_){g.checkPreferences(_)},compile(_,w){return u.compile(this,_,w)},defaults(_){i(typeof _=="function","modifier must be a function");const w=Object.assign({},this);for(const C of w._types){const S=_(w[C]());i(g.isSchema(S),"modifier must return a valid schema object"),w[C]=function(...T){return v.generate(this,S,T)}}return w},expression:(..._)=>new x(..._),extend(..._){g.verifyFlat(_,"extend"),y=y||o(3378),i(_.length,"You need to provide at least one extension"),this.assert(_,y.extensions);const w=Object.assign({},this);w._types=new Set(w._types);for(let C of _){typeof C=="function"&&(C=C(w)),this.assert(C,y.extension);const S=v.expandExtension(C,w);for(const T of S){i(w[T.type]===void 0||w._types.has(T.type),"Cannot override name",T.type);const A=T.base||this.any(),N=f.type(A,T);w._types.add(T.type),w[T.type]=function(...L){return v.generate(this,N,L)}}}return w},isError:l.ValidationError.isError,isExpression:x.isTemplate,isRef:m.isRef,isSchema:g.isSchema,in:(..._)=>m.in(..._),override:g.symbols.override,ref:(..._)=>m.create(..._),types(){const _={};for(const w of this._types)_[w]=this[w]();for(const w in v.aliases)_[w]=this[w]();return _}},v.assert=function(_,w,C,S){const T=S[0]instanceof Error||typeof S[0]=="string"?S[0]:null,A=T!==null?S[1]:S[0],N=w.validate(_,g.preferences({errors:{stack:!0}},A||{}));let L=N.error;if(!L)return N.value;if(T instanceof Error)throw T;const D=C&&typeof L.annotate=="function"?L.annotate():L.message;throw L instanceof l.ValidationError==0&&(L=d(L)),L.message=T?`${T} ${D}`:D,L},v.generate=function(_,w,C){return i(_,"Must be invoked on a Joi instance."),w.$_root=_,w._definition.args&&C.length?w._definition.args(w,...C):w},v.expandExtension=function(_,w){if(typeof _.type=="string")return[_];const C=[];for(const S of w._types)if(_.type.test(S)){const T=Object.assign({},_);T.type=S,T.base=w[S](),C.push(T)}return C},s.exports=v.root()},6914:(s,a,o)=>{const i=o(375),d=o(8571),c=o(3328);a.compile=function(g,u){if(typeof g=="string")return i(!u,"Cannot set single message string"),new c(g);if(c.isTemplate(g))return i(!u,"Cannot set single message template"),g;i(typeof g=="object"&&!Array.isArray(g),"Invalid message options"),u=u?d(u):{};for(let l in g){const f=g[l];if(l==="root"||c.isTemplate(f)){u[l]=f;continue}if(typeof f=="string"){u[l]=new c(f);continue}i(typeof f=="object"&&!Array.isArray(f),"Invalid message for",l);const h=l;for(l in u[h]=u[h]||{},f){const m=f[l];l==="root"||c.isTemplate(m)?u[h][l]=m:(i(typeof m=="string","Invalid message for",l,"in",h),u[h][l]=new c(m))}}return u},a.decompile=function(g){const u={};for(let l in g){const f=g[l];if(l==="root"){u.root=f;continue}if(c.isTemplate(f)){u[l]=f.describe({compact:!0});continue}const h=l;for(l in u[h]={},f){const m=f[l];l!=="root"?u[h][l]=m.describe({compact:!0}):u[h].root=m}}return u},a.merge=function(g,u){if(!g)return a.compile(u);if(!u)return g;if(typeof u=="string")return new c(u);if(c.isTemplate(u))return u;const l=d(g);for(let f in u){const h=u[f];if(f==="root"||c.isTemplate(h)){l[f]=h;continue}if(typeof h=="string"){l[f]=new c(h);continue}i(typeof h=="object"&&!Array.isArray(h),"Invalid message for",f);const m=f;for(f in l[m]=l[m]||{},h){const x=h[f];f==="root"||c.isTemplate(x)?l[m][f]=x:(i(typeof x=="string","Invalid message for",f,"in",m),l[m][f]=new c(x))}}return l}},2294:(s,a,o)=>{const i=o(375),d=o(8160),c=o(6133),g={};a.Ids=g.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const u=new g.Ids;return u._byId=new Map(this._byId),u._byKey=new Map(this._byKey),u._schemaChain=this._schemaChain,u}concat(u){u._schemaChain&&(this._schemaChain=!0);for(const[l,f]of u._byId.entries())i(!this._byKey.has(l),"Schema id conflicts with existing key:",l),this._byId.set(l,f);for(const[l,f]of u._byKey.entries())i(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,f)}fork(u,l,f){const h=this._collect(u);h.push({schema:f});const m=h.shift();let x={id:m.id,schema:l(m.schema)};i(d.isSchema(x.schema),"adjuster function failed to return a joi schema type");for(const p of h)x={id:p.id,schema:g.fork(p.schema,x.id,x.schema)};return x.schema}labels(u,l=[]){const f=u[0],h=this._get(f);if(!h)return[...l,...u].join(".");const m=u.slice(1);return l=[...l,h.schema._flags.label||f],m.length?h.schema._ids.labels(m,l):l.join(".")}reach(u,l=[]){const f=u[0],h=this._get(f);i(h,"Schema does not contain path",[...l,...u].join("."));const m=u.slice(1);return m.length?h.schema._ids.reach(m,[...l,f]):h.schema}register(u,{key:l}={}){if(!u||!d.isSchema(u))return;(u.$_property("schemaChain")||u._ids._schemaChain)&&(this._schemaChain=!0);const f=u._flags.id;if(f){const h=this._byId.get(f);i(!h||h.schema===u,"Cannot add different schemas with the same id:",f),i(!this._byKey.has(f),"Schema id conflicts with existing key:",f),this._byId.set(f,{schema:u,id:f})}l&&(i(!this._byKey.has(l),"Schema already contains key:",l),i(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,{schema:u,id:l}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(u,l=[],f=[]){const h=u[0],m=this._get(h);i(m,"Schema does not contain path",[...l,...u].join(".")),f=[m,...f];const x=u.slice(1);return x.length?m.schema._ids._collect(x,[...l,h],f):f}_get(u){return this._byId.get(u)||this._byKey.get(u)}},g.fork=function(u,l,f){const h=a.schema(u,{each:(m,{key:x})=>{if(l===(m._flags.id||x))return f},ref:!1});return h?h.$_mutateRebuild():u},a.schema=function(u,l){let f;for(const h in u._flags){if(h[0]==="_")continue;const m=g.scan(u._flags[h],{source:"flags",name:h},l);m!==void 0&&(f=f||u.clone(),f._flags[h]=m)}for(let h=0;h<u._rules.length;++h){const m=u._rules[h],x=g.scan(m.args,{source:"rules",name:m.name},l);if(x!==void 0){f=f||u.clone();const p=Object.assign({},m);p.args=x,f._rules[h]=p,f._singleRules.get(m.name)===m&&f._singleRules.set(m.name,p)}}for(const h in u.$_terms){if(h[0]==="_")continue;const m=g.scan(u.$_terms[h],{source:"terms",name:h},l);m!==void 0&&(f=f||u.clone(),f.$_terms[h]=m)}return f},g.scan=function(u,l,f,h,m){const x=h||[];if(u===null||typeof u!="object")return;let p;if(Array.isArray(u)){for(let y=0;y<u.length;++y){const v=l.source==="terms"&&l.name==="keys"&&u[y].key,_=g.scan(u[y],l,f,[y,...x],v);_!==void 0&&(p=p||u.slice(),p[y]=_)}return p}if(f.schema!==!1&&d.isSchema(u)||f.ref!==!1&&c.isRef(u)){const y=f.each(u,{...l,path:x,key:m});return y===u?void 0:y}for(const y in u){if(y[0]==="_")continue;const v=g.scan(u[y],l,f,[y,...x],m);v!==void 0&&(p=p||Object.assign({},u),p[y]=v)}return p}},6133:(s,a,o)=>{const i=o(375),d=o(8571),c=o(9621),g=o(8160);let u;const l={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};a.create=function(f,h={}){i(typeof f=="string","Invalid reference key:",f),g.assertOptions(h,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),i(!h.prefix||typeof h.prefix=="object","options.prefix must be of type object");const m=Object.assign({},l.defaults,h);delete m.prefix;const x=m.separator,p=l.context(f,x,h.prefix);if(m.type=p.type,f=p.key,m.type==="value")if(p.root&&(i(!x||f[0]!==x,"Cannot specify relative path with root prefix"),m.ancestor="root",f||(f=null)),x&&x===f)f=null,m.ancestor=0;else if(m.ancestor!==void 0)i(!x||!f||f[0]!==x,"Cannot combine prefix with ancestor option");else{const[y,v]=l.ancestor(f,x);v&&(f=f.slice(v))===""&&(f=null),m.ancestor=y}return m.path=x?f===null?[]:f.split(x):[f],new l.Ref(m)},a.in=function(f,h={}){return a.create(f,{...h,in:!0})},a.isRef=function(f){return!!f&&!!f[g.symbols.ref]},l.Ref=class{constructor(f){i(typeof f=="object","Invalid reference construction"),g.assertOptions(f,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),i([!1,void 0].includes(f.separator)||typeof f.separator=="string"&&f.separator.length===1,"Invalid separator"),i(!f.adjust||typeof f.adjust=="function","options.adjust must be a function"),i(!f.map||Array.isArray(f.map),"options.map must be an array"),i(!f.map||!f.adjust,"Cannot set both map and adjust options"),Object.assign(this,l.defaults,f),i(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(f,h,m,x,p={}){return i(!this.in||p.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(m.context,h,p):this.type==="local"?this._resolve(x,h,p):this.ancestor?this.ancestor==="root"?this._resolve(h.ancestors[h.ancestors.length-1],h,p):(i(this.ancestor<=h.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(h.ancestors[this.ancestor-1],h,p)):this._resolve(f,h,p)}_resolve(f,h,m){let x;if(this.type==="value"&&h.mainstay.shadow&&m.shadow!==!1&&(x=h.mainstay.shadow.get(this.absolute(h))),x===void 0&&(x=c(f,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(x=this.adjust(x)),this.map){const p=this.map.get(x);p!==void 0&&(x=p)}return h.mainstay&&h.mainstay.tracer.resolve(h,this,x),x}toString(){return this.display}absolute(f){return[...f.path.slice(0,-this.ancestor),...this.path]}clone(){return new l.Ref(this)}describe(){const f={path:this.path};this.type!=="value"&&(f.type=this.type),this.separator!=="."&&(f.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(f.ancestor=this.ancestor),this.map&&(f.map=[...this.map]);for(const h of["adjust","iterables","render"])this[h]!==null&&this[h]!==void 0&&(f[h]=this[h]);return this.in!==!1&&(f.in=!0),{ref:f}}updateDisplay(){const f=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${f}`);if(!this.separator)return void(this.display=`ref:${f}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${f}`);if(this.ancestor==="root")return void(this.display=`ref:root:${f}`);if(this.ancestor===1)return void(this.display=`ref:${f||".."}`);const h=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${h}${f||""}`}},l.Ref.prototype[g.symbols.ref]=!0,a.build=function(f){return(f=Object.assign({},l.defaults,f)).type==="value"&&f.ancestor===void 0&&(f.ancestor=1),new l.Ref(f)},l.context=function(f,h,m={}){if(f=f.trim(),m){const x=m.global===void 0?"$":m.global;if(x!==h&&f.startsWith(x))return{key:f.slice(x.length),type:"global"};const p=m.local===void 0?"#":m.local;if(p!==h&&f.startsWith(p))return{key:f.slice(p.length),type:"local"};const y=m.root===void 0?"/":m.root;if(y!==h&&f.startsWith(y))return{key:f.slice(y.length),type:"value",root:!0}}return{key:f,type:"value"}},l.ancestor=function(f,h){if(!h)return[1,0];if(f[0]!==h)return[1,0];if(f[1]!==h)return[0,1];let m=2;for(;f[m]===h;)++m;return[m-1,m]},a.toSibling=0,a.toParent=1,a.Manager=class{constructor(){this.refs=[]}register(f,h){if(f)if(h=h===void 0?a.toParent:h,Array.isArray(f))for(const m of f)this.register(m,h);else if(g.isSchema(f))for(const m of f._refs.refs)m.ancestor-h>=0&&this.refs.push({ancestor:m.ancestor-h,root:m.root});else a.isRef(f)&&f.type==="value"&&f.ancestor-h>=0&&this.refs.push({ancestor:f.ancestor-h,root:f.root}),u=u||o(3328),u.isTemplate(f)&&this.register(f.refs(),h)}get length(){return this.refs.length}clone(){const f=new a.Manager;return f.refs=d(this.refs),f}reset(){this.refs=[]}roots(){return this.refs.filter((f=>!f.ancestor)).map((f=>f.root))}}},3378:(s,a,o)=>{const i=o(5107),d={};d.wrap=i.string().min(1).max(2).allow(!1),a.preferences=i.object({allowUnknown:i.boolean(),abortEarly:i.boolean(),artifacts:i.boolean(),cache:i.boolean(),context:i.object(),convert:i.boolean(),dateFormat:i.valid("date","iso","string","time","utc"),debug:i.boolean(),errors:{escapeHtml:i.boolean(),label:i.valid("path","key",!1),language:[i.string(),i.object().ref()],render:i.boolean(),stack:i.boolean(),wrap:{label:d.wrap,array:d.wrap,string:d.wrap}},externals:i.boolean(),messages:i.object(),noDefaults:i.boolean(),nonEnumerables:i.boolean(),presence:i.valid("required","optional","forbidden"),skipFunctions:i.boolean(),stripUnknown:i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects").allow(!0,!1),warnings:i.boolean()}).strict(),d.nameRx=/^[a-zA-Z0-9]\w*$/,d.rule=i.object({alias:i.array().items(i.string().pattern(d.nameRx)).single(),args:i.array().items(i.string(),i.object({name:i.string().pattern(d.nameRx).required(),ref:i.boolean(),assert:i.alternatives([i.function(),i.object().schema()]).conditional("ref",{is:!0,then:i.required()}),normalize:i.function(),message:i.string().when("assert",{is:i.function(),then:i.required()})})),convert:i.boolean(),manifest:i.boolean(),method:i.function().allow(!1),multi:i.boolean(),validate:i.function()}),a.extension=i.object({type:i.alternatives([i.string(),i.object().regex()]).required(),args:i.function(),cast:i.object().pattern(d.nameRx,i.object({from:i.function().maxArity(1).required(),to:i.function().minArity(1).maxArity(2).required()})),base:i.object().schema().when("type",{is:i.object().regex(),then:i.forbidden()}),coerce:[i.function().maxArity(3),i.object({method:i.function().maxArity(3).required(),from:i.array().items(i.string()).single()})],flags:i.object().pattern(d.nameRx,i.object({setter:i.string(),default:i.any()})),manifest:{build:i.function().arity(2)},messages:[i.object(),i.string()],modifiers:i.object().pattern(d.nameRx,i.function().minArity(1).maxArity(2)),overrides:i.object().pattern(d.nameRx,i.function()),prepare:i.function().maxArity(3),rebuild:i.function().arity(1),rules:i.object().pattern(d.nameRx,d.rule),terms:i.object().pattern(d.nameRx,i.object({init:i.array().allow(null).required(),manifest:i.object().pattern(/.+/,[i.valid("schema","single"),i.object({mapped:i.object({from:i.string().required(),to:i.string().required()}).required()})])})),validate:i.function().maxArity(3)}).strict(),a.extensions=i.array().items(i.object(),i.function().arity(1)).strict(),d.desc={buffer:i.object({buffer:i.string()}),func:i.object({function:i.function().required(),options:{literal:!0}}),override:i.object({override:!0}),ref:i.object({ref:i.object({type:i.valid("value","global","local"),path:i.array().required(),separator:i.string().length(1).allow(!1),ancestor:i.number().min(0).integer().allow("root"),map:i.array().items(i.array().length(2)).min(1),adjust:i.function(),iterables:i.boolean(),in:i.boolean(),render:i.boolean()}).required()}),regex:i.object({regex:i.string().min(3)}),special:i.object({special:i.valid("deep").required()}),template:i.object({template:i.string().required(),options:i.object()}),value:i.object({value:i.alternatives([i.object(),i.array()]).required()})},d.desc.entity=i.alternatives([i.array().items(i.link("...")),i.boolean(),i.function(),i.number(),i.string(),d.desc.buffer,d.desc.func,d.desc.ref,d.desc.regex,d.desc.special,d.desc.template,d.desc.value,i.link("/")]),d.desc.values=i.array().items(null,i.boolean(),i.function(),i.number().allow(1/0,-1/0),i.string().allow(""),i.symbol(),d.desc.buffer,d.desc.func,d.desc.override,d.desc.ref,d.desc.regex,d.desc.template,d.desc.value),d.desc.messages=i.object().pattern(/.+/,[i.string(),d.desc.template,i.object().pattern(/.+/,[i.string(),d.desc.template])]),a.description=i.object({type:i.string().required(),flags:i.object({cast:i.string(),default:i.any(),description:i.string(),empty:i.link("/"),failover:d.desc.entity,id:i.string(),label:i.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:i.boolean(),unit:i.string()}).unknown(),preferences:{allowUnknown:i.boolean(),abortEarly:i.boolean(),artifacts:i.boolean(),cache:i.boolean(),convert:i.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:i.boolean(),label:["path","key"],language:[i.string(),d.desc.ref],wrap:{label:d.wrap,array:d.wrap}},externals:i.boolean(),messages:d.desc.messages,noDefaults:i.boolean(),nonEnumerables:i.boolean(),presence:["required","optional","forbidden"],skipFunctions:i.boolean(),stripUnknown:i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects").allow(!0,!1),warnings:i.boolean()},allow:d.desc.values,invalid:d.desc.values,rules:i.array().min(1).items({name:i.string().required(),args:i.object().min(1),keep:i.boolean(),message:[i.string(),d.desc.messages],warn:i.boolean()}),keys:i.object().pattern(/.*/,i.link("/")),link:d.desc.ref}).pattern(/^[a-z]\w*$/,i.any())},493:(s,a,o)=>{const i=o(8571),d=o(9621),c=o(8160),g={value:Symbol("value")};s.exports=g.State=class{constructor(u,l,f){this.path=u,this.ancestors=l,this.mainstay=f.mainstay,this.schemas=f.schemas,this.debug=null}localize(u,l=null,f=null){const h=new g.State(u,l,this);return f&&h.schemas&&(h.schemas=[g.schemas(f),...h.schemas]),h}nest(u,l){const f=new g.State(this.path,this.ancestors,this);return f.schemas=f.schemas&&[g.schemas(u),...f.schemas],f.debug=l,f}shadow(u,l){this.mainstay.shadow=this.mainstay.shadow||new g.Shadow,this.mainstay.shadow.set(this.path,u,l)}snapshot(){this.mainstay.shadow&&(this._snapshot=i(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},g.schemas=function(u){return c.isSchema(u)?{schema:u}:u},g.Shadow=class{constructor(){this._values=null}set(u,l,f){if(!u.length||f==="strip"&&typeof u[u.length-1]=="number")return;this._values=this._values||new Map;let h=this._values;for(let m=0;m<u.length;++m){const x=u[m];let p=h.get(x);p||(p=new Map,h.set(x,p)),h=p}h[g.value]=l}get(u){const l=this.node(u);if(l)return l[g.value]}node(u){if(this._values)return d(this._values,u,{iterables:!0})}override(u,l){if(!this._values)return;const f=u.slice(0,-1),h=u[u.length-1],m=d(this._values,f,{iterables:!0});l?m.set(h,l):m&&m.delete(h)}}},3328:(s,a,o)=>{const i=o(375),d=o(8571),c=o(5277),g=o(1447),u=o(8160),l=o(6354),f=o(6133),h={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};s.exports=h.Template=class{constructor(m,x){if(i(typeof m=="string","Template source must be a string"),i(!m.includes("\0")&&!m.includes(""),"Template source cannot contain reserved control characters"),this.source=m,this.rendered=m,this._template=null,x){const{functions:p,...y}=x;this._settings=Object.keys(y).length?d(y):void 0,this._functions=p,this._functions&&(i(Object.keys(this._functions).every((v=>typeof v=="string")),"Functions keys must be strings"),i(Object.values(this._functions).every((v=>typeof v=="function")),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const m=h.encode(this.source),x=h.split(m);let p=!1;const y=[],v=x.shift();v&&y.push(v);for(const _ of x){const w=_[0]!=="{",C=w?"}":"}}",S=_.indexOf(C);if(S===-1||_[1]==="{"){y.push(`{${h.decode(_)}`);continue}let T=_.slice(w?0:1,S);const A=T[0]===":";A&&(T=T.slice(1));const N=this._ref(h.decode(T),{raw:w,wrapped:A});y.push(N),typeof N!="string"&&(p=!0);const L=_.slice(S+C.length);L&&y.push(h.decode(L))}p?this._template=y:this.rendered=y.join("")}static date(m,x){return h.dateFormat[x.dateFormat].call(m)}describe(m={}){if(!this._settings&&m.compact)return this.source;const x={template:this.source};return this._settings&&(x.options=this._settings),this._functions&&(x.functions=this._functions),x}static build(m){return new h.Template(m.template,m.options||m.functions?{...m.options,functions:m.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(m){return!!m&&!!m[u.symbols.template]}refs(){if(!this._template)return;const m=[];for(const x of this._template)typeof x!="string"&&m.push(...x.refs);return m}resolve(m,x,p,y){return this._template&&this._template.length===1?this._part(this._template[0],m,x,p,y,{}):this.render(m,x,p,y)}_part(m,...x){return m.ref?m.ref.resolve(...x):m.formula.evaluate(x)}render(m,x,p,y,v={}){if(!this.isDynamic())return this.rendered;const _=[];for(const w of this._template)if(typeof w=="string")_.push(w);else{const C=this._part(w,m,x,p,y,v),S=h.stringify(C,m,x,p,y,v);if(S!==void 0){const T=w.raw||(v.errors&&v.errors.escapeHtml)===!1?S:c(S);_.push(h.wrap(T,w.wrapped&&p.errors.wrap.label))}}return _.join("")}_ref(m,{raw:x,wrapped:p}){const y=[],v=w=>{const C=f.create(w,this._settings);return y.push(C),S=>{const T=C.resolve(...S);return T!==void 0?T:null}};try{const w=this._functions?{...h.functions,...this._functions}:h.functions;var _=new g.Parser(m,{reference:v,functions:w,constants:h.constants})}catch(w){throw w.message=`Invalid template variable "${m}" fails due to: ${w.message}`,w}if(_.single){if(_.single.type==="reference"){const w=y[0];return{ref:w,raw:x,refs:y,wrapped:p||w.type==="local"&&w.key==="label"}}return h.stringify(_.single.value)}return{formula:_,raw:x,refs:y}}toString(){return this.source}},h.Template.prototype[u.symbols.template]=!0,h.Template.prototype.isImmutable=!0,h.encode=function(m){return m.replace(/\\(\{+)/g,((x,p)=>h.opens.slice(0,p.length))).replace(/\\(\}+)/g,((x,p)=>h.closes.slice(0,p.length)))},h.decode=function(m){return m.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},h.split=function(m){const x=[];let p="";for(let y=0;y<m.length;++y){const v=m[y];if(v==="{"){let _="";for(;y+1<m.length&&m[y+1]==="{";)_+="{",++y;x.push(p),p=_}else p+=v}return x.push(p),x},h.wrap=function(m,x){return x?x.length===1?`${x}${m}${x}`:`${x[0]}${m}${x[1]}`:m},h.stringify=function(m,x,p,y,v,_={}){const w=typeof m,C=y&&y.errors&&y.errors.wrap||{};let S=!1;if(f.isRef(m)&&m.render&&(S=m.in,m=m.resolve(x,p,y,v,{in:m.in,..._})),m===null)return"null";if(w==="string")return h.wrap(m,_.arrayItems&&C.string);if(w==="number"||w==="function"||w==="symbol")return m.toString();if(w!=="object")return JSON.stringify(m);if(m instanceof Date)return h.Template.date(m,y);if(m instanceof Map){const A=[];for(const[N,L]of m.entries())A.push(`${N.toString()} -> ${L.toString()}`);m=A}if(!Array.isArray(m))return m.toString();const T=[];for(const A of m)T.push(h.stringify(A,x,p,y,v,{arrayItems:!0,..._}));return h.wrap(T.join(", "),!S&&C.array)},h.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},h.functions={if:(m,x,p)=>m?x:p,length:m=>typeof m=="string"?m.length:m&&typeof m=="object"?Array.isArray(m)?m.length:Object.keys(m).length:null,msg(m){const[x,p,y,v,_]=this,w=_.messages;if(!w)return"";const C=l.template(x,w[0],m,p,y)||l.template(x,w[1],m,p,y);return C?C.render(x,p,y,v,_):""},number:m=>typeof m=="number"?m:typeof m=="string"?parseFloat(m):typeof m=="boolean"?m?1:0:m instanceof Date?m.getTime():null}},4946:(s,a,o)=>{const i=o(375),d=o(1687),c=o(8068),g=o(8160),u=o(3292),l=o(6354),f=o(6133),h={};s.exports=c.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:(m,...x)=>x.length===1&&Array.isArray(x[0])?m.try(...x[0]):m.try(...x),validate(m,x){const{schema:p,error:y,state:v,prefs:_}=x;if(p._flags.match){const C=[],S=[];for(let A=0;A<p.$_terms.matches.length;++A){const N=p.$_terms.matches[A],L=v.nest(N.schema,`match.${A}`);L.snapshot();const D=N.schema.$_validate(m,L,_);D.errors?(S.push(D.errors),L.restore()):(C.push(D.value),L.commit())}if(C.length===0)return{errors:y("alternatives.any",{details:S.map((A=>l.details(A,{override:!1})))})};if(p._flags.match==="one")return C.length===1?{value:C[0]}:{errors:y("alternatives.one")};if(C.length!==p.$_terms.matches.length)return{errors:y("alternatives.all",{details:S.map((A=>l.details(A,{override:!1})))})};const T=A=>A.$_terms.matches.some((N=>N.schema.type==="object"||N.schema.type==="alternatives"&&T(N.schema)));return T(p)?{value:C.reduce(((A,N)=>d(A,N,{mergeArrays:!1})))}:{value:C[C.length-1]}}const w=[];for(let C=0;C<p.$_terms.matches.length;++C){const S=p.$_terms.matches[C];if(S.schema){const N=v.nest(S.schema,`match.${C}`);N.snapshot();const L=S.schema.$_validate(m,N,_);if(!L.errors)return N.commit(),L;N.restore(),w.push({schema:S.schema,reports:L.errors});continue}const T=S.ref?S.ref.resolve(m,v,_):m,A=S.is?[S]:S.switch;for(let N=0;N<A.length;++N){const L=A[N],{is:D,then:j,otherwise:V}=L,z=`match.${C}${S.switch?"."+N:""}`;if(D.$_match(T,v.nest(D,`${z}.is`),_)){if(j)return j.$_validate(m,v.nest(j,`${z}.then`),_)}else if(V)return V.$_validate(m,v.nest(V,`${z}.otherwise`),_)}}return h.errors(w,x)},rules:{conditional:{method(m,x){i(!this._flags._endedSwitch,"Unreachable condition"),i(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),i(x.break===void 0,"Cannot use break option with alternatives conditional");const p=this.clone(),y=u.when(p,m,x),v=y.is?[y]:y.switch;for(const _ of v)if(_.then&&_.otherwise){p.$_setFlag("_endedSwitch",!0,{clone:!1});break}return p.$_terms.matches.push(y),p.$_mutateRebuild()}},match:{method(m){if(i(["any","one","all"].includes(m),"Invalid alternatives match mode",m),m!=="any")for(const x of this.$_terms.matches)i(x.schema,"Cannot combine match mode",m,"with conditional rules");return this.$_setFlag("match",m)}},try:{method(...m){i(m.length,"Missing alternative schemas"),g.verifyFlat(m,"try"),i(!this._flags._endedSwitch,"Unreachable condition");const x=this.clone();for(const p of m)x.$_terms.matches.push({schema:x.$_compile(p)});return x.$_mutateRebuild()}}},overrides:{label(m){return this.$_parent("label",m).$_modify({each:(x,p)=>p.path[0]!=="is"&&typeof x._flags.label!="string"?x.label(m):void 0,ref:!1})}},rebuild(m){m.$_modify({each:x=>{g.isSchema(x)&&x.type==="array"&&m.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(m,x){if(x.matches)for(const p of x.matches){const{schema:y,ref:v,is:_,not:w,then:C,otherwise:S}=p;m=y?m.try(y):v?m.conditional(v,{is:_,then:C,not:w,otherwise:S,switch:p.switch}):m.conditional(_,{then:C,otherwise:S})}return m}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),h.errors=function(m,{error:x,state:p}){if(!m.length)return{errors:x("alternatives.any")};if(m.length===1)return{errors:m[0].reports};const y=new Set,v=[];for(const{reports:_,schema:w}of m){if(_.length>1)return h.unmatched(m,x);const C=_[0];if(C instanceof l.Report==0)return h.unmatched(m,x);if(C.state.path.length!==p.path.length){v.push({type:w.type,report:C});continue}if(C.code==="any.only"){for(const A of C.local.valids)y.add(A);continue}const[S,T]=C.code.split(".");T!=="base"?v.push({type:w.type,report:C}):C.code==="object.base"?y.add(C.local.type):y.add(S)}return v.length?v.length===1?{errors:v[0].report}:h.unmatched(m,x):{errors:x("alternatives.types",{types:[...y]})}},h.unmatched=function(m,x){const p=[];for(const y of m)p.push(...y.reports);return{errors:x("alternatives.match",l.details(p,{override:!1}))}}},8068:(s,a,o)=>{const i=o(375),d=o(7629),c=o(8160),g=o(6914);s.exports=d.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(u,l){return i(typeof u=="function","Method must be a function"),i(l===void 0||l&&typeof l=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:u,description:l}})},validate(u,l,{method:f}){try{return f(u,l)}catch(h){return l.error("any.custom",{error:h})}},args:["method","description"],multi:!0},messages:{method(u){return this.prefs({messages:u})}},shared:{method(u){i(c.isSchema(u)&&u._flags.id,"Schema must be a schema with an id");const l=this.clone();return l.$_terms.shared=l.$_terms.shared||[],l.$_terms.shared.push(u),l.$_mutateRegister(u),l}},warning:{method(u,l){return i(u&&typeof u=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:u,local:l},warn:!0})},validate:(u,l,{code:f,local:h})=>l.error(f,h),args:["code","local"],multi:!0}},modifiers:{keep(u,l=!0){u.keep=l},message(u,l){u.message=g.compile(l)},warn(u,l=!0){u.warn=l}},manifest:{build(u,l){for(const f in l){const h=l[f];if(["examples","externals","metas","notes","tags"].includes(f))for(const m of h)u=u[f.slice(0,-1)](m);else if(f!=="alterations")if(f!=="whens"){if(f==="shared")for(const m of h)u=u.shared(m)}else for(const m of h){const{ref:x,is:p,not:y,then:v,otherwise:_,concat:w}=m;u=w?u.concat(w):x?u.when(x,{is:p,not:y,then:v,otherwise:_,switch:m.switch,break:m.break}):u.when(p,{then:v,otherwise:_,break:m.break})}else{const m={};for(const{target:x,adjuster:p}of h)m[x]=p;u=u.alter(m)}}return u}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(s,a,o)=>{const i=o(375),d=o(9474),c=o(9621),g=o(8068),u=o(8160),l=o(3292),f={};s.exports=g.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(h,{schema:m,state:x,prefs:p}){if(!Array.isArray(h))return;const y=m.$_getRule("sort");return y?f.sort(m,h,y.args.options,x,p):void 0}},validate(h,{schema:m,error:x}){if(!Array.isArray(h)){if(m._flags.single){const p=[h];return p[u.symbols.arraySingle]=!0,{value:p}}return{errors:x("array.base")}}if(m.$_getRule("items")||m.$_terms.externals)return{value:h.slice()}},rules:{has:{method(h){h=this.$_compile(h,{appendPath:!0});const m=this.$_addRule({name:"has",args:{schema:h}});return m.$_mutateRegister(h),m},validate(h,{state:m,prefs:x,error:p},{schema:y}){const v=[h,...m.ancestors];for(let w=0;w<h.length;++w){const C=m.localize([...m.path,w],v,y);if(y.$_match(h[w],C,x))return h}const _=y._flags.label;return _?p("array.hasKnown",{patternLabel:_}):p("array.hasUnknown",null)},multi:!0},items:{method(...h){u.verifyFlat(h,"items");const m=this.$_addRule("items");for(let x=0;x<h.length;++x){const p=u.tryWithPath((()=>this.$_compile(h[x])),x,{append:!0});m.$_terms.items.push(p)}return m.$_mutateRebuild()},validate(h,{schema:m,error:x,state:p,prefs:y,errorsArray:v}){const _=m.$_terms._requireds.slice(),w=m.$_terms.ordered.slice(),C=[...m.$_terms._inclusions,..._],S=!h[u.symbols.arraySingle];delete h[u.symbols.arraySingle];const T=v();let A=h.length;for(let N=0;N<A;++N){const L=h[N];let D=!1,j=!1;const V=S?N:new Number(N),z=[...p.path,V];if(!m._flags.sparse&&L===void 0){if(T.push(x("array.sparse",{key:V,path:z,pos:N,value:void 0},p.localize(z))),y.abortEarly)return T;w.shift();continue}const $=[h,...p.ancestors];for(const ae of m.$_terms._exclusions)if(ae.$_match(L,p.localize(z,$,ae),y,{presence:"ignore"})){if(T.push(x("array.excludes",{pos:N,value:L},p.localize(z))),y.abortEarly)return T;D=!0,w.shift();break}if(D)continue;if(m.$_terms.ordered.length){if(w.length){const ae=w.shift(),ie=ae.$_validate(L,p.localize(z,$,ae),y);if(ie.errors){if(T.push(...ie.errors),y.abortEarly)return T}else if(ae._flags.result==="strip")f.fastSplice(h,N),--N,--A;else{if(!m._flags.sparse&&ie.value===void 0){if(T.push(x("array.sparse",{key:V,path:z,pos:N,value:void 0},p.localize(z))),y.abortEarly)return T;continue}h[N]=ie.value}continue}if(!m.$_terms.items.length){if(T.push(x("array.orderedLength",{pos:N,limit:m.$_terms.ordered.length})),y.abortEarly)return T;break}}const Q=[];let se=_.length;for(let ae=0;ae<se;++ae){const ie=p.localize(z,$,_[ae]);ie.snapshot();const ce=_[ae].$_validate(L,ie,y);if(Q[ae]=ce,!ce.errors){if(ie.commit(),h[N]=ce.value,j=!0,f.fastSplice(_,ae),--ae,--se,!m._flags.sparse&&ce.value===void 0&&(T.push(x("array.sparse",{key:V,path:z,pos:N,value:void 0},p.localize(z))),y.abortEarly))return T;break}ie.restore()}if(j)continue;const ge=y.stripUnknown&&!!y.stripUnknown.arrays||!1;se=C.length;for(const ae of C){let ie;const ce=_.indexOf(ae);if(ce!==-1)ie=Q[ce];else{const fe=p.localize(z,$,ae);if(fe.snapshot(),ie=ae.$_validate(L,fe,y),!ie.errors){fe.commit(),ae._flags.result==="strip"?(f.fastSplice(h,N),--N,--A):m._flags.sparse||ie.value!==void 0?h[N]=ie.value:(T.push(x("array.sparse",{key:V,path:z,pos:N,value:void 0},p.localize(z))),D=!0),j=!0;break}fe.restore()}if(se===1){if(ge){f.fastSplice(h,N),--N,--A,j=!0;break}if(T.push(...ie.errors),y.abortEarly)return T;D=!0;break}}if(!D&&(m.$_terms._inclusions.length||m.$_terms._requireds.length)&&!j){if(ge){f.fastSplice(h,N),--N,--A;continue}if(T.push(x("array.includes",{pos:N,value:L},p.localize(z))),y.abortEarly)return T}}return _.length&&f.fillMissedErrors(m,T,_,h,p,y),w.length&&(f.fillOrderedErrors(m,T,w,h,p,y),T.length||f.fillDefault(w,h,p,y)),T.length?T:h},priority:!0,manifest:!1},length:{method(h){return this.$_addRule({name:"length",args:{limit:h},operator:"="})},validate:(h,m,{limit:x},{name:p,operator:y,args:v})=>u.compare(h.length,x,y)?h:m.error("array."+p,{limit:v.limit,value:h}),args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method(h){return this.$_addRule({name:"max",method:"length",args:{limit:h},operator:"<="})}},min:{method(h){return this.$_addRule({name:"min",method:"length",args:{limit:h},operator:">="})}},ordered:{method(...h){u.verifyFlat(h,"ordered");const m=this.$_addRule("items");for(let x=0;x<h.length;++x){const p=u.tryWithPath((()=>this.$_compile(h[x])),x,{append:!0});f.validateSingle(p,m),m.$_mutateRegister(p),m.$_terms.ordered.push(p)}return m.$_mutateRebuild()}},single:{method(h){const m=h===void 0||!!h;return i(!m||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",m)}},sort:{method(h={}){u.assertOptions(h,["by","order"]);const m={order:h.order||"ascending"};return h.by&&(m.by=l.ref(h.by,{ancestor:0}),i(!m.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:m}})},validate(h,{error:m,state:x,prefs:p,schema:y},{options:v}){const{value:_,errors:w}=f.sort(y,h,v,x,p);if(w)return w;for(let C=0;C<h.length;++C)if(h[C]!==_[C])return m("array.sort",{order:v.order,by:v.by?v.by.key:"value"});return h},convert:!0},sparse:{method(h){const m=h===void 0||!!h;return this._flags.sparse===m?this:(m?this.clone():this.$_addRule("items")).$_setFlag("sparse",m,{clone:!1})}},unique:{method(h,m={}){i(!h||typeof h=="function"||typeof h=="string","comparator must be a function or a string"),u.assertOptions(m,["ignoreUndefined","separator"]);const x={name:"unique",args:{options:m,comparator:h}};if(h)if(typeof h=="string"){const p=u.default(m.separator,".");x.path=p?h.split(p):[h]}else x.comparator=h;return this.$_addRule(x)},validate(h,{state:m,error:x,schema:p},{comparator:y,options:v},{comparator:_,path:w}){const C={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},S=_||d,T=v.ignoreUndefined;for(let A=0;A<h.length;++A){const N=w?c(h[A],w):h[A],L=_?C.custom:C[typeof N];if(i(L,"Failed to find unique map container for type",typeof N),L instanceof Map){const D=L.entries();let j;for(;!(j=D.next()).done;)if(S(j.value[0],N)){const V=m.localize([...m.path,A],[h,...m.ancestors]),z={pos:A,value:h[A],dupePos:j.value[1],dupeValue:h[j.value[1]]};return w&&(z.path=y),x("array.unique",z,V)}L.set(N,A)}else{if((!T||N!==void 0)&&L[N]!==void 0){const D={pos:A,value:h[A],dupePos:L[N],dupeValue:h[L[N]]};return w&&(D.path=y),x("array.unique",D,m.localize([...m.path,A],[h,...m.ancestors]))}L[N]=A}}return h},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(h,m)=>new Set(h)}},rebuild(h){h.$_terms._inclusions=[],h.$_terms._exclusions=[],h.$_terms._requireds=[];for(const m of h.$_terms.items)f.validateSingle(m,h),m._flags.presence==="required"?h.$_terms._requireds.push(m):m._flags.presence==="forbidden"?h.$_terms._exclusions.push(m):h.$_terms._inclusions.push(m);for(const m of h.$_terms.ordered)f.validateSingle(m,h)},manifest:{build:(h,m)=>(m.items&&(h=h.items(...m.items)),m.ordered&&(h=h.ordered(...m.ordered)),h)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(h,m,x,p,y,v){const _=[];let w=0;for(const C of x){const S=C._flags.label;S?_.push(S):++w}_.length?w?m.push(h.$_createError("array.includesRequiredBoth",p,{knownMisses:_,unknownMisses:w},y,v)):m.push(h.$_createError("array.includesRequiredKnowns",p,{knownMisses:_},y,v)):m.push(h.$_createError("array.includesRequiredUnknowns",p,{unknownMisses:w},y,v))},f.fillOrderedErrors=function(h,m,x,p,y,v){const _=[];for(const w of x)w._flags.presence==="required"&&_.push(w);_.length&&f.fillMissedErrors(h,m,_,p,y,v)},f.fillDefault=function(h,m,x,p){const y=[];let v=!0;for(let _=h.length-1;_>=0;--_){const w=h[_],C=[m,...x.ancestors],S=w.$_validate(void 0,x.localize(x.path,C,w),p).value;if(v){if(S===void 0)continue;v=!1}y.unshift(S)}y.length&&m.push(...y)},f.fastSplice=function(h,m){let x=m;for(;x<h.length;)h[x++]=h[x];--h.length},f.validateSingle=function(h,m){(h.type==="array"||h._flags._arrayItems)&&(i(!m._flags.single,"Cannot specify array item with single rule enabled"),m.$_setFlag("_arrayItems",!0,{clone:!1}))},f.sort=function(h,m,x,p,y){const v=x.order==="ascending"?1:-1,_=-1*v,w=v,C=(S,T)=>{let A=f.compare(S,T,_,w);if(A!==null||(x.by&&(S=x.by.resolve(S,p,y),T=x.by.resolve(T,p,y)),A=f.compare(S,T,_,w),A!==null))return A;const N=typeof S;if(N!==typeof T)throw h.$_createError("array.sort.mismatching",m,null,p,y);if(N!=="number"&&N!=="string")throw h.$_createError("array.sort.unsupported",m,{type:N},p,y);return N==="number"?(S-T)*v:S<T?_:w};try{return{value:m.slice().sort(C)}}catch(S){return{errors:S}}},f.compare=function(h,m,x,p){return h===m?0:h===void 0?1:m===void 0?-1:h===null?p:m===null?x:null}},4937:(s,a,o)=>{const i=o(375),d=o(8068),c=o(8160),g=o(2036),u={isBool:function(l){return typeof l=="boolean"}};s.exports=d.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(l,{schema:f}){if(typeof l!="boolean"){if(typeof l=="string"){const h=f._flags.sensitive?l:l.toLowerCase();l=h==="true"||h!=="false"&&l}return typeof l!="boolean"&&(l=f.$_terms.truthy&&f.$_terms.truthy.has(l,null,null,!f._flags.sensitive)||(!f.$_terms.falsy||!f.$_terms.falsy.has(l,null,null,!f._flags.sensitive))&&l),{value:l}}},validate(l,{error:f}){if(typeof l!="boolean")return{value:l,errors:f("boolean.base")}},rules:{truthy:{method(...l){c.verifyFlat(l,"truthy");const f=this.clone();f.$_terms.truthy=f.$_terms.truthy||new g;for(let h=0;h<l.length;++h){const m=l[h];i(m!==void 0,"Cannot call truthy with undefined"),f.$_terms.truthy.add(m)}return f}},falsy:{method(...l){c.verifyFlat(l,"falsy");const f=this.clone();f.$_terms.falsy=f.$_terms.falsy||new g;for(let h=0;h<l.length;++h){const m=l[h];i(m!==void 0,"Cannot call falsy with undefined"),f.$_terms.falsy.add(m)}return f}},sensitive:{method(l=!0){return this.$_setFlag("sensitive",l)}}},cast:{number:{from:u.isBool,to:(l,f)=>l?1:0},string:{from:u.isBool,to:(l,f)=>l?"true":"false"}},manifest:{build:(l,f)=>(f.truthy&&(l=l.truthy(...f.truthy)),f.falsy&&(l=l.falsy(...f.falsy)),l)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(s,a,o)=>{const i=o(375),d=o(8068),c=o(8160),g=o(3328),u={isDate:function(l){return l instanceof Date}};s.exports=d.extend({type:"date",coerce:{from:["number","string"],method:(l,{schema:f})=>({value:u.parse(l,f._flags.format)||l})},validate(l,{schema:f,error:h,prefs:m}){if(l instanceof Date&&!isNaN(l.getTime()))return;const x=f._flags.format;return m.convert&&x&&typeof l=="string"?{value:l,errors:h("date.format",{format:x})}:{value:l,errors:h("date.base")}},rules:{compare:{method:!1,validate(l,f,{date:h},{name:m,operator:x,args:p}){const y=h==="now"?Date.now():h.getTime();return c.compare(l.getTime(),y,x)?l:f.error("date."+m,{limit:p.date,value:l})},args:[{name:"date",ref:!0,normalize:l=>l==="now"?l:u.parse(l),assert:l=>l!==null,message:"must have a valid date format"}]},format:{method(l){return i(["iso","javascript","unix"].includes(l),"Unknown date format",l),this.$_setFlag("format",l)}},greater:{method(l){return this.$_addRule({name:"greater",method:"compare",args:{date:l},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(l){return this.$_addRule({name:"less",method:"compare",args:{date:l},operator:"<"})}},max:{method(l){return this.$_addRule({name:"max",method:"compare",args:{date:l},operator:"<="})}},min:{method(l){return this.$_addRule({name:"min",method:"compare",args:{date:l},operator:">="})}},timestamp:{method(l="javascript"){return i(["javascript","unix"].includes(l),'"type" must be one of "javascript, unix"'),this.format(l)}}},cast:{number:{from:u.isDate,to:(l,f)=>l.getTime()},string:{from:u.isDate,to:(l,{prefs:f})=>g.date(l,f)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),u.parse=function(l,f){if(l instanceof Date)return l;if(typeof l!="string"&&(isNaN(l)||!isFinite(l))||/^\s*$/.test(l))return null;if(f==="iso")return c.isIsoDate(l)?u.date(l.toString()):null;const h=l;if(typeof l=="string"&&/^[+-]?\d+(\.\d+)?$/.test(l)&&(l=parseFloat(l)),f){if(f==="javascript")return u.date(1*l);if(f==="unix")return u.date(1e3*l);if(typeof h=="string")return null}return u.date(l)},u.date=function(l){const f=new Date(l);return isNaN(f.getTime())?null:f}},390:(s,a,o)=>{const i=o(375),d=o(7824);s.exports=d.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(c){return i(Number.isSafeInteger(c)&&c>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:c}})},validate:(c,g,{n:u})=>c.length===u?c:g.error("function.arity",{n:u})},class:{method(){return this.$_addRule("class")},validate:(c,g)=>/^\s*class\s/.test(c.toString())?c:g.error("function.class",{value:c})},minArity:{method(c){return i(Number.isSafeInteger(c)&&c>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:c}})},validate:(c,g,{n:u})=>c.length>=u?c:g.error("function.minArity",{n:u})},maxArity:{method(c){return i(Number.isSafeInteger(c)&&c>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:c}})},validate:(c,g,{n:u})=>c.length<=u?c:g.error("function.maxArity",{n:u})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(s,a,o)=>{const i=o(978),d=o(375),c=o(8571),g=o(3652),u=o(8068),l=o(8160),f=o(3292),h=o(6354),m=o(6133),x=o(3328),p={renameDefaults:{alias:!1,multiple:!1,override:!1}};s.exports=u.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(y,v)=>y.keys(v),validate(y,{schema:v,error:_,state:w,prefs:C}){if(!y||typeof y!==v.$_property("typeof")||Array.isArray(y))return{value:y,errors:_("object.base",{type:v.$_property("typeof")})};if(!(v.$_terms.renames||v.$_terms.dependencies||v.$_terms.keys||v.$_terms.patterns||v.$_terms.externals))return;y=p.clone(y,C);const S=[];if(v.$_terms.renames&&!p.rename(v,y,w,C,S))return{value:y,errors:S};if(!v.$_terms.keys&&!v.$_terms.patterns&&!v.$_terms.dependencies)return{value:y,errors:S};const T=new Set(Object.keys(y));if(v.$_terms.keys){const A=[y,...w.ancestors];for(const N of v.$_terms.keys){const L=N.key,D=y[L];T.delete(L);const j=w.localize([...w.path,L],A,N),V=N.schema.$_validate(D,j,C);if(V.errors){if(C.abortEarly)return{value:y,errors:V.errors};V.value!==void 0&&(y[L]=V.value),S.push(...V.errors)}else N.schema._flags.result==="strip"||V.value===void 0&&D!==void 0?delete y[L]:V.value!==void 0&&(y[L]=V.value)}}if(T.size||v._flags._hasPatternMatch){const A=p.unknown(v,y,T,S,w,C);if(A)return A}if(v.$_terms.dependencies)for(const A of v.$_terms.dependencies){if(A.key!==null&&p.isPresent(A.options)(A.key.resolve(y,w,C,null,{shadow:!1}))===!1)continue;const N=p.dependencies[A.rel](v,A,y,w,C);if(N){const L=v.$_createError(N.code,y,N.context,w,C);if(C.abortEarly)return{value:y,errors:L};S.push(L)}}return{value:y,errors:S}},rules:{and:{method(...y){return l.verifyFlat(y,"and"),p.dependency(this,"and",null,y)}},append:{method(y){return y==null||Object.keys(y).length===0?this:this.keys(y)}},assert:{method(y,v,_){x.isTemplate(y)||(y=f.ref(y)),d(_===void 0||typeof _=="string","Message must be a string"),v=this.$_compile(v,{appendPath:!0});const w=this.$_addRule({name:"assert",args:{subject:y,schema:v,message:_}});return w.$_mutateRegister(y),w.$_mutateRegister(v),w},validate(y,{error:v,prefs:_,state:w},{subject:C,schema:S,message:T}){const A=C.resolve(y,w,_),N=m.isRef(C)?C.absolute(w):[];return S.$_match(A,w.localize(N,[y,...w.ancestors],S),_)?y:v("object.assert",{subject:C,message:T})},args:["subject","schema","message"],multi:!0},instance:{method(y,v){return d(typeof y=="function","constructor must be a function"),v=v||y.name,this.$_addRule({name:"instance",args:{constructor:y,name:v}})},validate:(y,v,{constructor:_,name:w})=>y instanceof _?y:v.error("object.instance",{type:w,value:y}),args:["constructor","name"]},keys:{method(y){d(y===void 0||typeof y=="object","Object schema must be a valid object"),d(!l.isSchema(y),"Object schema cannot be a joi schema");const v=this.clone();if(y)if(Object.keys(y).length){v.$_terms.keys=v.$_terms.keys?v.$_terms.keys.filter((_=>!y.hasOwnProperty(_.key))):new p.Keys;for(const _ in y)l.tryWithPath((()=>v.$_terms.keys.push({key:_,schema:this.$_compile(y[_])})),_)}else v.$_terms.keys=new p.Keys;else v.$_terms.keys=null;return v.$_mutateRebuild()}},length:{method(y){return this.$_addRule({name:"length",args:{limit:y},operator:"="})},validate:(y,v,{limit:_},{name:w,operator:C,args:S})=>l.compare(Object.keys(y).length,_,C)?y:v.error("object."+w,{limit:S.limit,value:y}),args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"}]},max:{method(y){return this.$_addRule({name:"max",method:"length",args:{limit:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"length",args:{limit:y},operator:">="})}},nand:{method(...y){return l.verifyFlat(y,"nand"),p.dependency(this,"nand",null,y)}},or:{method(...y){return l.verifyFlat(y,"or"),p.dependency(this,"or",null,y)}},oxor:{method(...y){return p.dependency(this,"oxor",null,y)}},pattern:{method(y,v,_={}){const w=y instanceof RegExp;w||(y=this.$_compile(y,{appendPath:!0})),d(v!==void 0,"Invalid rule"),l.assertOptions(_,["fallthrough","matches"]),w&&d(!y.flags.includes("g")&&!y.flags.includes("y"),"pattern should not use global or sticky mode"),v=this.$_compile(v,{appendPath:!0});const C=this.clone();C.$_terms.patterns=C.$_terms.patterns||[];const S={[w?"regex":"schema"]:y,rule:v};return _.matches&&(S.matches=this.$_compile(_.matches),S.matches.type!=="array"&&(S.matches=S.matches.$_root.array().items(S.matches)),C.$_mutateRegister(S.matches),C.$_setFlag("_hasPatternMatch",!0,{clone:!1})),_.fallthrough&&(S.fallthrough=!0),C.$_terms.patterns.push(S),C.$_mutateRegister(v),C}},ref:{method(){return this.$_addRule("ref")},validate:(y,v)=>m.isRef(y)?y:v.error("object.refType",{value:y})},regex:{method(){return this.$_addRule("regex")},validate:(y,v)=>y instanceof RegExp?y:v.error("object.regex",{value:y})},rename:{method(y,v,_={}){d(typeof y=="string"||y instanceof RegExp,"Rename missing the from argument"),d(typeof v=="string"||v instanceof x,"Invalid rename to argument"),d(v!==y,"Cannot rename key to same name:",y),l.assertOptions(_,["alias","ignoreUndefined","override","multiple"]);const w=this.clone();w.$_terms.renames=w.$_terms.renames||[];for(const C of w.$_terms.renames)d(C.from!==y,"Cannot rename the same key multiple times");return v instanceof x&&w.$_mutateRegister(v),w.$_terms.renames.push({from:y,to:v,options:i(p.renameDefaults,_)}),w}},schema:{method(y="any"){return this.$_addRule({name:"schema",args:{type:y}})},validate:(y,v,{type:_})=>!l.isSchema(y)||_!=="any"&&y.type!==_?v.error("object.schema",{type:_}):y},unknown:{method(y){return this.$_setFlag("unknown",y!==!1)}},with:{method(y,v,_={}){return p.dependency(this,"with",y,v,_)}},without:{method(y,v,_={}){return p.dependency(this,"without",y,v,_)}},xor:{method(...y){return l.verifyFlat(y,"xor"),p.dependency(this,"xor",null,y)}}},overrides:{default(y,v){return y===void 0&&(y=l.symbols.deepDefault),this.$_parent("default",y,v)}},rebuild(y){if(y.$_terms.keys){const v=new g.Sorter;for(const _ of y.$_terms.keys)l.tryWithPath((()=>v.add(_,{after:_.schema.$_rootReferences(),group:_.key})),_.key);y.$_terms.keys=new p.Keys(...v.nodes)}},manifest:{build(y,v){if(v.keys&&(y=y.keys(v.keys)),v.dependencies)for(const{rel:_,key:w=null,peers:C,options:S}of v.dependencies)y=p.dependency(y,_,w,C,S);if(v.patterns)for(const{regex:_,schema:w,rule:C,fallthrough:S,matches:T}of v.patterns)y=y.pattern(_||w,C,{fallthrough:S,matches:T});if(v.renames)for(const{from:_,to:w,options:C}of v.renames)y=y.rename(_,w,C);return y}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),p.clone=function(y,v){if(typeof y=="object"){if(v.nonEnumerables)return c(y,{shallow:!0});const w=Object.create(Object.getPrototypeOf(y));return Object.assign(w,y),w}const _=function(...w){return y.apply(this,w)};return _.prototype=c(y.prototype),Object.defineProperty(_,"name",{value:y.name,writable:!1}),Object.defineProperty(_,"length",{value:y.length,writable:!1}),Object.assign(_,y),_},p.dependency=function(y,v,_,w,C){d(_===null||typeof _=="string",v,"key must be a strings"),C||(C=w.length>1&&typeof w[w.length-1]=="object"?w.pop():{}),l.assertOptions(C,["separator","isPresent"]),w=[].concat(w);const S=l.default(C.separator,"."),T=[];for(const N of w)d(typeof N=="string",v,"peers must be strings"),T.push(f.ref(N,{separator:S,ancestor:0,prefix:!1}));_!==null&&(_=f.ref(_,{separator:S,ancestor:0,prefix:!1}));const A=y.clone();return A.$_terms.dependencies=A.$_terms.dependencies||[],A.$_terms.dependencies.push(new p.Dependency(v,_,T,w,C)),A},p.dependencies={and(y,v,_,w,C){const S=[],T=[],A=v.peers.length,N=p.isPresent(v.options);for(const L of v.peers)N(L.resolve(_,w,C,null,{shadow:!1}))===!1?S.push(L.key):T.push(L.key);if(S.length!==A&&T.length!==A)return{code:"object.and",context:{present:T,presentWithLabels:p.keysToLabels(y,T),missing:S,missingWithLabels:p.keysToLabels(y,S)}}},nand(y,v,_,w,C){const S=[],T=p.isPresent(v.options);for(const L of v.peers)T(L.resolve(_,w,C,null,{shadow:!1}))&&S.push(L.key);if(S.length!==v.peers.length)return;const A=v.paths[0],N=v.paths.slice(1);return{code:"object.nand",context:{main:A,mainWithLabel:p.keysToLabels(y,A),peers:N,peersWithLabels:p.keysToLabels(y,N)}}},or(y,v,_,w,C){const S=p.isPresent(v.options);for(const T of v.peers)if(S(T.resolve(_,w,C,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:v.paths,peersWithLabels:p.keysToLabels(y,v.paths)}}},oxor(y,v,_,w,C){const S=[],T=p.isPresent(v.options);for(const N of v.peers)T(N.resolve(_,w,C,null,{shadow:!1}))&&S.push(N.key);if(!S.length||S.length===1)return;const A={peers:v.paths,peersWithLabels:p.keysToLabels(y,v.paths)};return A.present=S,A.presentWithLabels=p.keysToLabels(y,S),{code:"object.oxor",context:A}},with(y,v,_,w,C){const S=p.isPresent(v.options);for(const T of v.peers)if(S(T.resolve(_,w,C,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:v.key.key,mainWithLabel:p.keysToLabels(y,v.key.key),peer:T.key,peerWithLabel:p.keysToLabels(y,T.key)}}},without(y,v,_,w,C){const S=p.isPresent(v.options);for(const T of v.peers)if(S(T.resolve(_,w,C,null,{shadow:!1})))return{code:"object.without",context:{main:v.key.key,mainWithLabel:p.keysToLabels(y,v.key.key),peer:T.key,peerWithLabel:p.keysToLabels(y,T.key)}}},xor(y,v,_,w,C){const S=[],T=p.isPresent(v.options);for(const N of v.peers)T(N.resolve(_,w,C,null,{shadow:!1}))&&S.push(N.key);if(S.length===1)return;const A={peers:v.paths,peersWithLabels:p.keysToLabels(y,v.paths)};return S.length===0?{code:"object.missing",context:A}:(A.present=S,A.presentWithLabels=p.keysToLabels(y,S),{code:"object.xor",context:A})}},p.keysToLabels=function(y,v){return Array.isArray(v)?v.map((_=>y.$_mapLabels(_))):y.$_mapLabels(v)},p.isPresent=function(y){return typeof y.isPresent=="function"?y.isPresent:v=>v!==void 0},p.rename=function(y,v,_,w,C){const S={};for(const T of y.$_terms.renames){const A=[],N=typeof T.from!="string";if(N)for(const L in v){if(v[L]===void 0&&T.options.ignoreUndefined||L===T.to)continue;const D=T.from.exec(L);D&&A.push({from:L,to:T.to,match:D})}else!Object.prototype.hasOwnProperty.call(v,T.from)||v[T.from]===void 0&&T.options.ignoreUndefined||A.push(T);for(const L of A){const D=L.from;let j=L.to;if(j instanceof x&&(j=j.render(v,_,w,L.match)),D!==j){if(!T.options.multiple&&S[j]&&(C.push(y.$_createError("object.rename.multiple",v,{from:D,to:j,pattern:N},_,w)),w.abortEarly)||Object.prototype.hasOwnProperty.call(v,j)&&!T.options.override&&!S[j]&&(C.push(y.$_createError("object.rename.override",v,{from:D,to:j,pattern:N},_,w)),w.abortEarly))return!1;v[D]===void 0?delete v[j]:v[j]=v[D],S[j]=!0,T.options.alias||delete v[D]}}}return!0},p.unknown=function(y,v,_,w,C,S){if(y.$_terms.patterns){let T=!1;const A=y.$_terms.patterns.map((L=>{if(L.matches)return T=!0,[]})),N=[v,...C.ancestors];for(const L of _){const D=v[L],j=[...C.path,L];for(let V=0;V<y.$_terms.patterns.length;++V){const z=y.$_terms.patterns[V];if(z.regex){const se=z.regex.test(L);if(C.mainstay.tracer.debug(C,"rule",`pattern.${V}`,se?"pass":"error"),!se)continue}else if(!z.schema.$_match(L,C.nest(z.schema,`pattern.${V}`),S))continue;_.delete(L);const $=C.localize(j,N,{schema:z.rule,key:L}),Q=z.rule.$_validate(D,$,S);if(Q.errors){if(S.abortEarly)return{value:v,errors:Q.errors};w.push(...Q.errors)}if(z.matches&&A[V].push(L),v[L]=Q.value,!z.fallthrough)break}}if(T)for(let L=0;L<A.length;++L){const D=A[L];if(!D)continue;const j=y.$_terms.patterns[L].matches,V=C.localize(C.path,N,j),z=j.$_validate(D,V,S);if(z.errors){const $=h.details(z.errors,{override:!1});$.matches=D;const Q=y.$_createError("object.pattern.match",v,$,C,S);if(S.abortEarly)return{value:v,errors:Q};w.push(Q)}}}if(_.size&&(y.$_terms.keys||y.$_terms.patterns)){if(S.stripUnknown&&y._flags.unknown===void 0||S.skipFunctions){const T=!(!S.stripUnknown||S.stripUnknown!==!0&&!S.stripUnknown.objects);for(const A of _)T?(delete v[A],_.delete(A)):typeof v[A]=="function"&&_.delete(A)}if(!l.default(y._flags.unknown,S.allowUnknown))for(const T of _){const A=C.localize([...C.path,T],[]),N=y.$_createError("object.unknown",v[T],{child:T},A,S,{flags:!1});if(S.abortEarly)return{value:v,errors:N};w.push(N)}}},p.Dependency=class{constructor(y,v,_,w,C){this.rel=y,this.key=v,this.peers=_,this.paths=w,this.options=C}describe(){const y={rel:this.rel,peers:this.paths};return this.key!==null&&(y.key=this.key.key),this.peers[0].separator!=="."&&(y.options={...y.options,separator:this.peers[0].separator}),this.options.isPresent&&(y.options={...y.options,isPresent:this.options.isPresent}),y}},p.Keys=class extends Array{concat(y){const v=this.slice(),_=new Map;for(let w=0;w<v.length;++w)_.set(v[w].key,w);for(const w of y){const C=w.key,S=_.get(C);S!==void 0?v[S]={key:C,schema:v[S].schema.concat(w.schema)}:v.push(w)}return v}}},8785:(s,a,o)=>{const i=o(375),d=o(8068),c=o(8160),g=o(3292),u=o(6354),l={};s.exports=d.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(f,h)=>f.ref(h),validate(f,{schema:h,state:m,prefs:x}){i(h.$_terms.link,"Uninitialized link schema");const p=l.generate(h,f,m,x),y=h.$_terms.link[0].ref;return p.$_validate(f,m.nest(p,`link:${y.display}:${p.type}`),x)},generate:(f,h,m,x)=>l.generate(f,h,m,x),rules:{ref:{method(f){i(!this.$_terms.link,"Cannot reinitialize schema"),f=g.ref(f),i(f.type==="value"||f.type==="local","Invalid reference type:",f.type),i(f.type==="local"||f.ancestor==="root"||f.ancestor>0,"Link cannot reference itself");const h=this.clone();return h.$_terms.link=[{ref:f}],h}},relative:{method(f=!0){return this.$_setFlag("relative",f)}}},overrides:{concat(f){i(this.$_terms.link,"Uninitialized link schema"),i(c.isSchema(f),"Invalid schema object"),i(f.type!=="link","Cannot merge type link with another link");const h=this.clone();return h.$_terms.whens||(h.$_terms.whens=[]),h.$_terms.whens.push({concat:f}),h.$_mutateRebuild()}},manifest:{build:(f,h)=>(i(h.link,"Invalid link description missing link"),f.ref(h.link))}}),l.generate=function(f,h,m,x){let p=m.mainstay.links.get(f);if(p)return p._generate(h,m,x).schema;const y=f.$_terms.link[0].ref,{perspective:v,path:_}=l.perspective(y,m);l.assert(v,"which is outside of schema boundaries",y,f,m,x);try{p=_.length?v.$_reach(_):v}catch{l.assert(!1,"to non-existing schema",y,f,m,x)}return l.assert(p.type!=="link","which is another link",y,f,m,x),f._flags.relative||m.mainstay.links.set(f,p),p._generate(h,m,x).schema},l.perspective=function(f,h){if(f.type==="local"){for(const{schema:m,key:x}of h.schemas){if((m._flags.id||x)===f.path[0])return{perspective:m,path:f.path.slice(1)};if(m.$_terms.shared){for(const p of m.$_terms.shared)if(p._flags.id===f.path[0])return{perspective:p,path:f.path.slice(1)}}}return{perspective:null,path:null}}return f.ancestor==="root"?{perspective:h.schemas[h.schemas.length-1].schema,path:f.path}:{perspective:h.schemas[f.ancestor]&&h.schemas[f.ancestor].schema,path:f.path}},l.assert=function(f,h,m,x,p,y){f||i(!1,`"${u.label(x._flags,p,y)}" contains link reference "${m.display}" ${h}`)}},3832:(s,a,o)=>{const i=o(375),d=o(8068),c=o(8160),g={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(u){const l=u.toString(),f=l.indexOf("."),h=l.indexOf("e");return(f<0?0:(h<0?l.length:h)-f-1)+(h<0?0:Math.max(0,-parseInt(l.slice(h+1))))}};s.exports=d.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(u,{schema:l,error:f}){if(!u.match(g.numberRx))return;u=u.trim();const h={value:parseFloat(u)};if(h.value===0&&(h.value=0),!l._flags.unsafe)if(u.match(/e/i)){if(g.extractSignificantDigits(u)!==g.extractSignificantDigits(String(h.value)))return h.errors=f("number.unsafe"),h}else{const m=h.value.toString();if(m.match(/e/i))return h;if(m!==g.normalizeDecimal(u))return h.errors=f("number.unsafe"),h}return h}},validate(u,{schema:l,error:f,prefs:h}){if(u===1/0||u===-1/0)return{value:u,errors:f("number.infinity")};if(!c.isNumber(u))return{value:u,errors:f("number.base")};const m={value:u};if(h.convert){const x=l.$_getRule("precision");if(x){const p=Math.pow(10,x.args.limit);m.value=Math.round(m.value*p)/p}}return m.value===0&&(m.value=0),!l._flags.unsafe&&(u>Number.MAX_SAFE_INTEGER||u<Number.MIN_SAFE_INTEGER)&&(m.errors=f("number.unsafe")),m},rules:{compare:{method:!1,validate:(u,l,{limit:f},{name:h,operator:m,args:x})=>c.compare(u,f,m)?u:l.error("number."+h,{limit:x.limit,value:u}),args:[{name:"limit",ref:!0,assert:c.isNumber,message:"must be a number"}]},greater:{method(u){return this.$_addRule({name:"greater",method:"compare",args:{limit:u},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(u,l)=>Math.trunc(u)-u==0?u:l.error("number.integer")},less:{method(u){return this.$_addRule({name:"less",method:"compare",args:{limit:u},operator:"<"})}},max:{method(u){return this.$_addRule({name:"max",method:"compare",args:{limit:u},operator:"<="})}},min:{method(u){return this.$_addRule({name:"min",method:"compare",args:{limit:u},operator:">="})}},multiple:{method(u){const l=typeof u=="number"?g.decimalPlaces(u):null,f=Math.pow(10,l);return this.$_addRule({name:"multiple",args:{base:u,baseDecimalPlace:l,pfactor:f}})},validate:(u,l,{base:f,baseDecimalPlace:h,pfactor:m},x)=>g.decimalPlaces(u)>h?l.error("number.multiple",{multiple:x.args.base,value:u}):Math.round(m*u)%Math.round(m*f)==0?u:l.error("number.multiple",{multiple:x.args.base,value:u}),args:[{name:"base",ref:!0,assert:u=>typeof u=="number"&&isFinite(u)&&u>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(u,l)=>Number.isSafeInteger(u)&&u>=0&&u<=65535?u:l.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(u){return i(Number.isSafeInteger(u),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:u}})},validate(u,l,{limit:f}){const h=u.toString().match(g.precisionRx);return Math.max((h[1]?h[1].length:0)-(h[2]?parseInt(h[2],10):0),0)<=f?u:l.error("number.precision",{limit:f,value:u})},convert:!0},sign:{method(u){return i(["negative","positive"].includes(u),"Invalid sign",u),this.$_addRule({name:"sign",args:{sign:u}})},validate:(u,l,{sign:f})=>f==="negative"&&u<0||f==="positive"&&u>0?u:l.error(`number.${f}`)},unsafe:{method(u=!0){return i(typeof u=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",u)}}},cast:{string:{from:u=>typeof u=="number",to:(u,l)=>u.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),g.extractSignificantDigits=function(u){return u.replace(g.exponentialPartRegex,"").replace(g.dotRegex,"").replace(g.trailingZerosRegex,"").replace(g.leadingSignAndZerosRegex,"")},g.normalizeDecimal=function(u){return(u=u.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&u.endsWith("0")&&(u=u.replace(/0+$/,"")),u==="-0"?"0":u}},8966:(s,a,o)=>{const i=o(7824);s.exports=i.extend({type:"object",cast:{map:{from:d=>d&&typeof d=="object",to:(d,c)=>new Map(Object.entries(d))}}})},7417:(s,a,o)=>{const i=o(375),d=o(5380),c=o(1745),g=o(9959),u=o(6064),l=o(9926),f=o(5752),h=o(8068),m=o(8160),x={tlds:l instanceof Set&&{tlds:{allow:l,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:g.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};s.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(p,{schema:y,state:v,prefs:_}){const w=y.$_getRule("normalize");w&&(p=p.normalize(w.args.form));const C=y.$_getRule("case");C&&(p=C.args.direction==="upper"?p.toLocaleUpperCase():p.toLocaleLowerCase());const S=y.$_getRule("trim");if(S&&S.args.enabled&&(p=p.trim()),y.$_terms.replacements)for(const A of y.$_terms.replacements)p=p.replace(A.pattern,A.replacement);const T=y.$_getRule("hex");if(T&&T.args.options.byteAligned&&p.length%2!=0&&(p=`0${p}`),y.$_getRule("isoDate")){const A=x.isoDate(p);A&&(p=A)}if(y._flags.truncate){const A=y.$_getRule("max");if(A){let N=A.args.limit;if(m.isResolvable(N)&&(N=N.resolve(p,v,_),!m.limit(N)))return{value:p,errors:y.$_createError("any.ref",N,{ref:A.args.limit,arg:"limit",reason:"must be a positive integer"},v,_)};p=p.slice(0,N)}}return{value:p}}},validate(p,{schema:y,error:v}){if(typeof p!="string")return{value:p,errors:v("string.base")};if(p===""){const _=y.$_getRule("min");return _&&_.args.limit===0?void 0:{value:p,errors:v("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(p,y)=>/^[a-zA-Z0-9]+$/.test(p)?p:y.error("string.alphanum")},base64:{method(p={}){return m.assertOptions(p,["paddingRequired","urlSafe"]),p={urlSafe:!1,paddingRequired:!0,...p},i(typeof p.paddingRequired=="boolean","paddingRequired must be boolean"),i(typeof p.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:p}})},validate:(p,y,{options:v})=>x.base64Regex[v.paddingRequired][v.urlSafe].test(p)?p:y.error("string.base64")},case:{method(p){return i(["lower","upper"].includes(p),"Invalid case:",p),this.$_addRule({name:"case",args:{direction:p}})},validate:(p,y,{direction:v})=>v==="lower"&&p===p.toLocaleLowerCase()||v==="upper"&&p===p.toLocaleUpperCase()?p:y.error(`string.${v}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(p,y){let v=p.length,_=0,w=1;for(;v--;){const C=p.charAt(v)*w;_+=C-9*(C>9),w^=3}return _>0&&_%10==0?p:y.error("string.creditCard")}},dataUri:{method(p={}){return m.assertOptions(p,["paddingRequired"]),p={paddingRequired:!0,...p},i(typeof p.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:p}})},validate(p,y,{options:v}){const _=p.match(x.dataUriRegex);return _&&(!_[2]||_[2]!=="base64"||x.base64Regex[v.paddingRequired].false.test(_[3]))?p:y.error("string.dataUri")}},domain:{method(p){p&&m.assertOptions(p,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const y=x.addressOptions(p);return this.$_addRule({name:"domain",args:{options:p},address:y})},validate:(p,y,v,{address:_})=>d.isValid(p,_)?p:y.error("string.domain")},email:{method(p={}){m.assertOptions(p,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),i(p.multiple===void 0||typeof p.multiple=="boolean","multiple option must be an boolean");const y=x.addressOptions(p),v=new RegExp(`\\s*[${p.separator?u(p.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:p},regex:v,address:y})},validate(p,y,{options:v},{regex:_,address:w}){const C=v.multiple?p.split(_):[p],S=[];for(const T of C)c.isValid(T,w)||S.push(T);return S.length?y.error("string.email",{value:p,invalids:S}):p}},guid:{alias:"uuid",method(p={}){m.assertOptions(p,["version","separator"]);let y="";if(p.version){const w=[].concat(p.version);i(w.length>=1,"version must have at least 1 valid version specified");const C=new Set;for(let S=0;S<w.length;++S){const T=w[S];i(typeof T=="string","version at position "+S+" must be a string");const A=x.guidVersions[T.toLowerCase()];i(A,"version at position "+S+" must be one of "+Object.keys(x.guidVersions).join(", ")),i(!C.has(A),"version at position "+S+" must not be a duplicate"),y+=A,C.add(A)}}i(x.guidSeparators.has(p.separator),'separator must be one of true, false, "-", or ":"');const v=p.separator===void 0?"[:-]?":p.separator===!0?"[:-]":p.separator===!1?"[]?":`\\${p.separator}`,_=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${v})[0-9A-F]{4}\\2?[${y||"0-9A-F"}][0-9A-F]{3}\\2?[${y?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:p},regex:_})},validate(p,y,v,{regex:_}){const w=_.exec(p);return w?x.guidBrackets[w[1]]!==w[w.length-1]?y.error("string.guid"):p:y.error("string.guid")}},hex:{method(p={}){return m.assertOptions(p,["byteAligned","prefix"]),p={byteAligned:!1,prefix:!1,...p},i(typeof p.byteAligned=="boolean","byteAligned must be boolean"),i(typeof p.prefix=="boolean"||p.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:p}})},validate:(p,y,{options:v})=>(v.prefix==="optional"?x.hexRegex.withOptionalPrefix:v.prefix===!0?x.hexRegex.withPrefix:x.hexRegex.withoutPrefix).test(p)?v.byteAligned&&p.length%2!=0?y.error("string.hexAlign"):p:y.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(p,y)=>d.isValid(p,{minDomainSegments:1})||x.ipRegex.test(p)?p:y.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(p={}){m.assertOptions(p,["cidr","version"]);const{cidr:y,versions:v,regex:_}=g.regex(p),w=p.version?v:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:y,version:w}},regex:_})},validate:(p,y,{options:v},{regex:_})=>_.test(p)?p:v.version?y.error("string.ipVersion",{value:p,cidr:v.cidr,version:v.version}):y.error("string.ip",{value:p,cidr:v.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(p,{error:y})=>x.isoDate(p)?p:y("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(p,y)=>x.isoDurationRegex.test(p)?p:y.error("string.isoDuration")},length:{method(p,y){return x.length(this,"length",p,"=",y)},validate(p,y,{limit:v,encoding:_},{name:w,operator:C,args:S}){const T=!_&&p.length;return m.compare(T,v,C)?p:y.error("string."+w,{limit:S.limit,value:p,encoding:_})},args:[{name:"limit",ref:!0,assert:m.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(p,y){return x.length(this,"max",p,"<=",y)},args:["limit","encoding"]},min:{method(p,y){return x.length(this,"min",p,">=",y)},args:["limit","encoding"]},normalize:{method(p="NFC"){return i(x.normalizationForms.includes(p),"normalization form must be one of "+x.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:p}})},validate:(p,{error:y},{form:v})=>p===p.normalize(v)?p:y("string.normalize",{value:p,form:v}),convert:!0},pattern:{alias:"regex",method(p,y={}){i(p instanceof RegExp,"regex must be a RegExp"),i(!p.flags.includes("g")&&!p.flags.includes("y"),"regex should not use global or sticky mode"),typeof y=="string"&&(y={name:y}),m.assertOptions(y,["invert","name"]);const v=["string.pattern",y.invert?".invert":"",y.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:p,options:y},errorCode:v})},validate:(p,y,{regex:v,options:_},{errorCode:w})=>v.test(p)^_.invert?p:y.error(w,{name:_.name,regex:v,value:p}),args:["regex","options"],multi:!0},replace:{method(p,y){typeof p=="string"&&(p=new RegExp(u(p),"g")),i(p instanceof RegExp,"pattern must be a RegExp"),i(typeof y=="string","replacement must be a String");const v=this.clone();return v.$_terms.replacements||(v.$_terms.replacements=[]),v.$_terms.replacements.push({pattern:p,replacement:y}),v}},token:{method(){return this.$_addRule("token")},validate:(p,y)=>/^\w+$/.test(p)?p:y.error("string.token")},trim:{method(p=!0){return i(typeof p=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:p}})},validate:(p,y,{enabled:v})=>v&&p!==p.trim()?y.error("string.trim"):p,convert:!0},truncate:{method(p=!0){return i(typeof p=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",p)}},uppercase:{method(){return this.case("upper")}},uri:{method(p={}){m.assertOptions(p,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),p.domain&&m.assertOptions(p.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:y,scheme:v}=f.regex(p),_=p.domain?x.addressOptions(p.domain):null;return this.$_addRule({name:"uri",args:{options:p},regex:y,domain:_,scheme:v})},validate(p,y,{options:v},{regex:_,domain:w,scheme:C}){if(["http:/","https:/"].includes(p))return y.error("string.uri");let S=_.exec(p);if(!S&&y.prefs.convert&&v.encodeUri){const T=encodeURI(p);S=_.exec(T),S&&(p=T)}if(S){const T=S[1]||S[2];return!w||v.allowRelative&&!T||d.isValid(T,w)?p:y.error("string.domain",{value:T})}return v.relativeOnly?y.error("string.uriRelativeOnly"):v.scheme?y.error("string.uriCustomScheme",{scheme:C,value:p}):y.error("string.uri")}}},manifest:{build(p,y){if(y.replacements)for(const{pattern:v,replacement:_}of y.replacements)p=p.replace(v,_);return p}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),x.addressOptions=function(p){if(!p)return x.tlds||p;if(i(p.minDomainSegments===void 0||Number.isSafeInteger(p.minDomainSegments)&&p.minDomainSegments>0,"minDomainSegments must be a positive integer"),i(p.maxDomainSegments===void 0||Number.isSafeInteger(p.maxDomainSegments)&&p.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),p.tlds===!1)return p;if(p.tlds===!0||p.tlds===void 0)return i(x.tlds,"Built-in TLD list disabled"),Object.assign({},p,x.tlds);i(typeof p.tlds=="object","tlds must be true, false, or an object");const y=p.tlds.deny;if(y)return Array.isArray(y)&&(p=Object.assign({},p,{tlds:{deny:new Set(y)}})),i(p.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),i(!p.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),x.validateTlds(p.tlds.deny,"tlds.deny"),p;const v=p.tlds.allow;return v?v===!0?(i(x.tlds,"Built-in TLD list disabled"),Object.assign({},p,x.tlds)):(Array.isArray(v)&&(p=Object.assign({},p,{tlds:{allow:new Set(v)}})),i(p.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),x.validateTlds(p.tlds.allow,"tlds.allow"),p):p},x.validateTlds=function(p,y){for(const v of p)i(d.isValid(v,{minDomainSegments:1,maxDomainSegments:1}),`${y} must contain valid top level domain names`)},x.isoDate=function(p){if(!m.isIsoDate(p))return null;/.*T.*[+-]\d\d$/.test(p)&&(p+="00");const y=new Date(p);return isNaN(y.getTime())?null:y.toISOString()},x.length=function(p,y,v,_,w){return i(!w||!1,"Invalid encoding:",w),p.$_addRule({name:y,method:"length",args:{limit:v,encoding:w},operator:_})}},8826:(s,a,o)=>{const i=o(375),d=o(8068),c={};c.Map=class extends Map{slice(){return new c.Map(this)}},s.exports=d.extend({type:"symbol",terms:{map:{init:new c.Map}},coerce:{method(g,{schema:u,error:l}){const f=u.$_terms.map.get(g);return f&&(g=f),u._flags.only&&typeof g!="symbol"?{value:g,errors:l("symbol.map",{map:u.$_terms.map})}:{value:g}}},validate(g,{error:u}){if(typeof g!="symbol")return{value:g,errors:u("symbol.base")}},rules:{map:{method(g){g&&!g[Symbol.iterator]&&typeof g=="object"&&(g=Object.entries(g)),i(g&&g[Symbol.iterator],"Iterable must be an iterable or object");const u=this.clone(),l=[];for(const f of g){i(f&&f[Symbol.iterator],"Entry must be an iterable");const[h,m]=f;i(typeof h!="object"&&typeof h!="function"&&typeof h!="symbol","Key must not be of type object, function, or Symbol"),i(typeof m=="symbol","Value must be a Symbol"),u.$_terms.map.set(h,m),l.push(m)}return u.valid(...l)}}},manifest:{build:(g,u)=>(u.map&&(g=g.map(u.map)),g)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(s,a,o)=>{const i=o(375),d=o(8571),c=o(738),g=o(9621),u=o(8160),l=o(6354),f=o(493),h={result:Symbol("result")};a.entry=function(m,x,p){let y=u.defaults;p&&(i(p.warnings===void 0,"Cannot override warnings preference in synchronous validation"),i(p.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),y=u.preferences(u.defaults,p));const v=h.entry(m,x,y);i(!v.mainstay.externals.length,"Schema with external rules must use validateAsync()");const _={value:v.value};return v.error&&(_.error=v.error),v.mainstay.warnings.length&&(_.warning=l.details(v.mainstay.warnings)),v.mainstay.debug&&(_.debug=v.mainstay.debug),v.mainstay.artifacts&&(_.artifacts=v.mainstay.artifacts),_},a.entryAsync=async function(m,x,p){let y=u.defaults;p&&(y=u.preferences(u.defaults,p));const v=h.entry(m,x,y),_=v.mainstay;if(v.error)throw _.debug&&(v.error.debug=_.debug),v.error;if(_.externals.length){let C=v.value;const S=[];for(const T of _.externals){const A=T.state.path,N=T.schema.type==="link"?_.links.get(T.schema):null;let L,D,j=C;const V=A.length?[C]:[],z=A.length?g(m,A):m;if(A.length){L=A[A.length-1];let $=C;for(const Q of A.slice(0,-1))$=$[Q],V.unshift($);D=V[0],j=D[L]}try{const $=(se,ge)=>(N||T.schema).$_createError(se,j,ge,T.state,y),Q=await T.method(j,{schema:T.schema,linked:N,state:T.state,prefs:p,original:z,error:$,errorsArray:h.errorsArray,warn:(se,ge)=>_.warnings.push((N||T.schema).$_createError(se,j,ge,T.state,y)),message:(se,ge)=>(N||T.schema).$_createError("external",j,ge,T.state,y,{messages:se})});if(Q===void 0||Q===j)continue;if(Q instanceof l.Report){if(_.tracer.log(T.schema,T.state,"rule","external","error"),S.push(Q),y.abortEarly)break;continue}if(Array.isArray(Q)&&Q[u.symbols.errors]){if(_.tracer.log(T.schema,T.state,"rule","external","error"),S.push(...Q),y.abortEarly)break;continue}D?(_.tracer.value(T.state,"rule",j,Q,"external"),D[L]=Q):(_.tracer.value(T.state,"rule",C,Q,"external"),C=Q)}catch($){throw y.errors.label&&($.message+=` (${T.label})`),$}}if(v.value=C,S.length)throw v.error=l.process(S,m,y),_.debug&&(v.error.debug=_.debug),v.error}if(!y.warnings&&!y.debug&&!y.artifacts)return v.value;const w={value:v.value};return _.warnings.length&&(w.warning=l.details(_.warnings)),_.debug&&(w.debug=_.debug),_.artifacts&&(w.artifacts=_.artifacts),w},h.Mainstay=class{constructor(m,x,p){this.externals=[],this.warnings=[],this.tracer=m,this.debug=x,this.links=p,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const m=this._snapshots.pop();this.externals=m.externals,this.warnings=m.warnings}commit(){this._snapshots.pop()}},h.entry=function(m,x,p){const{tracer:y,cleanup:v}=h.tracer(x,p),_=p.debug?[]:null,w=x._ids._schemaChain?new Map:null,C=new h.Mainstay(y,_,w),S=x._ids._schemaChain?[{schema:x}]:null,T=new f([],[],{mainstay:C,schemas:S}),A=a.validate(m,x,T,p);v&&x.$_root.untrace();const N=l.process(A.errors,m,p);return{value:A.value,error:N,mainstay:C}},h.tracer=function(m,x){return m.$_root._tracer?{tracer:m.$_root._tracer._register(m)}:x.debug?(i(m.$_root.trace,"Debug mode not supported"),{tracer:m.$_root.trace()._register(m),cleanup:!0}):{tracer:h.ignore}},a.validate=function(m,x,p,y,v={}){if(x.$_terms.whens&&(x=x._generate(m,p,y).schema),x._preferences&&(y=h.prefs(x,y)),x._cache&&y.cache){const N=x._cache.get(m);if(p.mainstay.tracer.debug(p,"validate","cached",!!N),N)return N}const _=(N,L,D)=>x.$_createError(N,m,L,D||p,y),w={original:m,prefs:y,schema:x,state:p,error:_,errorsArray:h.errorsArray,warn:(N,L,D)=>p.mainstay.warnings.push(_(N,L,D)),message:(N,L)=>x.$_createError("custom",m,L,p,y,{messages:N})};p.mainstay.tracer.entry(x,p);const C=x._definition;if(C.prepare&&m!==void 0&&y.convert){const N=C.prepare(m,w);if(N){if(p.mainstay.tracer.value(p,"prepare",m,N.value),N.errors)return h.finalize(N.value,[].concat(N.errors),w);m=N.value}}if(C.coerce&&m!==void 0&&y.convert&&(!C.coerce.from||C.coerce.from.includes(typeof m))){const N=C.coerce.method(m,w);if(N){if(p.mainstay.tracer.value(p,"coerced",m,N.value),N.errors)return h.finalize(N.value,[].concat(N.errors),w);m=N.value}}const S=x._flags.empty;S&&S.$_match(h.trim(m,x),p.nest(S),u.defaults)&&(p.mainstay.tracer.value(p,"empty",m,void 0),m=void 0);const T=v.presence||x._flags.presence||(x._flags._endedSwitch?null:y.presence);if(m===void 0){if(T==="forbidden")return h.finalize(m,null,w);if(T==="required")return h.finalize(m,[x.$_createError("any.required",m,null,p,y)],w);if(T==="optional"){if(x._flags.default!==u.symbols.deepDefault)return h.finalize(m,null,w);p.mainstay.tracer.value(p,"default",m,{}),m={}}}else if(T==="forbidden")return h.finalize(m,[x.$_createError("any.unknown",m,null,p,y)],w);const A=[];if(x._valids){const N=x._valids.get(m,p,y,x._flags.insensitive);if(N)return y.convert&&(p.mainstay.tracer.value(p,"valids",m,N.value),m=N.value),p.mainstay.tracer.filter(x,p,"valid",N),h.finalize(m,null,w);if(x._flags.only){const L=x.$_createError("any.only",m,{valids:x._valids.values({display:!0})},p,y);if(y.abortEarly)return h.finalize(m,[L],w);A.push(L)}}if(x._invalids){const N=x._invalids.get(m,p,y,x._flags.insensitive);if(N){p.mainstay.tracer.filter(x,p,"invalid",N);const L=x.$_createError("any.invalid",m,{invalids:x._invalids.values({display:!0})},p,y);if(y.abortEarly)return h.finalize(m,[L],w);A.push(L)}}if(C.validate){const N=C.validate(m,w);if(N&&(p.mainstay.tracer.value(p,"base",m,N.value),m=N.value,N.errors)){if(!Array.isArray(N.errors))return A.push(N.errors),h.finalize(m,A,w);if(N.errors.length)return A.push(...N.errors),h.finalize(m,A,w)}}return x._rules.length?h.rules(m,A,w):h.finalize(m,A,w)},h.rules=function(m,x,p){const{schema:y,state:v,prefs:_}=p;for(const w of y._rules){const C=y._definition.rules[w.method];if(C.convert&&_.convert){v.mainstay.tracer.log(y,v,"rule",w.name,"full");continue}let S,T=w.args;if(w._resolve.length){T=Object.assign({},T);for(const N of w._resolve){const L=C.argsByName.get(N),D=T[N].resolve(m,v,_),j=L.normalize?L.normalize(D):D,V=u.validateArg(j,null,L);if(V){S=y.$_createError("any.ref",D,{arg:N,ref:T[N],reason:V},v,_);break}T[N]=j}}S=S||C.validate(m,p,T,w);const A=h.rule(S,w);if(A.errors){if(v.mainstay.tracer.log(y,v,"rule",w.name,"error"),w.warn){v.mainstay.warnings.push(...A.errors);continue}if(_.abortEarly)return h.finalize(m,A.errors,p);x.push(...A.errors)}else v.mainstay.tracer.log(y,v,"rule",w.name,"pass"),v.mainstay.tracer.value(v,"rule",m,A.value,w.name),m=A.value}return h.finalize(m,x,p)},h.rule=function(m,x){return m instanceof l.Report?(h.error(m,x),{errors:[m],value:null}):Array.isArray(m)&&m[u.symbols.errors]?(m.forEach((p=>h.error(p,x))),{errors:m,value:null}):{errors:null,value:m}},h.error=function(m,x){return x.message&&m._setTemplate(x.message),m},h.finalize=function(m,x,p){x=x||[];const{schema:y,state:v,prefs:_}=p;if(x.length){const C=h.default("failover",void 0,x,p);C!==void 0&&(v.mainstay.tracer.value(v,"failover",m,C),m=C,x=[])}if(x.length&&y._flags.error)if(typeof y._flags.error=="function"){x=y._flags.error(x),Array.isArray(x)||(x=[x]);for(const C of x)i(C instanceof Error||C instanceof l.Report,"error() must return an Error object")}else x=[y._flags.error];if(m===void 0){const C=h.default("default",m,x,p);v.mainstay.tracer.value(v,"default",m,C),m=C}if(y._flags.cast&&m!==void 0){const C=y._definition.cast[y._flags.cast];if(C.from(m)){const S=C.to(m,p);v.mainstay.tracer.value(v,"cast",m,S,y._flags.cast),m=S}}if(y.$_terms.externals&&_.externals&&_._externals!==!1)for(const{method:C}of y.$_terms.externals)v.mainstay.externals.push({method:C,schema:y,state:v,label:l.label(y._flags,v,_)});const w={value:m,errors:x.length?x:null};return y._flags.result&&(w.value=y._flags.result==="strip"?void 0:p.original,v.mainstay.tracer.value(v,y._flags.result,m,w.value),v.shadow(m,y._flags.result)),y._cache&&_.cache!==!1&&!y._refs.length&&y._cache.set(p.original,w),m===void 0||w.errors||y._flags.artifact===void 0||(v.mainstay.artifacts=v.mainstay.artifacts||new Map,v.mainstay.artifacts.has(y._flags.artifact)||v.mainstay.artifacts.set(y._flags.artifact,[]),v.mainstay.artifacts.get(y._flags.artifact).push(v.path)),w},h.prefs=function(m,x){const p=x===u.defaults;return p&&m._preferences[u.symbols.prefs]?m._preferences[u.symbols.prefs]:(x=u.preferences(x,m._preferences),p&&(m._preferences[u.symbols.prefs]=x),x)},h.default=function(m,x,p,y){const{schema:v,state:_,prefs:w}=y,C=v._flags[m];if(w.noDefaults||C===void 0)return x;if(_.mainstay.tracer.log(v,_,"rule",m,"full"),!C)return C;if(typeof C=="function"){const S=C.length?[d(_.ancestors[0]),y]:[];try{return C(...S)}catch(T){return void p.push(v.$_createError(`any.${m}`,null,{error:T},_,w))}}return typeof C!="object"?C:C[u.symbols.literal]?C.literal:u.isResolvable(C)?C.resolve(x,_,w):d(C)},h.trim=function(m,x){if(typeof m!="string")return m;const p=x.$_getRule("trim");return p&&p.args.enabled?m.trim():m},h.ignore={active:!1,debug:c,entry:c,filter:c,log:c,resolve:c,value:c},h.errorsArray=function(){const m=[];return m[u.symbols.errors]=!0,m}},2036:(s,a,o)=>{const i=o(375),d=o(9474),c=o(8160),g={};s.exports=g.Values=class{constructor(u,l){this._values=new Set(u),this._refs=new Set(l),this._lowercase=g.lowercases(u),this._override=!1}get length(){return this._values.size+this._refs.size}add(u,l){c.isResolvable(u)?this._refs.has(u)||(this._refs.add(u),l&&l.register(u)):this.has(u,null,null,!1)||(this._values.add(u),typeof u=="string"&&this._lowercase.set(u.toLowerCase(),u))}static merge(u,l,f){if(u=u||new g.Values,l){if(l._override)return l.clone();for(const h of[...l._values,...l._refs])u.add(h)}if(f)for(const h of[...f._values,...f._refs])u.remove(h);return u.length?u:null}remove(u){c.isResolvable(u)?this._refs.delete(u):(this._values.delete(u),typeof u=="string"&&this._lowercase.delete(u.toLowerCase()))}has(u,l,f,h){return!!this.get(u,l,f,h)}get(u,l,f,h){if(!this.length)return!1;if(this._values.has(u))return{value:u};if(typeof u=="string"&&u&&h){const m=this._lowercase.get(u.toLowerCase());if(m)return{value:m}}if(!this._refs.size&&typeof u!="object")return!1;if(typeof u=="object"){for(const m of this._values)if(d(m,u))return{value:m}}if(l)for(const m of this._refs){const x=m.resolve(u,l,f,null,{in:!0});if(x===void 0)continue;const p=m.in&&typeof x=="object"?Array.isArray(x)?x:Object.keys(x):[x];for(const y of p)if(typeof y==typeof u){if(h&&u&&typeof u=="string"){if(y.toLowerCase()===u.toLowerCase())return{value:y,ref:m}}else if(d(y,u))return{value:y,ref:m}}}return!1}override(){this._override=!0}values(u){if(u&&u.display){const l=[];for(const f of[...this._values,...this._refs])f!==void 0&&l.push(f);return l}return Array.from([...this._values,...this._refs])}clone(){const u=new g.Values(this._values,this._refs);return u._override=this._override,u}concat(u){i(!u._override,"Cannot concat override set of values");const l=new g.Values([...this._values,...u._values],[...this._refs,...u._refs]);return l._override=this._override,l}describe(){const u=[];this._override&&u.push({override:!0});for(const l of this._values.values())u.push(l&&typeof l=="object"?{value:l}:l);for(const l of this._refs.values())u.push(l.describe());return u}},g.Values.prototype[c.symbols.values]=!0,g.Values.prototype.slice=g.Values.prototype.clone,g.lowercases=function(u){const l=new Map;if(u)for(const f of u)typeof f=="string"&&l.set(f.toLowerCase(),f);return l}},978:(s,a,o)=>{const i=o(375),d=o(8571),c=o(1687),g=o(9621),u={};s.exports=function(l,f,h={}){if(i(l&&typeof l=="object","Invalid defaults value: must be an object"),i(!f||f===!0||typeof f=="object","Invalid source value: must be true, falsy or an object"),i(typeof h=="object","Invalid options: must be an object"),!f)return null;if(h.shallow)return u.applyToDefaultsWithShallow(l,f,h);const m=d(l);if(f===!0)return m;const x=h.nullOverride!==void 0&&h.nullOverride;return c(m,f,{nullOverride:x,mergeArrays:!1})},u.applyToDefaultsWithShallow=function(l,f,h){const m=h.shallow;i(Array.isArray(m),"Invalid keys");const x=new Map,p=f===!0?null:new Set;for(let _ of m){_=Array.isArray(_)?_:_.split(".");const w=g(l,_);w&&typeof w=="object"?x.set(w,p&&g(f,_)||w):p&&p.add(_)}const y=d(l,{},x);if(!p)return y;for(const _ of p)u.reachCopy(y,f,_);const v=h.nullOverride!==void 0&&h.nullOverride;return c(y,f,{nullOverride:v,mergeArrays:!1})},u.reachCopy=function(l,f,h){for(const p of h){if(!(p in f))return;const y=f[p];if(typeof y!="object"||y===null)return;f=y}const m=f;let x=l;for(let p=0;p<h.length-1;++p){const y=h[p];typeof x[y]!="object"&&(x[y]={}),x=x[y]}x[h[h.length-1]]=m}},375:(s,a,o)=>{const i=o(7916);s.exports=function(d,...c){if(!d)throw c.length===1&&c[0]instanceof Error?c[0]:new i(c)}},8571:(s,a,o)=>{const i=o(9621),d=o(4277),c=o(7043),g={needsProtoHack:new Set([d.set,d.map,d.weakSet,d.weakMap])};s.exports=g.clone=function(u,l={},f=null){if(typeof u!="object"||u===null)return u;let h=g.clone,m=f;if(l.shallow){if(l.shallow!==!0)return g.cloneWithShallow(u,l);h=v=>v}else if(m){const v=m.get(u);if(v)return v}else m=new Map;const x=d.getInternalProto(u);if(x===d.buffer)return!1;if(x===d.date)return new Date(u.getTime());if(x===d.regex)return new RegExp(u);const p=g.base(u,x,l);if(p===u)return u;if(m&&m.set(u,p),x===d.set)for(const v of u)p.add(h(v,l,m));else if(x===d.map)for(const[v,_]of u)p.set(v,h(_,l,m));const y=c.keys(u,l);for(const v of y){if(v==="__proto__")continue;if(x===d.array&&v==="length"){p.length=u.length;continue}const _=Object.getOwnPropertyDescriptor(u,v);_?_.get||_.set?Object.defineProperty(p,v,_):_.enumerable?p[v]=h(u[v],l,m):Object.defineProperty(p,v,{enumerable:!1,writable:!0,configurable:!0,value:h(u[v],l,m)}):Object.defineProperty(p,v,{enumerable:!0,writable:!0,configurable:!0,value:h(u[v],l,m)})}return p},g.cloneWithShallow=function(u,l){const f=l.shallow;(l=Object.assign({},l)).shallow=!1;const h=new Map;for(const m of f){const x=i(u,m);typeof x!="object"&&typeof x!="function"||h.set(x,x)}return g.clone(u,l,h)},g.base=function(u,l,f){if(f.prototype===!1)return g.needsProtoHack.has(l)?new l.constructor:l===d.array?[]:{};const h=Object.getPrototypeOf(u);if(h&&h.isImmutable)return u;if(l===d.array){const m=[];return h!==l&&Object.setPrototypeOf(m,h),m}if(g.needsProtoHack.has(l)){const m=new h.constructor;return h!==l&&Object.setPrototypeOf(m,h),m}return Object.create(h)}},9474:(s,a,o)=>{const i=o(4277),d={mismatched:null};s.exports=function(c,g,u){return u=Object.assign({prototype:!0},u),!!d.isDeepEqual(c,g,u,[])},d.isDeepEqual=function(c,g,u,l){if(c===g)return c!==0||1/c==1/g;const f=typeof c;if(f!==typeof g||c===null||g===null)return!1;if(f==="function"){if(!u.deepFunction||c.toString()!==g.toString())return!1}else if(f!=="object")return c!=c&&g!=g;const h=d.getSharedType(c,g,!!u.prototype);switch(h){case i.buffer:return!1;case i.promise:return c===g;case i.regex:return c.toString()===g.toString();case d.mismatched:return!1}for(let m=l.length-1;m>=0;--m)if(l[m].isSame(c,g))return!0;l.push(new d.SeenEntry(c,g));try{return!!d.isDeepEqualObj(h,c,g,u,l)}finally{l.pop()}},d.getSharedType=function(c,g,u){if(u)return Object.getPrototypeOf(c)!==Object.getPrototypeOf(g)?d.mismatched:i.getInternalProto(c);const l=i.getInternalProto(c);return l!==i.getInternalProto(g)?d.mismatched:l},d.valueOf=function(c){const g=c.valueOf;if(g===void 0)return c;try{return g.call(c)}catch(u){return u}},d.hasOwnEnumerableProperty=function(c,g){return Object.prototype.propertyIsEnumerable.call(c,g)},d.isSetSimpleEqual=function(c,g){for(const u of Set.prototype.values.call(c))if(!Set.prototype.has.call(g,u))return!1;return!0},d.isDeepEqualObj=function(c,g,u,l,f){const{isDeepEqual:h,valueOf:m,hasOwnEnumerableProperty:x}=d,{keys:p,getOwnPropertySymbols:y}=Object;if(c===i.array){if(!l.part){if(g.length!==u.length)return!1;for(let S=0;S<g.length;++S)if(!h(g[S],u[S],l,f))return!1;return!0}for(const S of g)for(const T of u)if(h(S,T,l,f))return!0}else if(c===i.set){if(g.size!==u.size)return!1;if(!d.isSetSimpleEqual(g,u)){const S=new Set(Set.prototype.values.call(u));for(const T of Set.prototype.values.call(g)){if(S.delete(T))continue;let A=!1;for(const N of S)if(h(T,N,l,f)){S.delete(N),A=!0;break}if(!A)return!1}}}else if(c===i.map){if(g.size!==u.size)return!1;for(const[S,T]of Map.prototype.entries.call(g))if(T===void 0&&!Map.prototype.has.call(u,S)||!h(T,Map.prototype.get.call(u,S),l,f))return!1}else if(c===i.error&&(g.name!==u.name||g.message!==u.message))return!1;const v=m(g),_=m(u);if((g!==v||u!==_)&&!h(v,_,l,f))return!1;const w=p(g);if(!l.part&&w.length!==p(u).length&&!l.skip)return!1;let C=0;for(const S of w)if(l.skip&&l.skip.includes(S))u[S]===void 0&&++C;else if(!x(u,S)||!h(g[S],u[S],l,f))return!1;if(!l.part&&w.length-C!==p(u).length)return!1;if(l.symbols!==!1){const S=y(g),T=new Set(y(u));for(const A of S){if(!l.skip||!l.skip.includes(A)){if(x(g,A)){if(!x(u,A)||!h(g[A],u[A],l,f))return!1}else if(x(u,A))return!1}T.delete(A)}for(const A of T)if(x(u,A))return!1}return!0},d.SeenEntry=class{constructor(c,g){this.obj=c,this.ref=g}isSame(c,g){return this.obj===c&&this.ref===g}}},7916:(s,a,o)=>{const i=o(8761);s.exports=class extends Error{constructor(d){super(d.filter((c=>c!=="")).map((c=>typeof c=="string"?c:c instanceof Error?c.message:i(c))).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a.assert)}}},5277:s=>{const a={};s.exports=function(o){if(!o)return"";let i="";for(let d=0;d<o.length;++d){const c=o.charCodeAt(d);a.isSafe(c)?i+=o[d]:i+=a.escapeHtmlChar(c)}return i},a.escapeHtmlChar=function(o){return a.namedHtml.get(o)||(o>=256?"&#"+o+";":`&#x${o.toString(16).padStart(2,"0")};`)},a.isSafe=function(o){return a.safeCharCodes.has(o)},a.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),a.safeCharCodes=(function(){const o=new Set;for(let i=32;i<123;++i)(i>=97||i>=65&&i<=90||i>=48&&i<=57||i===32||i===46||i===44||i===45||i===58||i===95)&&o.add(i);return o})()},6064:s=>{s.exports=function(a){return a.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:s=>{s.exports=function(){}},1687:(s,a,o)=>{const i=o(375),d=o(8571),c=o(7043),g={};s.exports=g.merge=function(u,l,f){if(i(u&&typeof u=="object","Invalid target value: must be an object"),i(l==null||typeof l=="object","Invalid source value: must be null, undefined, or an object"),!l)return u;if(f=Object.assign({nullOverride:!0,mergeArrays:!0},f),Array.isArray(l)){i(Array.isArray(u),"Cannot merge array onto an object"),f.mergeArrays||(u.length=0);for(let m=0;m<l.length;++m)u.push(d(l[m],{symbols:f.symbols}));return u}const h=c.keys(l,f);for(let m=0;m<h.length;++m){const x=h[m];if(x==="__proto__"||!Object.prototype.propertyIsEnumerable.call(l,x))continue;const p=l[x];if(p&&typeof p=="object"){if(u[x]===p)continue;!u[x]||typeof u[x]!="object"||Array.isArray(u[x])!==Array.isArray(p)||p instanceof Date||p instanceof RegExp?u[x]=d(p,{symbols:f.symbols}):g.merge(u[x],p,f)}else(p!=null||f.nullOverride)&&(u[x]=p)}return u}},9621:(s,a,o)=>{const i=o(375),d={};s.exports=function(c,g,u){if(g===!1||g==null)return c;typeof(u=u||{})=="string"&&(u={separator:u});const l=Array.isArray(g);i(!l||!u.separator,"Separator option is not valid for array-based chain");const f=l?g:g.split(u.separator||".");let h=c;for(let m=0;m<f.length;++m){let x=f[m];const p=u.iterables&&d.iterables(h);if(Array.isArray(h)||p==="set"){const y=Number(x);Number.isInteger(y)&&(x=y<0?h.length+y:y)}if(!h||typeof h=="function"&&u.functions===!1||!p&&h[x]===void 0){i(!u.strict||m+1===f.length,"Missing segment",x,"in reach path ",g),i(typeof h=="object"||u.functions===!0||typeof h!="function","Invalid segment",x,"in reach path ",g),h=u.default;break}h=p?p==="set"?[...h][x]:h.get(x):h[x]}return h},d.iterables=function(c){return c instanceof Set?"set":c instanceof Map?"map":void 0}},8761:s=>{s.exports=function(...a){try{return JSON.stringify(...a)}catch(o){return"[Cannot display object: "+o.message+"]"}}},4277:(s,a)=>{const o={};a=s.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},o.typeMap=new Map([["[object Error]",a.error],["[object Map]",a.map],["[object Promise]",a.promise],["[object Set]",a.set],["[object WeakMap]",a.weakMap],["[object WeakSet]",a.weakSet]]),a.getInternalProto=function(i){if(Array.isArray(i))return a.array;if(i instanceof Date)return a.date;if(i instanceof RegExp)return a.regex;if(i instanceof Error)return a.error;const d=Object.prototype.toString.call(i);return o.typeMap.get(d)||a.generic}},7043:(s,a)=>{a.keys=function(o,i={}){return i.symbols!==!1?Reflect.ownKeys(o):Object.getOwnPropertyNames(o)}},3652:(s,a,o)=>{const i=o(375),d={};a.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(c,g){const u=[].concat((g=g||{}).before||[]),l=[].concat(g.after||[]),f=g.group||"?",h=g.sort||0;i(!u.includes(f),`Item cannot come before itself: ${f}`),i(!u.includes("?"),"Item cannot come before unassociated items"),i(!l.includes(f),`Item cannot come after itself: ${f}`),i(!l.includes("?"),"Item cannot come after unassociated items"),Array.isArray(c)||(c=[c]);for(const m of c){const x={seq:this._items.length,sort:h,before:u,after:l,group:f,node:m};this._items.push(x)}if(!g.manual){const m=this._sort();i(m,"item",f!=="?"?`added into group ${f}`:"","created a dependencies error")}return this.nodes}merge(c){Array.isArray(c)||(c=[c]);for(const u of c)if(u)for(const l of u._items)this._items.push(Object.assign({},l));this._items.sort(d.mergeSort);for(let u=0;u<this._items.length;++u)this._items[u].seq=u;const g=this._sort();return i(g,"merge created a dependencies error"),this.nodes}sort(){const c=this._sort();return i(c,"sort created a dependencies error"),this.nodes}_sort(){const c={},g=Object.create(null),u=Object.create(null);for(const x of this._items){const p=x.seq,y=x.group;u[y]=u[y]||[],u[y].push(p),c[p]=x.before;for(const v of x.after)g[v]=g[v]||[],g[v].push(p)}for(const x in c){const p=[];for(const y in c[x]){const v=c[x][y];u[v]=u[v]||[],p.push(...u[v])}c[x]=p}for(const x in g)if(u[x])for(const p of u[x])c[p].push(...g[x]);const l={};for(const x in c){const p=c[x];for(const y of p)l[y]=l[y]||[],l[y].push(x)}const f={},h=[];for(let x=0;x<this._items.length;++x){let p=x;if(l[x]){p=null;for(let y=0;y<this._items.length;++y){if(f[y]===!0)continue;l[y]||(l[y]=[]);const v=l[y].length;let _=0;for(let w=0;w<v;++w)f[l[y][w]]&&++_;if(_===v){p=y;break}}}p!==null&&(f[p]=!0,h.push(p))}if(h.length!==this._items.length)return!1;const m={};for(const x of this._items)m[x.seq]=x;this._items=[],this.nodes=[];for(const x of h){const p=m[x];this.nodes.push(p.node),this._items.push(p)}return!0}},d.mergeSort=(c,g)=>c.sort===g.sort?0:c.sort<g.sort?-1:1},5380:(s,a,o)=>{const i=o(443),d=o(2178),c={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:i.URL||URL};a.analyze=function(g,u={}){if(!g)return d.code("DOMAIN_NON_EMPTY_STRING");if(typeof g!="string")throw new Error("Invalid input: domain must be a string");if(g.length>256)return d.code("DOMAIN_TOO_LONG");if(c.nonAsciiRx.test(g)){if(u.allowUnicode===!1)return d.code("DOMAIN_INVALID_UNICODE_CHARS");g=g.normalize("NFC")}if(c.domainControlRx.test(g))return d.code("DOMAIN_INVALID_CHARS");g=c.punycode(g),u.allowFullyQualified&&g[g.length-1]==="."&&(g=g.slice(0,-1));const l=u.minDomainSegments||c.minDomainSegments,f=g.split(".");if(f.length<l)return d.code("DOMAIN_SEGMENTS_COUNT");if(u.maxDomainSegments&&f.length>u.maxDomainSegments)return d.code("DOMAIN_SEGMENTS_COUNT_MAX");const h=u.tlds;if(h){const m=f[f.length-1].toLowerCase();if(h.deny&&h.deny.has(m)||h.allow&&!h.allow.has(m))return d.code("DOMAIN_FORBIDDEN_TLDS")}for(let m=0;m<f.length;++m){const x=f[m];if(!x.length)return d.code("DOMAIN_EMPTY_SEGMENT");if(x.length>63)return d.code("DOMAIN_LONG_SEGMENT");if(m<f.length-1){if(!c.domainSegmentRx.test(x))return d.code("DOMAIN_INVALID_CHARS")}else if(!c.tldSegmentRx.test(x))return d.code("DOMAIN_INVALID_TLDS_CHARS")}return null},a.isValid=function(g,u){return!a.analyze(g,u)},c.punycode=function(g){g.includes("%")&&(g=g.replace(/%/g,"%25"));try{return new c.URL(`http://${g}`).host}catch{return g}}},1745:(s,a,o)=>{const i=o(9848),d=o(5380),c=o(2178),g={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(i.TextEncoder||TextEncoder)};a.analyze=function(u,l){return g.email(u,l)},a.isValid=function(u,l){return!g.email(u,l)},g.email=function(u,l={}){if(typeof u!="string")throw new Error("Invalid input: email must be a string");if(!u)return c.code("EMPTY_STRING");const f=!g.nonAsciiRx.test(u);if(!f){if(l.allowUnicode===!1)return c.code("FORBIDDEN_UNICODE");u=u.normalize("NFC")}const h=u.split("@");if(h.length!==2)return h.length>2?c.code("MULTIPLE_AT_CHAR"):c.code("MISSING_AT_CHAR");const[m,x]=h;if(!m)return c.code("EMPTY_LOCAL");if(!l.ignoreLength){if(u.length>254)return c.code("ADDRESS_TOO_LONG");if(g.encoder.encode(m).length>64)return c.code("LOCAL_TOO_LONG")}return g.local(m,f)||d.analyze(x,l)},g.local=function(u,l){const f=u.split(".");for(const h of f){if(!h.length)return c.code("EMPTY_LOCAL_SEGMENT");if(l){if(!g.atextRx.test(h))return c.code("INVALID_LOCAL_CHARS")}else for(const m of h){if(g.atextRx.test(m))continue;const x=g.binary(m);if(!g.atomRx.test(x))return c.code("INVALID_LOCAL_CHARS")}}},g.binary=function(u){return Array.from(g.encoder.encode(u)).map((l=>String.fromCharCode(l))).join("")},g.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,g.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(s,a)=>{a.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},a.code=function(o){return{code:o,error:a.codes[o]}}},9959:(s,a,o)=>{const i=o(375),d=o(5752);a.regex=function(c={}){i(c.cidr===void 0||typeof c.cidr=="string","options.cidr must be a string");const g=c.cidr?c.cidr.toLowerCase():"optional";i(["required","optional","forbidden"].includes(g),"options.cidr must be one of required, optional, forbidden"),i(c.version===void 0||typeof c.version=="string"||Array.isArray(c.version),"options.version must be a string or an array of string");let u=c.version||["ipv4","ipv6","ipvfuture"];Array.isArray(u)||(u=[u]),i(u.length>=1,"options.version must have at least 1 version specified");for(let h=0;h<u.length;++h)i(typeof u[h]=="string","options.version must only contain strings"),u[h]=u[h].toLowerCase(),i(["ipv4","ipv6","ipvfuture"].includes(u[h]),"options.version contains unknown version "+u[h]+" - must be one of ipv4, ipv6, ipvfuture");u=Array.from(new Set(u));const l=`(?:${u.map((h=>{if(g==="forbidden")return d.ip[h];const m=`\\/${h==="ipv4"?d.ip.v4Cidr:d.ip.v6Cidr}`;return g==="required"?`${d.ip[h]}${m}`:`${d.ip[h]}(?:${m})?`})).join("|")})`,f=new RegExp(`^${l}$`);return{cidr:g,versions:u,regex:f,raw:l}}},5752:(s,a,o)=>{const i=o(375),d=o(6064),c={generate:function(){const g={},u="\\dA-Fa-f",l="["+u+"]",f="\\w-\\.~",h="!\\$&'\\(\\)\\*\\+,;=",m="%"+u,x=f+m+h+":@",p="["+x+"]",y="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";g.ipv4address="(?:"+y+"\\.){3}"+y;const v=l+"{1,4}",_="(?:"+v+":"+v+"|"+g.ipv4address+")",w="(?:"+v+":){6}"+_,C="::(?:"+v+":){5}"+_,S="(?:"+v+")?::(?:"+v+":){4}"+_,T="(?:(?:"+v+":){0,1}"+v+")?::(?:"+v+":){3}"+_,A="(?:(?:"+v+":){0,2}"+v+")?::(?:"+v+":){2}"+_,N="(?:(?:"+v+":){0,3}"+v+")?::"+v+":"+_,L="(?:(?:"+v+":){0,4}"+v+")?::"+_,D="(?:(?:"+v+":){0,5}"+v+")?::"+v,j="(?:(?:"+v+":){0,6}"+v+")?::";g.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",g.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",g.ipv6address="(?:"+w+"|"+C+"|"+S+"|"+T+"|"+A+"|"+N+"|"+L+"|"+D+"|"+j+")",g.ipvFuture="v"+l+"+\\.["+f+h+":]+",g.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",g.schemeRegex=new RegExp(g.scheme);const V="["+f+m+h+":]*",z="["+f+m+h+"]{1,255}",$="(?:\\[(?:"+g.ipv6address+"|"+g.ipvFuture+")\\]|"+g.ipv4address+"|"+z+")",Q="(?:"+V+"@)?"+$+"(?::\\d*)?",se="(?:"+V+"@)?("+$+")(?::\\d*)?",ge=p+"*",ae=p+"+",ie="(?:\\/"+ge+")*",ce="\\/(?:"+ae+ie+")?",fe=ae+ie,ye="["+f+m+h+"@]+"+ie,Oe="(?:\\/\\/\\/"+ge+ie+")";return g.hierPart="(?:(?:\\/\\/"+Q+ie+")|"+ce+"|"+fe+"|"+Oe+")",g.hierPartCapture="(?:(?:\\/\\/"+se+ie+")|"+ce+"|"+fe+")",g.relativeRef="(?:(?:\\/\\/"+Q+ie+")|"+ce+"|"+ye+"|)",g.relativeRefCapture="(?:(?:\\/\\/"+se+ie+")|"+ce+"|"+ye+"|)",g.query="["+x+"\\/\\?]*(?=#|$)",g.queryWithSquareBrackets="["+x+"\\[\\]\\/\\?]*(?=#|$)",g.fragment="["+x+"\\/\\?]*",g}};c.rfc3986=c.generate(),a.ip={v4Cidr:c.rfc3986.ipv4Cidr,v6Cidr:c.rfc3986.ipv6Cidr,ipv4:c.rfc3986.ipv4address,ipv6:c.rfc3986.ipv6address,ipvfuture:c.rfc3986.ipvFuture},c.createRegex=function(g){const u=c.rfc3986,l="(?:\\?"+(g.allowQuerySquareBrackets?u.queryWithSquareBrackets:u.query)+")?(?:#"+u.fragment+")?",f=g.domain?u.relativeRefCapture:u.relativeRef;if(g.relativeOnly)return c.wrap(f+l);let h="";if(g.scheme){i(g.scheme instanceof RegExp||typeof g.scheme=="string"||Array.isArray(g.scheme),"scheme must be a RegExp, String, or Array");const p=[].concat(g.scheme);i(p.length>=1,"scheme must have at least 1 scheme specified");const y=[];for(let v=0;v<p.length;++v){const _=p[v];i(_ instanceof RegExp||typeof _=="string","scheme at position "+v+" must be a RegExp or String"),_ instanceof RegExp?y.push(_.source.toString()):(i(u.schemeRegex.test(_),"scheme at position "+v+" must be a valid scheme"),y.push(d(_)))}h=y.join("|")}const m="(?:"+(h?"(?:"+h+")":u.scheme)+":"+(g.domain?u.hierPartCapture:u.hierPart)+")",x=g.allowRelative?"(?:"+m+"|"+f+")":m;return c.wrap(x+l,h)},c.wrap=function(g,u){return{raw:g=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${g}`,regex:new RegExp(`^${g}$`),scheme:u}},c.uriRegex=c.createRegex({}),a.regex=function(g={}){return g.scheme||g.allowRelative||g.relativeOnly||g.allowQuerySquareBrackets||g.domain?c.createRegex(g):c.uriRegex}},1447:(s,a)=>{const o={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};a.Parser=class{constructor(i,d={}){if(!d[o.settings]&&d.constants)for(const c in d.constants){const g=d.constants[c];if(g!==null&&!["boolean","number","string"].includes(typeof g))throw new Error(`Formula constant ${c} contains invalid ${typeof g} value type`)}this.settings=d[o.settings]?d:Object.assign({[o.settings]:!0,constants:{},functions:{}},d),this.single=null,this._parts=null,this._parse(i)}_parse(i){let d=[],c="",g=0,u=!1;const l=h=>{if(g)throw new Error("Formula missing closing parenthesis");const m=d.length?d[d.length-1]:null;if(u||c||h){if(m&&m.type==="reference"&&h===")")return m.type="function",m.value=this._subFormula(c,m.value),void(c="");if(h===")"){const x=new a.Parser(c,this.settings);d.push({type:"segment",value:x})}else if(u){if(u==="]")return d.push({type:"reference",value:c}),void(c="");d.push({type:"literal",value:c})}else if(o.operatorCharacters.includes(c))m&&m.type==="operator"&&o.operators.includes(m.value+c)?m.value+=c:d.push({type:"operator",value:c});else if(c.match(o.numberRx))d.push({type:"constant",value:parseFloat(c)});else if(this.settings.constants[c]!==void 0)d.push({type:"constant",value:this.settings.constants[c]});else{if(!c.match(o.tokenRx))throw new Error(`Formula contains invalid token: ${c}`);d.push({type:"reference",value:c})}c=""}};for(const h of i)u?h===u?(l(),u=!1):c+=h:g?h==="("?(c+=h,++g):h===")"?(--g,g?c+=h:l(h)):c+=h:h in o.literals?u=o.literals[h]:h==="("?(l(),++g):o.operatorCharacters.includes(h)?(l(),c=h,l()):h!==" "?c+=h:l();l(),d=d.map(((h,m)=>h.type!=="operator"||h.value!=="-"||m&&d[m-1].type!=="operator"?h:{type:"operator",value:"n"}));let f=!1;for(const h of d){if(h.type==="operator"){if(o.operatorsPrefix.includes(h.value))continue;if(!f)throw new Error("Formula contains an operator in invalid position");if(!o.operators.includes(h.value))throw new Error(`Formula contains an unknown operator ${h.value}`)}else if(f)throw new Error("Formula missing expected operator");f=!f}if(!f)throw new Error("Formula contains invalid trailing operator");d.length===1&&["reference","literal","constant"].includes(d[0].type)&&(this.single={type:d[0].type==="reference"?"reference":"value",value:d[0].value}),this._parts=d.map((h=>{if(h.type==="operator")return o.operatorsPrefix.includes(h.value)?h:h.value;if(h.type!=="reference")return h.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(h.value))throw new Error(`Formula contains invalid reference ${h.value}`);return this.settings.reference?this.settings.reference(h.value):o.reference(h.value)}))}_subFormula(i,d){const c=this.settings.functions[d];if(typeof c!="function")throw new Error(`Formula contains unknown function ${d}`);let g=[];if(i){let u="",l=0,f=!1;const h=()=>{if(!u)throw new Error(`Formula contains function ${d} with invalid arguments ${i}`);g.push(u),u=""};for(let m=0;m<i.length;++m){const x=i[m];f?(u+=x,x===f&&(f=!1)):x in o.literals&&!l?(u+=x,f=o.literals[x]):x!==","||l?(u+=x,x==="("?++l:x===")"&&--l):h()}h()}return g=g.map((u=>new a.Parser(u,this.settings))),function(u){const l=[];for(const f of g)l.push(f.evaluate(u));return c.call(u,...l)}}evaluate(i){const d=this._parts.slice();for(let c=d.length-2;c>=0;--c){const g=d[c];if(g&&g.type==="operator"){const u=d[c+1];d.splice(c+1,1);const l=o.evaluate(u,i);d[c]=o.single(g.value,l)}}return o.operatorsOrder.forEach((c=>{for(let g=1;g<d.length-1;)if(c.includes(d[g])){const u=d[g],l=o.evaluate(d[g-1],i),f=o.evaluate(d[g+1],i);d.splice(g,2);const h=o.calculate(u,l,f);d[g-1]=h===0?0:h}else g+=2})),o.evaluate(d[0],i)}},a.Parser.prototype[o.symbol]=!0,o.reference=function(i){return function(d){return d&&d[i]!==void 0?d[i]:null}},o.evaluate=function(i,d){return i===null?null:typeof i=="function"?i(d):i[o.symbol]?i.evaluate(d):i},o.single=function(i,d){if(i==="!")return!d;const c=-d;return c===0?0:c},o.calculate=function(i,d,c){if(i==="??")return o.exists(d)?d:c;if(typeof d=="string"||typeof c=="string"){if(i==="+")return(d=o.exists(d)?d:"")+(o.exists(c)?c:"")}else switch(i){case"^":return Math.pow(d,c);case"*":return d*c;case"/":return d/c;case"%":return d%c;case"+":return d+c;case"-":return d-c}switch(i){case"<":return d<c;case"<=":return d<=c;case">":return d>c;case">=":return d>=c;case"==":return d===c;case"!=":return d!==c;case"&&":return d&&c;case"||":return d||c}return null},o.exists=function(i){return i!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:s=>{s.exports=JSON.parse('{"version":"17.13.3"}')}},r={},(function s(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={exports:{}};return n[a](i,i.exports,s),i.exports})(5107);var n,r}))})(ni)),ni.exports}var Mh=Ph();const Ue=Ro(Mh),bd=-1,Ia=0,rs=1,ha=2,Ho=3,$o=4,zo=5,Vo=6,yd=7,Ed=8,qu=typeof self=="object"?self:globalThis,jh=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),r=s=>{if(e.has(s))return e.get(s);const[a,o]=t[s];switch(a){case Ia:case bd:return n(o,s);case rs:{const i=n([],s);for(const d of o)i.push(r(d));return i}case ha:{const i=n({},s);for(const[d,c]of o)i[r(d)]=r(c);return i}case Ho:return n(new Date(o),s);case $o:{const{source:i,flags:d}=o;return n(new RegExp(i,d),s)}case zo:{const i=n(new Map,s);for(const[d,c]of o)i.set(r(d),r(c));return i}case Vo:{const i=n(new Set,s);for(const d of o)i.add(r(d));return i}case yd:{const{name:i,message:d}=o;return n(new qu[i](d),s)}case Ed:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:i}=new Uint8Array(o);return n(new DataView(i),o)}}return n(new qu[a](o),s)};return r},Wu=e=>jh(new Map,e)(0),Ar="",{toString:Fh}={},{keys:Bh}=Object,Xr=e=>{const t=typeof e;if(t!=="object"||!e)return[Ia,t];const n=Fh.call(e).slice(8,-1);switch(n){case"Array":return[rs,Ar];case"Object":return[ha,Ar];case"Date":return[Ho,Ar];case"RegExp":return[$o,Ar];case"Map":return[zo,Ar];case"Set":return[Vo,Ar];case"DataView":return[rs,n]}return n.includes("Array")?[rs,n]:n.includes("Error")?[yd,n]:[ha,n]},Ws=([e,t])=>e===Ia&&(t==="function"||t==="symbol"),Uh=(e,t,n,r)=>{const s=(o,i)=>{const d=r.push(o)-1;return n.set(i,d),d},a=o=>{if(n.has(o))return n.get(o);let[i,d]=Xr(o);switch(i){case Ia:{let g=o;switch(d){case"bigint":i=Ed,g=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);g=null;break;case"undefined":return s([bd],o)}return s([i,g],o)}case rs:{if(d){let l=o;return d==="DataView"?l=new Uint8Array(o.buffer):d==="ArrayBuffer"&&(l=new Uint8Array(o)),s([d,[...l]],o)}const g=[],u=s([i,g],o);for(const l of o)g.push(a(l));return u}case ha:{if(d)switch(d){case"BigInt":return s([d,o.toString()],o);case"Boolean":case"Number":case"String":return s([d,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const g=[],u=s([i,g],o);for(const l of Bh(o))(e||!Ws(Xr(o[l])))&&g.push([a(l),a(o[l])]);return u}case Ho:return s([i,o.toISOString()],o);case $o:{const{source:g,flags:u}=o;return s([i,{source:g,flags:u}],o)}case zo:{const g=[],u=s([i,g],o);for(const[l,f]of o)(e||!(Ws(Xr(l))||Ws(Xr(f))))&&g.push([a(l),a(f)]);return u}case Vo:{const g=[],u=s([i,g],o);for(const l of o)(e||!Ws(Xr(l)))&&g.push(a(l));return u}}const{message:c}=o;return s([i,{name:d,message:c}],o)};return a},Gu=(e,{json:t,lossy:n}={})=>{const r=[];return Uh(!(t||n),!!t,new Map,r)(e),r},Hh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Wu(Gu(e,t)):structuredClone(e):(e,t)=>Wu(Gu(e,t)),$h=xd("end"),zh=xd("start");function xd(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Vh(e){const t=zh(e),n=$h(e);if(t&&n)return{start:t,end:n}}const sr=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Kt={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...sr,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...sr],h2:[["className","sr-only"]],img:[...sr,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...sr,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...sr],table:[...sr],ul:[...sr,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Fn={}.hasOwnProperty;function Yh(e,t){let n={type:"root",children:[]};const r={schema:t?{...Kt,...t}:Kt,stack:[]},s=vd(r,e);return s&&(Array.isArray(s)?s.length===1?n=s[0]:n.children=s:n=s),n}function vd(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return qh(e,n);case"doctype":return Wh(e,n);case"element":return Gh(e,n);case"root":return Kh(e,n);case"text":return Xh(e,n)}}}function qh(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),a={type:"comment",value:r<0?n:n.slice(0,r)};return Ds(a,t),a}}function Wh(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return Ds(n,t),n}}function Gh(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=Td(e,t.children),s=Qh(e,t.properties);e.stack.pop();let a=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(a=!0,e.schema.ancestors&&Fn.call(e.schema.ancestors,n))){const i=e.schema.ancestors[n];let d=-1;for(a=!1;++d<i.length;)e.stack.includes(i[d])&&(a=!0)}if(!a)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const o={type:"element",tagName:n,properties:s,children:r};return Ds(o,t),o}function Kh(e,t){const r={type:"root",children:Td(e,t.children)};return Ds(r,t),r}function Xh(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return Ds(r,t),r}function Td(e,t){const n=[];if(Array.isArray(t)){const r=t;let s=-1;for(;++s<r.length;){const a=vd(e,r[s]);a&&(Array.isArray(a)?n.push(...a):n.push(a))}}return n}function Qh(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,s=e.schema.required,a=r&&Fn.call(r,n)?r[n]:void 0,o=r&&Fn.call(r,"*")?r["*"]:void 0,i=t&&typeof t=="object"?t:{},d={};let c;for(c in i)if(Fn.call(i,c)){const g=i[c];let u=Ku(e,Xu(a,c),c,g);u==null&&(u=Ku(e,Xu(o,c),c,g)),u!=null&&(d[c]=u)}if(s&&Fn.call(s,n)){const g=s[n];for(c in g)Fn.call(g,c)&&!Fn.call(d,c)&&(d[c]=g[c])}return d}function Ku(e,t,n,r){return t?Array.isArray(r)?Zh(e,t,n,r):_d(e,t,n,r):void 0}function Zh(e,t,n,r){let s=-1;const a=[];for(;++s<r.length;){const o=_d(e,t,n,r[s]);(typeof o=="number"||typeof o=="string")&&a.push(o)}return a}function _d(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&Jh(e,n,r)){if(typeof t=="object"&&t.length>1){let s=!1,a=0;for(;++a<t.length;){const o=t[a];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(r))){s=!0;break}}else if(o===r){s=!0;break}}if(!s)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function Jh(e,t,n){const r=e.schema.protocols&&Fn.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const s=String(n),a=s.indexOf(":"),o=s.indexOf("?"),i=s.indexOf("#"),d=s.indexOf("/");if(a<0||d>-1&&a>d||o>-1&&a>o||i>-1&&a>i)return!0;let c=-1;for(;++c<r.length;){const g=r[c];if(a===g.length&&s.slice(0,g.length)===g)return!0}return!1}function Ds(e,t){const n=Vh(t);t.data&&(e.data=Hh(t.data)),n&&(e.position=n)}function Xu(e,t){let n,r=-1;if(e)for(;++r<e.length;){const s=e[r],a=typeof s=="string"?s:s[0];if(a===t)return s;a==="data*"&&(n=s)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function Oa(e){return function(t){return Yh(t,e)}}const ep=Ue.string().domain({tlds:{allow:["eth"]}}),tp=Ue.string().pattern(/^0x[a-fA-F0-9]{40}$/),np=(e,t)=>{if(!e)return t.error("any.required");if(e.includes(".eth")){if(ep.validate(e).error)return t.error("custom.address")}else if(tp.validate(e).error)return t.error("custom.address");return e},wd=Ue.when("useCustomRecipient",{is:!0,then:Ue.string().custom(np),otherwise:Ue.string().empty("")}).messages({"custom.address":'"Address" must be a valid Ethereum name or address'}),Ad=e=>(t,n)=>{const r=n.original+"";return r.includes(".")&&r.split(".")[1].length>e?n.error("number.precision",{limit:e}):t},Nd=e=>(t,n)=>{const r=Ue.number().positive().unsafe(!0).label(e);try{Ue.assert(t,r)}catch(s){return n.message(s.details[0].message)}return t.includes(".")&&t.split(".")[1].length>18?n.message(`"${e}" must have at most 18 decimal places after the decimal point`):t.endsWith(".")?t.splice(-1):t},rp=Ue.object().keys({title:Ue.string().allow("").label("Title"),description:Ue.string().allow("").label("Description"),editionSize:Ue.number().integer().min(1).empty("").required().label("Edition size"),royaltyPercentage:Ue.number().custom(Ad(2)).min(0).max(100).empty("").required().label("Royalty percentage"),useCustomRecipient:Ue.boolean().required(),customRecipient:wd.label("Address"),textType:Ue.valid("text/plain","text/markdown","text/html").required()}),sp=Ue.object().keys({to:wd.label("Address"),amount:Ue.number().integer().min(1).empty("").required().label("Amount")}),ap=Ue.object().keys({amount:Ue.number().integer().min(1).empty("").required().label("Amount")});Ue.object().keys({amount:Ue.number().min(1).empty("").label("Amount"),price:Ue.string().custom(Nd("Price")).empty("").label("Price")});const ip=Ue.object().keys({amount:Ue.number().min(1).empty("").required().label("Amount"),price:Ue.string().custom(Nd("Price")).empty("").required().label("Price")});Ue.object().keys({amount:Ue.number().integer().min(1).empty("").required().label("Amount")});const op=Ue.object().keys({royaltyPercentage:Ue.number().custom(Ad(2)).min(0).max(100).empty("").required().label("Royalty percentage")}),up={...Kt,protocols:{...Kt.protocols,src:[...Kt.protocols.src,"data"]}},lp={...Kt,tagNames:[...Kt.tagNames,"style"],protocols:{...Kt.protocols,src:[...Kt.protocols.src,"data"]},attributes:{...Kt.attributes,"*":[...Kt.attributes["*"],"class","className","style"]},clobber:[]},Rn={buy:ap,editRoyalty:op,list:ip,validHTML:lp,validMarkdown:up,mint:rp,transfer:sp},cp=(e,t)=>e.substring(0,t+2)+"..."+e.substring(e.length-t),gn=()=>({maxPriorityFeePerGas:10n,maxFeePerGas:Km("0.001")}),dp={amount:1,price:"0.1"};function fp({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s,id:a,walletAddress:o,onUpdate:i}){const d=Le.contractAddresses.v1.zang,c=Ae.zang,g=Le.contractAddresses.v1.marketplace,{register:u,formState:{isDirty:l,isValid:f,errors:h},handleSubmit:m,watch:x}=Rs({defaultValues:dp,mode:"onChange",resolver:Ls(Rn.list)}),p=x("amount"),y=D=>{t(!1),D&&n(D.amount,D.price)},v=()=>{let D="";return s===0?D+=`You don't have any "free" (not tied to listings) tokens. `:D+=`You only have ${s} "free" (not tied to listings) token${s===1?"":"s"}. `,D+=`Proceeding will use ${p-s} token${p-s===1?"":"s"} `,D+="tied to existing listings, making some listings unfulfillable.",D},_=er(),[,w]=dt(Gt),[C,S]=F.useState(!1),{isConnected:T}=Ht(),{writeContractAsync:A}=Zn(),N=async()=>{if(!T){w("No wallet connected.");return}if(!a){w("No id specified.");return}const D=async()=>await A({address:d,abi:c,functionName:"setApprovalForAll",args:[g,!0],...gn()}),{success:j}=await _(D,"Approve Marketplace");j&&(S(!0),i&&i(a))},L=async()=>{if(!(!a||!o))try{const D=await ke.readContract({address:d,abi:c,functionName:"isApprovedForAll",args:[o,g]});S(D)}catch(D){w(bt(D))}};return F.useEffect(()=>{L()},[a,o]),e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>y(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"List NFT for Sale"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Balance"}),E.jsx("span",{className:"text-white font-mono",children:r})]}),r!==s&&E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Available (not listed)"}),E.jsx("span",{className:"text-white font-mono",children:s})]}),E.jsx(Zt,{label:"Amount",name:"amount",type:"number",step:"1",min:"1",errors:h,register:u}),E.jsx(Zt,{label:"Price per item (ETH)",name:"price",type:"number",step:"0.001",min:"0",errors:h,register:u}),p>Math.min(r,s)&&(p<=r?E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Warning:"})," ",v()]})}):E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," Cannot list more than you own (",r,")."]})})),!C&&E.jsx("div",{className:"p-3 rounded-lg bg-ink-800/50 border border-ink-700",children:E.jsx("p",{className:"text-ink-300 text-sm",children:"You need to approve the marketplace to list your NFTs. This is a one-time approval."})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>y(null),children:"Cancel"}),C?E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!f&&l||p>r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!f&&l||p>r,onClick:m(y),children:"List for Sale"}):E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90 transition-colors",onClick:N,children:"Approve Marketplace"})]})]})]}):null}function mp({isOpen:e,setIsOpen:t,onClose:n}){const r=s=>{t(!1),n(s)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>r(!1)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-5 border-b border-ink-800",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/10 border border-amber-500/20",children:E.jsx("svg",{className:"w-5 h-5 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-medium text-white",children:"Some fields are empty"}),E.jsx("p",{className:"text-sm text-ink-400",children:"Are you sure you want to mint anyway?"})]})]})}),E.jsxs("div",{className:"px-6 py-4 bg-ink-900/50 flex items-center justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-ink-300 hover:text-white transition-colors",onClick:()=>r(!1),children:"Cancel"}),E.jsx("button",{className:"px-4 py-2 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-colors",onClick:()=>r(!0),children:"Mint Anyway"})]})]})]}):null}function hp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qu(e.position):"start"in e||"end"in e?Qu(e):"line"in e||"column"in e?Li(e):""}function Li(e){return Zu(e&&e.line)+":"+Zu(e&&e.column)}function Qu(e){return Li(e&&e.start)+"-"+Li(e&&e.end)}function Zu(e){return e&&typeof e=="number"?e:1}class Ct extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(o=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const i=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=i?i.line:void 0,this.name=hp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ct.prototype.file="";Ct.prototype.name="";Ct.prototype.reason="";Ct.prototype.message="";Ct.prototype.stack="";Ct.prototype.column=void 0;Ct.prototype.line=void 0;Ct.prototype.ancestors=void 0;Ct.prototype.cause=void 0;Ct.prototype.fatal=void 0;Ct.prototype.place=void 0;Ct.prototype.ruleId=void 0;Ct.prototype.source=void 0;const un={basename:pp,dirname:gp,extname:bp,join:yp,sep:"/"};function pp(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ps(e);let n=0,r=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,i=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else o<0&&(a=!0,o=s+1),i>-1&&(e.codePointAt(s)===t.codePointAt(i--)?i<0&&(r=s):(i=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function gp(e){if(Ps(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function bp(e){Ps(e);let t=e.length,n=-1,r=0,s=-1,a=0,o;for(;t--;){const i=e.codePointAt(t);if(i===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),i===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function yp(...e){let t=-1,n;for(;++t<e.length;)Ps(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Ep(n)}function Ep(e){Ps(e);const t=e.codePointAt(0)===47;let n=xp(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function xp(e,t){let n="",r=0,s=-1,a=0,o=-1,i,d;for(;++o<=e.length;){if(o<e.length)i=e.codePointAt(o);else{if(i===47)break;i=47}if(i===47){if(!(s===o-1||a===1))if(s!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=o,a=0;continue}}else if(n.length>0){n="",r=0,s=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),r=o-s-1;s=o,a=0}else i===46&&a>-1?a++:a=-1}return n}function Ps(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const vp={cwd:Tp};function Tp(){return"/"}function Di(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function _p(e){if(typeof e=="string")e=new URL(e);else if(!Di(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return wp(e)}function wp(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const ri=["history","path","basename","stem","extname","dirname"];class Pi{constructor(t){let n;t?Di(t)?n={path:t}:typeof t=="string"||Ap(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":vp.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ri.length;){const a=ri[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)ri.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?un.basename(this.path):void 0}set basename(t){ai(t,"basename"),si(t,"basename"),this.path=un.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?un.dirname(this.path):void 0}set dirname(t){Ju(this.basename,"dirname"),this.path=un.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?un.extname(this.path):void 0}set extname(t){if(si(t,"extname"),Ju(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=un.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Di(t)&&(t=_p(t)),ai(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?un.basename(this.path,this.extname):void 0}set stem(t){ai(t,"stem"),si(t,"stem"),this.path=un.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Ct(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function si(e,t){if(e&&e.includes(un.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+un.sep+"`")}function ai(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ju(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ap(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Np=(function(e){const r=this.constructor.prototype,s=r[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Sp={}.hasOwnProperty;class Yo extends Np{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=p0()}copy(){const t=new Yo;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(ei(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ui("data",this.frozen),this.namespace[t]=n,this):Sp.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ui("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Gs(t),r=this.parser||this.Parser;return ii("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ii("process",this.parser||this.Parser),oi("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,o){const i=Gs(t),d=r.parse(i);r.run(d,i,function(g,u,l){if(g||!u||!l)return c(g);const f=u,h=r.stringify(f,l);Ip(h)?l.value=h:l.result=h,c(g,l)});function c(g,u){g||!u?o(g):a?a(u):n(void 0,u)}}}processSync(t){let n=!1,r;return this.freeze(),ii("processSync",this.parser||this.Parser),oi("processSync",this.compiler||this.Compiler),this.process(t,s),tl("processSync","process",n),r;function s(a,o){n=!0,Au(a),r=o}}run(t,n,r){el(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,i){const d=Gs(n);s.run(t,d,c);function c(g,u,l){const f=u||t;g?i(g):o?o(f):r(void 0,f,l)}}}runSync(t,n){let r=!1,s;return this.run(t,n,a),tl("runSync","run",r),s;function a(o,i){Au(o),s=i,r=!0}}stringify(t,n){this.freeze();const r=Gs(n),s=this.compiler||this.Compiler;return oi("stringify",s),el(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(ui("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?i(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")d(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[g,...u]=c;d(g,u)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(c.plugins),c.settings&&(s.settings=ei(!0,s.settings,c.settings))}function i(c){let g=-1;if(c!=null)if(Array.isArray(c))for(;++g<c.length;){const u=c[g];a(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function d(c,g){let u=-1,l=-1;for(;++u<r.length;)if(r[u][0]===c){l=u;break}if(l===-1)r.push([c,...g]);else if(g.length>0){let[f,...h]=g;const m=r[l][1];Ci(m)&&Ci(f)&&(f=ei(!0,m,f)),r[l]=[c,f,...h]}}}}const Cp=new Yo().freeze();function ii(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function oi(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ui(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function el(e){if(!Ci(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function tl(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Gs(e){return kp(e)?e:new Pi(e)}function kp(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ip(e){return typeof e=="string"||Op(e)}function Op(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}class Ms{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ms.prototype.normal={};Ms.prototype.property={};Ms.prototype.space=void 0;function Sd(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Ms(n,r,t)}function ms(e){return e.toLowerCase()}class Pt{constructor(t,n){this.attribute=n,this.property=t}}Pt.prototype.attribute="";Pt.prototype.booleanish=!1;Pt.prototype.boolean=!1;Pt.prototype.commaOrSpaceSeparated=!1;Pt.prototype.commaSeparated=!1;Pt.prototype.defined=!1;Pt.prototype.mustUseProperty=!1;Pt.prototype.number=!1;Pt.prototype.overloadedBoolean=!1;Pt.prototype.property="";Pt.prototype.spaceSeparated=!1;Pt.prototype.space=void 0;let Rp=0;const Ne=xr(),it=xr(),Mi=xr(),J=xr(),Ye=xr(),Dr=xr(),jt=xr();function xr(){return 2**++Rp}const ji=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ne,booleanish:it,commaOrSpaceSeparated:jt,commaSeparated:Dr,number:J,overloadedBoolean:Mi,spaceSeparated:Ye},Symbol.toStringTag,{value:"Module"})),li=Object.keys(ji);class qo extends Pt{constructor(t,n,r,s){let a=-1;if(super(t,n),nl(this,"space",s),typeof r=="number")for(;++a<li.length;){const o=li[a];nl(this,li[a],(r&ji[o])===ji[o])}}}qo.prototype.defined=!0;function nl(e,t,n){n&&(e[t]=n)}function Yr(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new qo(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ms(r)]=r,n[ms(a.attribute)]=r}return new Ms(t,n,e.space)}const Cd=Yr({properties:{ariaActiveDescendant:null,ariaAtomic:it,ariaAutoComplete:null,ariaBusy:it,ariaChecked:it,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:Ye,ariaCurrent:null,ariaDescribedBy:Ye,ariaDetails:null,ariaDisabled:it,ariaDropEffect:Ye,ariaErrorMessage:null,ariaExpanded:it,ariaFlowTo:Ye,ariaGrabbed:it,ariaHasPopup:null,ariaHidden:it,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ye,ariaLevel:J,ariaLive:null,ariaModal:it,ariaMultiLine:it,ariaMultiSelectable:it,ariaOrientation:null,ariaOwns:Ye,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:it,ariaReadOnly:it,ariaRelevant:null,ariaRequired:it,ariaRoleDescription:Ye,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:it,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function kd(e,t){return t in e?e[t]:t}function Id(e,t){return kd(e,t.toLowerCase())}const Lp=Yr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Dr,acceptCharset:Ye,accessKey:Ye,action:null,allow:null,allowFullScreen:Ne,allowPaymentRequest:Ne,allowUserMedia:Ne,alt:null,as:null,async:Ne,autoCapitalize:null,autoComplete:Ye,autoFocus:Ne,autoPlay:Ne,blocking:Ye,capture:null,charSet:null,checked:Ne,cite:null,className:Ye,cols:J,colSpan:null,content:null,contentEditable:it,controls:Ne,controlsList:Ye,coords:J|Dr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ne,defer:Ne,dir:null,dirName:null,disabled:Ne,download:Mi,draggable:it,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ne,formTarget:null,headers:Ye,height:J,hidden:Mi,high:J,href:null,hrefLang:null,htmlFor:Ye,httpEquiv:Ye,id:null,imageSizes:null,imageSrcSet:null,inert:Ne,inputMode:null,integrity:null,is:null,isMap:Ne,itemId:null,itemProp:Ye,itemRef:Ye,itemScope:Ne,itemType:Ye,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ne,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:Ne,muted:Ne,name:null,nonce:null,noModule:Ne,noValidate:Ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ne,optimum:J,pattern:null,ping:Ye,placeholder:null,playsInline:Ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ne,referrerPolicy:null,rel:Ye,required:Ne,reversed:Ne,rows:J,rowSpan:J,sandbox:Ye,scope:null,scoped:Ne,seamless:Ne,selected:Ne,shadowRootClonable:Ne,shadowRootDelegatesFocus:Ne,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:it,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:Ne,useMap:null,value:it,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ye,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ne,declare:Ne,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:Ne,noHref:Ne,noShade:Ne,noWrap:Ne,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:it,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ne,disableRemotePlayback:Ne,prefix:null,property:null,results:J,security:null,unselectable:null},space:"html",transform:Id}),Dp=Yr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:jt,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:Ye,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:Ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Dr,g2:Dr,glyphName:Dr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:jt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ye,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jt,rev:jt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jt,requiredFeatures:jt,requiredFonts:jt,requiredFormats:jt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:jt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jt,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:kd}),Od=Yr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Rd=Yr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Id}),Ld=Yr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Pp=/[A-Z]/g,rl=/-[a-z]/g,Mp=/^data[-\w.:]+$/i;function Wo(e,t){const n=ms(t);let r=t,s=Pt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Mp.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(rl,Fp);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!rl.test(a)){let o=a.replace(Pp,jp);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=qo}return new s(r,t)}function jp(e){return"-"+e.toLowerCase()}function Fp(e){return e.charAt(1).toUpperCase()}const Ra=Sd([Cd,Lp,Od,Rd,Ld],"html"),js=Sd([Cd,Dp,Od,Rd,Ld],"svg"),sl=/[#.]/g;function Bp(e,t){const n=e||"",r={};let s=0,a,o;for(;s<n.length;){sl.lastIndex=s;const i=sl.exec(n),d=n.slice(s,i?i.index:n.length);d&&(a?a==="#"?r.id=d:Array.isArray(r.className)?r.className.push(d):r.className=[d]:o=d,s+=d.length),i&&(a=i[0],s++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function Dd(e,t,n){const r=n?zp(n):void 0;function s(a,o,...i){let d;if(a==null){d={type:"root",children:[]};const c=o;i.unshift(c)}else{d=Bp(a,t);const c=d.tagName.toLowerCase(),g=r?r.get(c):void 0;if(d.tagName=g||c,Up(o))i.unshift(o);else for(const[u,l]of Object.entries(o))Hp(e,d.properties,u,l)}for(const c of i)Fi(d.children,c);return d.type==="element"&&d.tagName==="template"&&(d.content={type:"root",children:d.children},d.children=[]),d}return s}function Up(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const a=s;for(const o of a)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Hp(e,t,n,r){const s=Wo(e,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?s.spaceSeparated?a=Nu(r):s.commaSeparated?a=Su(r):s.commaOrSpaceSeparated?a=Nu(Su(r).join(" ")):a=al(s,s.property,r):Array.isArray(r)?a=[...r]:a=s.property==="style"?$p(r):String(r);if(Array.isArray(a)){const o=[];for(const i of a)o.push(al(s,s.property,i));a=o}s.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[s.property]=a}}function Fi(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Fi(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Fi(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function al(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||ms(n)===ms(t)))return!0}return n}function $p(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function zp(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const Vp=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Yp=Dd(Ra,"div"),qp=Dd(js,"g",Vp);function Wp(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(a){if(typeof a=="number"&&a>-1&&a<=t.length){let o=0;for(;;){let i=n[o];if(i===void 0){const d=il(t,n[o-1]);i=d===-1?t.length+1:d+1,n[o]=i}if(i>a)return{line:o+1,column:a-(o>0?n[o-1]:0)+1,offset:a};o++}}}function s(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;n.length<a.line;){const i=n[n.length-1],d=il(t,i),c=d===-1?t.length+1:d+1;if(i===c)break;n.push(c)}const o=(a.line>1?n[a.line-2]:0)+a.column-1;if(o<n[a.line-1])return o}}}function il(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Pd={}.hasOwnProperty,Gp=Object.prototype;function Kp(e,t){const n=t||{};return Go({file:n.file||void 0,location:!1,schema:n.space==="svg"?js:Ra,verbose:n.verbose||!1},e)}function Go(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ra(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Md(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const a=String(e.file),o=Wp(a),i=o.toPoint(0),d=o.toPoint(a.length);n.position={start:i,end:d}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ra(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ra(e,r,n),n}default:return n=Xp(e,t),n}}function Md(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=Go(e,t[n]);r.push(s)}return r}function Xp(e,t){const n=e.schema;e.schema=t.namespaceURI===g0.svg?js:Ra;let r=-1;const s={};for(;++r<t.attrs.length;){const i=t.attrs[r],d=(i.prefix?i.prefix+":":"")+i.name;Pd.call(Gp,d)||(s[d]=i.value)}const o=(e.schema.space==="svg"?qp:Yp)(t.tagName,s,Md(e,t.childNodes));if(ra(e,t,o),o.tagName==="template"){const i=t,d=i.sourceCodeLocation,c=d&&d.startTag&&kr(d.startTag),g=d&&d.endTag&&kr(d.endTag),u=Go(e,i.content);c&&g&&e.file&&(u.position={start:c.end,end:g.start}),o.content=u}return e.schema=n,o}function ra(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Qp(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Qp(e,t,n){const r=kr(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const a={};let o;if(n.attrs)for(o in n.attrs)Pd.call(n.attrs,o)&&(a[Wo(e.schema,o).property]=kr(n.attrs[o]));n.startTag;const i=kr(n.startTag),d=n.endTag?kr(n.endTag):void 0,c={opening:i};d&&(c.closing=d),c.properties=a,t.data={position:c}}}return r}function kr(e){const t=ol({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=ol({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function ol(e){return e.line&&e.column?e:void 0}const Zp=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ze="";var k;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(k||(k={}));const It={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function jd(e){return e>=55296&&e<=57343}function Jp(e){return e>=56320&&e<=57343}function eg(e,t){return(e-55296)*1024+9216+t}function Fd(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Bd(e){return e>=64976&&e<=65007||Zp.has(e)}var H;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(H||(H={}));const tg=65536;class ng{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=tg,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:a}=this,o=s+n,i=a+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Jp(n))return this.pos++,this._addGap(),eg(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,k.EOF;return this._err(H.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;const r=this.html.charCodeAt(n);return r===k.CARRIAGE_RETURN?k.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;let t=this.html.charCodeAt(this.pos);return t===k.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,k.LINE_FEED):t===k.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,jd(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===k.LINE_FEED||t===k.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Fd(t)?this._err(H.controlCharacterInInputStream):Bd(t)&&this._err(H.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Me;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Me||(Me={}));function Ud(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const rg=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),sg=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function ag(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=sg.get(e))!==null&&t!==void 0?t:e}var pt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(pt||(pt={}));const ig=32;var $n;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})($n||($n={}));function Bi(e){return e>=pt.ZERO&&e<=pt.NINE}function og(e){return e>=pt.UPPER_A&&e<=pt.UPPER_F||e>=pt.LOWER_A&&e<=pt.LOWER_F}function ug(e){return e>=pt.UPPER_A&&e<=pt.UPPER_Z||e>=pt.LOWER_A&&e<=pt.LOWER_Z||Bi(e)}function lg(e){return e===pt.EQUALS||ug(e)}var ht;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ht||(ht={}));var Nn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Nn||(Nn={}));class cg{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ht.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Nn.Strict}startEntity(t){this.decodeMode=t,this.state=ht.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ht.EntityStart:return t.charCodeAt(n)===pt.NUM?(this.state=ht.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ht.NamedEntity,this.stateNamedEntity(t,n));case ht.NumericStart:return this.stateNumericStart(t,n);case ht.NumericDecimal:return this.stateNumericDecimal(t,n);case ht.NumericHex:return this.stateNumericHex(t,n);case ht.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|ig)===pt.LOWER_X?(this.state=ht.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ht.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const a=r-n;this.result=this.result*Math.pow(s,a)+Number.parseInt(t.substr(n,a),s),this.consumed+=a}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Bi(s)||og(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Bi(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===pt.SEMI)this.consumed+=1;else if(this.decodeMode===Nn.Strict)return 0;return this.emitCodePoint(ag(this.result),this.consumed),this.errors&&(t!==pt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],a=(s&$n.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=dg(r,s,this.treeIndex+Math.max(1,a),o),this.treeIndex<0)return this.result===0||this.decodeMode===Nn.Attribute&&(a===0||lg(o))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],a=(s&$n.VALUE_LENGTH)>>14,a!==0){if(o===pt.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Nn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&$n.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~$n.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case ht.NamedEntity:return this.result!==0&&(this.decodeMode!==Nn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ht.NumericDecimal:return this.emitNumericEntity(0,2);case ht.NumericHex:return this.emitNumericEntity(0,3);case ht.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ht.EntityStart:return 0}}}function dg(e,t,n,r){const s=(t&$n.BRANCH_LENGTH)>>7,a=t&$n.JUMP_TABLE;if(s===0)return a!==0&&r===a?n:-1;if(a){const d=r-a;return d<0||d>=s?-1:e[n+d]-1}let o=n,i=o+s-1;for(;o<=i;){const d=o+i>>>1,c=e[d];if(c<r)o=d+1;else if(c>r)i=d-1;else return e[d+s]}return-1}var G;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(G||(G={}));var ur;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(ur||(ur={}));var Wt;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Wt||(Wt={}));var B;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(B||(B={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(b||(b={}));const fg=new Map([[B.A,b.A],[B.ADDRESS,b.ADDRESS],[B.ANNOTATION_XML,b.ANNOTATION_XML],[B.APPLET,b.APPLET],[B.AREA,b.AREA],[B.ARTICLE,b.ARTICLE],[B.ASIDE,b.ASIDE],[B.B,b.B],[B.BASE,b.BASE],[B.BASEFONT,b.BASEFONT],[B.BGSOUND,b.BGSOUND],[B.BIG,b.BIG],[B.BLOCKQUOTE,b.BLOCKQUOTE],[B.BODY,b.BODY],[B.BR,b.BR],[B.BUTTON,b.BUTTON],[B.CAPTION,b.CAPTION],[B.CENTER,b.CENTER],[B.CODE,b.CODE],[B.COL,b.COL],[B.COLGROUP,b.COLGROUP],[B.DD,b.DD],[B.DESC,b.DESC],[B.DETAILS,b.DETAILS],[B.DIALOG,b.DIALOG],[B.DIR,b.DIR],[B.DIV,b.DIV],[B.DL,b.DL],[B.DT,b.DT],[B.EM,b.EM],[B.EMBED,b.EMBED],[B.FIELDSET,b.FIELDSET],[B.FIGCAPTION,b.FIGCAPTION],[B.FIGURE,b.FIGURE],[B.FONT,b.FONT],[B.FOOTER,b.FOOTER],[B.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[B.FORM,b.FORM],[B.FRAME,b.FRAME],[B.FRAMESET,b.FRAMESET],[B.H1,b.H1],[B.H2,b.H2],[B.H3,b.H3],[B.H4,b.H4],[B.H5,b.H5],[B.H6,b.H6],[B.HEAD,b.HEAD],[B.HEADER,b.HEADER],[B.HGROUP,b.HGROUP],[B.HR,b.HR],[B.HTML,b.HTML],[B.I,b.I],[B.IMG,b.IMG],[B.IMAGE,b.IMAGE],[B.INPUT,b.INPUT],[B.IFRAME,b.IFRAME],[B.KEYGEN,b.KEYGEN],[B.LABEL,b.LABEL],[B.LI,b.LI],[B.LINK,b.LINK],[B.LISTING,b.LISTING],[B.MAIN,b.MAIN],[B.MALIGNMARK,b.MALIGNMARK],[B.MARQUEE,b.MARQUEE],[B.MATH,b.MATH],[B.MENU,b.MENU],[B.META,b.META],[B.MGLYPH,b.MGLYPH],[B.MI,b.MI],[B.MO,b.MO],[B.MN,b.MN],[B.MS,b.MS],[B.MTEXT,b.MTEXT],[B.NAV,b.NAV],[B.NOBR,b.NOBR],[B.NOFRAMES,b.NOFRAMES],[B.NOEMBED,b.NOEMBED],[B.NOSCRIPT,b.NOSCRIPT],[B.OBJECT,b.OBJECT],[B.OL,b.OL],[B.OPTGROUP,b.OPTGROUP],[B.OPTION,b.OPTION],[B.P,b.P],[B.PARAM,b.PARAM],[B.PLAINTEXT,b.PLAINTEXT],[B.PRE,b.PRE],[B.RB,b.RB],[B.RP,b.RP],[B.RT,b.RT],[B.RTC,b.RTC],[B.RUBY,b.RUBY],[B.S,b.S],[B.SCRIPT,b.SCRIPT],[B.SEARCH,b.SEARCH],[B.SECTION,b.SECTION],[B.SELECT,b.SELECT],[B.SOURCE,b.SOURCE],[B.SMALL,b.SMALL],[B.SPAN,b.SPAN],[B.STRIKE,b.STRIKE],[B.STRONG,b.STRONG],[B.STYLE,b.STYLE],[B.SUB,b.SUB],[B.SUMMARY,b.SUMMARY],[B.SUP,b.SUP],[B.TABLE,b.TABLE],[B.TBODY,b.TBODY],[B.TEMPLATE,b.TEMPLATE],[B.TEXTAREA,b.TEXTAREA],[B.TFOOT,b.TFOOT],[B.TD,b.TD],[B.TH,b.TH],[B.THEAD,b.THEAD],[B.TITLE,b.TITLE],[B.TR,b.TR],[B.TRACK,b.TRACK],[B.TT,b.TT],[B.U,b.U],[B.UL,b.UL],[B.SVG,b.SVG],[B.VAR,b.VAR],[B.WBR,b.WBR],[B.XMP,b.XMP]]);function La(e){var t;return(t=fg.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const X=b,mg={[G.HTML]:new Set([X.ADDRESS,X.APPLET,X.AREA,X.ARTICLE,X.ASIDE,X.BASE,X.BASEFONT,X.BGSOUND,X.BLOCKQUOTE,X.BODY,X.BR,X.BUTTON,X.CAPTION,X.CENTER,X.COL,X.COLGROUP,X.DD,X.DETAILS,X.DIR,X.DIV,X.DL,X.DT,X.EMBED,X.FIELDSET,X.FIGCAPTION,X.FIGURE,X.FOOTER,X.FORM,X.FRAME,X.FRAMESET,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HEADER,X.HGROUP,X.HR,X.HTML,X.IFRAME,X.IMG,X.INPUT,X.LI,X.LINK,X.LISTING,X.MAIN,X.MARQUEE,X.MENU,X.META,X.NAV,X.NOEMBED,X.NOFRAMES,X.NOSCRIPT,X.OBJECT,X.OL,X.P,X.PARAM,X.PLAINTEXT,X.PRE,X.SCRIPT,X.SECTION,X.SELECT,X.SOURCE,X.STYLE,X.SUMMARY,X.TABLE,X.TBODY,X.TD,X.TEMPLATE,X.TEXTAREA,X.TFOOT,X.TH,X.THEAD,X.TITLE,X.TR,X.TRACK,X.UL,X.WBR,X.XMP]),[G.MATHML]:new Set([X.MI,X.MO,X.MN,X.MS,X.MTEXT,X.ANNOTATION_XML]),[G.SVG]:new Set([X.TITLE,X.FOREIGN_OBJECT,X.DESC]),[G.XLINK]:new Set,[G.XML]:new Set,[G.XMLNS]:new Set},Ui=new Set([X.H1,X.H2,X.H3,X.H4,X.H5,X.H6]);B.STYLE,B.SCRIPT,B.XMP,B.IFRAME,B.NOEMBED,B.NOFRAMES,B.PLAINTEXT;var I;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(I||(I={}));const Lt={DATA:I.DATA,RCDATA:I.RCDATA,RAWTEXT:I.RAWTEXT,SCRIPT_DATA:I.SCRIPT_DATA,PLAINTEXT:I.PLAINTEXT,CDATA_SECTION:I.CDATA_SECTION};function hg(e){return e>=k.DIGIT_0&&e<=k.DIGIT_9}function Jr(e){return e>=k.LATIN_CAPITAL_A&&e<=k.LATIN_CAPITAL_Z}function pg(e){return e>=k.LATIN_SMALL_A&&e<=k.LATIN_SMALL_Z}function Mn(e){return pg(e)||Jr(e)}function ul(e){return Mn(e)||hg(e)}function Ks(e){return e+32}function Hd(e){return e===k.SPACE||e===k.LINE_FEED||e===k.TABULATION||e===k.FORM_FEED}function ll(e){return Hd(e)||e===k.SOLIDUS||e===k.GREATER_THAN_SIGN}function gg(e){return e===k.NULL?H.nullCharacterReference:e>1114111?H.characterReferenceOutsideUnicodeRange:jd(e)?H.surrogateCharacterReference:Bd(e)?H.noncharacterCharacterReference:Fd(e)||e===k.CARRIAGE_RETURN?H.controlCharacterReference:null}class bg{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=I.DATA,this.returnState=I.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new ng(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new cg(rg,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(H.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(H.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=gg(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Me.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Me.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Me.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Me.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Ud(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(H.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=La(t.tagName),t.type===Me.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(H.endTagWithAttributes),t.selfClosing&&this._err(H.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Me.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Me.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Me.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Me.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Hd(t)?Me.WHITESPACE_CHARACTER:t===k.NULL?Me.NULL_CHARACTER:Me.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Me.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=I.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Nn.Attribute:Nn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===I.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case I.DATA:{this._stateData(t);break}case I.RCDATA:{this._stateRcdata(t);break}case I.RAWTEXT:{this._stateRawtext(t);break}case I.SCRIPT_DATA:{this._stateScriptData(t);break}case I.PLAINTEXT:{this._statePlaintext(t);break}case I.TAG_OPEN:{this._stateTagOpen(t);break}case I.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case I.TAG_NAME:{this._stateTagName(t);break}case I.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case I.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case I.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case I.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case I.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case I.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case I.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case I.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case I.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case I.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case I.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case I.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case I.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case I.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case I.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case I.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case I.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case I.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case I.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case I.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case I.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case I.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case I.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case I.BOGUS_COMMENT:{this._stateBogusComment(t);break}case I.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case I.COMMENT_START:{this._stateCommentStart(t);break}case I.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case I.COMMENT:{this._stateComment(t);break}case I.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case I.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case I.COMMENT_END:{this._stateCommentEnd(t);break}case I.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case I.DOCTYPE:{this._stateDoctype(t);break}case I.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case I.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case I.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case I.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case I.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case I.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case I.CDATA_SECTION:{this._stateCdataSection(t);break}case I.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case I.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case I.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case I.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case k.LESS_THAN_SIGN:{this.state=I.TAG_OPEN;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(H.unexpectedNullCharacter),this._emitCodePoint(t);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case k.AMPERSAND:{this._startCharacterReference();break}case k.LESS_THAN_SIGN:{this.state=I.RCDATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(H.unexpectedNullCharacter),this._emitChars(Ze);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case k.LESS_THAN_SIGN:{this.state=I.RAWTEXT_LESS_THAN_SIGN;break}case k.NULL:{this._err(H.unexpectedNullCharacter),this._emitChars(Ze);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case k.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(H.unexpectedNullCharacter),this._emitChars(Ze);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case k.NULL:{this._err(H.unexpectedNullCharacter),this._emitChars(Ze);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Mn(t))this._createStartTagToken(),this.state=I.TAG_NAME,this._stateTagName(t);else switch(t){case k.EXCLAMATION_MARK:{this.state=I.MARKUP_DECLARATION_OPEN;break}case k.SOLIDUS:{this.state=I.END_TAG_OPEN;break}case k.QUESTION_MARK:{this._err(H.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t);break}case k.EOF:{this._err(H.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(H.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=I.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Mn(t))this._createEndTagToken(),this.state=I.TAG_NAME,this._stateTagName(t);else switch(t){case k.GREATER_THAN_SIGN:{this._err(H.missingEndTagName),this.state=I.DATA;break}case k.EOF:{this._err(H.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(H.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=I.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.tagName+=Ze;break}case k.EOF:{this._err(H.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Jr(t)?Ks(t):t)}}_stateRcdataLessThanSign(t){t===k.SOLIDUS?this.state=I.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Mn(t)?(this.state=I.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=I.BEFORE_ATTRIBUTE_NAME,!1;case k.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=I.SELF_CLOSING_START_TAG,!1;case k.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=I.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===k.SOLIDUS?this.state=I.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Mn(t)?(this.state=I.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case k.SOLIDUS:{this.state=I.SCRIPT_DATA_END_TAG_OPEN;break}case k.EXCLAMATION_MARK:{this.state=I.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=I.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Mn(t)?(this.state=I.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===k.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===k.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case k.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(H.unexpectedNullCharacter),this._emitChars(Ze);break}case k.EOF:{this._err(H.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case k.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(Ze);break}case k.EOF:{this._err(H.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(Ze);break}case k.EOF:{this._err(H.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===k.SOLIDUS?this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Mn(t)?(this._emitChars("<"),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Mn(t)?(this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(It.SCRIPT,!1)&&ll(this.preprocessor.peek(It.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<It.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case k.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(H.unexpectedNullCharacter),this._emitChars(Ze);break}case k.EOF:{this._err(H.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case k.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ze);break}case k.EOF:{this._err(H.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ze);break}case k.EOF:{this._err(H.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===k.SOLIDUS?(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(It.SCRIPT,!1)&&ll(this.preprocessor.peek(It.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<It.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case k.EQUALS_SIGN:{this._err(H.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=I.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this._leaveAttrName(),this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case k.EQUALS_SIGN:{this._leaveAttrName(),this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:{this._err(H.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.currentAttr.name+=Ze;break}default:this.currentAttr.name+=String.fromCodePoint(Jr(t)?Ks(t):t)}}_stateAfterAttributeName(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case k.EQUALS_SIGN:{this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case k.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(H.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{this.state=I.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this.state=I.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(H.missingAttributeValue),this.state=I.DATA,this.emitCurrentTagToken();break}default:this.state=I.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case k.QUOTATION_MARK:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.currentAttr.value+=Ze;break}case k.EOF:{this._err(H.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case k.APOSTROPHE:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.currentAttr.value+=Ze;break}case k.EOF:{this._err(H.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(H.unexpectedNullCharacter),this.currentAttr.value+=Ze;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:case k.EQUALS_SIGN:case k.GRAVE_ACCENT:{this._err(H.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case k.EOF:{this._err(H.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this._leaveAttrValue(),this.state=I.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(H.eofInTag),this._emitEOFToken();break}default:this._err(H.missingWhitespaceBetweenAttributes),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case k.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=I.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(H.eofInTag),this._emitEOFToken();break}default:this._err(H.unexpectedSolidusInTag),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case k.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case k.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.data+=Ze;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(It.DASH_DASH,!0)?(this._createCommentToken(It.DASH_DASH.length+1),this.state=I.COMMENT_START):this._consumeSequenceIfMatch(It.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(It.DOCTYPE.length+1),this.state=I.DOCTYPE):this._consumeSequenceIfMatch(It.CDATA_START,!0)?this.inForeignNode?this.state=I.CDATA_SECTION:(this._err(H.cdataInHtmlContent),this._createCommentToken(It.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=I.BOGUS_COMMENT):this._ensureHibernation()||(this._err(H.incorrectlyOpenedComment),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case k.HYPHEN_MINUS:{this.state=I.COMMENT_START_DASH;break}case k.GREATER_THAN_SIGN:{this._err(H.abruptClosingOfEmptyComment),this.state=I.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=I.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case k.GREATER_THAN_SIGN:{this._err(H.abruptClosingOfEmptyComment),this.state=I.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(H.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{this.state=I.COMMENT_END_DASH;break}case k.LESS_THAN_SIGN:{n.data+="<",this.state=I.COMMENT_LESS_THAN_SIGN;break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.data+=Ze;break}case k.EOF:{this._err(H.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case k.EXCLAMATION_MARK:{n.data+="!",this.state=I.COMMENT_LESS_THAN_SIGN_BANG;break}case k.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=I.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===k.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=I.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===k.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=I.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==k.GREATER_THAN_SIGN&&t!==k.EOF&&this._err(H.nestedComment),this.state=I.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case k.EOF:{this._err(H.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case k.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case k.EXCLAMATION_MARK:{this.state=I.COMMENT_END_BANG;break}case k.HYPHEN_MINUS:{n.data+="-";break}case k.EOF:{this._err(H.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=I.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{n.data+="--!",this.state=I.COMMENT_END_DASH;break}case k.GREATER_THAN_SIGN:{this._err(H.incorrectlyClosedComment),this.state=I.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(H.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=I.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case k.EOF:{this._err(H.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.missingWhitespaceBeforeDoctypeName),this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Jr(t))this._createDoctypeToken(String.fromCharCode(Ks(t))),this.state=I.DOCTYPE_NAME;else switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.NULL:{this._err(H.unexpectedNullCharacter),this._createDoctypeToken(Ze),this.state=I.DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this._err(H.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.EOF:{this._err(H.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=I.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=I.AFTER_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.name+=Ze;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Jr(t)?Ks(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(It.PUBLIC,!1)?this.state=I.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(It.SYSTEM,!1)?this.state=I.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(H.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(H.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(H.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(H.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(H.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case k.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.publicId+=Ze;break}case k.GREATER_THAN_SIGN:{this._err(H.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case k.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.publicId+=Ze;break}case k.GREATER_THAN_SIGN:{this._err(H.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case k.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case k.QUOTATION_MARK:{this._err(H.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(H.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(H.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(H.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(H.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(H.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case k.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.systemId+=Ze;break}case k.GREATER_THAN_SIGN:{this._err(H.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case k.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(H.unexpectedNullCharacter),n.systemId+=Ze;break}case k.GREATER_THAN_SIGN:{this._err(H.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.EOF:{this._err(H.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(H.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case k.NULL:{this._err(H.unexpectedNullCharacter);break}case k.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case k.RIGHT_SQUARE_BRACKET:{this.state=I.CDATA_SECTION_BRACKET;break}case k.EOF:{this._err(H.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===k.RIGHT_SQUARE_BRACKET?this.state=I.CDATA_SECTION_END:(this._emitChars("]"),this.state=I.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case k.GREATER_THAN_SIGN:{this.state=I.DATA;break}case k.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=I.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(k.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&ul(this.preprocessor.peek(1))?I.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){ul(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===k.SEMICOLON&&this._err(H.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const $d=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),cl=new Set([...$d,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),pa=new Set([b.APPLET,b.CAPTION,b.HTML,b.MARQUEE,b.OBJECT,b.TABLE,b.TD,b.TEMPLATE,b.TH]),yg=new Set([...pa,b.OL,b.UL]),Eg=new Set([...pa,b.BUTTON]),dl=new Set([b.ANNOTATION_XML,b.MI,b.MN,b.MO,b.MS,b.MTEXT]),fl=new Set([b.DESC,b.FOREIGN_OBJECT,b.TITLE]),xg=new Set([b.TR,b.TEMPLATE,b.HTML]),vg=new Set([b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML]),Tg=new Set([b.TABLE,b.TEMPLATE,b.HTML]),_g=new Set([b.TD,b.TH]);class wg{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===G.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==G.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Ui,G.HTML)}popUntilTableCellPopped(){this.popUntilPopped(_g,G.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Tg,G.HTML)}clearBackToTableBodyContext(){this.clearBackTo(vg,G.HTML)}clearBackToTableRowContext(){this.clearBackTo(xg,G.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case G.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case G.SVG:{if(fl.has(s))return!1;break}case G.MATHML:{if(dl.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,pa)}hasInListItemScope(t){return this.hasInDynamicScope(t,yg)}hasInButtonScope(t){return this.hasInDynamicScope(t,Eg)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case G.HTML:{if(Ui.has(n))return!0;if(pa.has(n))return!1;break}case G.SVG:{if(fl.has(n))return!1;break}case G.MATHML:{if(dl.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===G.HTML)switch(this.tagIDs[n]){case t:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===G.HTML)switch(this.tagIDs[t]){case b.TBODY:case b.THEAD:case b.TFOOT:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===G.HTML)switch(this.tagIDs[n]){case t:return!0;case b.OPTION:case b.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&$d.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&cl.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&cl.has(this.currentTagId);)this.pop()}}const ci=3;var cn;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(cn||(cn={}));const ml={type:cn.Marker};class Ag{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,a=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let i=0;i<this.entries.length;i++){const d=this.entries[i];if(d.type===cn.Marker)break;const{element:c}=d;if(this.treeAdapter.getTagName(c)===a&&this.treeAdapter.getNamespaceURI(c)===o){const g=this.treeAdapter.getAttrList(c);g.length===s&&r.push({idx:i,attrs:g})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<ci)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<ci)return;const s=new Map(n.map(o=>[o.name,o.value]));let a=0;for(let o=0;o<r.length;o++){const i=r[o];i.attrs.every(d=>s.get(d.name)===d.value)&&(a+=1,a>=ci&&this.entries.splice(i.idx,1))}}insertMarker(){this.entries.unshift(ml)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:cn.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:cn.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(ml);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===cn.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===cn.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===cn.Element&&n.element===t)}}const jn={createDocument(){return{nodeName:"#document",mode:Wt.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(a=>a.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const a={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};jn.appendChild(e,a)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(jn.isTextNode(n)){n.value+=t;return}}jn.appendChild(e,jn.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&jn.isTextNode(r)?r.value+=t:jn.insertBefore(e,jn.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},zd="html",Ng="about:legacy-compat",Sg="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Vd=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Cg=[...Vd,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],kg=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Yd=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Ig=[...Yd,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hl(e,t){return t.some(n=>e.startsWith(n))}function Og(e){return e.name===zd&&e.publicId===null&&(e.systemId===null||e.systemId===Ng)}function Rg(e){if(e.name!==zd)return Wt.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Sg)return Wt.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),kg.has(n))return Wt.QUIRKS;let r=t===null?Cg:Vd;if(hl(n,r))return Wt.QUIRKS;if(r=t===null?Yd:Ig,hl(n,r))return Wt.LIMITED_QUIRKS}return Wt.NO_QUIRKS}const pl={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Lg="definitionurl",Dg="definitionURL",Pg=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Mg=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:G.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:G.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:G.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:G.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:G.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:G.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:G.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:G.XML}],["xml:space",{prefix:"xml",name:"space",namespace:G.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:G.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:G.XMLNS}]]),jg=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Fg=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function Bg(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===ur.COLOR||r===ur.SIZE||r===ur.FACE)||Fg.has(t)}function qd(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Lg){e.attrs[t].name=Dg;break}}function Wd(e){for(let t=0;t<e.attrs.length;t++){const n=Pg.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Ko(e){for(let t=0;t<e.attrs.length;t++){const n=Mg.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Ug(e){const t=jg.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=La(e.tagName))}function Hg(e,t){return t===G.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function $g(e,t,n){if(t===G.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===ur.ENCODING){const s=n[r].value.toLowerCase();return s===pl.TEXT_HTML||s===pl.APPLICATION_XML}}return t===G.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function zg(e,t,n,r){return(!r||r===G.HTML)&&$g(e,t,n)||(!r||r===G.MATHML)&&Hg(e,t)}const Vg="hidden",Yg=8,qg=3;var R;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(R||(R={}));const Wg={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Gd=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),gl={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:jn,onParseError:null};class Kd{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=R.INITIAL,this.originalInsertionMode=R.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...gl,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new bg(this.options,this),this.activeFormattingElements=new Ag(this.treeAdapter),this.fragmentContextID=r?La(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new wg(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...gl,...n};t??(t=r.treeAdapter.createElement(B.TEMPLATE,G.HTML,[]));const s=r.treeAdapter.createElement("documentmock",G.HTML,[]),a=new this(r,s,t);return a.fragmentContextID===b.TEMPLATE&&a.tmplInsertionModeStack.unshift(R.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const a=(s=t.location)!==null&&s!==void 0?s:Wg,o={code:n,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(o)}onItemPush(t,n,r){var s,a;(a=(s=this.treeAdapter).onItemPush)===null||a===void 0||a.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let a,o;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,o=this.fragmentContextID):{current:a,currentTagId:o}=this.openElements,this._setContextModes(a,o)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===G.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,G.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=R.TEXT}switchToPlaintextParsing(){this.insertionMode=R.TEXT,this.originalInsertionMode=R.IN_BODY,this.tokenizer.state=Lt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===B.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==G.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=Lt.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=Lt.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=Lt.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=Lt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(i=>this.treeAdapter.isDocumentTypeNode(i));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,G.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,G.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(B.HTML,G.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),a=r?s.lastIndexOf(r):s.length,o=s[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:d,endCol:c,endOffset:g}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:d,endCol:c,endOffset:g})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),a=n.type===Me.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,a)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===B.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===G.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,G.HTML)}_processToken(t){switch(t.type){case Me.CHARACTER:{this.onCharacter(t);break}case Me.NULL_CHARACTER:{this.onNullCharacter(t);break}case Me.COMMENT:{this.onComment(t);break}case Me.DOCTYPE:{this.onDoctype(t);break}case Me.START_TAG:{this._processStartTag(t);break}case Me.END_TAG:{this.onEndTag(t);break}case Me.EOF:{this.onEof(t);break}case Me.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),a=this.treeAdapter.getAttrList(n);return zg(t,s,a,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===cn.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const a=this.activeFormattingElements.entries[s];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=R.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=R.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=R.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=R.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=R.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=R.IN_TABLE;return}case b.BODY:{this.insertionMode=R.IN_BODY;return}case b.FRAMESET:{this.insertionMode=R.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?R.AFTER_HEAD:R.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=R.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=R.IN_HEAD;return}break}}this.insertionMode=R.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=R.IN_SELECT_IN_TABLE;return}}this.insertionMode=R.IN_SELECT}_isElementCausesFosterParenting(t){return Gd.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===G.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return mg[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){_1(this,t);return}switch(this.insertionMode){case R.INITIAL:{Qr(this,t);break}case R.BEFORE_HTML:{ss(this,t);break}case R.BEFORE_HEAD:{as(this,t);break}case R.IN_HEAD:{is(this,t);break}case R.IN_HEAD_NO_SCRIPT:{os(this,t);break}case R.AFTER_HEAD:{us(this,t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:{Qd(this,t);break}case R.TEXT:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{di(this,t);break}case R.IN_TABLE_TEXT:{rf(this,t);break}case R.IN_COLUMN_GROUP:{ga(this,t);break}case R.AFTER_BODY:{ba(this,t);break}case R.AFTER_AFTER_BODY:{sa(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){T1(this,t);return}switch(this.insertionMode){case R.INITIAL:{Qr(this,t);break}case R.BEFORE_HTML:{ss(this,t);break}case R.BEFORE_HEAD:{as(this,t);break}case R.IN_HEAD:{is(this,t);break}case R.IN_HEAD_NO_SCRIPT:{os(this,t);break}case R.AFTER_HEAD:{us(this,t);break}case R.TEXT:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{di(this,t);break}case R.IN_COLUMN_GROUP:{ga(this,t);break}case R.AFTER_BODY:{ba(this,t);break}case R.AFTER_AFTER_BODY:{sa(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Hi(this,t);return}switch(this.insertionMode){case R.INITIAL:case R.BEFORE_HTML:case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_TEMPLATE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{Hi(this,t);break}case R.IN_TABLE_TEXT:{Zr(this,t);break}case R.AFTER_BODY:{eb(this,t);break}case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{tb(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case R.INITIAL:{nb(this,t);break}case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:{this._err(t,H.misplacedDoctype);break}case R.IN_TABLE_TEXT:{Zr(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,H.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?w1(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{Qr(this,t);break}case R.BEFORE_HTML:{rb(this,t);break}case R.BEFORE_HEAD:{ab(this,t);break}case R.IN_HEAD:{rn(this,t);break}case R.IN_HEAD_NO_SCRIPT:{ub(this,t);break}case R.AFTER_HEAD:{cb(this,t);break}case R.IN_BODY:{Tt(this,t);break}case R.IN_TABLE:{Br(this,t);break}case R.IN_TABLE_TEXT:{Zr(this,t);break}case R.IN_CAPTION:{i1(this,t);break}case R.IN_COLUMN_GROUP:{Zo(this,t);break}case R.IN_TABLE_BODY:{Ma(this,t);break}case R.IN_ROW:{ja(this,t);break}case R.IN_CELL:{l1(this,t);break}case R.IN_SELECT:{of(this,t);break}case R.IN_SELECT_IN_TABLE:{d1(this,t);break}case R.IN_TEMPLATE:{m1(this,t);break}case R.AFTER_BODY:{p1(this,t);break}case R.IN_FRAMESET:{g1(this,t);break}case R.AFTER_FRAMESET:{y1(this,t);break}case R.AFTER_AFTER_BODY:{x1(this,t);break}case R.AFTER_AFTER_FRAMESET:{v1(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?A1(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{Qr(this,t);break}case R.BEFORE_HTML:{sb(this,t);break}case R.BEFORE_HEAD:{ib(this,t);break}case R.IN_HEAD:{ob(this,t);break}case R.IN_HEAD_NO_SCRIPT:{lb(this,t);break}case R.AFTER_HEAD:{db(this,t);break}case R.IN_BODY:{Pa(this,t);break}case R.TEXT:{Xb(this,t);break}case R.IN_TABLE:{hs(this,t);break}case R.IN_TABLE_TEXT:{Zr(this,t);break}case R.IN_CAPTION:{o1(this,t);break}case R.IN_COLUMN_GROUP:{u1(this,t);break}case R.IN_TABLE_BODY:{$i(this,t);break}case R.IN_ROW:{af(this,t);break}case R.IN_CELL:{c1(this,t);break}case R.IN_SELECT:{uf(this,t);break}case R.IN_SELECT_IN_TABLE:{f1(this,t);break}case R.IN_TEMPLATE:{h1(this,t);break}case R.AFTER_BODY:{cf(this,t);break}case R.IN_FRAMESET:{b1(this,t);break}case R.AFTER_FRAMESET:{E1(this,t);break}case R.AFTER_AFTER_BODY:{sa(this,t);break}}}onEof(t){switch(this.insertionMode){case R.INITIAL:{Qr(this,t);break}case R.BEFORE_HTML:{ss(this,t);break}case R.BEFORE_HEAD:{as(this,t);break}case R.IN_HEAD:{is(this,t);break}case R.IN_HEAD_NO_SCRIPT:{os(this,t);break}case R.AFTER_HEAD:{us(this,t);break}case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{tf(this,t);break}case R.TEXT:{Qb(this,t);break}case R.IN_TABLE_TEXT:{Zr(this,t);break}case R.IN_TEMPLATE:{lf(this,t);break}case R.AFTER_BODY:case R.IN_FRAMESET:case R.AFTER_FRAMESET:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Qo(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===k.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.TEXT:case R.IN_COLUMN_GROUP:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{this._insertCharacters(t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:case R.AFTER_BODY:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Xd(this,t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{di(this,t);break}case R.IN_TABLE_TEXT:{nf(this,t);break}}}}function Gg(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):ef(e,t),n}function Kg(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function Xg(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let a=0,o=s;o!==n;a++,o=s){s=e.openElements.getCommonAncestor(o);const i=e.activeFormattingElements.getElementEntry(o),d=i&&a>=qg;!i||d?(d&&e.activeFormattingElements.removeEntry(i),e.openElements.remove(o)):(o=Qg(e,i),r===t&&(e.activeFormattingElements.bookmark=i),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function Qg(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Zg(e,t,n){const r=e.treeAdapter.getTagName(t),s=La(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const a=e.treeAdapter.getNamespaceURI(t);s===b.TEMPLATE&&a===G.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Jg(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,a=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,a,s.tagID)}function Xo(e,t){for(let n=0;n<Yg;n++){const r=Gg(e,t);if(!r)break;const s=Kg(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const a=Xg(e,s,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(a),o&&Zg(e,o,a),Jg(e,s,r)}}function Hi(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function eb(e,t){e._appendCommentNode(t,e.openElements.items[0])}function tb(e,t){e._appendCommentNode(t,e.document)}function Qo(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const a=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(a);o&&!o.endTag&&e._setEndLocation(a,t)}}}}function nb(e,t){e._setDocumentType(t);const n=t.forceQuirks?Wt.QUIRKS:Rg(t);Og(t)||e._err(t,H.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=R.BEFORE_HTML}function Qr(e,t){e._err(t,H.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Wt.QUIRKS),e.insertionMode=R.BEFORE_HTML,e._processToken(t)}function rb(e,t){t.tagID===b.HTML?(e._insertElement(t,G.HTML),e.insertionMode=R.BEFORE_HEAD):ss(e,t)}function sb(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&ss(e,t)}function ss(e,t){e._insertFakeRootElement(),e.insertionMode=R.BEFORE_HEAD,e._processToken(t)}function ab(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.HEAD:{e._insertElement(t,G.HTML),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD;break}default:as(e,t)}}function ib(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?as(e,t):e._err(t,H.endTagWithoutMatchingOpenElement)}function as(e,t){e._insertFakeElement(B.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD,e._processToken(t)}function rn(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,Lt.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Lt.RAWTEXT):(e._insertElement(t,G.HTML),e.insertionMode=R.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,Lt.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,Lt.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=R.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(R.IN_TEMPLATE);break}case b.HEAD:{e._err(t,H.misplacedStartTagForHeadElement);break}default:is(e,t)}}function ob(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=R.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{is(e,t);break}case b.TEMPLATE:{vr(e,t);break}default:e._err(t,H.endTagWithoutMatchingOpenElement)}}function vr(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,H.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,H.endTagWithoutMatchingOpenElement)}function is(e,t){e.openElements.pop(),e.insertionMode=R.AFTER_HEAD,e._processToken(t)}function ub(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{rn(e,t);break}case b.NOSCRIPT:{e._err(t,H.nestedNoscriptInHead);break}default:os(e,t)}}function lb(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=R.IN_HEAD;break}case b.BR:{os(e,t);break}default:e._err(t,H.endTagWithoutMatchingOpenElement)}}function os(e,t){const n=t.type===Me.EOF?H.openElementsLeftAfterEof:H.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=R.IN_HEAD,e._processToken(t)}function cb(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.BODY:{e._insertElement(t,G.HTML),e.framesetOk=!1,e.insertionMode=R.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,G.HTML),e.insertionMode=R.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,H.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),rn(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,H.misplacedStartTagForHeadElement);break}default:us(e,t)}}function db(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{us(e,t);break}case b.TEMPLATE:{vr(e,t);break}default:e._err(t,H.endTagWithoutMatchingOpenElement)}}function us(e,t){e._insertFakeElement(B.BODY,b.BODY),e.insertionMode=R.IN_BODY,Da(e,t)}function Da(e,t){switch(t.type){case Me.CHARACTER:{Qd(e,t);break}case Me.WHITESPACE_CHARACTER:{Xd(e,t);break}case Me.COMMENT:{Hi(e,t);break}case Me.START_TAG:{Tt(e,t);break}case Me.END_TAG:{Pa(e,t);break}case Me.EOF:{tf(e,t);break}}}function Xd(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Qd(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function fb(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function mb(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function hb(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,G.HTML),e.insertionMode=R.IN_FRAMESET)}function pb(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML)}function gb(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Ui.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,G.HTML)}function bb(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function yb(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),n||(e.formElement=e.openElements.current))}function Eb(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===b.LI&&s===b.LI||(n===b.DD||n===b.DT)&&(s===b.DD||s===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==b.ADDRESS&&s!==b.DIV&&s!==b.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML)}function xb(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),e.tokenizer.state=Lt.PLAINTEXT}function vb(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.framesetOk=!1}function Tb(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(B.A);n&&(Xo(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function _b(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function wb(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(Xo(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,G.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ab(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Nb(e,t){e.treeAdapter.getDocumentMode(e.document)!==Wt.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),e.framesetOk=!1,e.insertionMode=R.IN_TABLE}function Zd(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,G.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Jd(e){const t=Ud(e,ur.TYPE);return t!=null&&t.toLowerCase()===Vg}function Sb(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,G.HTML),Jd(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Cb(e,t){e._appendElement(t,G.HTML),t.ackSelfClosing=!0}function kb(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,G.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ib(e,t){t.tagName=B.IMG,t.tagID=b.IMG,Zd(e,t)}function Ob(e,t){e._insertElement(t,G.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Lt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=R.TEXT}function Rb(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Lt.RAWTEXT)}function Lb(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Lt.RAWTEXT)}function bl(e,t){e._switchToTextParsing(t,Lt.RAWTEXT)}function Db(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===R.IN_TABLE||e.insertionMode===R.IN_CAPTION||e.insertionMode===R.IN_TABLE_BODY||e.insertionMode===R.IN_ROW||e.insertionMode===R.IN_CELL?R.IN_SELECT_IN_TABLE:R.IN_SELECT}function Pb(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML)}function Mb(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,G.HTML)}function jb(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,G.HTML)}function Fb(e,t){e._reconstructActiveFormattingElements(),qd(t),Ko(t),t.selfClosing?e._appendElement(t,G.MATHML):e._insertElement(t,G.MATHML),t.ackSelfClosing=!0}function Bb(e,t){e._reconstructActiveFormattingElements(),Wd(t),Ko(t),t.selfClosing?e._appendElement(t,G.SVG):e._insertElement(t,G.SVG),t.ackSelfClosing=!0}function yl(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML)}function Tt(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{_b(e,t);break}case b.A:{Tb(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{gb(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{pb(e,t);break}case b.LI:case b.DD:case b.DT:{Eb(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{Zd(e,t);break}case b.HR:{kb(e,t);break}case b.RB:case b.RTC:{Mb(e,t);break}case b.RT:case b.RP:{jb(e,t);break}case b.PRE:case b.LISTING:{bb(e,t);break}case b.XMP:{Rb(e,t);break}case b.SVG:{Bb(e,t);break}case b.HTML:{fb(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{rn(e,t);break}case b.BODY:{mb(e,t);break}case b.FORM:{yb(e,t);break}case b.NOBR:{wb(e,t);break}case b.MATH:{Fb(e,t);break}case b.TABLE:{Nb(e,t);break}case b.INPUT:{Sb(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{Cb(e,t);break}case b.IMAGE:{Ib(e,t);break}case b.BUTTON:{vb(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{Ab(e,t);break}case b.IFRAME:{Lb(e,t);break}case b.SELECT:{Db(e,t);break}case b.OPTION:case b.OPTGROUP:{Pb(e,t);break}case b.NOEMBED:case b.NOFRAMES:{bl(e,t);break}case b.FRAMESET:{hb(e,t);break}case b.TEXTAREA:{Ob(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?bl(e,t):yl(e,t);break}case b.PLAINTEXT:{xb(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:yl(e,t)}}function Ub(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=R.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Hb(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=R.AFTER_BODY,cf(e,t))}function $b(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function zb(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function Vb(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(B.P,b.P),e._closePElement()}function Yb(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function qb(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Wb(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Gb(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Kb(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(B.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function ef(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const a=e.openElements.items[s],o=e.openElements.tagIDs[s];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(a)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(a,o))break}}function Pa(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{Xo(e,t);break}case b.P:{Vb(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{$b(e,t);break}case b.LI:{Yb(e);break}case b.DD:case b.DT:{qb(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{Wb(e);break}case b.BR:{Kb(e);break}case b.BODY:{Ub(e,t);break}case b.HTML:{Hb(e,t);break}case b.FORM:{zb(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{Gb(e,t);break}case b.TEMPLATE:{vr(e,t);break}default:ef(e,t)}}function tf(e,t){e.tmplInsertionModeStack.length>0?lf(e,t):Qo(e,t)}function Xb(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Qb(e,t){e._err(t,H.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function di(e,t){if(e.openElements.currentTagId!==void 0&&Gd.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=R.IN_TABLE_TEXT,t.type){case Me.CHARACTER:{rf(e,t);break}case Me.WHITESPACE_CHARACTER:{nf(e,t);break}}else Fs(e,t)}function Zb(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,G.HTML),e.insertionMode=R.IN_CAPTION}function Jb(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,G.HTML),e.insertionMode=R.IN_COLUMN_GROUP}function e1(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(B.COLGROUP,b.COLGROUP),e.insertionMode=R.IN_COLUMN_GROUP,Zo(e,t)}function t1(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,G.HTML),e.insertionMode=R.IN_TABLE_BODY}function n1(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(B.TBODY,b.TBODY),e.insertionMode=R.IN_TABLE_BODY,Ma(e,t)}function r1(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function s1(e,t){Jd(t)?e._appendElement(t,G.HTML):Fs(e,t),t.ackSelfClosing=!0}function a1(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,G.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Br(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{n1(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{rn(e,t);break}case b.COL:{e1(e,t);break}case b.FORM:{a1(e,t);break}case b.TABLE:{r1(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{t1(e,t);break}case b.INPUT:{s1(e,t);break}case b.CAPTION:{Zb(e,t);break}case b.COLGROUP:{Jb(e,t);break}default:Fs(e,t)}}function hs(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{vr(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:Fs(e,t)}}function Fs(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Da(e,t),e.fosterParentingEnabled=n}function nf(e,t){e.pendingCharacterTokens.push(t)}function rf(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Zr(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Fs(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const sf=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function i1(e,t){const n=t.tagID;sf.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,Br(e,t)):Tt(e,t)}function o1(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,n===b.TABLE&&hs(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:Pa(e,t)}}function Zo(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.COL:{e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{rn(e,t);break}default:ga(e,t)}}function u1(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case b.TEMPLATE:{vr(e,t);break}case b.COL:break;default:ga(e,t)}}function ga(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE,e._processToken(t))}function Ma(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,G.HTML),e.insertionMode=R.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(B.TR,b.TR),e.insertionMode=R.IN_ROW,ja(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,Br(e,t));break}default:Br(e,t)}}function $i(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,hs(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:hs(e,t)}}function ja(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,G.HTML),e.insertionMode=R.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,Ma(e,t));break}default:Br(e,t)}}function af(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,$i(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,$i(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:hs(e,t)}}function l1(e,t){const n=t.tagID;sf.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),ja(e,t)):Tt(e,t)}function c1(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),af(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:Pa(e,t)}}function of(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,G.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,G.HTML);break}case b.HR:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{rn(e,t);break}}}function uf(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{vr(e,t);break}}}function d1(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):of(e,t)}function f1(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):uf(e,t)}function m1(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{rn(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=R.IN_TABLE,e.insertionMode=R.IN_TABLE,Br(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=R.IN_COLUMN_GROUP,e.insertionMode=R.IN_COLUMN_GROUP,Zo(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=R.IN_TABLE_BODY,e.insertionMode=R.IN_TABLE_BODY,Ma(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=R.IN_ROW,e.insertionMode=R.IN_ROW,ja(e,t);break}default:e.tmplInsertionModeStack[0]=R.IN_BODY,e.insertionMode=R.IN_BODY,Tt(e,t)}}function h1(e,t){t.tagID===b.TEMPLATE&&vr(e,t)}function lf(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Qo(e,t)}function p1(e,t){t.tagID===b.HTML?Tt(e,t):ba(e,t)}function cf(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=R.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else ba(e,t)}function ba(e,t){e.insertionMode=R.IN_BODY,Da(e,t)}function g1(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.FRAMESET:{e._insertElement(t,G.HTML);break}case b.FRAME:{e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{rn(e,t);break}}}function b1(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=R.AFTER_FRAMESET))}function y1(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.NOFRAMES:{rn(e,t);break}}}function E1(e,t){t.tagID===b.HTML&&(e.insertionMode=R.AFTER_AFTER_FRAMESET)}function x1(e,t){t.tagID===b.HTML?Tt(e,t):sa(e,t)}function sa(e,t){e.insertionMode=R.IN_BODY,Da(e,t)}function v1(e,t){switch(t.tagID){case b.HTML:{Tt(e,t);break}case b.NOFRAMES:{rn(e,t);break}}}function T1(e,t){t.chars=Ze,e._insertCharacters(t)}function _1(e,t){e._insertCharacters(t),e.framesetOk=!1}function df(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==G.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function w1(e,t){if(Bg(t))df(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===G.MATHML?qd(t):r===G.SVG&&(Ug(t),Wd(t)),Ko(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function A1(e,t){if(t.tagID===b.P||t.tagID===b.BR){df(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===G.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}B.AREA,B.BASE,B.BASEFONT,B.BGSOUND,B.BR,B.COL,B.EMBED,B.FRAME,B.HR,B.IMG,B.INPUT,B.KEYGEN,B.LINK,B.META,B.PARAM,B.SOURCE,B.TRACK,B.WBR;function N1(e,t){return Kd.parse(e,t)}function S1(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Kd.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}const C1={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},k1="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",I1=/-[a-z]/g,O1=/%c(?:([-+])(\d+))?/g,R1=/%x/g,L1={2:!0,1:!1,0:null},D1={};function P1(e,t){const n=t||D1,r=n.onerror,s=e instanceof Pi?e:new Pi(e),a=n.fragment?S1:N1,o=String(s),i=a(o,{sourceCodeLocationInfo:!0,onParseError:n.onerror?d:null,scriptingEnabled:!1});return Kp(i,{file:s,space:n.space,verbose:n.verbose});function d(c){const g=c.code,u=M1(g),l=n[u],f=l??!0,h=typeof f=="number"?f:f?1:0;if(h){const x=C1[u],p=new Ct(m(x.reason),{place:{start:{line:c.startLine,column:c.startCol,offset:c.startOffset},end:{line:c.endLine,column:c.endCol,offset:c.endOffset}},ruleId:g,source:"hast-util-from-html"});s.path&&(p.file=s.path,p.name=s.path+":"+p.name),p.fatal=L1[h],p.note=m(x.description),p.url=x.url===!1?void 0:k1+g,r(p)}function m(x){return x.replace(O1,p).replace(R1,y);function p(v,_,w){const C=(w?Number.parseInt(w,10):0)*(_==="-"?-1:1),S=o.charAt(c.startOffset+C);return F1(S)}function y(){return B1(o.charCodeAt(c.startOffset))}}}}function M1(e){return e.replace(I1,j1)}function j1(e){return e.charAt(1).toUpperCase()}function F1(e){return e==="`"?"` ` `":e}function B1(e){return"0x"+e.toString(16).toUpperCase()}function U1(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=s;function s(a,o){return P1(a,{...r,onerror:n?function(i){o.path&&(i.name=o.path+":"+i.name,i.file=o.path),o.messages.push(i)}:void 0})}}const H1=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],$1=/^>|^->|<!--|-->|--!>|<!-$/g,z1=[">"],V1=["<",">"];function Y1(e,t,n,r){return r.settings.bogusComments?"<?"+Lr(e.value,Object.assign({},r.settings.characterReferences,{subset:z1}))+">":"<!--"+e.value.replace($1,s)+"-->";function s(a){return Lr(a,Object.assign({},r.settings.characterReferences,{subset:V1}))}}function q1(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const W1=/[ \t\n\f\r]/g;function Jo(e){return typeof e=="object"?e.type==="text"?El(e.value):!1:El(e)}function El(e){return e.replace(W1,"")===""}const ft=mf(1),ff=mf(-1),G1=[];function mf(e){return t;function t(n,r,s){const a=n?n.children:G1;let o=(r||0)+e,i=a[o];if(!s)for(;i&&Jo(i);)o+=e,i=a[o];return i}}const K1={}.hasOwnProperty;function hf(e){return t;function t(n,r,s){return K1.call(e,n.tagName)&&e[n.tagName](n,r,s)}}const eu=hf({body:Q1,caption:fi,colgroup:fi,dd:ty,dt:ey,head:fi,html:X1,li:J1,optgroup:ny,option:ry,p:Z1,rp:xl,rt:xl,tbody:ay,td:vl,tfoot:iy,th:vl,thead:sy,tr:oy});function fi(e,t,n){const r=ft(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Jo(r.value.charAt(0)))}function X1(e,t,n){const r=ft(n,t);return!r||r.type!=="comment"}function Q1(e,t,n){const r=ft(n,t);return!r||r.type!=="comment"}function Z1(e,t,n){const r=ft(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function J1(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&r.tagName==="li"}function ey(e,t,n){const r=ft(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function ty(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function xl(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function ny(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function ry(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function sy(e,t,n){const r=ft(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function ay(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function iy(e,t,n){return!ft(n,t)}function oy(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function vl(e,t,n){const r=ft(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const uy=hf({body:dy,colgroup:fy,head:cy,html:ly,tbody:my});function ly(e){const t=ft(e,-1);return!t||t.type!=="comment"}function cy(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function dy(e){const t=ft(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Jo(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function fy(e,t,n){const r=ff(n,t),s=ft(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&eu(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function my(e,t,n){const r=ff(n,t),s=ft(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&eu(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const Xs={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function hy(e,t,n,r){const s=r.schema,a=s.space==="svg"?!1:r.settings.omitOptionalTags;let o=s.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const i=[];let d;s.space==="html"&&e.tagName==="svg"&&(r.schema=js);const c=py(r,e.properties),g=r.all(s.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=s,g&&(o=!1),(c||!a||!uy(e,t,n))&&(i.push("<",e.tagName,c?" "+c:""),o&&(s.space==="svg"||r.settings.closeSelfClosing)&&(d=c.charAt(c.length-1),(!r.settings.tightSelfClosing||d==="/"||d&&d!=='"'&&d!=="'")&&i.push(" "),i.push("/")),i.push(">")),i.push(g),!o&&(!a||!eu(e,t,n))&&i.push("</"+e.tagName+">"),i.join("")}function py(e,t){const n=[];let r=-1,s;if(t){for(s in t)if(t[s]!==null&&t[s]!==void 0){const a=gy(e,s,t[s]);a&&n.push(a)}}for(;++r<n.length;){const a=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&a!=='"'&&a!=="'"&&(n[r]+=" ")}return n.join("")}function gy(e,t,n){const r=Wo(e.schema,t),s=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,a=e.settings.allowDangerousCharacters?0:1;let o=e.quote,i;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const d=Lr(r.attribute,Object.assign({},e.settings.characterReferences,{subset:Xs.name[s][a]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?b0:y0)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?d:(e.settings.preferUnquoted&&(i=Lr(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Xs.unquoted[s][a]}))),i!==n&&(e.settings.quoteSmart&&Cu(n,o)>Cu(n,e.alternative)&&(o=e.alternative),i=o+Lr(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?Xs.single:Xs.double)[s][a],attribute:!0}))+o),d+(i&&"="+i))}const by=["<","&"];function pf(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:Lr(e.value,Object.assign({},r.settings.characterReferences,{subset:by}))}function yy(e,t,n,r){return r.settings.allowDangerousHtml?e.value:pf(e,t,n,r)}function Ey(e,t,n,r){return r.all(e)}const xy=E0("type",{invalid:vy,unknown:Ty,handlers:{comment:Y1,doctype:q1,element:hy,raw:yy,root:Ey,text:pf}});function vy(e){throw new Error("Expected node, not `"+e+"`")}function Ty(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const _y={},wy={},Ay=[];function Ny(e,t){const n=t||_y,r=n.quote||'"',s=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:Sy,all:Cy,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||H1,characterReferences:n.characterReferences||wy,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?js:Ra,quote:r,alternative:s}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function Sy(e,t,n){return xy(e,t,n,this)}function Cy(e){const t=[],n=e&&e.children||Ay;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function ky(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(s){return Ny(s,n)}}function Fa({source:e}){const[t,n]=F.useState(300),r=F.useRef(null),s=()=>{var o,i,d;if(r.current)try{const c=(d=(i=(o=r.current.contentWindow)==null?void 0:o.document)==null?void 0:i.body)==null?void 0:d.scrollHeight;c&&c>50&&n(Math.max(c+32,200))}catch{}};F.useEffect(()=>{const o=setTimeout(s,100);return()=>clearTimeout(o)},[e]);const a=o=>{const i=Cp().use(U1,{fragment:!0}).use(Oa,Rn.validHTML).use(ky).processSync(o);return`<!DOCTYPE html>
<html>
<head>
    <style>
        * { box-sizing: border-box; }
        html, body {
            margin: 0;
            padding: 0;
            min-height: 100%;
            background: #18181b;
            color: #e4e4e7;
            font-family: system-ui, -apple-system, sans-serif;
        }
    </style>
</head>
<body>${String(i)}</body>
</html>`};return E.jsx("iframe",{ref:r,onLoad:s,style:{width:"100%",height:`${t}px`,border:"none",borderRadius:"8px",display:"block"},srcDoc:a(e),sandbox:"allow-scripts allow-same-origin",title:"NFT HTML Content"})}const Iy=F.lazy(()=>Sr(()=>import("./index-BCNa70Kg.js").then(e=>e.i),__vite__mapDeps([0,1,2,3,4,5])).then(async e=>(await Sr(()=>import("./mode-html-Cjq9fmL4.js").then(n=>n.m),__vite__mapDeps([6,1])),await Sr(()=>import("./theme-monokai-l0L8ZsWv.js").then(n=>n.t),__vite__mapDeps([7,1])),await Sr(()=>import("./ext-language_tools-dj6MuGN6.js").then(n=>n.e),__vite__mapDeps([8,1])),(await Sr(()=>import("./ace-DC6gpk9w.js").then(n=>n.a),__vite__mapDeps([9,1,2]))).config.set("useWorker",!1),{default:e.default}))),Oy=F.lazy(()=>Sr(()=>import("./index-1qFw5GQN.js").then(e=>e.i),__vite__mapDeps([10,1])).then(e=>({default:e.Split})));function Ry({value:e,setValue:t,setPreviewOpen:n}){return E.jsx("div",{className:"rounded-lg border border-ink-700 relative",style:{zIndex:0},children:E.jsx("div",{style:{height:"500px"},children:E.jsxs(Oy,{horizontal:!1,onSplitChanged:()=>window.dispatchEvent(new Event("resize")),children:[E.jsx("div",{className:"h-full",children:E.jsx(Iy,{mode:"html",theme:"monokai",onChange:t,value:e,name:"html-editor",editorProps:{$blockScrolling:!1},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showPrintMargin:!1},width:"100%",height:"100%",fontSize:14})}),E.jsxs("div",{className:"h-full overflow-auto bg-ink-950 relative",children:[E.jsx("button",{type:"button",onClick:()=>n(!0),className:"absolute top-2 right-2 z-10 p-1.5 bg-ink-800/80 hover:bg-ink-700 rounded text-ink-400 hover:text-white transition-colors",title:"Expand preview",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),E.jsx(Fa,{source:e})]})]})})})}function Ly({value:e,setValue:t}){const[n,r]=F.useState(!1);return E.jsxs(F.Fragment,{children:[E.jsx(F.Suspense,{fallback:E.jsx("div",{className:"rounded-lg border border-ink-700 bg-ink-900 flex items-center justify-center",style:{height:"500px"},children:E.jsx("div",{className:"text-ink-400",children:"Loading editor..."})}),children:E.jsx(Ry,{value:e,setValue:t,setPreviewOpen:r})}),n&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>r(!1)}),E.jsxs("div",{className:"relative w-full max-w-4xl h-[80vh] bg-ink-950 rounded-xl border border-ink-700 overflow-hidden",children:[E.jsx("div",{className:"absolute top-3 right-3 z-10",children:E.jsx("button",{type:"button",onClick:()=>r(!1),className:"p-2 bg-ink-800 hover:bg-ink-700 rounded-lg text-ink-400 hover:text-white transition-colors",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),E.jsx("div",{className:"h-full",children:E.jsx(Fa,{source:e})})]})]})]})}function Dy({textType:e,value:t,setValue:n}){switch(e){case"text/markdown":return E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"rounded-lg overflow-hidden border border-ink-700","data-color-mode":"dark",children:E.jsx(Lo,{value:t,onChange:n,highlightEnable:!1,previewOptions:{rehypePlugins:[()=>Oa(Rn.validMarkdown)]},commands:dr,height:400})}),E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("span",{className:"text-purple-400 text-lg",children:"#"}),E.jsxs("p",{className:"text-sm text-ink-400",children:["Need help with Markdown? Check the"," ",E.jsx("a",{className:"text-purple-400 hover:text-purple-300 underline",target:"_blank",rel:"noopener noreferrer",href:"https://docs.github.com/en/github/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax",children:"GitHub Markdown guide"})]})]})]});case"text/plain":return E.jsx("textarea",{className:"w-full h-[400px] px-4 py-3 bg-ink-900 border border-ink-700 rounded-lg text-ink-100 font-mono text-sm placeholder-ink-500 resize-none focus:outline-none focus:border-accent-cyan focus:ring-1 focus:ring-accent-cyan transition-colors",value:t,onChange:r=>n(r.target.value),placeholder:"Start writing your text..."});case"text/html":return E.jsxs("div",{className:"space-y-3",children:[E.jsx(Ly,{value:t,setValue:n}),E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("span",{className:"text-amber-400 text-lg",children:"<Fragment>"}),E.jsx("p",{className:"text-sm text-ink-400",children:"Write HTML with inline CSS. External resources and scripts are sanitized for security."})]})]});default:return E.jsx("p",{className:"text-ink-400",children:"Unsupported editor type"})}}const Py=Jn({key:"ensInfo",default:{}}),My=Jn({key:"queries",default:[]}),gf=()=>{const[e,t]=dt(Py),[n,r]=dt(My),s=async c=>{r([...n,c]);let g=null;try{g=await Do.getEnsName({address:c})}catch{}return t(u=>({...u,[c]:{value:g,expiration:new Date(new Date().getTime()+Le.ens.cacheExpiration)}})),r(u=>u.filter(l=>l!==c)),g},a=c=>(!e[c]||new Date(e[c].expiration)<new Date)&&!n.includes(c),o=c=>{t(g=>({...g,[c]:null}))};return{lookupEns:c=>{var u;return c&&(a(c)&&setTimeout(()=>s(c),0),(u=e[c])==null?void 0:u.value)},lookupEnsAsync:async(c,g)=>{var f;if(!c)return c;g&&o(c);const u=a(c)||g;let l;return u?l=await s(c):l=(f=e[c])==null?void 0:f.value,l},invalidateEns:o}};function zn({address:e,shorten:t,nChar:n,disableLink:r}){const{lookupEns:s}=gf(),a=s(e)||(t?cp(e,n):e);return E.jsx("span",{className:"font-mono text-ink-300",children:r?a:E.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:Le.blockExplorer.url+"/address/"+e,className:"hover:text-accent-cyan transition-colors underline decoration-ink-600 hover:decoration-accent-cyan",children:a})})}function jy({type:e}){if(!e)return null;const t={"text/plain":{label:"TXT",bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",icon:""},"text/markdown":{label:"MD",bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",icon:"#"},"text/html":{label:"HTML",bg:"bg-amber-500/10",border:"border-amber-500/30",text:"text-amber-400",icon:"<>"}},n=t[e]||t["text/plain"];return E.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono ${n.bg} ${n.border} ${n.text} border`,children:[E.jsx("span",{className:"opacity-60 w-4 text-center",children:n.icon}),n.label]})}function bf({id:e}){const t=Ca(),[n,r]=F.useState(null),[s,a]=F.useState(null),[o,i]=F.useState(null),[d,c]=F.useState(null),[g,u]=F.useState(!0),[l,f]=F.useState(null),[h,m]=F.useState(null),[x,p]=F.useState(null),[y,v]=F.useState(null),_=Le.contractAddresses.v1.zang,w=Le.contractAddresses.v1.marketplace;if(F.useEffect(()=>{if(!e)return;(async()=>{try{const[A,N,L]=await Promise.all([ke.readContract({address:_,abi:Ae.zang,functionName:"uri",args:[BigInt(e)]}),ke.readContract({address:_,abi:Ae.zang,functionName:"authorOf",args:[BigInt(e)]}),ke.readContract({address:_,abi:Ae.zang,functionName:"totalSupply",args:[BigInt(e)]})]);a(N),f(Number(L));const j=await(await fetch(A)).json();if(r(j),j!=null&&j.text_uri){let Q=j.text_uri.replaceAll("#","%23");Q=Q.replace("charset=UTF-8,","");const se=await fetch(Q),ge=await se.text();i(se.headers.get("content-type")),c(ge)}const V=await ke.readContract({address:w,abi:Ae.marketplace,functionName:"listingCount",args:[BigInt(e)]}),z=Number(V);if(z>0){const Q=[];for(let ie=0;ie<z;ie++)Q.push(ke.readContract({address:w,abi:Ae.marketplace,functionName:"listings",args:[BigInt(e),BigInt(ie)]}));const ae=(await Promise.all(Q)).map(([ie,ce,fe])=>({price:ie,seller:ce,amount:fe})).filter(ie=>ie.seller!==qn);if(p(ae.reduce((ie,ce)=>ie+Number(ce.amount),0)),ae.length>0){const ie=ae.map(ce=>parseFloat(Cn(ce.price)));m(Math.min(...ie))}}else p(0);const $=await ke.getContractEvents({address:w,abi:Ae.marketplace,eventName:"TokenPurchased",args:{_tokenId:BigInt(e)},fromBlock:BigInt(Le.firstBlocks.v1.base.marketplace)});if($.length>0){const Q=$.reduce((se,ge)=>{const ae=parseFloat(Cn(ge.args._price)),ie=Number(ge.args._amount);return se+ae*ie},0);v(Q)}else v(0)}catch(A){ki(A)&&u(!1)}})()},[e]),!g)return null;const C=()=>t("/nft?id="+e),S=T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),C())};return E.jsx("div",{className:"group relative cursor-pointer",onClick:C,onKeyDown:S,role:"button",tabIndex:0,children:E.jsxs("div",{className:"relative bg-ink-900/40 border border-ink-800 rounded-xl overflow-hidden transition-all duration-300 hover:border-ink-600 hover:bg-ink-900/60 hover:-translate-y-1 hover:shadow-xl hover:shadow-ink-950/50",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-ink-800/50 bg-ink-900/30",children:[E.jsxs("span",{className:"text-ink-600 text-xs font-mono",children:["#",e]}),E.jsx(jy,{type:o})]}),E.jsxs("div",{className:"relative h-52 overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 p-4 overflow-hidden",children:o&&d!==null?o==="text/html"?E.jsx("div",{className:"absolute inset-0 [&>iframe]:!h-full [&>iframe]:!min-h-full",children:E.jsx(Fa,{source:d})}):o==="text/markdown"?E.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-ink-300","data-color-mode":"dark",children:E.jsx(Lo.Markdown,{source:d,rehypePlugins:[()=>Oa(Rn.validMarkdown)]})}):E.jsx("pre",{className:"font-mono text-sm text-ink-300 leading-relaxed whitespace-pre overflow-x-auto",children:d}):E.jsx("div",{className:"space-y-2",children:E.jsx(Ft,{count:5,baseColor:"#1c1c1e",highlightColor:"#2a2a2e"})})}),E.jsx("div",{className:"absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-ink-900/90 to-transparent pointer-events-none"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-ink-950/40",children:E.jsx("span",{className:"px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg text-white text-sm font-medium border border-white/20",children:"Read more "})})]}),E.jsxs("div",{className:"px-3 py-2.5 bg-gradient-to-b from-ink-900 to-ink-900/80",children:[E.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E.jsx("h3",{className:"text-ink-100 font-medium text-sm leading-tight line-clamp-1 group-hover:text-white transition-colors flex-1 min-w-0",children:(n==null?void 0:n.name)||E.jsx(Ft,{baseColor:"#1c1c1e",highlightColor:"#2a2a2e",width:"70%"})}),s&&E.jsx("span",{className:"text-ink-500 text-xs font-mono shrink-0",children:E.jsx(zn,{address:s,shorten:!0,nChar:4,disableLink:!0})})]}),E.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 text-xs",children:[l!==null?E.jsxs("span",{className:"text-ink-500 whitespace-nowrap",children:[l," ed."]}):E.jsx(Ft,{width:30,baseColor:"#1c1c1e",highlightColor:"#2a2a2e"}),x!==null&&x>0&&E.jsxs(F.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-ink-500 whitespace-nowrap",children:[x," listed"]})]}),h!==null&&E.jsxs(F.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-green-400 whitespace-nowrap font-mono",children:[h," "]})]}),y!==null&&y>0&&E.jsxs(F.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-ink-400 whitespace-nowrap font-mono",children:[y.toFixed(4),"  vol"]})]})]})]})]})})}function aa({href:e,children:t,...n}){const r=Ca(),s=a=>{a.preventDefault(),r(e)};return E.jsx("a",{href:e,onClick:s,...n,children:t})}function Tl(){const{address:e}=Ht(),{data:t}=Xm({address:e,chainId:Le.networks.main.chainId}),n=t?`${parseFloat(Cn(t.value)).toFixed(4)} ETH`:null;return E.jsx(i0.Custom,{children:({account:r,chain:s,openAccountModal:a,openChainModal:o,openConnectModal:i,mounted:d})=>{const c=d,g=c&&r&&s;return E.jsx("div",{...!c&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:g?s.unsupported?E.jsx("button",{onClick:o,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-red-400 bg-red-900/20 rounded-lg border border-red-700/50 hover:bg-red-900/30 transition-colors",children:"Wrong network"}):E.jsxs("div",{className:"flex items-center bg-ink-800/50 rounded-lg border border-ink-700/50 overflow-hidden",children:[n&&s.id===Le.networks.main.chainId&&E.jsx("div",{className:"px-3 py-2 flex items-center gap-2 text-ink-300 text-sm border-r border-ink-700/50",children:E.jsx("span",{className:"font-mono",children:n})}),E.jsxs("button",{onClick:a,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-ink-100 hover:bg-ink-700/50 transition-colors",children:[r.ensAvatar&&E.jsx("img",{className:"w-5 h-5 rounded-full object-cover",src:r.ensAvatar,alt:""}),E.jsx("span",{className:"font-mono text-xs",children:r.ensName||r.displayName})]})]}):E.jsxs("button",{onClick:i,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-ink-100 bg-ink-800/50 rounded-lg border border-ink-700/50 hover:bg-ink-700/50 transition-colors",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),E.jsx("span",{children:"Connect"})]})})}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zi=function(e,t){return zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},zi(e,t)};function Fy(e,t){zi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ls=function(){return ls=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ls.apply(this,arguments)};function By(e,t,n,r){var s,a=!1,o=0;function i(){s&&clearTimeout(s)}function d(){i(),a=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function c(){var g=this,u=Date.now()-o,l=arguments;if(a)return;function f(){o=Date.now(),n.apply(g,l)}function h(){s=void 0}r&&!s&&f(),i(),r===void 0&&u>e?f():t!==!0&&(s=setTimeout(r?h:f,r===void 0?e-u:e))}return c.cancel=d,c}var Pr={Pixel:"Pixel",Percent:"Percent"},_l={unit:Pr.Percent,value:.8};function wl(e){return typeof e=="number"?{unit:Pr.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Pr.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Pr.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),_l):(console.warn("scrollThreshold should be string or number"),_l)}var yf=(function(e){Fy(t,e);function t(n){var r=e.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(s){r.lastScrollTop||(r.dragging=!0,s instanceof MouseEvent?r.startY=s.pageY:s instanceof TouchEvent&&(r.startY=s.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(s){r.dragging&&(s instanceof MouseEvent?r.currentY=s.pageY:s instanceof TouchEvent&&(r.currentY=s.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(s){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(s)},0);var a=r.props.height||r._scrollableNode?s.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(a,r.props.scrollThreshold):r.isElementAtBottom(a,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=a.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=By(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,r){var s=n.dataLength!==r.prevDataLength;return s?ls(ls({},r),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,a=wl(r);return a.unit===Pr.Pixel?n.scrollTop<=a.value+s-n.scrollHeight+1:n.scrollTop<=a.value/100+s-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,a=wl(r);return a.unit===Pr.Pixel?n.scrollTop+s>=n.scrollHeight-a.value:n.scrollTop+s>=a.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,r=ls({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Y.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},Y.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:r},this.props.pullDownToRefresh&&Y.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},Y.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t})(F.Component);function Ba(){const[e,t]=dt(Gt);return e?E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:E.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-start gap-3",children:[E.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("span",{className:"font-semibold",children:"Error:"})," ",e]})}),E.jsx("button",{onClick:()=>t(null),className:"text-red-400 hover:text-red-300 transition-colors","aria-label":"Dismiss error",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}function Uy({phrases:e}){const[t,n]=F.useState(0),[r,s]=F.useState(""),[a,o]=F.useState(!1),i=Math.max(...e.map(d=>d.length));return F.useEffect(()=>{const d=e[t],c=setTimeout(()=>{a?r.length>0?s(r.slice(0,-1)):(o(!1),n(g=>(g+1)%e.length)):r.length<d.length?s(d.slice(0,r.length+1)):setTimeout(()=>o(!0),2e3)},a?50:100);return()=>clearTimeout(c)},[r,a,t,e]),E.jsxs("span",{className:"inline-block text-center",style:{width:`${i+1}ch`},children:[E.jsx("span",{className:"text-white",children:r}),E.jsx("span",{className:"animate-pulse text-accent-cyan",children:"|"})]})}function Al({value:e,suffix:t=""}){const[n,r]=F.useState(0);return F.useEffect(()=>{if(e==null)return;const s=1500,a=30,o=e/a;let i=0,d=0;const c=setInterval(()=>{d++,i=Math.min(Math.round(o*d),e),r(i),d>=a&&clearInterval(c)},s/a);return()=>clearInterval(c)},[e]),E.jsxs("span",{children:[n.toLocaleString(),t]})}function Hy({events:e}){const[t,n]=F.useState(0);if(F.useEffect(()=>{if(!e||e.length===0)return;const o=setInterval(()=>{n(i=>(i+1)%e.length)},3e3);return()=>clearInterval(o)},[e]),!e||e.length===0)return null;const r=e[t],s=o=>{switch(o.type){case"mint":return`New ${o.contentType} minted`;case"purchase":return`Sold for ${o.price} ETH`;case"list":return`Listed for ${o.price} ETH`;default:return"New activity"}},a=o=>{switch(o.type){case"mint":return"";case"purchase":return"";case"list":return"";default:return""}};return E.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-ink-400",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),E.jsxs(rd,{to:`/nft?id=${r.id}`,className:"transition-opacity duration-300 hover:text-ink-200",children:[a(r)," ",E.jsxs("span",{className:"text-ink-500",children:["#",r.id]})," ",E.jsx("span",{className:"text-ink-200 font-medium",children:r.title})," "," ",s(r)]})]})}function $y(){const e=Ca(),[t,n]=F.useState(null),[r,s]=F.useState([]),[,a]=dt(Gt),[o,i]=F.useState([]),[d,c]=F.useState(null),[g,u]=F.useState(null),l=6,f=Le.contractAddresses.v1.zang,h=Le.contractAddresses.v1.marketplace;F.useEffect(()=>{(async()=>{try{const p=await ke.readContract({address:f,abi:Ae.zang,functionName:"lastTokenId"});n(Number(p))}catch(p){a(bt(p))}})()},[a]),F.useEffect(()=>{(async()=>{try{const p=await ke.getBlockNumber(),y=BigInt(Math.max(Number(p)-5e4,Le.firstBlocks.v1.base.zang)),[v,_,w]=await Promise.all([ke.getContractEvents({address:f,abi:Ae.zang,eventName:"TransferSingle",args:{from:qn},fromBlock:y}),ke.getContractEvents({address:h,abi:Ae.marketplace,eventName:"TokenPurchased",fromBlock:y}),ke.getContractEvents({address:h,abi:Ae.marketplace,eventName:"TokenListed",fromBlock:y})]),C=[...v.map(D=>({type:"mint",id:D.args.id.toString(),blockNumber:Number(D.blockNumber)})),..._.map(D=>({type:"purchase",id:D.args._tokenId.toString(),price:Cn(D.args._price),blockNumber:Number(D.blockNumber)})),...w.slice(-10).map(D=>({type:"list",id:D.args._tokenId.toString(),price:Cn(D.args._price),blockNumber:Number(D.blockNumber)}))].sort((D,j)=>j.blockNumber-D.blockNumber).slice(0,10),S=[...new Set(C.map(D=>D.id))],T={};await Promise.all(S.map(async D=>{try{const j=await ke.readContract({address:f,abi:Ae.zang,functionName:"uri",args:[BigInt(D)]}),z=await(await fetch(j)).json();let $="text";z.text_uri&&(z.text_uri.startsWith("data:text/html")?$="HTML":z.text_uri.startsWith("data:text/markdown")?$="Markdown":$="text"),T[D]={title:z.name||`#${D}`,contentType:$}}catch{T[D]={title:`#${D}`,contentType:"text"}}}));const A=C.map(D=>{var j,V;return{...D,title:(j=T[D.id])==null?void 0:j.title,contentType:(V=T[D.id])==null?void 0:V.contentType}});i(A);const N=_.reduce((D,j)=>D+parseFloat(Cn(j.args._price))*Number(j.args._amount),0);c(N);const L=new Set(v.map(D=>D.args.to));u(L.size)}catch{}})()},[]);const m=x=>{const p=[...r];for(let y=0;y<x;y++){const v=t-p.length;v>=1&&p.push(v)}s(p)};return F.useEffect(()=>{t!==null&&m(12)},[t]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Er,{}),E.jsx(Ba,{}),E.jsxs("section",{className:"relative overflow-hidden",children:[E.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24",children:E.jsxs("div",{className:"text-center space-y-8",children:[E.jsx("p",{className:"text-ink-500 font-mono text-xs sm:text-sm tracking-widest uppercase",children:"A canvas for writers & creators"}),E.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-mono leading-tight",children:[E.jsx("span",{className:"text-ink-400 hidden sm:inline",children:">"})," ",E.jsx(Uy,{phrases:["Write beautifully.","Words, forever.","Code is poetry.","Text is art.","Create freely."]})]}),E.jsxs("p",{className:"text-ink-400 text-lg sm:text-xl max-w-2xl mx-auto leading-relaxed",children:["Mint your"," ",E.jsx("span",{className:"text-ink-200",children:"poetry"}),","," ",E.jsx("span",{className:"text-ink-200",children:"stories"}),","," ",E.jsx("span",{className:"text-ink-200",children:"code"}),", and"," ",E.jsx("span",{className:"text-ink-200",children:"HTML art"})," as NFTs. No images required. Pure text, onchain forever."]}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-2",children:[E.jsx("button",{onClick:()=>e("/mint"),className:"group relative px-8 py-4 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-all duration-200 text-lg",children:E.jsxs("span",{className:"flex items-center justify-center gap-3",children:[E.jsx("span",{className:"font-mono text-ink-500",children:"$"}),"Start Writing"]})}),E.jsx("button",{onClick:()=>{document.getElementById("gallery").scrollIntoView({behavior:"smooth"})},className:"px-8 py-4 border border-ink-700 text-ink-300 font-medium rounded-lg hover:border-ink-500 hover:text-white transition-all duration-200 text-lg",children:"Browse Gallery"})]}),E.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8 pt-6",children:[t&&E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-mono text-white",children:E.jsx(Al,{value:t})}),E.jsx("div",{className:"text-ink-500 text-sm",children:"texts minted"})]}),g&&g>0&&E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-mono text-white",children:E.jsx(Al,{value:g})}),E.jsx("div",{className:"text-ink-500 text-sm",children:"artists (recent)"})]}),d!==null&&d>0&&E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-3xl font-mono text-white",children:[d.toFixed(3)," ",E.jsx("span",{className:"text-ink-400",children:""})]}),E.jsx("div",{className:"text-ink-500 text-sm",children:"volume (recent)"})]})]}),E.jsx("div",{className:"pt-8",children:E.jsx(Hy,{events:o})})]})}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-ink-800 to-transparent"})]}),E.jsxs("section",{id:"gallery",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[E.jsxs("div",{className:"flex items-center justify-between mb-10",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("h2",{className:"text-2xl sm:text-3xl font-mono text-ink-100",children:"Latest Works"}),E.jsx("p",{className:"text-ink-500 text-sm",children:"Fresh from the creative minds"})]}),E.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-ink-600 text-sm font-mono",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),E.jsx(yf,{dataLength:r.length,next:()=>m(l),hasMore:r.length<t,loader:E.jsx("div",{className:"col-span-full flex justify-center py-8",children:E.jsxs("div",{className:"flex items-center gap-3 text-ink-400",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{children:"Loading more..."})]})}),endMessage:t===null?E.jsx("div",{className:"col-span-full flex justify-center py-8",children:E.jsxs("div",{className:"flex items-center gap-3 text-ink-400",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{children:"Loading..."})]})}):E.jsxs("div",{className:"col-span-full text-center py-12",children:[E.jsxs("p",{className:"text-ink-500",children:["You've seen all ",t," NFTs!"]}),E.jsx("button",{onClick:()=>e("/mint"),className:"mt-4 text-accent-cyan hover:text-accent-cyan/80 transition-colors",children:"Create your own "})]}),children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:r.map(x=>E.jsx(bf,{id:x},x))})})]})]})}const Nl={amount:1};function zy({isOpen:e,setIsOpen:t,onClose:n,maxAmount:r,sellerBalance:s,price:a}){const{register:o,formState:{isDirty:i,isValid:d,errors:c},handleSubmit:g,watch:u}=Rs({defaultValues:Nl,mode:"onChange",resolver:Ls(Rn.buy)}),l=u("amount",Nl.amount),f=()=>l<=Math.min(r,s),h=x=>{x&&n(x.amount),t(!1)},m=()=>{if(!(!l||a<=0))try{return(Number(l)*Number(a)).toString()}catch{return}};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>h(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Buy NFT"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Listed"}),E.jsx("p",{className:"text-white font-mono",children:r})]}),E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Price Each"}),E.jsxs("p",{className:"text-white font-mono",children:[a," ETH"]})]})]}),s<r&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:["Seller only has ",s," available"]})}),E.jsx(Zt,{label:"Amount to Buy",name:"amount",type:"number",step:"1",min:"1",errors:c,register:o}),E.jsxs("div",{className:"p-4 rounded-lg bg-accent-cyan/10 border border-accent-cyan/20",children:[E.jsx("p",{className:"text-xs text-ink-400 uppercase tracking-wide mb-1",children:"Total"}),E.jsx("p",{className:"text-2xl font-bold text-accent-cyan font-mono",children:m()&&c.amount===void 0?`${m()} ETH`:""})]}),!f()&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"}),l<=r?` Cannot buy more than seller's balance (${s}).`:` Cannot buy more than listed amount (${r}).`]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>h(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!d&&i||!f()?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!d&&i||!f(),onClick:g(h),children:"Buy Now"})]})]})]}):null}function Vy({nftId:e,listingId:t,price:n,maxAmount:r,sellerBalance:s,onUpdate:a}){s=s||0;const o=Le.contractAddresses.v1.marketplace,i=Ae.marketplace,{isConnected:d}=Ht(),{writeContractAsync:c}=Zn(),[g,u]=dt(Gt),l=er(),[f,h]=F.useState(!1),m=async x=>{if(x===null){u("Please enter an amount.");return}if(!e){u("Could not determine the ID of the NFT.");return}if(!d){u("Please connect a wallet.");return}u(null);const y=da(n)*BigInt(x),v=async()=>await c({address:o,abi:i,functionName:"buyToken",args:[BigInt(e),BigInt(t),BigInt(x)],value:y,...gn()}),{success:_}=await l(v,`Buy NFTs #${e}`);_&&a&&a(e)};return E.jsxs(F.Fragment,{children:[E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${s===0?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:s===0,onClick:()=>h(!0),children:"Buy"}),E.jsx(zy,{isOpen:f,setIsOpen:h,onClose:m,maxAmount:r,sellerBalance:s,price:n})]})}const Ur=Math.min,lr=Math.max,ya=Math.round,Qs=Math.floor,bn=e=>({x:e,y:e}),Yy={left:"right",right:"left",bottom:"top",top:"bottom"},qy={start:"end",end:"start"};function Vi(e,t,n){return lr(e,Ur(t,n))}function Bs(e,t){return typeof e=="function"?e(t):e}function fr(e){return e.split("-")[0]}function Us(e){return e.split("-")[1]}function Ef(e){return e==="x"?"y":"x"}function tu(e){return e==="y"?"height":"width"}const Wy=new Set(["top","bottom"]);function Vn(e){return Wy.has(fr(e))?"y":"x"}function nu(e){return Ef(Vn(e))}function Gy(e,t,n){n===void 0&&(n=!1);const r=Us(e),s=nu(e),a=tu(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ea(o)),[o,Ea(o)]}function Ky(e){const t=Ea(e);return[Yi(e),t,Yi(t)]}function Yi(e){return e.replace(/start|end/g,t=>qy[t])}const Sl=["left","right"],Cl=["right","left"],Xy=["top","bottom"],Qy=["bottom","top"];function Zy(e,t,n){switch(e){case"top":case"bottom":return n?t?Cl:Sl:t?Sl:Cl;case"left":case"right":return t?Xy:Qy;default:return[]}}function Jy(e,t,n,r){const s=Us(e);let a=Zy(fr(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Yi)))),a}function Ea(e){return e.replace(/left|right|bottom|top/g,t=>Yy[t])}function eE(e){return{top:0,right:0,bottom:0,left:0,...e}}function xf(e){return typeof e!="number"?eE(e):{top:e,right:e,bottom:e,left:e}}function xa(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function kl(e,t,n){let{reference:r,floating:s}=e;const a=Vn(t),o=nu(t),i=tu(o),d=fr(t),c=a==="y",g=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,l=r[i]/2-s[i]/2;let f;switch(d){case"top":f={x:g,y:r.y-s.height};break;case"bottom":f={x:g,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-s.width,y:u};break;default:f={x:r.x,y:r.y}}switch(Us(t)){case"start":f[o]-=l*(n&&c?-1:1);break;case"end":f[o]+=l*(n&&c?-1:1);break}return f}const tE=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,i=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:g,y:u}=kl(c,r,d),l=r,f={},h=0;for(let m=0;m<i.length;m++){const{name:x,fn:p}=i[m],{x:y,y:v,data:_,reset:w}=await p({x:g,y:u,initialPlacement:r,placement:l,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});g=y??g,u=v??u,f={...f,[x]:{...f[x],..._}},w&&h<=50&&(h++,typeof w=="object"&&(w.placement&&(l=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:g,y:u}=kl(c,l,d)),m=-1)}return{x:g,y:u,placement:l,strategy:s,middlewareData:f}};async function vf(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:i,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:g="viewport",elementContext:u="floating",altBoundary:l=!1,padding:f=0}=Bs(t,e),h=xf(f),x=i[l?u==="floating"?"reference":"floating":u],p=xa(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:g,strategy:d})),y=u==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),_=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},w=xa(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:v,strategy:d}):y);return{top:(p.top-w.top+h.top)/_.y,bottom:(w.bottom-p.bottom+h.bottom)/_.y,left:(p.left-w.left+h.left)/_.x,right:(w.right-p.right+h.right)/_.x}}const nE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:i,middlewareData:d}=t,{element:c,padding:g=0}=Bs(e,t)||{};if(c==null)return{};const u=xf(g),l={x:n,y:r},f=nu(s),h=tu(f),m=await o.getDimensions(c),x=f==="y",p=x?"top":"left",y=x?"bottom":"right",v=x?"clientHeight":"clientWidth",_=a.reference[h]+a.reference[f]-l[f]-a.floating[h],w=l[f]-a.reference[f],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=C?C[v]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=i.floating[v]||a.floating[h]);const T=_/2-w/2,A=S/2-m[h]/2-1,N=Ur(u[p],A),L=Ur(u[y],A),D=N,j=S-m[h]-L,V=S/2-m[h]/2+T,z=Vi(D,V,j),$=!d.arrow&&Us(s)!=null&&V!==z&&a.reference[h]/2-(V<D?N:L)-m[h]/2<0,Q=$?V<D?V-D:V-j:0;return{[f]:l[f]+Q,data:{[f]:z,centerOffset:V-z-Q,...$&&{alignmentOffset:Q}},reset:$}}}),rE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:i,platform:d,elements:c}=t,{mainAxis:g=!0,crossAxis:u=!0,fallbackPlacements:l,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...x}=Bs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=fr(s),y=Vn(i),v=fr(i)===i,_=await(d.isRTL==null?void 0:d.isRTL(c.floating)),w=l||(v||!m?[Ea(i)]:Ky(i)),C=h!=="none";!l&&C&&w.push(...Jy(i,m,h,_));const S=[i,...w],T=await vf(t,x),A=[];let N=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&A.push(T[p]),u){const V=Gy(s,o,_);A.push(T[V[0]],T[V[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(V=>V<=0)){var L,D;const V=(((L=a.flip)==null?void 0:L.index)||0)+1,z=S[V];if(z&&(!(u==="alignment"?y!==Vn(z):!1)||N.every(se=>Vn(se.placement)===y?se.overflows[0]>0:!0)))return{data:{index:V,overflows:N},reset:{placement:z}};let $=(D=N.filter(Q=>Q.overflows[0]<=0).sort((Q,se)=>Q.overflows[1]-se.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(f){case"bestFit":{var j;const Q=(j=N.filter(se=>{if(C){const ge=Vn(se.placement);return ge===y||ge==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ge=>ge>0).reduce((ge,ae)=>ge+ae,0)]).sort((se,ge)=>se[1]-ge[1])[0])==null?void 0:j[0];Q&&($=Q);break}case"initialPlacement":$=i;break}if(s!==$)return{reset:{placement:$}}}return{}}}},sE=new Set(["left","top"]);async function aE(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=fr(n),i=Us(n),d=Vn(n)==="y",c=sE.has(o)?-1:1,g=a&&d?-1:1,u=Bs(t,e);let{mainAxis:l,crossAxis:f,alignmentAxis:h}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&typeof h=="number"&&(f=i==="end"?h*-1:h),d?{x:f*g,y:l*c}:{x:l*c,y:f*g}}const iE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:i}=t,d=await aE(t,e);return o===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:o}}}}},oE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:i={fn:x=>{let{x:p,y}=x;return{x:p,y}}},...d}=Bs(e,t),c={x:n,y:r},g=await vf(t,d),u=Vn(fr(s)),l=Ef(u);let f=c[l],h=c[u];if(a){const x=l==="y"?"top":"left",p=l==="y"?"bottom":"right",y=f+g[x],v=f-g[p];f=Vi(y,f,v)}if(o){const x=u==="y"?"top":"left",p=u==="y"?"bottom":"right",y=h+g[x],v=h-g[p];h=Vi(y,h,v)}const m=i.fn({...t,[l]:f,[u]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[l]:a,[u]:o}}}}}};function Ua(){return typeof window<"u"}function qr(e){return Tf(e)?(e.nodeName||"").toLowerCase():"#document"}function Ut(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xn(e){var t;return(t=(Tf(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tf(e){return Ua()?e instanceof Node||e instanceof Ut(e).Node:!1}function tn(e){return Ua()?e instanceof Element||e instanceof Ut(e).Element:!1}function yn(e){return Ua()?e instanceof HTMLElement||e instanceof Ut(e).HTMLElement:!1}function Il(e){return!Ua()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ut(e).ShadowRoot}const uE=new Set(["inline","contents"]);function Hs(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=nn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!uE.has(s)}const lE=new Set(["table","td","th"]);function cE(e){return lE.has(qr(e))}const dE=[":popover-open",":modal"];function Ha(e){return dE.some(t=>{try{return e.matches(t)}catch{return!1}})}const fE=["transform","translate","scale","rotate","perspective"],mE=["transform","translate","scale","rotate","perspective","filter"],hE=["paint","layout","strict","content"];function ru(e){const t=su(),n=tn(e)?nn(e):e;return fE.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||mE.some(r=>(n.willChange||"").includes(r))||hE.some(r=>(n.contain||"").includes(r))}function pE(e){let t=Wn(e);for(;yn(t)&&!Hr(t);){if(ru(t))return t;if(Ha(t))return null;t=Wn(t)}return null}function su(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gE=new Set(["html","body","#document"]);function Hr(e){return gE.has(qr(e))}function nn(e){return Ut(e).getComputedStyle(e)}function $a(e){return tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wn(e){if(qr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Il(e)&&e.host||xn(e);return Il(t)?t.host:t}function _f(e){const t=Wn(e);return Hr(t)?e.ownerDocument?e.ownerDocument.body:e.body:yn(t)&&Hs(t)?t:_f(t)}function ps(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=_f(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Ut(s);if(a){const i=qi(o);return t.concat(o,o.visualViewport||[],Hs(s)?s:[],i&&n?ps(i):[])}return t.concat(s,ps(s,[],n))}function qi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wf(e){const t=nn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=yn(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,i=ya(n)!==a||ya(r)!==o;return i&&(n=a,r=o),{width:n,height:r,$:i}}function au(e){return tn(e)?e:e.contextElement}function Mr(e){const t=au(e);if(!yn(t))return bn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=wf(t);let o=(a?ya(n.width):n.width)/r,i=(a?ya(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!i||!Number.isFinite(i))&&(i=1),{x:o,y:i}}const bE=bn(0);function Af(e){const t=Ut(e);return!su()||!t.visualViewport?bE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ut(e)?!1:t}function mr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=au(e);let o=bn(1);t&&(r?tn(r)&&(o=Mr(r)):o=Mr(e));const i=yE(a,n,r)?Af(a):bn(0);let d=(s.left+i.x)/o.x,c=(s.top+i.y)/o.y,g=s.width/o.x,u=s.height/o.y;if(a){const l=Ut(a),f=r&&tn(r)?Ut(r):r;let h=l,m=qi(h);for(;m&&r&&f!==h;){const x=Mr(m),p=m.getBoundingClientRect(),y=nn(m),v=p.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,_=p.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;d*=x.x,c*=x.y,g*=x.x,u*=x.y,d+=v,c+=_,h=Ut(m),m=qi(h)}}return xa({width:g,height:u,x:d,y:c})}function za(e,t){const n=$a(e).scrollLeft;return t?t.left+n:mr(xn(e)).left+n}function Nf(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-za(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function EE(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=xn(r),i=t?Ha(t.floating):!1;if(r===o||i&&a)return n;let d={scrollLeft:0,scrollTop:0},c=bn(1);const g=bn(0),u=yn(r);if((u||!u&&!a)&&((qr(r)!=="body"||Hs(o))&&(d=$a(r)),yn(r))){const f=mr(r);c=Mr(r),g.x=f.x+r.clientLeft,g.y=f.y+r.clientTop}const l=o&&!u&&!a?Nf(o,d):bn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-d.scrollLeft*c.x+g.x+l.x,y:n.y*c.y-d.scrollTop*c.y+g.y+l.y}}function xE(e){return Array.from(e.getClientRects())}function vE(e){const t=xn(e),n=$a(e),r=e.ownerDocument.body,s=lr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=lr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+za(e);const i=-n.scrollTop;return nn(r).direction==="rtl"&&(o+=lr(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:i}}const Ol=25;function TE(e,t){const n=Ut(e),r=xn(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,i=0,d=0;if(s){a=s.width,o=s.height;const g=su();(!g||g&&t==="fixed")&&(i=s.offsetLeft,d=s.offsetTop)}const c=za(r);if(c<=0){const g=r.ownerDocument,u=g.body,l=getComputedStyle(u),f=g.compatMode==="CSS1Compat"&&parseFloat(l.marginLeft)+parseFloat(l.marginRight)||0,h=Math.abs(r.clientWidth-u.clientWidth-f);h<=Ol&&(a-=h)}else c<=Ol&&(a+=c);return{width:a,height:o,x:i,y:d}}const _E=new Set(["absolute","fixed"]);function wE(e,t){const n=mr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=yn(e)?Mr(e):bn(1),o=e.clientWidth*a.x,i=e.clientHeight*a.y,d=s*a.x,c=r*a.y;return{width:o,height:i,x:d,y:c}}function Rl(e,t,n){let r;if(t==="viewport")r=TE(e,n);else if(t==="document")r=vE(xn(e));else if(tn(t))r=wE(t,n);else{const s=Af(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return xa(r)}function Sf(e,t){const n=Wn(e);return n===t||!tn(n)||Hr(n)?!1:nn(n).position==="fixed"||Sf(n,t)}function AE(e,t){const n=t.get(e);if(n)return n;let r=ps(e,[],!1).filter(i=>tn(i)&&qr(i)!=="body"),s=null;const a=nn(e).position==="fixed";let o=a?Wn(e):e;for(;tn(o)&&!Hr(o);){const i=nn(o),d=ru(o);!d&&i.position==="fixed"&&(s=null),(a?!d&&!s:!d&&i.position==="static"&&!!s&&_E.has(s.position)||Hs(o)&&!d&&Sf(e,o))?r=r.filter(g=>g!==o):s=i,o=Wn(o)}return t.set(e,r),r}function NE(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Ha(t)?[]:AE(t,this._c):[].concat(n),r],i=o[0],d=o.reduce((c,g)=>{const u=Rl(t,g,s);return c.top=lr(u.top,c.top),c.right=Ur(u.right,c.right),c.bottom=Ur(u.bottom,c.bottom),c.left=lr(u.left,c.left),c},Rl(t,i,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function SE(e){const{width:t,height:n}=wf(e);return{width:t,height:n}}function CE(e,t,n){const r=yn(t),s=xn(t),a=n==="fixed",o=mr(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const d=bn(0);function c(){d.x=za(s)}if(r||!r&&!a)if((qr(t)!=="body"||Hs(s))&&(i=$a(t)),r){const f=mr(t,!0,a,t);d.x=f.x+t.clientLeft,d.y=f.y+t.clientTop}else s&&c();a&&!r&&s&&c();const g=s&&!r&&!a?Nf(s,i):bn(0),u=o.left+i.scrollLeft-d.x-g.x,l=o.top+i.scrollTop-d.y-g.y;return{x:u,y:l,width:o.width,height:o.height}}function mi(e){return nn(e).position==="static"}function Ll(e,t){if(!yn(e)||nn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xn(e)===n&&(n=n.ownerDocument.body),n}function Cf(e,t){const n=Ut(e);if(Ha(e))return n;if(!yn(e)){let s=Wn(e);for(;s&&!Hr(s);){if(tn(s)&&!mi(s))return s;s=Wn(s)}return n}let r=Ll(e,t);for(;r&&cE(r)&&mi(r);)r=Ll(r,t);return r&&Hr(r)&&mi(r)&&!ru(r)?n:r||pE(e)||n}const kE=async function(e){const t=this.getOffsetParent||Cf,n=this.getDimensions,r=await n(e.floating);return{reference:CE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IE(e){return nn(e).direction==="rtl"}const OE={convertOffsetParentRelativeRectToViewportRelativeRect:EE,getDocumentElement:xn,getClippingRect:NE,getOffsetParent:Cf,getElementRects:kE,getClientRects:xE,getDimensions:SE,getScale:Mr,isElement:tn,isRTL:IE};function kf(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RE(e,t){let n=null,r;const s=xn(e);function a(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function o(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),a();const c=e.getBoundingClientRect(),{left:g,top:u,width:l,height:f}=c;if(i||t(),!l||!f)return;const h=Qs(u),m=Qs(s.clientWidth-(g+l)),x=Qs(s.clientHeight-(u+f)),p=Qs(g),v={rootMargin:-h+"px "+-m+"px "+-x+"px "+-p+"px",threshold:lr(0,Ur(1,d))||1};let _=!0;function w(C){const S=C[0].intersectionRatio;if(S!==d){if(!_)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!kf(c,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),a}function LE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,c=au(e),g=s||a?[...c?ps(c):[],...ps(t)]:[];g.forEach(p=>{s&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const u=c&&i?RE(c,n):null;let l=-1,f=null;o&&(f=new ResizeObserver(p=>{let[y]=p;y&&y.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(l),l=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(t)})),n()}),c&&!d&&f.observe(c),f.observe(t));let h,m=d?mr(e):null;d&&x();function x(){const p=mr(e);m&&!kf(m,p)&&n(),m=p,h=requestAnimationFrame(x)}return n(),()=>{var p;g.forEach(y=>{s&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),u==null||u(),(p=f)==null||p.disconnect(),f=null,d&&cancelAnimationFrame(h)}}const DE=iE,PE=oE,ME=rE,jE=nE,Dl=(e,t,n)=>{const r=new Map,s={platform:OE,...n},a={...s.platform,_c:r};return tE(e,t,{...s,platform:a})};var hi={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Pl;function FE(){return Pl||(Pl=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var i=arguments[o];i&&(a=s(a,r(i)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var i in a)t.call(a,i)&&a[i]&&(o=s(o,i));return o}function s(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(hi)),hi.exports}var BE=FE();const Wi=Ro(BE);var Ml={};const UE="react-tooltip-core-styles",HE="react-tooltip-base-styles",jl={core:!1,base:!1};function Fl({css:e,id:t=HE,type:n="base",ref:r}){var s,a;if(!e||typeof document>"u"||jl[n]||n==="core"&&typeof ar<"u"&&(!((s=ar===null||ar===void 0?void 0:Ml)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof ar<"u"&&(!((a=ar===null||ar===void 0?void 0:Ml)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=UE),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return;const i=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.id=t,d.type="text/css",o==="top"&&i.firstChild?i.insertBefore(d,i.firstChild):i.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),jl[n]=!0}const Bl=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:s=10,strategy:a="absolute",middlewares:o=[DE(Number(s)),ME({fallbackAxisSideDirection:"start"}),PE({padding:5})],border:i,arrowSize:d=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const c=o;return n?(c.push(jE({element:n,padding:5})),Dl(e,t,{placement:r,strategy:a,middleware:c}).then((({x:g,y:u,placement:l,middlewareData:f})=>{var h,m;const x={left:`${g}px`,top:`${u}px`,border:i},{x:p,y}=(h=f.arrow)!==null&&h!==void 0?h:{x:0,y:0},v=(m={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]])!==null&&m!==void 0?m:"bottom",_=i&&{borderBottom:i,borderRight:i};let w=0;if(i){const C=`${i}`.match(/(\d+)px/);w=C!=null&&C[1]?Number(C[1]):1}return{tooltipStyles:x,tooltipArrowStyles:{left:p!=null?`${p}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",..._,[v]:`-${d/2+w}px`},place:l}}))):Dl(e,t,{placement:"bottom",strategy:a,middleware:c}).then((({x:g,y:u,placement:l})=>({tooltipStyles:{left:`${g}px`,top:`${u}px`},tooltipArrowStyles:{},place:l})))},Ul=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),Hl=(e,t,n)=>{let r=null;const s=function(...a){const o=()=>{r=null};!r&&(e.apply(this,a),r=setTimeout(o,t))};return s.cancel=()=>{r&&(clearTimeout(r),r=null)},s},$l=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Gi=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((s,a)=>Gi(s,t[a])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!$l(e)||!$l(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((s=>Gi(e[s],t[s])))},$E=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"}))},zl=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if($E(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},zE=typeof window<"u"?F.useLayoutEffect:F.useEffect,qt=e=>{e.current&&(clearTimeout(e.current),e.current=null)},VE="DEFAULT_TOOLTIP_ID",YE={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},qE=F.createContext({getTooltipData:()=>YE});function If(e=VE){return F.useContext(qE).getTooltipData(e)}var Nr={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},pi={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const WE=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:s="dark",anchorId:a,anchorSelect:o,place:i="top",offset:d=10,events:c=["hover"],openOnClick:g=!1,positionStrategy:u="absolute",middlewares:l,wrapper:f,delayShow:h=0,delayHide:m=0,float:x=!1,hidden:p=!1,noArrow:y=!1,clickable:v=!1,closeOnEsc:_=!1,closeOnScroll:w=!1,closeOnResize:C=!1,openEvents:S,closeEvents:T,globalCloseEvents:A,imperativeModeOnly:N,style:L,position:D,afterShow:j,afterHide:V,disableTooltip:z,content:$,contentWrapperRef:Q,isOpen:se,defaultIsOpen:ge=!1,setIsOpen:ae,previousActiveAnchor:ie,activeAnchor:ce,setActiveAnchor:fe,border:ye,opacity:Oe,arrowColor:ze,arrowSize:qe=8,role:Pe="tooltip"})=>{var ut;const We=F.useRef(null),gt=F.useRef(null),tt=F.useRef(null),_t=F.useRef(null),wt=F.useRef(null),[At,kt]=F.useState({tooltipStyles:{},tooltipArrowStyles:{},place:i}),[Ge,nt]=F.useState(!1),[Je,Et]=F.useState(!1),[O,M]=F.useState(null),U=F.useRef(!1),ne=F.useRef(null),{anchorRefs:ee,setActiveAnchor:K}=If(t),oe=F.useRef(!1),[ve,Se]=F.useState([]),je=F.useRef(!1),W=g||c.includes("click"),re=W||(S==null?void 0:S.click)||(S==null?void 0:S.dblclick)||(S==null?void 0:S.mousedown),me=S?{...S}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!S&&W&&Object.assign(me,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Ie=T?{...T}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!T&&W&&Object.assign(Ie,{mouseleave:!1,blur:!1,mouseout:!1});const we=A?{...A}:{escape:_||!1,scroll:w||!1,resize:C||!1,clickOutsideAnchor:re||!1};N&&(Object.assign(me,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Ie,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(we,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),zE((()=>(je.current=!0,()=>{je.current=!1})),[]);const Ke=te=>{je.current&&(te&&Et(!0),setTimeout((()=>{je.current&&(ae==null||ae(te),se===void 0&&nt(te))}),10))};F.useEffect((()=>{if(t){if(Ge){ue(ie);const he=te(ce),De=[...new Set([...he,t])].filter(Boolean).join(" ");ce==null||ce.setAttribute("aria-describedby",De)}else ue(ce);return()=>{ue(ce),ue(ie)}}function te(he){var De;return((De=he==null?void 0:he.getAttribute("aria-describedby"))===null||De===void 0?void 0:De.split(" "))||[]}function ue(he){const De=te(he).filter((lt=>lt!==t));De.length?he==null||he.setAttribute("aria-describedby",De.join(" ")):he==null||he.removeAttribute("aria-describedby")}}),[ce,Ge,t,ie]),F.useEffect((()=>{if(se===void 0)return()=>null;se&&Et(!0);const te=setTimeout((()=>{nt(se)}),10);return()=>{clearTimeout(te)}}),[se]),F.useEffect((()=>{if(Ge!==U.current)if(qt(wt),U.current=Ge,Ge)j==null||j();else{const te=(ue=>{const he=ue.match(/^([\d.]+)(ms|s)$/);if(!he)return 0;const[,De,lt]=he;return Number(De)*(lt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));wt.current=setTimeout((()=>{Et(!1),M(null),V==null||V()}),te+25)}}),[Ge]);const zt=te=>{kt((ue=>Gi(ue,te)?ue:te))},Mt=(te=h)=>{qt(tt),Je?Ke(!0):tt.current=setTimeout((()=>{Ke(!0)}),te)},st=(te=m)=>{qt(_t),_t.current=setTimeout((()=>{oe.current||Ke(!1)}),te)},nr=te=>{var ue;if(!te)return;const he=(ue=te.currentTarget)!==null&&ue!==void 0?ue:te.target;if(!(he!=null&&he.isConnected))return fe(null),void K({current:null});h?Mt():Ke(!0),fe(he),K({current:he}),qt(_t)},Dn=()=>{v?st(m||100):m?st():Ke(!1),qt(tt)},vn=({x:te,y:ue})=>{var he;const De={getBoundingClientRect:()=>({x:te,y:ue,width:0,height:0,top:ue,left:te,right:te,bottom:ue})};Bl({place:(he=O==null?void 0:O.place)!==null&&he!==void 0?he:i,offset:d,elementReference:De,tooltipReference:We.current,tooltipArrowReference:gt.current,strategy:u,middlewares:l,border:ye,arrowSize:qe}).then((lt=>{zt(lt)}))},Tn=te=>{if(!te)return;const ue=te,he={x:ue.clientX,y:ue.clientY};vn(he),ne.current=he},Te=te=>{var ue;if(!Ge)return;const he=te.target;he.isConnected&&(!((ue=We.current)===null||ue===void 0)&&ue.contains(he)||[document.querySelector(`[id='${a}']`),...ve].some((De=>De==null?void 0:De.contains(he)))||(Ke(!1),qt(tt)))},et=Hl(nr,50),Re=Hl(Dn,50),Fe=te=>{Re.cancel(),et(te)},be=()=>{et.cancel(),Re()},Ee=F.useCallback((()=>{var te,ue;const he=(te=O==null?void 0:O.position)!==null&&te!==void 0?te:D;he?vn(he):x?ne.current&&vn(ne.current):ce!=null&&ce.isConnected&&Bl({place:(ue=O==null?void 0:O.place)!==null&&ue!==void 0?ue:i,offset:d,elementReference:ce,tooltipReference:We.current,tooltipArrowReference:gt.current,strategy:u,middlewares:l,border:ye,arrowSize:qe}).then((De=>{je.current&&zt(De)}))}),[Ge,ce,$,L,i,O==null?void 0:O.place,d,u,D,O==null?void 0:O.position,x,qe]);F.useEffect((()=>{var te,ue;const he=new Set(ee);ve.forEach((Be=>{z!=null&&z(Be)||he.add({current:Be})}));const De=document.querySelector(`[id='${a}']`);De&&!(z!=null&&z(De))&&he.add({current:De});const lt=()=>{Ke(!1)},sn=zl(ce),an=zl(We.current);we.scroll&&(window.addEventListener("scroll",lt),sn==null||sn.addEventListener("scroll",lt),an==null||an.addEventListener("scroll",lt));let Nt=null;we.resize?window.addEventListener("resize",lt):ce&&We.current&&(Nt=LE(ce,We.current,Ee,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Yt=Be=>{Be.key==="Escape"&&Ke(!1)};we.escape&&window.addEventListener("keydown",Yt),we.clickOutsideAnchor&&window.addEventListener("click",Te);const Qe=[],_r=Be=>!!(Be!=null&&Be.target&&(ce!=null&&ce.contains(Be.target))),Ym=Be=>{Ge&&_r(Be)||nr(Be)},qm=Be=>{Ge&&_r(Be)&&Dn()},xu=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],vu=["click","dblclick","mousedown","mouseup"];Object.entries(me).forEach((([Be,_n])=>{_n&&(xu.includes(Be)?Qe.push({event:Be,listener:Fe}):vu.includes(Be)&&Qe.push({event:Be,listener:Ym}))})),Object.entries(Ie).forEach((([Be,_n])=>{_n&&(xu.includes(Be)?Qe.push({event:Be,listener:be}):vu.includes(Be)&&Qe.push({event:Be,listener:qm}))})),x&&Qe.push({event:"pointermove",listener:Tn});const Tu=()=>{oe.current=!0},_u=()=>{oe.current=!1,Dn()},wu=v&&(Ie.mouseout||Ie.mouseleave);return wu&&((te=We.current)===null||te===void 0||te.addEventListener("mouseover",Tu),(ue=We.current)===null||ue===void 0||ue.addEventListener("mouseout",_u)),Qe.forEach((({event:Be,listener:_n})=>{he.forEach((Za=>{var Gr;(Gr=Za.current)===null||Gr===void 0||Gr.addEventListener(Be,_n)}))})),()=>{var Be,_n;we.scroll&&(window.removeEventListener("scroll",lt),sn==null||sn.removeEventListener("scroll",lt),an==null||an.removeEventListener("scroll",lt)),we.resize?window.removeEventListener("resize",lt):Nt==null||Nt(),we.clickOutsideAnchor&&window.removeEventListener("click",Te),we.escape&&window.removeEventListener("keydown",Yt),wu&&((Be=We.current)===null||Be===void 0||Be.removeEventListener("mouseover",Tu),(_n=We.current)===null||_n===void 0||_n.removeEventListener("mouseout",_u)),Qe.forEach((({event:Za,listener:Gr})=>{he.forEach((Wm=>{var Ja;(Ja=Wm.current)===null||Ja===void 0||Ja.removeEventListener(Za,Gr)}))}))}}),[ce,Ee,Je,ee,ve,S,T,A,W,h,m]),F.useEffect((()=>{var te,ue;let he=(ue=(te=O==null?void 0:O.anchorSelect)!==null&&te!==void 0?te:o)!==null&&ue!==void 0?ue:"";!he&&t&&(he=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const De=new MutationObserver((lt=>{const sn=[],an=[];lt.forEach((Nt=>{if(Nt.type==="attributes"&&Nt.attributeName==="data-tooltip-id"&&(Nt.target.getAttribute("data-tooltip-id")===t?sn.push(Nt.target):Nt.oldValue===t&&an.push(Nt.target)),Nt.type==="childList"){if(ce){const Yt=[...Nt.removedNodes].filter((Qe=>Qe.nodeType===1));if(he)try{an.push(...Yt.filter((Qe=>Qe.matches(he)))),an.push(...Yt.flatMap((Qe=>[...Qe.querySelectorAll(he)])))}catch{}Yt.some((Qe=>{var _r;return!!(!((_r=Qe==null?void 0:Qe.contains)===null||_r===void 0)&&_r.call(Qe,ce))&&(Et(!1),Ke(!1),fe(null),qt(tt),qt(_t),!0)}))}if(he)try{const Yt=[...Nt.addedNodes].filter((Qe=>Qe.nodeType===1));sn.push(...Yt.filter((Qe=>Qe.matches(he)))),sn.push(...Yt.flatMap((Qe=>[...Qe.querySelectorAll(he)])))}catch{}}})),(sn.length||an.length)&&Se((Nt=>[...Nt.filter((Yt=>!an.includes(Yt))),...sn]))}));return De.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{De.disconnect()}}),[t,o,O==null?void 0:O.anchorSelect,ce]),F.useEffect((()=>{Ee()}),[Ee]),F.useEffect((()=>{if(!(Q!=null&&Q.current))return()=>null;const te=new ResizeObserver((()=>{setTimeout((()=>Ee()))}));return te.observe(Q.current),()=>{te.disconnect()}}),[$,Q==null?void 0:Q.current]),F.useEffect((()=>{var te;const ue=document.querySelector(`[id='${a}']`),he=[...ve,ue];ce&&he.includes(ce)||fe((te=ve[0])!==null&&te!==void 0?te:ue)}),[a,ve,ce]),F.useEffect((()=>(ge&&Ke(!0),()=>{qt(tt),qt(_t)})),[]),F.useEffect((()=>{var te;let ue=(te=O==null?void 0:O.anchorSelect)!==null&&te!==void 0?te:o;if(!ue&&t&&(ue=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ue)try{const he=Array.from(document.querySelectorAll(ue));Se(he)}catch{Se([])}}),[t,o,O==null?void 0:O.anchorSelect]),F.useEffect((()=>{tt.current&&(qt(tt),Mt(h))}),[h]);const Ve=(ut=O==null?void 0:O.content)!==null&&ut!==void 0?ut:$,Vt=Ge&&Object.keys(At.tooltipStyles).length>0;return F.useImperativeHandle(e,(()=>({open:te=>{if(te!=null&&te.anchorSelect)try{document.querySelector(te.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${te.anchorSelect}" is not a valid CSS selector`)}M(te??null),te!=null&&te.delay?Mt(te.delay):Ke(!0)},close:te=>{te!=null&&te.delay?st(te.delay):Ke(!1)},activeAnchor:ce,place:At.place,isOpen:!!(Je&&!p&&Ve&&Vt)}))),Je&&!p&&Ve?Y.createElement(f,{id:t,role:Pe,className:Wi("react-tooltip",Nr.tooltip,pi.tooltip,pi[s],n,`react-tooltip__place-${At.place}`,Nr[Vt?"show":"closing"],Vt?"react-tooltip__show":"react-tooltip__closing",u==="fixed"&&Nr.fixed,v&&Nr.clickable),onTransitionEnd:te=>{qt(wt),Ge||te.propertyName!=="opacity"||(Et(!1),M(null),V==null||V())},style:{...L,...At.tooltipStyles,opacity:Oe!==void 0&&Vt?Oe:void 0},ref:We},Ve,Y.createElement(f,{className:Wi("react-tooltip-arrow",Nr.arrow,pi.arrow,r,y&&Nr.noArrow),style:{...At.tooltipArrowStyles,background:ze?`linear-gradient(to right bottom, transparent 50%, ${ze} 50%)`:void 0,"--rt-arrow-size":`${qe}px`},ref:gt})):null},GE=({content:e})=>Y.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),KE=Y.forwardRef((({id:e,anchorId:t,anchorSelect:n,content:r,html:s,render:a,className:o,classNameArrow:i,variant:d="dark",place:c="top",offset:g=10,wrapper:u="div",children:l=null,events:f=["hover"],openOnClick:h=!1,positionStrategy:m="absolute",middlewares:x,delayShow:p=0,delayHide:y=0,float:v=!1,hidden:_=!1,noArrow:w=!1,clickable:C=!1,closeOnEsc:S=!1,closeOnScroll:T=!1,closeOnResize:A=!1,openEvents:N,closeEvents:L,globalCloseEvents:D,imperativeModeOnly:j=!1,style:V,position:z,isOpen:$,defaultIsOpen:Q=!1,disableStyleInjection:se=!1,border:ge,opacity:ae,arrowColor:ie,arrowSize:ce,setIsOpen:fe,afterShow:ye,afterHide:Oe,disableTooltip:ze,role:qe="tooltip"},Pe)=>{const[ut,We]=F.useState(r),[gt,tt]=F.useState(s),[_t,wt]=F.useState(c),[At,kt]=F.useState(d),[Ge,nt]=F.useState(g),[Je,Et]=F.useState(p),[O,M]=F.useState(y),[U,ne]=F.useState(v),[ee,K]=F.useState(_),[oe,ve]=F.useState(u),[Se,je]=F.useState(f),[W,re]=F.useState(m),[me,Ie]=F.useState(null),[we,Ke]=F.useState(null),zt=F.useRef(null),Mt=F.useRef(se),{anchorRefs:st,activeAnchor:nr}=If(e),Dn=Re=>Re==null?void 0:Re.getAttributeNames().reduce(((Fe,be)=>{var Ee;return be.startsWith("data-tooltip-")&&(Fe[be.replace(/^data-tooltip-/,"")]=(Ee=Re==null?void 0:Re.getAttribute(be))!==null&&Ee!==void 0?Ee:null),Fe}),{}),vn=Re=>{const Fe={place:be=>{var Ee;wt((Ee=be)!==null&&Ee!==void 0?Ee:c)},content:be=>{We(be??r)},html:be=>{tt(be??s)},variant:be=>{var Ee;kt((Ee=be)!==null&&Ee!==void 0?Ee:d)},offset:be=>{nt(be===null?g:Number(be))},wrapper:be=>{var Ee;ve((Ee=be)!==null&&Ee!==void 0?Ee:u)},events:be=>{const Ee=be==null?void 0:be.split(" ");je(Ee??f)},"position-strategy":be=>{var Ee;re((Ee=be)!==null&&Ee!==void 0?Ee:m)},"delay-show":be=>{Et(be===null?p:Number(be))},"delay-hide":be=>{M(be===null?y:Number(be))},float:be=>{ne(be===null?v:be==="true")},hidden:be=>{K(be===null?_:be==="true")},"class-name":be=>{Ie(be)}};Object.values(Fe).forEach((be=>be(null))),Object.entries(Re).forEach((([be,Ee])=>{var Ve;(Ve=Fe[be])===null||Ve===void 0||Ve.call(Fe,Ee)}))};F.useEffect((()=>{We(r)}),[r]),F.useEffect((()=>{tt(s)}),[s]),F.useEffect((()=>{wt(c)}),[c]),F.useEffect((()=>{kt(d)}),[d]),F.useEffect((()=>{nt(g)}),[g]),F.useEffect((()=>{Et(p)}),[p]),F.useEffect((()=>{M(y)}),[y]),F.useEffect((()=>{ne(v)}),[v]),F.useEffect((()=>{K(_)}),[_]),F.useEffect((()=>{re(m)}),[m]),F.useEffect((()=>{Mt.current!==se&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[se]),F.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:se==="core",disableBase:se}}))}),[]),F.useEffect((()=>{var Re;const Fe=new Set(st);let be=n;if(!be&&e&&(be=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),be)try{document.querySelectorAll(be).forEach((ue=>{Fe.add({current:ue})}))}catch{console.warn(`[react-tooltip] "${be}" is not a valid CSS selector`)}const Ee=document.querySelector(`[id='${t}']`);if(Ee&&Fe.add({current:Ee}),!Fe.size)return()=>null;const Ve=(Re=we??Ee)!==null&&Re!==void 0?Re:nr.current,Vt=new MutationObserver((ue=>{ue.forEach((he=>{var De;if(!Ve||he.type!=="attributes"||!(!((De=he.attributeName)===null||De===void 0)&&De.startsWith("data-tooltip-")))return;const lt=Dn(Ve);vn(lt)}))})),te={attributes:!0,childList:!1,subtree:!1};if(Ve){const ue=Dn(Ve);vn(ue),Vt.observe(Ve,te)}return()=>{Vt.disconnect()}}),[st,nr,we,t,n]),F.useEffect((()=>{V!=null&&V.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ge&&!Ul("border",`${ge}`)&&console.warn(`[react-tooltip] "${ge}" is not a valid \`border\`.`),V!=null&&V.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),ae&&!Ul("opacity",`${ae}`)&&console.warn(`[react-tooltip] "${ae}" is not a valid \`opacity\`.`)}),[]);let Tn=l;const Te=F.useRef(null);if(a){const Re=a({content:(we==null?void 0:we.getAttribute("data-tooltip-content"))||ut||null,activeAnchor:we});Tn=Re?Y.createElement("div",{ref:Te,className:"react-tooltip-content-wrapper"},Re):null}else ut&&(Tn=ut);gt&&(Tn=Y.createElement(GE,{content:gt}));const et={forwardRef:Pe,id:e,anchorId:t,anchorSelect:n,className:Wi(o,me),classNameArrow:i,content:Tn,contentWrapperRef:Te,place:_t,variant:At,offset:Ge,wrapper:oe,events:Se,openOnClick:h,positionStrategy:W,middlewares:x,delayShow:Je,delayHide:O,float:U,hidden:ee,noArrow:w,clickable:C,closeOnEsc:S,closeOnScroll:T,closeOnResize:A,openEvents:N,closeEvents:L,globalCloseEvents:D,imperativeModeOnly:j,style:V,position:z,isOpen:$,defaultIsOpen:Q,border:ge,opacity:ae,arrowColor:ie,arrowSize:ce,setIsOpen:fe,afterShow:ye,afterHide:Oe,disableTooltip:ze,activeAnchor:we,previousActiveAnchor:zt.current,setActiveAnchor:Re=>{Ke((Fe=>(Re!=null&&Re.isSameNode(Fe)||(zt.current=Fe),Re)))},role:qe};return Y.createElement(WE,{...et})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||Fl({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||Fl({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));function XE({group:e}){const t=n=>n.listings.reduce((r,s)=>r+s.amount,0);return E.jsxs("div",{children:[e.sellerBalance!==void 0&&e.sellerBalance!==null&&e.sellerBalance<t(e)?e.sellerBalance===0?E.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30","data-tooltip-id":"fulfillability-tooltip","data-tooltip-content":"The listing is active but the seller doesn't have any token to sell.","data-tooltip-place":"bottom",children:"Unfulfillable"}):E.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-500/20 text-amber-400 border border-amber-500/30","data-tooltip-id":"fulfillability-tooltip","data-tooltip-content":"The listing is active but the seller doesn't have enough tokens to sell.","data-tooltip-place":"bottom",children:["Partially fulfillable (",e.sellerBalance," available)"]}):null,E.jsx(KE,{id:"fulfillability-tooltip"})]})}function QE({price:e,amount:t,ethPrice:n,children:r}){const s=n?(parseFloat(e)*n).toFixed(2):null;return E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"w-full flex justify-around py-3",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Price"}),E.jsxs("p",{className:"text-2xl font-semibold text-white",children:[e," ",E.jsx("span",{className:"text-ink-400 text-lg",children:"ETH"})]}),s&&E.jsxs("p",{className:"text-sm text-ink-500 mt-0.5",children:["$",s]})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Amount"}),E.jsx("p",{className:"text-2xl font-semibold text-white",children:t})]})]}),r]})}function ZE({isConnected:e,id:t,listingGroups:n,walletAddress:r,onUpdate:s,showOnlyOthers:a=!1,ethPrice:o=null}){const i=F.useMemo(()=>n?n.filter(d=>{var c;return!a||((c=d.seller)==null?void 0:c.toLowerCase())!==(r==null?void 0:r.toLowerCase())}):null,[n,a,r]);return E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Marketplace"}),i!==null?i.length>0?E.jsx("div",{className:"space-y-4",children:i.map((d,c)=>E.jsxs("div",{className:"bg-ink-800/50 rounded-xl p-4 border border-ink-700",children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide",children:"Seller"}),E.jsx("p",{className:"font-mono text-sm text-ink-200",children:E.jsx(zn,{address:d.seller,shorten:!0,nChar:8})})]}),E.jsx(XE,{group:d}),E.jsx("div",{className:"space-y-3 mt-4",children:d.listings.map(g=>E.jsx("div",{className:"border-t border-ink-700 pt-3 first:border-t-0 first:pt-0",children:E.jsx(QE,{price:g.price,amount:g.amount,ethPrice:o,children:e?E.jsx(Vy,{nftId:t,listingId:g.id,price:g.price,maxAmount:g.amount,sellerBalance:d.sellerBalance,onUpdate:s}):E.jsx("button",{className:"px-4 py-2 bg-ink-700 text-ink-400 rounded-lg cursor-not-allowed text-sm",disabled:!0,children:"Connect wallet to buy"})})},g.id))})]},"group"+c))}):E.jsx("p",{className:"text-ink-500 text-center py-8",children:"No listings available"}):E.jsx(Ft,{height:120,className:"rounded-xl",baseColor:"#27272a",highlightColor:"#3f3f46"})]})}const JE={to:"",amount:1};function ex({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s}){const{register:a,formState:{isDirty:o,isValid:i,errors:d},handleSubmit:c,watch:g}=Rs({defaultValues:JE,mode:"onChange",resolver:Ls(Rn.transfer)}),u=g("amount"),l=f=>{f&&n(f.to,f.amount),t(!1)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>l(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Gift NFT"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Balance"}),E.jsx("span",{className:"text-white font-mono",children:r})]}),r!==s&&E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Available (not listed)"}),E.jsx("span",{className:"text-white font-mono",children:s})]}),E.jsx(Zt,{label:"Amount",name:"amount",type:"number",step:"1",min:"1",errors:d,register:a}),E.jsx(Zt,{label:"Recipient Address",name:"to",type:"string",errors:d,register:a,placeholder:"0x... or ENS name"}),u>s&&u<=r&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Warning:"})," You only have"," ",s," free token",s===1?"":"s",". This will use ",u-s," ","token",u-s===1?"":"s"," ","from listings."]})}),u>r&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," Cannot gift more than you own (",r,")."]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>l(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!i&&o||u>r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!i&&o||u>r,onClick:c(l),children:"Gift"})]})]})]}):null}function tx({id:e,walletAddress:t,balance:n,availableAmount:r,onUpdate:s,secondary:a=!1}){const o=Le.contractAddresses.v1.zang,i=Ae.zang,{isConnected:d}=Ht(),{writeContractAsync:c}=Zn(),g=er(),[u,l]=F.useState(!1),[f,h]=dt(Gt),m=async(x,p)=>{if(x===null){h("Please enter a valid address.");return}if(p===null){h("Please enter an amount.");return}if(!e){h("Could not determine the ID of the NFT.");return}if(!d){h("Please connect a wallet.");return}if(h(null),x.includes(".eth"))try{const _=await Do.getEnsAddress({name:ad(x)});if(!_){h("Could not resolve ENS name.");return}x=_}catch(_){h("ENS resolution failed: "+_.message);return}const y=async()=>await c({address:o,abi:i,functionName:"safeTransferFrom",args:[t,x,BigInt(e),BigInt(p),"0x"],...gn()}),{success:v}=await g(y,`Transfer NFT #${e}`);v&&s&&s(e)};return E.jsxs(F.Fragment,{children:[E.jsx("button",{className:a?"w-full mt-2 py-2 text-sm text-ink-400 hover:text-white transition-colors":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>l(!0),children:a?"or transfer to someone":"Gift"}),E.jsx(ex,{isOpen:u,setIsOpen:l,onClose:m,balance:n,availableAmount:r})]})}const nx={"text/plain":{label:"TXT",bg:"bg-type-plain/10",border:"border-type-plain/30",text:"text-type-plain",icon:""},"text/markdown":{label:"MD",bg:"bg-type-markdown/10",border:"border-type-markdown/30",text:"text-type-markdown",icon:"#"},"text/html":{label:"HTML",bg:"bg-type-html/10",border:"border-type-html/30",text:"text-type-html",icon:"<>"}};function rx({type:e,isUri:t}){if(!e)return null;t&&(e=e.split(",")[0].split(":")[1]);const n=nx[e];return n?E.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-mono ${n.bg} ${n.border} ${n.text} border`,children:[E.jsx("span",{className:"opacity-60",children:n.icon}),n.label]}):E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-mono bg-red-500/10 border-red-500/30 text-red-400 border",children:[E.jsx("span",{className:"opacity-60",children:"?"}),"unknown"]})}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Ir=9e15,tr=1e9,Ki="0123456789abcdef",va="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ta="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Xi={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ir,maxE:Ir,crypto:!1},Of,Sn,_e=!0,Va="[DecimalError] ",Gn=Va+"Invalid argument: ",Rf=Va+"Precision limit exceeded",Lf=Va+"crypto unavailable",Df="[object Decimal]",xt=Math.floor,ct=Math.pow,sx=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ax=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ix=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Pf=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jt=1e7,xe=7,ox=9007199254740991,ux=va.length-1,Qi=Ta.length-1,q={toStringTag:Df};q.absoluteValue=q.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),pe(e)};q.ceil=function(){return pe(new this.constructor(this),this.e+1,2)};q.clampedTo=q.clamp=function(e,t){var n,r=this,s=r.constructor;if(e=new s(e),t=new s(t),!e.s||!t.s)return new s(NaN);if(e.gt(t))throw Error(Gn+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new s(r)};q.comparedTo=q.cmp=function(e){var t,n,r,s,a=this,o=a.d,i=(e=new a.constructor(e)).d,d=a.s,c=e.s;if(!o||!i)return!d||!c?NaN:d!==c?d:o===i?0:!o^d<0?1:-1;if(!o[0]||!i[0])return o[0]?d:i[0]?-c:0;if(d!==c)return d;if(a.e!==e.e)return a.e>e.e^d<0?1:-1;for(r=o.length,s=i.length,t=0,n=r<s?r:s;t<n;++t)if(o[t]!==i[t])return o[t]>i[t]^d<0?1:-1;return r===s?0:r>s^d<0?1:-1};q.cosine=q.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+xe,r.rounding=1,n=lx(r,Uf(r,n)),r.precision=e,r.rounding=t,pe(Sn==2||Sn==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};q.cubeRoot=q.cbrt=function(){var e,t,n,r,s,a,o,i,d,c,g=this,u=g.constructor;if(!g.isFinite()||g.isZero())return new u(g);for(_e=!1,a=g.s*ct(g.s*g,1/3),!a||Math.abs(a)==1/0?(n=yt(g.d),e=g.e,(a=(e-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=ct(n,1/3),e=xt((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?n="5e"+e:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new u(n),r.s=g.s):r=new u(a.toString()),o=(e=u.precision)+3;;)if(i=r,d=i.times(i).times(i),c=d.plus(g),r=$e(c.plus(g).times(i),c.plus(d),o+2,1),yt(i.d).slice(0,o)===(n=yt(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!s&&n=="4999"){if(!s&&(pe(i,e+1,0),i.times(i).times(i).eq(g))){r=i;break}o+=4,s=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(pe(r,e+1,1),t=!r.times(r).times(r).eq(g));break}return _e=!0,pe(r,e,u.rounding,t)};q.decimalPlaces=q.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-xt(this.e/xe))*xe,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};q.dividedBy=q.div=function(e){return $e(this,new this.constructor(e))};q.dividedToIntegerBy=q.divToInt=function(e){var t=this,n=t.constructor;return pe($e(t,new n(e),0,1,1),n.precision,n.rounding)};q.equals=q.eq=function(e){return this.cmp(e)===0};q.floor=function(){return pe(new this.constructor(this),this.e+1,3)};q.greaterThan=q.gt=function(e){return this.cmp(e)>0};q.greaterThanOrEqualTo=q.gte=function(e){var t=this.cmp(e);return t==1||t===0};q.hyperbolicCosine=q.cosh=function(){var e,t,n,r,s,a=this,o=a.constructor,i=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return i;n=o.precision,r=o.rounding,o.precision=n+Math.max(a.e,a.sd())+4,o.rounding=1,s=a.d.length,s<32?(e=Math.ceil(s/3),t=(1/qa(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=$r(o,1,a.times(t),new o(1),!0);for(var d,c=e,g=new o(8);c--;)d=a.times(a),a=i.minus(d.times(g.minus(d.times(g))));return pe(a,o.precision=n,o.rounding=r,!0)};q.hyperbolicSine=q.sinh=function(){var e,t,n,r,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(s.e,s.sd())+4,a.rounding=1,r=s.d.length,r<3)s=$r(a,2,s,s,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,s=s.times(1/qa(5,e)),s=$r(a,2,s,s,!0);for(var o,i=new a(5),d=new a(16),c=new a(20);e--;)o=s.times(s),s=s.times(i.plus(o.times(d.times(o).plus(c))))}return a.precision=t,a.rounding=n,pe(s,t,n,!0)};q.hyperbolicTangent=q.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,$e(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};q.inverseCosine=q.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,s=t.rounding;return n!==-1?n===0?e.isNeg()?mn(t,r,s):new t(0):new t(NaN):e.isZero()?mn(t,r+4,s).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=s,e.times(2))};q.inverseHyperbolicCosine=q.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,_e=!1,n=n.times(n).minus(1).sqrt().plus(n),_e=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};q.inverseHyperbolicSine=q.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,_e=!1,n=n.times(n).plus(1).sqrt().plus(n),_e=!0,r.precision=e,r.rounding=t,n.ln())};q.inverseHyperbolicTangent=q.atanh=function(){var e,t,n,r,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(e=a.precision,t=a.rounding,r=s.sd(),Math.max(r,e)<2*-s.e-1?pe(new a(s),e,t,!0):(a.precision=n=r-s.e,s=$e(s.plus(1),new a(1).minus(s),n+e,1),a.precision=e+4,a.rounding=1,s=s.ln(),a.precision=e,a.rounding=t,s.times(.5))):new a(NaN)};q.inverseSine=q.asin=function(){var e,t,n,r,s=this,a=s.constructor;return s.isZero()?new a(s):(t=s.abs().cmp(1),n=a.precision,r=a.rounding,t!==-1?t===0?(e=mn(a,n+4,r).times(.5),e.s=s.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,s.times(2)))};q.inverseTangent=q.atan=function(){var e,t,n,r,s,a,o,i,d,c=this,g=c.constructor,u=g.precision,l=g.rounding;if(c.isFinite()){if(c.isZero())return new g(c);if(c.abs().eq(1)&&u+4<=Qi)return o=mn(g,u+4,l).times(.25),o.s=c.s,o}else{if(!c.s)return new g(NaN);if(u+4<=Qi)return o=mn(g,u+4,l).times(.5),o.s=c.s,o}for(g.precision=i=u+10,g.rounding=1,n=Math.min(28,i/xe+2|0),e=n;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(_e=!1,t=Math.ceil(i/xe),r=1,d=c.times(c),o=new g(c),s=c;e!==-1;)if(s=s.times(d),a=o.minus(s.div(r+=2)),s=s.times(d),o=a.plus(s.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===a.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),_e=!0,pe(o,g.precision=u,g.rounding=l,!0)};q.isFinite=function(){return!!this.d};q.isInteger=q.isInt=function(){return!!this.d&&xt(this.e/xe)>this.d.length-2};q.isNaN=function(){return!this.s};q.isNegative=q.isNeg=function(){return this.s<0};q.isPositive=q.isPos=function(){return this.s>0};q.isZero=function(){return!!this.d&&this.d[0]===0};q.lessThan=q.lt=function(e){return this.cmp(e)<0};q.lessThanOrEqualTo=q.lte=function(e){return this.cmp(e)<1};q.logarithm=q.log=function(e){var t,n,r,s,a,o,i,d,c=this,g=c.constructor,u=g.precision,l=g.rounding,f=5;if(e==null)e=new g(10),t=!0;else{if(e=new g(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new g(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new g(n&&!n[0]?-1/0:c.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(s=n[0];s%10===0;)s/=10;a=s!==1}if(_e=!1,i=u+f,o=Yn(c,i),r=t?_a(g,i+10):Yn(e,i),d=$e(o,r,i,1),gs(d.d,s=u,l))do if(i+=10,o=Yn(c,i),r=t?_a(g,i+10):Yn(e,i),d=$e(o,r,i,1),!a){+yt(d.d).slice(s+1,s+15)+1==1e14&&(d=pe(d,u+1,0));break}while(gs(d.d,s+=10,l));return _e=!0,pe(d,u,l)};q.minus=q.sub=function(e){var t,n,r,s,a,o,i,d,c,g,u,l,f=this,h=f.constructor;if(e=new h(e),!f.d||!e.d)return!f.s||!e.s?e=new h(NaN):f.d?e.s=-e.s:e=new h(e.d||f.s!==e.s?f:NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(c=f.d,l=e.d,i=h.precision,d=h.rounding,!c[0]||!l[0]){if(l[0])e.s=-e.s;else if(c[0])e=new h(f);else return new h(d===3?-0:0);return _e?pe(e,i,d):e}if(n=xt(e.e/xe),g=xt(f.e/xe),c=c.slice(),a=g-n,a){for(u=a<0,u?(t=c,a=-a,o=l.length):(t=l,n=g,o=c.length),r=Math.max(Math.ceil(i/xe),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=c.length,o=l.length,u=r<o,u&&(o=r),r=0;r<o;r++)if(c[r]!=l[r]){u=c[r]<l[r];break}a=0}for(u&&(t=c,c=l,l=t,e.s=-e.s),o=c.length,r=l.length-o;r>0;--r)c[o++]=0;for(r=l.length;r>a;){if(c[--r]<l[r]){for(s=r;s&&c[--s]===0;)c[s]=Jt-1;--c[s],c[r]+=Jt}c[r]-=l[r]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=Ya(c,n),_e?pe(e,i,d):e):new h(d===3?-0:0)};q.modulo=q.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?pe(new r(n),r.precision,r.rounding):(_e=!1,r.modulo==9?(t=$e(n,e.abs(),0,3,1),t.s*=e.s):t=$e(n,e,0,r.modulo,1),t=t.times(e),_e=!0,n.minus(t))};q.naturalExponential=q.exp=function(){return Zi(this)};q.naturalLogarithm=q.ln=function(){return Yn(this)};q.negated=q.neg=function(){var e=new this.constructor(this);return e.s=-e.s,pe(e)};q.plus=q.add=function(e){var t,n,r,s,a,o,i,d,c,g,u=this,l=u.constructor;if(e=new l(e),!u.d||!e.d)return!u.s||!e.s?e=new l(NaN):u.d||(e=new l(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(c=u.d,g=e.d,i=l.precision,d=l.rounding,!c[0]||!g[0])return g[0]||(e=new l(u)),_e?pe(e,i,d):e;if(a=xt(u.e/xe),r=xt(e.e/xe),c=c.slice(),s=a-r,s){for(s<0?(n=c,s=-s,o=g.length):(n=g,r=a,o=c.length),a=Math.ceil(i/xe),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=g.length,o-s<0&&(s=o,n=g,g=c,c=n),t=0;s;)t=(c[--s]=c[s]+g[s]+t)/Jt|0,c[s]%=Jt;for(t&&(c.unshift(t),++r),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=Ya(c,r),_e?pe(e,i,d):e};q.precision=q.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gn+e);return n.d?(t=Mf(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};q.round=function(){var e=this,t=e.constructor;return pe(new t(e),e.e+1,t.rounding)};q.sine=q.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+xe,r.rounding=1,n=dx(r,Uf(r,n)),r.precision=e,r.rounding=t,pe(Sn>2?n.neg():n,e,t,!0)):new r(NaN)};q.squareRoot=q.sqrt=function(){var e,t,n,r,s,a,o=this,i=o.d,d=o.e,c=o.s,g=o.constructor;if(c!==1||!i||!i[0])return new g(!c||c<0&&(!i||i[0])?NaN:i?o:1/0);for(_e=!1,c=Math.sqrt(+o),c==0||c==1/0?(t=yt(i),(t.length+d)%2==0&&(t+="0"),c=Math.sqrt(t),d=xt((d+1)/2)-(d<0||d%2),c==1/0?t="5e"+d:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+d),r=new g(t)):r=new g(c.toString()),n=(d=g.precision)+3;;)if(a=r,r=a.plus($e(o,a,n+2,1)).times(.5),yt(a.d).slice(0,n)===(t=yt(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!s&&t=="4999"){if(!s&&(pe(a,d+1,0),a.times(a).eq(o))){r=a;break}n+=4,s=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(pe(r,d+1,1),e=!r.times(r).eq(o));break}return _e=!0,pe(r,d,g.rounding,e)};q.tangent=q.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=$e(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,pe(Sn==2||Sn==4?n.neg():n,e,t,!0)):new r(NaN)};q.times=q.mul=function(e){var t,n,r,s,a,o,i,d,c,g=this,u=g.constructor,l=g.d,f=(e=new u(e)).d;if(e.s*=g.s,!l||!l[0]||!f||!f[0])return new u(!e.s||l&&!l[0]&&!f||f&&!f[0]&&!l?NaN:!l||!f?e.s/0:e.s*0);for(n=xt(g.e/xe)+xt(e.e/xe),d=l.length,c=f.length,d<c&&(a=l,l=f,f=a,o=d,d=c,c=o),a=[],o=d+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,s=d+r;s>r;)i=a[s]+f[r]*l[s-r-1]+t,a[s--]=i%Jt|0,t=i/Jt|0;a[s]=(a[s]+t)%Jt|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=Ya(a,n),_e?pe(e,u.precision,u.rounding):e};q.toBinary=function(e,t){return iu(this,2,e,t)};q.toDecimalPlaces=q.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Dt(e,0,tr),t===void 0?t=r.rounding:Dt(t,0,8),pe(n,e+n.e+1,t))};q.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=En(r,!0):(Dt(e,0,tr),t===void 0?t=s.rounding:Dt(t,0,8),r=pe(new s(r),e+1,t),n=En(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};q.toFixed=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?n=En(s):(Dt(e,0,tr),t===void 0?t=a.rounding:Dt(t,0,8),r=pe(new a(s),e+s.e+1,t),n=En(r,!1,e+r.e+1)),s.isNeg()&&!s.isZero()?"-"+n:n};q.toFraction=function(e){var t,n,r,s,a,o,i,d,c,g,u,l,f=this,h=f.d,m=f.constructor;if(!h)return new m(f);if(c=n=new m(1),r=d=new m(0),t=new m(r),a=t.e=Mf(h)-f.e-1,o=a%xe,t.d[0]=ct(10,o<0?xe+o:o),e==null)e=a>0?t:c;else{if(i=new m(e),!i.isInt()||i.lt(c))throw Error(Gn+i);e=i.gt(t)?a>0?t:c:i}for(_e=!1,i=new m(yt(h)),g=m.precision,m.precision=a=h.length*xe*2;u=$e(i,t,0,1,1),s=n.plus(u.times(r)),s.cmp(e)!=1;)n=r,r=s,s=c,c=d.plus(u.times(s)),d=s,s=t,t=i.minus(u.times(s)),i=s;return s=$e(e.minus(n),r,0,1,1),d=d.plus(s.times(c)),n=n.plus(s.times(r)),d.s=c.s=f.s,l=$e(c,r,a,1).minus(f).abs().cmp($e(d,n,a,1).minus(f).abs())<1?[c,r]:[d,n],m.precision=g,_e=!0,l};q.toHexadecimal=q.toHex=function(e,t){return iu(this,16,e,t)};q.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:Dt(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(_e=!1,n=$e(n,e,0,t,1).times(e),_e=!0,pe(n)):(e.s=n.s,n=e),n};q.toNumber=function(){return+this};q.toOctal=function(e,t){return iu(this,8,e,t)};q.toPower=q.pow=function(e){var t,n,r,s,a,o,i=this,d=i.constructor,c=+(e=new d(e));if(!i.d||!e.d||!i.d[0]||!e.d[0])return new d(ct(+i,c));if(i=new d(i),i.eq(1))return i;if(r=d.precision,a=d.rounding,e.eq(1))return pe(i,r,a);if(t=xt(e.e/xe),t>=e.d.length-1&&(n=c<0?-c:c)<=ox)return s=jf(d,i,n,r),e.s<0?new d(1).div(s):pe(s,r,a);if(o=i.s,o<0){if(t<e.d.length-1)return new d(NaN);if((e.d[t]&1)==0&&(o=1),i.e==0&&i.d[0]==1&&i.d.length==1)return i.s=o,i}return n=ct(+i,c),t=n==0||!isFinite(n)?xt(c*(Math.log("0."+yt(i.d))/Math.LN10+i.e+1)):new d(n+"").e,t>d.maxE+1||t<d.minE-1?new d(t>0?o/0:0):(_e=!1,d.rounding=i.s=1,n=Math.min(12,(t+"").length),s=Zi(e.times(Yn(i,r+n)),r),s.d&&(s=pe(s,r+5,1),gs(s.d,r,a)&&(t=r+10,s=pe(Zi(e.times(Yn(i,t+n)),t),t+5,1),+yt(s.d).slice(r+1,r+15)+1==1e14&&(s=pe(s,r+1,0)))),s.s=o,_e=!0,d.rounding=a,pe(s,r,a))};q.toPrecision=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=En(r,r.e<=s.toExpNeg||r.e>=s.toExpPos):(Dt(e,1,tr),t===void 0?t=s.rounding:Dt(t,0,8),r=pe(new s(r),e,t),n=En(r,e<=r.e||r.e<=s.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};q.toSignificantDigits=q.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Dt(e,1,tr),t===void 0?t=r.rounding:Dt(t,0,8)),pe(new r(n),e,t)};q.toString=function(){var e=this,t=e.constructor,n=En(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};q.truncated=q.trunc=function(){return pe(new this.constructor(this),this.e+1,1)};q.valueOf=q.toJSON=function(){var e=this,t=e.constructor,n=En(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function yt(e){var t,n,r,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)r=e[t]+"",n=xe-r.length,n&&(a+=Bn(n)),a+=r;o=e[t],r=o+"",n=xe-r.length,n&&(a+=Bn(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Dt(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Gn+e)}function gs(e,t,n,r){var s,a,o,i;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=xe,s=0):(s=Math.ceil((t+1)/xe),t%=xe),a=ct(10,xe-t),i=e[s]%a|0,r==null?t<3?(t==0?i=i/100|0:t==1&&(i=i/10|0),o=n<4&&i==99999||n>3&&i==49999||i==5e4||i==0):o=(n<4&&i+1==a||n>3&&i+1==a/2)&&(e[s+1]/a/100|0)==ct(10,t-2)-1||(i==a/2||i==0)&&(e[s+1]/a/100|0)==0:t<4?(t==0?i=i/1e3|0:t==1?i=i/100|0:t==2&&(i=i/10|0),o=(r||n<4)&&i==9999||!r&&n>3&&i==4999):o=((r||n<4)&&i+1==a||!r&&n>3&&i+1==a/2)&&(e[s+1]/a/1e3|0)==ct(10,t-3)-1,o}function ia(e,t,n){for(var r,s=[0],a,o=0,i=e.length;o<i;){for(a=s.length;a--;)s[a]*=t;for(s[0]+=Ki.indexOf(e.charAt(o++)),r=0;r<s.length;r++)s[r]>n-1&&(s[r+1]===void 0&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}function lx(e,t){var n,r,s;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),s=(1/qa(4,n)).toString()):(n=16,s="2.3283064365386962890625e-10"),e.precision+=n,t=$r(e,1,t.times(s),new e(1));for(var a=n;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var $e=(function(){function e(r,s,a){var o,i=0,d=r.length;for(r=r.slice();d--;)o=r[d]*s+i,r[d]=o%a|0,i=o/a|0;return i&&r.unshift(i),r}function t(r,s,a,o){var i,d;if(a!=o)d=a>o?1:-1;else for(i=d=0;i<a;i++)if(r[i]!=s[i]){d=r[i]>s[i]?1:-1;break}return d}function n(r,s,a,o){for(var i=0;a--;)r[a]-=i,i=r[a]<s[a]?1:0,r[a]=i*o+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o,i,d){var c,g,u,l,f,h,m,x,p,y,v,_,w,C,S,T,A,N,L,D,j=r.constructor,V=r.s==s.s?1:-1,z=r.d,$=s.d;if(!z||!z[0]||!$||!$[0])return new j(!r.s||!s.s||(z?$&&z[0]==$[0]:!$)?NaN:z&&z[0]==0||!$?V*0:V/0);for(d?(f=1,g=r.e-s.e):(d=Jt,f=xe,g=xt(r.e/f)-xt(s.e/f)),L=$.length,A=z.length,p=new j(V),y=p.d=[],u=0;$[u]==(z[u]||0);u++);if($[u]>(z[u]||0)&&g--,a==null?(C=a=j.precision,o=j.rounding):i?C=a+(r.e-s.e)+1:C=a,C<0)y.push(1),h=!0;else{if(C=C/f+2|0,u=0,L==1){for(l=0,$=$[0],C++;(u<A||l)&&C--;u++)S=l*d+(z[u]||0),y[u]=S/$|0,l=S%$|0;h=l||u<A}else{for(l=d/($[0]+1)|0,l>1&&($=e($,l,d),z=e(z,l,d),L=$.length,A=z.length),T=L,v=z.slice(0,L),_=v.length;_<L;)v[_++]=0;D=$.slice(),D.unshift(0),N=$[0],$[1]>=d/2&&++N;do l=0,c=t($,v,L,_),c<0?(w=v[0],L!=_&&(w=w*d+(v[1]||0)),l=w/N|0,l>1?(l>=d&&(l=d-1),m=e($,l,d),x=m.length,_=v.length,c=t(m,v,x,_),c==1&&(l--,n(m,L<x?D:$,x,d))):(l==0&&(c=l=1),m=$.slice()),x=m.length,x<_&&m.unshift(0),n(v,m,_,d),c==-1&&(_=v.length,c=t($,v,L,_),c<1&&(l++,n(v,L<_?D:$,_,d))),_=v.length):c===0&&(l++,v=[0]),y[u++]=l,c&&v[0]?v[_++]=z[T]||0:(v=[z[T]],_=1);while((T++<A||v[0]!==void 0)&&C--);h=v[0]!==void 0}y[0]||y.shift()}if(f==1)p.e=g,Of=h;else{for(u=1,l=y[0];l>=10;l/=10)u++;p.e=u+g*f-1,pe(p,i?a+p.e+1:a,o,h)}return p}})();function pe(e,t,n,r){var s,a,o,i,d,c,g,u,l,f=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(s=1,i=u[0];i>=10;i/=10)s++;if(a=t-s,a<0)a+=xe,o=t,g=u[l=0],d=g/ct(10,s-o-1)%10|0;else if(l=Math.ceil((a+1)/xe),i=u.length,l>=i)if(r){for(;i++<=l;)u.push(0);g=d=0,s=1,a%=xe,o=a-xe+1}else break e;else{for(g=i=u[l],s=1;i>=10;i/=10)s++;a%=xe,o=a-xe+s,d=o<0?0:g/ct(10,s-o-1)%10|0}if(r=r||t<0||u[l+1]!==void 0||(o<0?g:g%ct(10,s-o-1)),c=n<4?(d||r)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||r||n==6&&(a>0?o>0?g/ct(10,s-o):0:u[l-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,c?(t-=e.e+1,u[0]=ct(10,(xe-t%xe)%xe),e.e=-t||0):u[0]=e.e=0,e;if(a==0?(u.length=l,i=1,l--):(u.length=l+1,i=ct(10,xe-a),u[l]=o>0?(g/ct(10,s-o)%ct(10,o)|0)*i:0),c)for(;;)if(l==0){for(a=1,o=u[0];o>=10;o/=10)a++;for(o=u[0]+=i,i=1;o>=10;o/=10)i++;a!=i&&(e.e++,u[0]==Jt&&(u[0]=1));break}else{if(u[l]+=i,u[l]!=Jt)break;u[l--]=0,i=1}for(a=u.length;u[--a]===0;)u.pop()}return _e&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function En(e,t,n){if(!e.isFinite())return Bf(e);var r,s=e.e,a=yt(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Bn(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):s<0?(a="0."+Bn(-s-1)+a,n&&(r=n-o)>0&&(a+=Bn(r))):s>=o?(a+=Bn(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+Bn(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=Bn(r))),a}function Ya(e,t){var n=e[0];for(t*=xe;n>=10;n/=10)t++;return t}function _a(e,t,n){if(t>ux)throw _e=!0,n&&(e.precision=n),Error(Rf);return pe(new e(va),t,1,!0)}function mn(e,t,n){if(t>Qi)throw Error(Rf);return pe(new e(Ta),t,n,!0)}function Mf(e){var t=e.length-1,n=t*xe+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Bn(e){for(var t="";e--;)t+="0";return t}function jf(e,t,n,r){var s,a=new e(1),o=Math.ceil(r/xe+4);for(_e=!1;;){if(n%2&&(a=a.times(t),Yl(a.d,o)&&(s=!0)),n=xt(n/2),n===0){n=a.d.length-1,s&&a.d[n]===0&&++a.d[n];break}t=t.times(t),Yl(t.d,o)}return _e=!0,a}function Vl(e){return e.d[e.d.length-1]&1}function Ff(e,t,n){for(var r,s,a=new e(t[0]),o=0;++o<t.length;){if(s=new e(t[o]),!s.s){a=s;break}r=a.cmp(s),(r===n||r===0&&a.s===n)&&(a=s)}return a}function Zi(e,t){var n,r,s,a,o,i,d,c=0,g=0,u=0,l=e.constructor,f=l.rounding,h=l.precision;if(!e.d||!e.d[0]||e.e>17)return new l(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(_e=!1,d=h):d=t,i=new l(.03125);e.e>-2;)e=e.times(i),u+=5;for(r=Math.log(ct(2,u))/Math.LN10*2+5|0,d+=r,n=a=o=new l(1),l.precision=d;;){if(a=pe(a.times(e),d,1),n=n.times(++g),i=o.plus($e(a,n,d,1)),yt(i.d).slice(0,d)===yt(o.d).slice(0,d)){for(s=u;s--;)o=pe(o.times(o),d,1);if(t==null)if(c<3&&gs(o.d,d-r,f,c))l.precision=d+=10,n=a=i=new l(1),g=0,c++;else return pe(o,l.precision=h,f,_e=!0);else return l.precision=h,o}o=i}}function Yn(e,t){var n,r,s,a,o,i,d,c,g,u,l,f=1,h=10,m=e,x=m.d,p=m.constructor,y=p.rounding,v=p.precision;if(m.s<0||!x||!x[0]||!m.e&&x[0]==1&&x.length==1)return new p(x&&!x[0]?-1/0:m.s!=1?NaN:x?0:m);if(t==null?(_e=!1,g=v):g=t,p.precision=g+=h,n=yt(x),r=n.charAt(0),Math.abs(a=m.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=yt(m.d),r=n.charAt(0),f++;a=m.e,r>1?(m=new p("0."+n),a++):m=new p(r+"."+n.slice(1))}else return c=_a(p,g+2,v).times(a+""),m=Yn(new p(r+"."+n.slice(1)),g-h).plus(c),p.precision=v,t==null?pe(m,v,y,_e=!0):m;for(u=m,d=o=m=$e(m.minus(1),m.plus(1),g,1),l=pe(m.times(m),g,1),s=3;;){if(o=pe(o.times(l),g,1),c=d.plus($e(o,new p(s),g,1)),yt(c.d).slice(0,g)===yt(d.d).slice(0,g))if(d=d.times(2),a!==0&&(d=d.plus(_a(p,g+2,v).times(a+""))),d=$e(d,new p(f),g,1),t==null)if(gs(d.d,g-h,y,i))p.precision=g+=h,c=o=m=$e(u.minus(1),u.plus(1),g,1),l=pe(m.times(m),g,1),s=i=1;else return pe(d,p.precision=v,y,_e=!0);else return p.precision=v,d;d=c,s+=2}}function Bf(e){return String(e.s*e.s/0)}function oa(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(s=t.length;t.charCodeAt(s-1)===48;--s);if(t=t.slice(r,s),t){if(s-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%xe,n<0&&(r+=xe),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=xe;r<s;)e.d.push(+t.slice(r,r+=xe));t=t.slice(r),r=xe-t.length}else r-=s;for(;r--;)t+="0";e.d.push(+t),_e&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function cx(e,t){var n,r,s,a,o,i,d,c,g;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Pf.test(t))return oa(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(ax.test(t))n=16,t=t.toLowerCase();else if(sx.test(t))n=2;else if(ix.test(t))n=8;else throw Error(Gn+t);for(a=t.search(/p/i),a>0?(d=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),o=a>=0,r=e.constructor,o&&(t=t.replace(".",""),i=t.length,a=i-a,s=jf(r,new r(n),a,a*2)),c=ia(t,n,Jt),g=c.length-1,a=g;c[a]===0;--a)c.pop();return a<0?new r(e.s*0):(e.e=Ya(c,g),e.d=c,_e=!1,o&&(e=$e(e,s,i*4)),d&&(e=e.times(Math.abs(d)<54?ct(2,d):Tr.pow(2,d))),_e=!0,e)}function dx(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:$r(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/qa(5,n)),t=$r(e,2,t,t);for(var s,a=new e(5),o=new e(16),i=new e(20);n--;)s=t.times(t),t=t.times(a.plus(s.times(o.times(s).minus(i))));return t}function $r(e,t,n,r,s){var a,o,i,d,c=e.precision,g=Math.ceil(c/xe);for(_e=!1,d=n.times(n),i=new e(r);;){if(o=$e(i.times(d),new e(t++*t++),c,1),i=s?r.plus(o):r.minus(o),r=$e(o.times(d),new e(t++*t++),c,1),o=i.plus(r),o.d[g]!==void 0){for(a=g;o.d[a]===i.d[a]&&a--;);if(a==-1)break}a=i,i=r,r=o,o=a}return _e=!0,o.d.length=g+1,o}function qa(e,t){for(var n=e;--t;)n*=e;return n}function Uf(e,t){var n,r=t.s<0,s=mn(e,e.precision,1),a=s.times(.5);if(t=t.abs(),t.lte(a))return Sn=r?4:1,t;if(n=t.divToInt(s),n.isZero())Sn=r?3:2;else{if(t=t.minus(n.times(s)),t.lte(a))return Sn=Vl(n)?r?2:3:r?4:1,t;Sn=Vl(n)?r?1:4:r?3:2}return t.minus(s).abs()}function iu(e,t,n,r){var s,a,o,i,d,c,g,u,l,f=e.constructor,h=n!==void 0;if(h?(Dt(n,1,tr),r===void 0?r=f.rounding:Dt(r,0,8)):(n=f.precision,r=f.rounding),!e.isFinite())g=Bf(e);else{for(g=En(e),o=g.indexOf("."),h?(s=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):s=t,o>=0&&(g=g.replace(".",""),l=new f(1),l.e=g.length-o,l.d=ia(En(l),10,s),l.e=l.d.length),u=ia(g,10,s),a=d=u.length;u[--d]==0;)u.pop();if(!u[0])g=h?"0p+0":"0";else{if(o<0?a--:(e=new f(e),e.d=u,e.e=a,e=$e(e,l,n,r,0,s),u=e.d,a=e.e,c=Of),o=u[n],i=s/2,c=c||u[n+1]!==void 0,c=r<4?(o!==void 0||c)&&(r===0||r===(e.s<0?3:2)):o>i||o===i&&(r===4||c||r===6&&u[n-1]&1||r===(e.s<0?8:7)),u.length=n,c)for(;++u[--n]>s-1;)u[n]=0,n||(++a,u.unshift(1));for(d=u.length;!u[d-1];--d);for(o=0,g="";o<d;o++)g+=Ki.charAt(u[o]);if(h){if(d>1)if(t==16||t==8){for(o=t==16?4:3,--d;d%o;d++)g+="0";for(u=ia(g,s,t),d=u.length;!u[d-1];--d);for(o=1,g="1.";o<d;o++)g+=Ki.charAt(u[o])}else g=g.charAt(0)+"."+g.slice(1);g=g+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)g="0"+g;g="0."+g}else if(++a>d)for(a-=d;a--;)g+="0";else a<d&&(g=g.slice(0,a)+"."+g.slice(a))}g=(t==16?"0x":t==2?"0b":t==8?"0o":"")+g}return e.s<0?"-"+g:g}function Yl(e,t){if(e.length>t)return e.length=t,!0}function fx(e){return new this(e).abs()}function mx(e){return new this(e).acos()}function hx(e){return new this(e).acosh()}function px(e,t){return new this(e).plus(t)}function gx(e){return new this(e).asin()}function bx(e){return new this(e).asinh()}function yx(e){return new this(e).atan()}function Ex(e){return new this(e).atanh()}function xx(e,t){e=new this(e),t=new this(t);var n,r=this.precision,s=this.rounding,a=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=mn(this,a,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?mn(this,r,s):new this(0),n.s=e.s):!e.d||t.isZero()?(n=mn(this,a,1).times(.5),n.s=e.s):t.s<0?(this.precision=a,this.rounding=1,n=this.atan($e(e,t,a,1)),t=mn(this,a,1),this.precision=r,this.rounding=s,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan($e(e,t,a,1)),n}function vx(e){return new this(e).cbrt()}function Tx(e){return pe(e=new this(e),e.e+1,2)}function _x(e,t,n){return new this(e).clamp(t,n)}function wx(e){if(!e||typeof e!="object")throw Error(Va+"Object expected");var t,n,r,s=e.defaults===!0,a=["precision",1,tr,"rounding",0,8,"toExpNeg",-Ir,0,"toExpPos",0,Ir,"maxE",0,Ir,"minE",-Ir,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],s&&(this[n]=Xi[n]),(r=e[n])!==void 0)if(xt(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Gn+n+": "+r);if(n="crypto",s&&(this[n]=Xi[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Lf);else this[n]=!1;else throw Error(Gn+n+": "+r);return this}function Ax(e){return new this(e).cos()}function Nx(e){return new this(e).cosh()}function Hf(e){var t,n,r;function s(a){var o,i,d,c=this;if(!(c instanceof s))return new s(a);if(c.constructor=s,ql(a)){c.s=a.s,_e?!a.d||a.e>s.maxE?(c.e=NaN,c.d=null):a.e<s.minE?(c.e=0,c.d=[0]):(c.e=a.e,c.d=a.d.slice()):(c.e=a.e,c.d=a.d?a.d.slice():a.d);return}if(d=typeof a,d==="number"){if(a===0){c.s=1/a<0?-1:1,c.e=0,c.d=[0];return}if(a<0?(a=-a,c.s=-1):c.s=1,a===~~a&&a<1e7){for(o=0,i=a;i>=10;i/=10)o++;_e?o>s.maxE?(c.e=NaN,c.d=null):o<s.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[a]):(c.e=o,c.d=[a]);return}if(a*0!==0){a||(c.s=NaN),c.e=NaN,c.d=null;return}return oa(c,a.toString())}if(d==="string")return(i=a.charCodeAt(0))===45?(a=a.slice(1),c.s=-1):(i===43&&(a=a.slice(1)),c.s=1),Pf.test(a)?oa(c,a):cx(c,a);if(d==="bigint")return a<0?(a=-a,c.s=-1):c.s=1,oa(c,a.toString());throw Error(Gn+a)}if(s.prototype=q,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=wx,s.clone=Hf,s.isDecimal=ql,s.abs=fx,s.acos=mx,s.acosh=hx,s.add=px,s.asin=gx,s.asinh=bx,s.atan=yx,s.atanh=Ex,s.atan2=xx,s.cbrt=vx,s.ceil=Tx,s.clamp=_x,s.cos=Ax,s.cosh=Nx,s.div=Sx,s.exp=Cx,s.floor=kx,s.hypot=Ix,s.ln=Ox,s.log=Rx,s.log10=Dx,s.log2=Lx,s.max=Px,s.min=Mx,s.mod=jx,s.mul=Fx,s.pow=Bx,s.random=Ux,s.round=Hx,s.sign=$x,s.sin=zx,s.sinh=Vx,s.sqrt=Yx,s.sub=qx,s.sum=Wx,s.tan=Gx,s.tanh=Kx,s.trunc=Xx,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function Sx(e,t){return new this(e).div(t)}function Cx(e){return new this(e).exp()}function kx(e){return pe(e=new this(e),e.e+1,3)}function Ix(){var e,t,n=new this(0);for(_e=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return _e=!0,new this(1/0);n=t}return _e=!0,n.sqrt()}function ql(e){return e instanceof Tr||e&&e.toStringTag===Df||!1}function Ox(e){return new this(e).ln()}function Rx(e,t){return new this(e).log(t)}function Lx(e){return new this(e).log(2)}function Dx(e){return new this(e).log(10)}function Px(){return Ff(this,arguments,-1)}function Mx(){return Ff(this,arguments,1)}function jx(e,t){return new this(e).mod(t)}function Fx(e,t){return new this(e).mul(t)}function Bx(e,t){return new this(e).pow(t)}function Ux(e){var t,n,r,s,a=0,o=new this(1),i=[];if(e===void 0?e=this.precision:Dt(e,1,tr),r=Math.ceil(e/xe),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)s=t[a],s>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:i[a++]=s%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);a<r;)s=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(t,a):(i.push(s%1e7),a+=4);a=r/4}else throw Error(Lf);else for(;a<r;)i[a++]=Math.random()*1e7|0;for(r=i[--a],e%=xe,r&&e&&(s=ct(10,xe-e),i[a]=(r/s|0)*s);i[a]===0;a--)i.pop();if(a<0)n=0,i=[0];else{for(n=-1;i[0]===0;n-=xe)i.shift();for(r=1,s=i[0];s>=10;s/=10)r++;r<xe&&(n-=xe-r)}return o.e=n,o.d=i,o}function Hx(e){return pe(e=new this(e),e.e+1,this.rounding)}function $x(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function zx(e){return new this(e).sin()}function Vx(e){return new this(e).sinh()}function Yx(e){return new this(e).sqrt()}function qx(e,t){return new this(e).sub(t)}function Wx(){var e=0,t=arguments,n=new this(t[e]);for(_e=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return _e=!0,pe(n,this.precision,this.rounding)}function Gx(e){return new this(e).tan()}function Kx(e){return new this(e).tanh()}function Xx(e){return pe(e=new this(e),e.e+1,1)}q[Symbol.for("nodejs.util.inspect.custom")]=q.toString;q[Symbol.toStringTag]="Decimal";var Tr=q.constructor=Hf(Xi);va=new Tr(va);Ta=new Tr(Ta);const Qx={royaltyPercentage:1};function Zx({isOpen:e,setIsOpen:t,onClose:n,currentRoyaltyPercentage:r}){const{register:s,formState:{isDirty:a,isValid:o,errors:i},handleSubmit:d,setValue:c,watch:g}=Rs({defaultValues:Qx,mode:"onChange",resolver:Ls(Rn.editRoyalty)}),u=g("royaltyPercentage");F.useEffect(()=>{c("royaltyPercentage",r-.01)},[r,c]);const l=f=>{f&&n(f.royaltyPercentage),t(!1)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>l(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Royalty"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Current Royalty"}),E.jsxs("p",{className:"text-white font-mono text-lg",children:[r.toFixed(2),"%"]})]}),E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:E.jsx("p",{className:"text-amber-400 text-sm",children:"Royalty percentage can only be decreased, not increased."})}),E.jsx(Zt,{label:"New Royalty Percentage",name:"royaltyPercentage",type:"number",defaultValue:r-.01,min:"0",max:r-.01,step:"0.01",errors:i,register:s}),u>=r&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," The royalty percentage can only be decreased."]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>l(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!o&&a||u>=r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!o&&a||u>=r,onClick:d(l),children:"Update Royalty"})]})]})]}):null}function Jx({id:e,currentRoyaltyPercentage:t,onUpdate:n,minimal:r=!1}){const s=Le.contractAddresses.v1.zang,a=Ae.zang,{isConnected:o}=Ht(),{writeContractAsync:i}=Zn(),d=er(),[c,g]=F.useState(!1),[u,l]=dt(Gt);if(t==null)return E.jsx(F.Fragment,{});const f=async h=>{if(h===null&&l("Please enter a royalty percentage."),!e){l("Could not determine the ID of the NFT.");return}if(!o){l("Please connect a wallet.");return}l(null);const m=new Tr(h).mul("100").toNumber();if(!e)return;const x=async()=>await i({address:s,abi:a,functionName:"decreaseRoyaltyNumerator",args:[BigInt(e),BigInt(m)],...gn()}),{success:p}=await d(x,`Edit royalty for NFT #${e}`);p&&n&&n(e)};return E.jsxs(F.Fragment,{children:[E.jsx("button",{className:r?"text-ink-500 hover:text-ink-300 transition-colors":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>g(!0),title:"Edit royalty",children:r?E.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}):"Edit Royalty"}),E.jsx(Zx,{isOpen:c,setIsOpen:g,onClose:f,currentRoyaltyPercentage:t})]})}function e2({id:e,userBalance:t,userAvailableAmount:n,onUpdate:r,walletAddress:s,fullWidth:a=!1}){const o=Le.contractAddresses.v1.marketplace,i=Ae.marketplace,{isConnected:d}=Ht(),{writeContractAsync:c}=Zn(),g=er(),[u,l]=F.useState(!1),[f,h]=dt(Gt),m=async(x,p)=>{if(x===null){h("Please enter an amount.");return}if(p===null){h("Please enter a price.");return}if(!e){h("Could not determine the ID of the NFT.");return}if(!d){h("Please connect a wallet.");return}h(null);const y=async()=>await c({address:o,abi:i,functionName:"listToken",args:[BigInt(e),da(p),BigInt(x)],...gn()}),{success:v}=await g(y,`List NFT #${e}`);v&&r&&r(e)};return E.jsxs(F.Fragment,{children:[E.jsx("button",{className:`px-4 py-2.5 text-sm font-medium rounded-lg bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90 transition-colors ${a?"w-full":""}`,onClick:()=>l(!0),children:"List for Sale"}),E.jsx(fp,{isOpen:u,setIsOpen:l,onClose:m,balance:t,availableAmount:n,id:e,walletAddress:s,onUpdate:r})]})}function t2({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s,oldAmount:a,oldPrice:o,ethPrice:i}){const[d,c]=F.useState(""),[g,u]=F.useState("");F.useEffect(()=>{e&&(c((a==null?void 0:a.toString())||""),u((o==null?void 0:o.toString())||""))},[e,a,o]);const l=Math.min(s+a,r),f=d!==""&&parseInt(d)!==a,h=g!==""&&g!==o,m=f||h,x=parseInt(d)||0,p=x>r,y=x>l,v=m&&!p&&x>0&&parseFloat(g)>=0,_=()=>{t(!1)},w=()=>{if(!v)return;const C=f?d:null,S=h?g:null;t(!1),n(C,S)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:_}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[E.jsxs("div",{className:"px-5 py-4 border-b border-ink-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Listing"}),E.jsx("p",{className:"text-ink-400 text-sm mt-0.5",children:"Update the price or amount for this listing"})]}),E.jsxs("div",{className:"p-5 space-y-5",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-ink-200",children:"Price per edition"}),h&&E.jsx("span",{className:"text-xs text-accent-cyan",children:"Changed"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"number",min:"0",step:"0.001",value:g,onChange:C=>u(C.target.value),className:`w-full px-3 py-2.5 pr-12 bg-ink-800 border rounded-lg text-white font-mono placeholder-ink-500 focus:outline-none focus:ring-2 focus:ring-accent-cyan/50 transition-colors ${h?"border-accent-cyan/50":"border-ink-700"}`,placeholder:"0.00"}),E.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-ink-400 text-sm font-medium",children:"ETH"})]}),E.jsxs("div",{className:"flex justify-between text-xs",children:[o&&E.jsxs("span",{className:"text-ink-500",children:["Currently: ",o," ETH",i&&E.jsxs("span",{className:"text-ink-600 ml-1",children:["($",(parseFloat(o)*i).toFixed(2),")"]})]}),i&&g&&parseFloat(g)>0&&E.jsxs("span",{className:"text-ink-400",children:[" $",(parseFloat(g)*i).toFixed(2)]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-ink-200",children:"Amount to list"}),f&&E.jsx("span",{className:"text-xs text-accent-cyan",children:"Changed"})]}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"number",min:"1",step:"1",max:r,value:d,onChange:C=>c(C.target.value),className:`w-full px-3 py-2.5 bg-ink-800 border rounded-lg text-white font-mono placeholder-ink-500 focus:outline-none focus:ring-2 focus:ring-accent-cyan/50 transition-colors ${p?"border-red-500":f?"border-accent-cyan/50":"border-ink-700"}`,placeholder:"1"})}),E.jsxs("div",{className:"flex justify-between text-xs",children:[E.jsxs("span",{className:"text-ink-500",children:["Currently: ",a," edition",a!==1?"s":""]}),E.jsxs("span",{className:"text-ink-500",children:["You own: ",r]})]})]}),p&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:["You can't list more than you own (",r," ","editions)."]})}),!p&&y&&x>0&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Note:"})," This will use"," ",x-l," ","edition",x-l!==1?"s":""," ","from other listings, which may make them unfulfillable."]})}),m&&v&&E.jsx("div",{className:"p-3 rounded-lg bg-ink-800/50 border border-ink-700",children:E.jsx("p",{className:"text-ink-300 text-sm",children:h&&f?E.jsxs(E.Fragment,{children:["Updating price to"," ",E.jsxs("span",{className:"text-white font-mono",children:[g," ETH"]})," ","and amount to"," ",E.jsx("span",{className:"text-white font-mono",children:d})]}):h?E.jsxs(E.Fragment,{children:["Updating price to"," ",E.jsxs("span",{className:"text-white font-mono",children:[g," ETH"]})]}):E.jsxs(E.Fragment,{children:["Updating amount to"," ",E.jsx("span",{className:"text-white font-mono",children:d})," ","edition",d!=="1"?"s":""]})})})]}),E.jsxs("div",{className:"px-5 py-4 border-t border-ink-800 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:_,children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${v?"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90":"bg-ink-700 text-ink-500 cursor-not-allowed"}`,disabled:!v,onClick:w,children:"Save Changes"})]})]})]}):null}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function n2(e,t,n){return(t=s2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wl(Object(n),!0).forEach(function(r){n2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s2(e){var t=r2(e,"string");return typeof t=="symbol"?t:t+""}const Gl=()=>{};let ou={},$f={},zf=null,Vf={mark:Gl,measure:Gl};try{typeof window<"u"&&(ou=window),typeof document<"u"&&($f=document),typeof MutationObserver<"u"&&(zf=MutationObserver),typeof performance<"u"&&(Vf=performance)}catch{}const{userAgent:Kl=""}=ou.navigator||{},Kn=ou,Xe=$f,Xl=zf,Zs=Vf;Kn.document;const Ln=!!Xe.documentElement&&!!Xe.head&&typeof Xe.addEventListener=="function"&&typeof Xe.createElement=="function",Yf=~Kl.indexOf("MSIE")||~Kl.indexOf("Trident/");var a2=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,i2=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,qf={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},o2={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Wf=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],vt="classic",Wa="duotone",u2="sharp",l2="sharp-duotone",Gf=[vt,Wa,u2,l2],c2={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},d2={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},f2=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),m2={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},h2=["fak","fa-kit","fakd","fa-kit-duotone"],Ql={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},p2=["kit"],g2={kit:{"fa-kit":"fak"}},b2=["fak","fakd"],y2={kit:{fak:"fa-kit"}},Zl={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Js={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},E2=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],x2=["fak","fa-kit","fakd","fa-kit-duotone"],v2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},T2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},_2={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Ji={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},w2=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],eo=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...E2,...w2],A2=["solid","regular","light","thin","duotone","brands"],Kf=[1,2,3,4,5,6,7,8,9,10],N2=Kf.concat([11,12,13,14,15,16,17,18,19,20]),S2=[...Object.keys(_2),...A2,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Js.GROUP,Js.SWAP_OPACITY,Js.PRIMARY,Js.SECONDARY].concat(Kf.map(e=>"".concat(e,"x"))).concat(N2.map(e=>"w-".concat(e))),C2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const kn="___FONT_AWESOME___",to=16,Xf="fa",Qf="svg-inline--fa",hr="data-fa-i2svg",no="data-fa-pseudo-element",k2="data-fa-pseudo-element-pending",uu="data-prefix",lu="data-icon",Jl="fontawesome-i2svg",I2="async",O2=["HTML","HEAD","STYLE","SCRIPT"],Zf=(()=>{try{return!0}catch{return!1}})();function $s(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[vt]}})}const Jf=Z({},qf);Jf[vt]=Z(Z(Z(Z({},{"fa-duotone":"duotone"}),qf[vt]),Ql.kit),Ql["kit-duotone"]);const R2=$s(Jf),ro=Z({},m2);ro[vt]=Z(Z(Z(Z({},{duotone:"fad"}),ro[vt]),Zl.kit),Zl["kit-duotone"]);const ec=$s(ro),so=Z({},Ji);so[vt]=Z(Z({},so[vt]),y2.kit);const cu=$s(so),ao=Z({},T2);ao[vt]=Z(Z({},ao[vt]),g2.kit);$s(ao);const L2=a2,em="fa-layers-text",D2=i2,P2=Z({},c2);$s(P2);const M2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],gi=o2,j2=[...p2,...S2],cs=Kn.FontAwesomeConfig||{};function F2(e){var t=Xe.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function B2(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}Xe&&typeof Xe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=B2(F2(n));s!=null&&(cs[r]=s)});const tm={styleDefault:"solid",familyDefault:vt,cssPrefix:Xf,replacementClass:Qf,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};cs.familyPrefix&&(cs.cssPrefix=cs.familyPrefix);const zr=Z(Z({},tm),cs);zr.autoReplaceSvg||(zr.observeMutations=!1);const de={};Object.keys(tm).forEach(e=>{Object.defineProperty(de,e,{enumerable:!0,set:function(t){zr[e]=t,ds.forEach(n=>n(de))},get:function(){return zr[e]}})});Object.defineProperty(de,"familyPrefix",{enumerable:!0,set:function(e){zr.cssPrefix=e,ds.forEach(t=>t(de))},get:function(){return zr.cssPrefix}});Kn.FontAwesomeConfig=de;const ds=[];function U2(e){return ds.push(e),()=>{ds.splice(ds.indexOf(e),1)}}const Pn=to,hn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function H2(e){if(!e||!Ln)return;const t=Xe.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=Xe.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const a=n[s],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return Xe.head.insertBefore(t,r),e}const $2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function bs(){let e=12,t="";for(;e-- >0;)t+=$2[Math.random()*62|0];return t}function Wr(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function du(e){return e.classList?Wr(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function nm(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function z2(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(nm(e[n]),'" '),"").trim()}function Ga(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function fu(e){return e.size!==hn.size||e.x!==hn.x||e.y!==hn.y||e.rotate!==hn.rotate||e.flipX||e.flipY}function V2(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),i="rotate(".concat(t.rotate," 0 0)"),d={transform:"".concat(a," ").concat(o," ").concat(i)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:d,path:c}}function Y2(e){let{transform:t,width:n=to,height:r=to,startCentered:s=!1}=e,a="";return s&&Yf?a+="translate(".concat(t.x/Pn-n/2,"em, ").concat(t.y/Pn-r/2,"em) "):s?a+="translate(calc(-50% + ".concat(t.x/Pn,"em), calc(-50% + ").concat(t.y/Pn,"em)) "):a+="translate(".concat(t.x/Pn,"em, ").concat(t.y/Pn,"em) "),a+="scale(".concat(t.size/Pn*(t.flipX?-1:1),", ").concat(t.size/Pn*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}var q2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function rm(){const e=Xf,t=Qf,n=de.cssPrefix,r=de.replacementClass;let s=q2;if(n!==e||r!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),i=new RegExp("\\.".concat(t),"g");s=s.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(i,".".concat(r))}return s}let tc=!1;function bi(){de.autoAddCss&&!tc&&(H2(rm()),tc=!0)}var W2={mixout(){return{dom:{css:rm,insertCss:bi}}},hooks(){return{beforeDOMElementCreation(){bi()},beforeI2svg(){bi()}}}};const In=Kn||{};In[kn]||(In[kn]={});In[kn].styles||(In[kn].styles={});In[kn].hooks||(In[kn].hooks={});In[kn].shims||(In[kn].shims=[]);var pn=In[kn];const sm=[],am=function(){Xe.removeEventListener("DOMContentLoaded",am),wa=1,sm.map(e=>e())};let wa=!1;Ln&&(wa=(Xe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Xe.readyState),wa||Xe.addEventListener("DOMContentLoaded",am));function G2(e){Ln&&(wa?setTimeout(e,0):sm.push(e))}function zs(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?nm(e):"<".concat(t," ").concat(z2(n),">").concat(r.map(zs).join(""),"</").concat(t,">")}function nc(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var yi=function(t,n,r,s){var a=Object.keys(t),o=a.length,i=n,d,c,g;for(r===void 0?(d=1,g=t[a[0]]):(d=0,g=r);d<o;d++)c=a[d],g=i(g,t[c],c,t);return g};function K2(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function io(e){const t=K2(e);return t.length===1?t[0].toString(16):null}function X2(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function rc(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function oo(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=rc(t);typeof pn.hooks.addPack=="function"&&!r?pn.hooks.addPack(e,rc(t)):pn.styles[e]=Z(Z({},pn.styles[e]||{}),s),e==="fas"&&oo("fa",t)}const{styles:ys,shims:Q2}=pn,im=Object.keys(cu),Z2=im.reduce((e,t)=>(e[t]=Object.keys(cu[t]),e),{});let mu=null,om={},um={},lm={},cm={},dm={};function J2(e){return~j2.indexOf(e)}function ev(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!J2(s)?s:null}const fm=()=>{const e=r=>yi(ys,(s,a,o)=>(s[o]=yi(a,r,{}),s),{});om=e((r,s,a)=>(s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(i=>typeof i=="number").forEach(i=>{r[i.toString(16)]=a}),r)),um=e((r,s,a)=>(r[a]=a,s[2]&&s[2].filter(i=>typeof i=="string").forEach(i=>{r[i]=a}),r)),dm=e((r,s,a)=>{const o=s[2];return r[a]=a,o.forEach(i=>{r[i]=a}),r});const t="far"in ys||de.autoFetchSvg,n=yi(Q2,(r,s)=>{const a=s[0];let o=s[1];const i=s[2];return o==="far"&&!t&&(o="fas"),typeof a=="string"&&(r.names[a]={prefix:o,iconName:i}),typeof a=="number"&&(r.unicodes[a.toString(16)]={prefix:o,iconName:i}),r},{names:{},unicodes:{}});lm=n.names,cm=n.unicodes,mu=Ka(de.styleDefault,{family:de.familyDefault})};U2(e=>{mu=Ka(e.styleDefault,{family:de.familyDefault})});fm();function hu(e,t){return(om[e]||{})[t]}function tv(e,t){return(um[e]||{})[t]}function or(e,t){return(dm[e]||{})[t]}function mm(e){return lm[e]||{prefix:null,iconName:null}}function nv(e){const t=cm[e],n=hu("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Xn(){return mu}const hm=()=>({prefix:null,iconName:null,rest:[]});function rv(e){let t=vt;const n=im.reduce((r,s)=>(r[s]="".concat(de.cssPrefix,"-").concat(s),r),{});return Gf.forEach(r=>{(e.includes(n[r])||e.some(s=>Z2[r].includes(s)))&&(t=r)}),t}function Ka(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=vt}=t,r=R2[n][e];if(n===Wa&&!e)return"fad";const s=ec[n][e]||ec[n][r],a=e in pn.styles?e:null;return s||a||null}function sv(e){let t=[],n=null;return e.forEach(r=>{const s=ev(de.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function sc(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function Xa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=eo.concat(x2),a=sc(e.filter(u=>s.includes(u))),o=sc(e.filter(u=>!eo.includes(u))),i=a.filter(u=>(r=u,!Wf.includes(u))),[d=null]=i,c=rv(a),g=Z(Z({},sv(o)),{},{prefix:Ka(d,{family:c})});return Z(Z(Z({},g),uv({values:e,family:c,styles:ys,config:de,canonical:g,givenPrefix:r})),av(n,r,g))}function av(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const a=t==="fa"?mm(s):{},o=or(r,s);return s=a.iconName||o||s,r=a.prefix||r,r==="far"&&!ys.far&&ys.fas&&!de.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const iv=Gf.filter(e=>e!==vt||e!==Wa),ov=Object.keys(Ji).filter(e=>e!==vt).map(e=>Object.keys(Ji[e])).flat();function uv(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:a={},config:o={}}=e,i=n===Wa,d=t.includes("fa-duotone")||t.includes("fad"),c=o.familyDefault==="duotone",g=r.prefix==="fad"||r.prefix==="fa-duotone";if(!i&&(d||c||g)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&iv.includes(n)&&(Object.keys(a).find(l=>ov.includes(l))||o.autoFetchSvg)){const l=f2.get(n).defaultShortPrefixId;r.prefix=l,r.iconName=or(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Xn()||"fas"),r}class lv{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(a=>{this.definitions[a]=Z(Z({},this.definitions[a]||{}),s[a]),oo(a,s[a]);const o=cu[vt][a];o&&oo(o,s[a]),fm()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:a,iconName:o,icon:i}=r[s],d=i[2];t[a]||(t[a]={}),d.length>0&&d.forEach(c=>{typeof c=="string"&&(t[a][c]=i)}),t[a][o]=i}),t}}let ac=[],Or={};const jr={},cv=Object.keys(jr);function dv(e,t){let{mixoutsTo:n}=t;return ac=e,Or={},Object.keys(jr).forEach(r=>{cv.indexOf(r)===-1&&delete jr[r]}),ac.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(a=>{typeof s[a]=="function"&&(n[a]=s[a]),typeof s[a]=="object"&&Object.keys(s[a]).forEach(o=>{n[a]||(n[a]={}),n[a][o]=s[a][o]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(o=>{Or[o]||(Or[o]=[]),Or[o].push(a[o])})}r.provides&&r.provides(jr)}),n}function uo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Or[e]||[]).forEach(o=>{t=o.apply(null,[t,...r])}),t}function pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Or[e]||[]).forEach(a=>{a.apply(null,n)})}function Qn(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return jr[e]?jr[e].apply(null,t):void 0}function lo(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Xn();if(t)return t=or(n,t)||t,nc(pm.definitions,n,t)||nc(pn.styles,n,t)}const pm=new lv,fv=()=>{de.autoReplaceSvg=!1,de.observeMutations=!1,pr("noAuto")},mv={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ln?(pr("beforeI2svg",e),Qn("pseudoElements2svg",e),Qn("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;de.autoReplaceSvg===!1&&(de.autoReplaceSvg=!0),de.observeMutations=!0,G2(()=>{pv({autoReplaceSvgRoot:t}),pr("watch",e)})}},hv={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:or(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=Ka(e[0]);return{prefix:n,iconName:or(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(de.cssPrefix,"-"))>-1||e.match(L2))){const t=Xa(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Xn(),iconName:or(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=Xn();return{prefix:t,iconName:or(t,e)||e}}}},$t={noAuto:fv,config:de,dom:mv,parse:hv,library:pm,findIconDefinition:lo,toHtml:zs},pv=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Xe}=e;(Object.keys(pn.styles).length>0||de.autoFetchSvg)&&Ln&&de.autoReplaceSvg&&$t.dom.i2svg({node:t})};function Qa(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>zs(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Ln)return;const n=Xe.createElement("div");return n.innerHTML=e.html,n.children}}),e}function gv(e){let{children:t,main:n,mask:r,attributes:s,styles:a,transform:o}=e;if(fu(o)&&n.found&&!r.found){const{width:i,height:d}=n,c={x:i/d/2,y:.5};s.style=Ga(Z(Z({},a),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function bv(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:a}=e;const o=a===!0?"".concat(t,"-").concat(de.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Z(Z({},s),{},{id:o}),children:r}]}]}function pu(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:a,symbol:o,title:i,maskId:d,titleId:c,extra:g,watchable:u=!1}=e,{width:l,height:f}=n.found?n:t,h=b2.includes(r),m=[de.replacementClass,s?"".concat(de.cssPrefix,"-").concat(s):""].filter(w=>g.classes.indexOf(w)===-1).filter(w=>w!==""||!!w).concat(g.classes).join(" ");let x={children:[],attributes:Z(Z({},g.attributes),{},{"data-prefix":r,"data-icon":s,class:m,role:g.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(l," ").concat(f)})};const p=h&&!~g.classes.indexOf("fa-fw")?{width:"".concat(l/f*16*.0625,"em")}:{};u&&(x.attributes[hr]=""),i&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(c||bs())},children:[i]}),delete x.attributes.title);const y=Z(Z({},x),{},{prefix:r,iconName:s,main:t,mask:n,maskId:d,transform:a,symbol:o,styles:Z(Z({},p),g.styles)}),{children:v,attributes:_}=n.found&&t.found?Qn("generateAbstractMask",y)||{children:[],attributes:{}}:Qn("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=v,y.attributes=_,o?bv(y):gv(y)}function ic(e){const{content:t,width:n,height:r,transform:s,title:a,extra:o,watchable:i=!1}=e,d=Z(Z(Z({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});i&&(d[hr]="");const c=Z({},o.styles);fu(s)&&(c.transform=Y2({transform:s,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const g=Ga(c);g.length>0&&(d.style=g);const u=[];return u.push({tag:"span",attributes:d,children:[t]}),a&&u.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),u}function yv(e){const{content:t,title:n,extra:r}=e,s=Z(Z(Z({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Ga(r.styles);a.length>0&&(s.style=a);const o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Ei}=pn;function co(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(de.cssPrefix,"-").concat(gi.GROUP)},children:[{tag:"path",attributes:{class:"".concat(de.cssPrefix,"-").concat(gi.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(de.cssPrefix,"-").concat(gi.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const Ev={found:!1,width:512,height:512};function xv(e,t){!Zf&&!de.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function fo(e,t){let n=t;return t==="fa"&&de.styleDefault!==null&&(t=Xn()),new Promise((r,s)=>{if(n==="fa"){const a=mm(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Ei[t]&&Ei[t][e]){const a=Ei[t][e];return r(co(a))}xv(e,t),r(Z(Z({},Ev),{},{icon:de.showMissingIcons&&e?Qn("missingIconAbstract")||{}:{}}))})}const oc=()=>{},mo=de.measurePerformance&&Zs&&Zs.mark&&Zs.measure?Zs:{mark:oc,measure:oc},es='FA "6.7.2"',vv=e=>(mo.mark("".concat(es," ").concat(e," begins")),()=>gm(e)),gm=e=>{mo.mark("".concat(es," ").concat(e," ends")),mo.measure("".concat(es," ").concat(e),"".concat(es," ").concat(e," begins"),"".concat(es," ").concat(e," ends"))};var gu={begin:vv,end:gm};const ua=()=>{};function uc(e){return typeof(e.getAttribute?e.getAttribute(hr):null)=="string"}function Tv(e){const t=e.getAttribute?e.getAttribute(uu):null,n=e.getAttribute?e.getAttribute(lu):null;return t&&n}function _v(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(de.replacementClass)}function wv(){return de.autoReplaceSvg===!0?la.replace:la[de.autoReplaceSvg]||la.replace}function Av(e){return Xe.createElementNS("http://www.w3.org/2000/svg",e)}function Nv(e){return Xe.createElement(e)}function bm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?Av:Nv}=t;if(typeof e=="string")return Xe.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(a){r.setAttribute(a,e.attributes[a])}),(e.children||[]).forEach(function(a){r.appendChild(bm(a,{ceFn:n}))}),r}function Sv(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const la={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(bm(n),t)}),t.getAttribute(hr)===null&&de.keepOriginalSource){let n=Xe.createComment(Sv(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~du(t).indexOf(de.replacementClass))return la.replace(e);const r=new RegExp("".concat(de.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const a=n[0].attributes.class.split(" ").reduce((o,i)=>(i===de.replacementClass||i.match(r)?o.toSvg.push(i):o.toNode.push(i),o),{toNode:[],toSvg:[]});n[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}const s=n.map(a=>zs(a)).join(`
`);t.setAttribute(hr,""),t.innerHTML=s}};function lc(e){e()}function ym(e,t){const n=typeof t=="function"?t:ua;if(e.length===0)n();else{let r=lc;de.mutateApproach===I2&&(r=Kn.requestAnimationFrame||lc),r(()=>{const s=wv(),a=gu.begin("mutate");e.map(s),a(),n()})}}let bu=!1;function Em(){bu=!0}function ho(){bu=!1}let Aa=null;function cc(e){if(!Xl||!de.observeMutations)return;const{treeCallback:t=ua,nodeCallback:n=ua,pseudoElementsCallback:r=ua,observeMutationsRoot:s=Xe}=e;Aa=new Xl(a=>{if(bu)return;const o=Xn();Wr(a).forEach(i=>{if(i.type==="childList"&&i.addedNodes.length>0&&!uc(i.addedNodes[0])&&(de.searchPseudoElements&&r(i.target),t(i.target)),i.type==="attributes"&&i.target.parentNode&&de.searchPseudoElements&&r(i.target.parentNode),i.type==="attributes"&&uc(i.target)&&~M2.indexOf(i.attributeName))if(i.attributeName==="class"&&Tv(i.target)){const{prefix:d,iconName:c}=Xa(du(i.target));i.target.setAttribute(uu,d||o),c&&i.target.setAttribute(lu,c)}else _v(i.target)&&n(i.target)})}),Ln&&Aa.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Cv(){Aa&&Aa.disconnect()}function kv(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const a=s.split(":"),o=a[0],i=a.slice(1);return o&&i.length>0&&(r[o]=i.join(":").trim()),r},{})),n}function Iv(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=Xa(du(e));return s.prefix||(s.prefix=Xn()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=tv(s.prefix,e.innerText)||hu(s.prefix,io(e.innerText))),!s.iconName&&de.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function Ov(e){const t=Wr(e.attributes).reduce((s,a)=>(s.name!=="class"&&s.name!=="style"&&(s[a.name]=a.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return de.autoA11y&&(n?t["aria-labelledby"]="".concat(de.replacementClass,"-title-").concat(r||bs()):(t["aria-hidden"]="true",t.focusable="false")),t}function Rv(){return{iconName:null,title:null,titleId:null,prefix:null,transform:hn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function dc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=Iv(e),a=Ov(e),o=uo("parseNodeAttributes",{},e);let i=t.styleParser?kv(e):[];return Z({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:hn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:i,attributes:a}},o)}const{styles:Lv}=pn;function xm(e){const t=de.autoReplaceSvg==="nest"?dc(e,{styleParser:!1}):dc(e);return~t.extra.classes.indexOf(em)?Qn("generateLayersText",e,t):Qn("generateSvgReplacementMutation",e,t)}function Dv(){return[...h2,...eo]}function fc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ln)return Promise.resolve();const n=Xe.documentElement.classList,r=g=>n.add("".concat(Jl,"-").concat(g)),s=g=>n.remove("".concat(Jl,"-").concat(g)),a=de.autoFetchSvg?Dv():Wf.concat(Object.keys(Lv));a.includes("fa")||a.push("fa");const o=[".".concat(em,":not([").concat(hr,"])")].concat(a.map(g=>".".concat(g,":not([").concat(hr,"])"))).join(", ");if(o.length===0)return Promise.resolve();let i=[];try{i=Wr(e.querySelectorAll(o))}catch{}if(i.length>0)r("pending"),s("complete");else return Promise.resolve();const d=gu.begin("onTree"),c=i.reduce((g,u)=>{try{const l=xm(u);l&&g.push(l)}catch(l){Zf||l.name==="MissingIcon"&&console.error(l)}return g},[]);return new Promise((g,u)=>{Promise.all(c).then(l=>{ym(l,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),d(),g()})}).catch(l=>{d(),u(l)})})}function Pv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;xm(e).then(n=>{n&&ym([n],t)})}function Mv(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:lo(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:lo(s||{})),e(r,Z(Z({},n),{},{mask:s}))}}const jv=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=hn,symbol:r=!1,mask:s=null,maskId:a=null,title:o=null,titleId:i=null,classes:d=[],attributes:c={},styles:g={}}=t;if(!e)return;const{prefix:u,iconName:l,icon:f}=e;return Qa(Z({type:"icon"},e),()=>(pr("beforeDOMElementCreation",{iconDefinition:e,params:t}),de.autoA11y&&(o?c["aria-labelledby"]="".concat(de.replacementClass,"-title-").concat(i||bs()):(c["aria-hidden"]="true",c.focusable="false")),pu({icons:{main:co(f),mask:s?co(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:l,transform:Z(Z({},hn),n),symbol:r,title:o,maskId:a,titleId:i,extra:{attributes:c,styles:g,classes:d}})))};var Fv={mixout(){return{icon:Mv(jv)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=fc,e.nodeCallback=Pv,e}}},provides(e){e.i2svg=function(t){const{node:n=Xe,callback:r=()=>{}}=t;return fc(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:a,prefix:o,transform:i,symbol:d,mask:c,maskId:g,extra:u}=n;return new Promise((l,f)=>{Promise.all([fo(r,o),c.iconName?fo(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(h=>{let[m,x]=h;l([t,pu({icons:{main:m,mask:x},prefix:o,iconName:r,transform:i,symbol:d,maskId:g,title:s,titleId:a,extra:u,watchable:!0})])}).catch(f)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:a,styles:o}=t;const i=Ga(o);i.length>0&&(r.style=i);let d;return fu(a)&&(d=Qn("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),n.push(d||s.icon),{children:n,attributes:r}}}},Bv={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Qa({type:"layer"},()=>{pr("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(a=>{r=r.concat(a.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(de.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},Uv={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:a={}}=t;return Qa({type:"counter",content:e},()=>(pr("beforeDOMElementCreation",{content:e,params:t}),yv({content:e.toString(),title:n,extra:{attributes:s,styles:a,classes:["".concat(de.cssPrefix,"-layers-counter"),...r]}})))}}}},Hv={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=hn,title:r=null,classes:s=[],attributes:a={},styles:o={}}=t;return Qa({type:"text",content:e},()=>(pr("beforeDOMElementCreation",{content:e,params:t}),ic({content:e,transform:Z(Z({},hn),n),title:r,extra:{attributes:a,styles:o,classes:["".concat(de.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:a}=n;let o=null,i=null;if(Yf){const d=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();o=c.width/d,i=c.height/d}return de.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,ic({content:t.innerHTML,width:o,height:i,transform:s,title:r,extra:a,watchable:!0})])}}};const $v=new RegExp('"',"ug"),mc=[1105920,1112319],hc=Z(Z(Z(Z({},{FontAwesome:{normal:"fas",400:"fas"}}),d2),C2),v2),po=Object.keys(hc).reduce((e,t)=>(e[t.toLowerCase()]=hc[t],e),{}),zv=Object.keys(po).reduce((e,t)=>{const n=po[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function Vv(e){const t=e.replace($v,""),n=X2(t,0),r=n>=mc[0]&&n<=mc[1],s=t.length===2?t[0]===t[1]:!1;return{value:io(s?t[0]:t),isSecondary:r||s}}function Yv(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(po[n]||{})[s]||zv[n]}function pc(e,t){const n="".concat(k2).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const o=Wr(e.children).filter(l=>l.getAttribute(no)===t)[0],i=Kn.getComputedStyle(e,t),d=i.getPropertyValue("font-family"),c=d.match(D2),g=i.getPropertyValue("font-weight"),u=i.getPropertyValue("content");if(o&&!c)return e.removeChild(o),r();if(c&&u!=="none"&&u!==""){const l=i.getPropertyValue("content");let f=Yv(d,g);const{value:h,isSecondary:m}=Vv(l),x=c[0].startsWith("FontAwesome");let p=hu(f,h),y=p;if(x){const v=nv(h);v.iconName&&v.prefix&&(p=v.iconName,f=v.prefix)}if(p&&!m&&(!o||o.getAttribute(uu)!==f||o.getAttribute(lu)!==y)){e.setAttribute(n,y),o&&e.removeChild(o);const v=Rv(),{extra:_}=v;_.attributes[no]=t,fo(p,f).then(w=>{const C=pu(Z(Z({},v),{},{icons:{main:w,mask:hm()},prefix:f,iconName:y,extra:_,watchable:!0})),S=Xe.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(S,e.firstChild):e.appendChild(S),S.outerHTML=C.map(T=>zs(T)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function qv(e){return Promise.all([pc(e,"::before"),pc(e,"::after")])}function Wv(e){return e.parentNode!==document.head&&!~O2.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(no)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function gc(e){if(Ln)return new Promise((t,n)=>{const r=Wr(e.querySelectorAll("*")).filter(Wv).map(qv),s=gu.begin("searchPseudoElements");Em(),Promise.all(r).then(()=>{s(),ho(),t()}).catch(()=>{s(),ho(),n()})})}var Gv={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=gc,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=Xe}=t;de.searchPseudoElements&&gc(n)}}};let bc=!1;var Kv={mixout(){return{dom:{unwatch(){Em(),bc=!0}}}},hooks(){return{bootstrap(){cc(uo("mutationObserverCallbacks",{}))},noAuto(){Cv()},watch(e){const{observeMutationsRoot:t}=e;bc?ho():cc(uo("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const yc=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),a=s[0];let o=s.slice(1).join("-");if(a&&o==="h")return n.flipX=!0,n;if(a&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(a){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},t)};var Xv={mixout(){return{parse:{transform:e=>yc(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=yc(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:a}=t;const o={transform:"translate(".concat(s/2," 256)")},i="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),g={transform:"".concat(i," ").concat(d," ").concat(c)},u={transform:"translate(".concat(a/2*-1," -256)")},l={outer:o,inner:g,path:u};return{tag:"g",attributes:Z({},l.outer),children:[{tag:"g",attributes:Z({},l.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Z(Z({},n.icon.attributes),l.path)}]}]}}}};const xi={x:0,y:0,width:"100%",height:"100%"};function Ec(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Qv(e){return e.tag==="g"?e.children:[e]}var Zv={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Xa(n.split(" ").map(s=>s.trim())):hm();return r.prefix||(r.prefix=Xn()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:a,maskId:o,transform:i}=t;const{width:d,icon:c}=s,{width:g,icon:u}=a,l=V2({transform:i,containerWidth:g,iconWidth:d}),f={tag:"rect",attributes:Z(Z({},xi),{},{fill:"white"})},h=c.children?{children:c.children.map(Ec)}:{},m={tag:"g",attributes:Z({},l.inner),children:[Ec(Z({tag:c.tag,attributes:Z(Z({},c.attributes),l.path)},h))]},x={tag:"g",attributes:Z({},l.outer),children:[m]},p="mask-".concat(o||bs()),y="clip-".concat(o||bs()),v={tag:"mask",attributes:Z(Z({},xi),{},{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,x]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:Qv(u)},v]};return n.push(_,{tag:"rect",attributes:Z({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(p,")")},xi)}),{children:n,attributes:r}}}},Jv={provides(e){let t=!1;Kn.matchMedia&&(t=Kn.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Z(Z({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=Z(Z({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Z(Z({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:Z(Z({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Z(Z({},a),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:Z(Z({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Z(Z({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:Z(Z({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Z(Z({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},eT={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},tT=[W2,Fv,Bv,Uv,Hv,Gv,Kv,Xv,Zv,Jv,eT];dv(tT,{mixoutsTo:$t});$t.noAuto;$t.config;$t.library;$t.dom;const go=$t.parse;$t.findIconDefinition;$t.toHtml;const nT=$t.icon;$t.layer;$t.text;$t.counter;var rT={};function bo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sT(e){if(Array.isArray(e))return e}function aT(e){if(Array.isArray(e))return bo(e)}function Un(e,t,n){return(t=mT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oT(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,i=[],d=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);d=!0);}catch(g){c=!0,s=g}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return i}}function uT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xc(Object(n),!0).forEach(function(r){Un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cT(e,t){if(e==null)return{};var n,r,s=dT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vc(e,t){return sT(e)||oT(e,t)||vm(e,t)||uT()}function yo(e){return aT(e)||iT(e)||vm(e)||lT()}function fT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mT(e){var t=fT(e,"string");return typeof t=="symbol"?t:t+""}function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function vm(e,t){if(e){if(typeof e=="string")return bo(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bo(e,t):void 0}}var hT="7.0.0",Eo;try{var pT=require("@fortawesome/fontawesome-svg-core/package.json");Eo=pT.version}catch{Eo=typeof ar<"u"&&rT.FA_VERSION||"7.0.0"}function gT(e){var t=e.beat,n=e.fade,r=e.beatFade,s=e.bounce,a=e.shake,o=e.flash,i=e.spin,d=e.spinPulse,c=e.spinReverse,g=e.pulse,u=e.fixedWidth,l=e.inverse,f=e.border,h=e.listItem,m=e.flip,x=e.size,p=e.rotation,y=e.pull,v=e.swapOpacity,_=e.rotateBy,w=e.widthAuto,C=bT(Eo,hT),S=Un(Un(Un(Un(Un(Un({"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":i,"fa-spin-reverse":c,"fa-spin-pulse":d,"fa-pulse":g,"fa-fw":u,"fa-inverse":l,"fa-border":f,"fa-li":h,"fa-flip":m===!0,"fa-flip-horizontal":m==="horizontal"||m==="both","fa-flip-vertical":m==="vertical"||m==="both"},"fa-".concat(x),typeof x<"u"&&x!==null),"fa-rotate-".concat(p),typeof p<"u"&&p!==null&&p!==0),"fa-pull-".concat(y),typeof y<"u"&&y!==null),"fa-swap-opacity",v),"fa-rotate-by",C&&_),"fa-width-auto",C&&w);return Object.keys(S).map(function(T){return S[T]?T:null}).filter(function(T){return T})}function bT(e,t){for(var n=e.split("-"),r=vc(n,2),s=r[0],a=r[1],o=t.split("-"),i=vc(o,2),d=i[0],c=i[1],g=s.split("."),u=d.split("."),l=0;l<Math.max(g.length,u.length);l++){var f=g[l]||"0",h=u[l]||"0",m=parseInt(f,10),x=parseInt(h,10);if(m!==x)return m>x}for(var p=0;p<Math.max(g.length,u.length);p++){var y=g[p]||"0",v=u[p]||"0";if(y!==v&&y.length!==v.length)return y.length<v.length}return!(a&&!c)}function yT(e){return e=e-0,e===e}function Tm(e){return yT(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var ET=["style"];function xT(e){return e.charAt(0).toUpperCase()+e.slice(1)}function vT(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=Tm(n.slice(0,r)),a=n.slice(r+1).trim();return s.startsWith("webkit")?t[xT(s)]=a:t[s]=a,t},{})}function _m(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(d){return _m(e,d)}),s=Object.keys(t.attributes||{}).reduce(function(d,c){var g=t.attributes[c];switch(c){case"class":d.attrs.className=g,delete t.attributes.class;break;case"style":d.attrs.style=vT(g);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?d.attrs[c.toLowerCase()]=g:d.attrs[Tm(c)]=g}return d},{attrs:{}}),a=n.style,o=a===void 0?{}:a,i=cT(n,ET);return s.attrs.style=dn(dn({},s.attrs.style),o),e.apply(void 0,[t.tag,dn(dn({},s.attrs),i)].concat(yo(r)))}var wm=!1;try{wm=!0}catch{}function TT(){if(!wm&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Tc(e){if(e&&Na(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(go.icon)return go.icon(e);if(e===null)return null;if(e&&Na(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function vi(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Un({},e,t):{}}var _c={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},Am=Y.forwardRef(function(e,t){var n=dn(dn({},_c),e),r=n.icon,s=n.mask,a=n.symbol,o=n.className,i=n.title,d=n.titleId,c=n.maskId,g=Tc(r),u=vi("classes",[].concat(yo(gT(n)),yo((o||"").split(" ")))),l=vi("transform",typeof n.transform=="string"?go.transform(n.transform):n.transform),f=vi("mask",Tc(s)),h=nT(g,dn(dn(dn(dn({},u),l),f),{},{symbol:a,title:i,titleId:d,maskId:c}));if(!h)return TT("Could not find icon",g),null;var m=h.abstract,x={ref:t};return Object.keys(n).forEach(function(p){_c.hasOwnProperty(p)||(x[p]=n[p])}),_T(m[0],x)});Am.displayName="FontAwesomeIcon";Am.propTypes={beat:Ce.bool,border:Ce.bool,beatFade:Ce.bool,bounce:Ce.bool,className:Ce.string,fade:Ce.bool,flash:Ce.bool,mask:Ce.oneOfType([Ce.object,Ce.array,Ce.string]),maskId:Ce.string,fixedWidth:Ce.bool,inverse:Ce.bool,flip:Ce.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ce.oneOfType([Ce.object,Ce.array,Ce.string]),listItem:Ce.bool,pull:Ce.oneOf(["right","left"]),pulse:Ce.bool,rotation:Ce.oneOf([0,90,180,270]),rotateBy:Ce.bool,shake:Ce.bool,size:Ce.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ce.bool,spinPulse:Ce.bool,spinReverse:Ce.bool,symbol:Ce.oneOfType([Ce.bool,Ce.string]),title:Ce.string,titleId:Ce.string,transform:Ce.oneOfType([Ce.string,Ce.object]),swapOpacity:Ce.bool,widthAuto:Ce.bool};var _T=_m.bind(null,Y.createElement);function wT({nftId:e,listingId:t,availableAmount:n,balance:r,onUpdate:s,oldAmount:a,oldPrice:o,ethPrice:i,minimal:d=!1}){const c=Le.contractAddresses.v1.marketplace,g=Ae.marketplace,{isConnected:u}=Ht(),{writeContractAsync:l}=Zn(),f=er(),[h,m]=F.useState(!1),[x,p]=dt(Gt),y=async(v,_)=>{if(v===null&&_===null){p("Please enter an amount or a price.");return}if(!e){p("Could not determine the ID of the NFT.");return}if(!u){p("Please connect a wallet.");return}p(null);let w=null;v===null&&_!==null?w=async()=>await l({address:c,abi:g,functionName:"editListingPrice",args:[BigInt(e),BigInt(t),da(_)],...gn()}):v!==null&&_===null?w=async()=>await l({address:c,abi:g,functionName:"editListingAmount",args:[BigInt(e),BigInt(t),BigInt(v),BigInt(a)],...gn()}):v!==null&&_!==null&&(w=async()=>await l({address:c,abi:g,functionName:"editListing",args:[BigInt(e),BigInt(t),da(_),BigInt(v),BigInt(a)],...gn()}));const{success:C}=await f(w,`Edit listing for NFT #${e}`);C&&s&&s(e)};return E.jsxs(F.Fragment,{children:[E.jsx("button",{className:d?"text-ink-500 hover:text-ink-300 transition-colors text-sm":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>m(!0),title:"Edit listing",children:"Edit"}),E.jsx(t2,{isOpen:h,setIsOpen:m,onClose:y,balance:r,availableAmount:n,oldAmount:a,oldPrice:o,ethPrice:i})]})}function AT({nftId:e,listingId:t,onUpdate:n,minimal:r=!1}){const s=Le.contractAddresses.v1.marketplace,a=Ae.marketplace,{isConnected:o}=Ht(),{writeContractAsync:i}=Zn(),[d,c]=dt(Gt),g=er(),u=async()=>{if(!e){c("Could not determine the ID of the NFT.");return}if(!o){c("Please connect a wallet.");return}c(null);const l=async()=>await i({address:s,abi:a,functionName:"delistToken",args:[BigInt(e),BigInt(t)],...gn()}),{success:f}=await g(l,`Delist NFT #${e}`);f&&n&&n(e)};return E.jsx("button",{className:r?"text-ink-500 hover:text-red-400 transition-colors text-sm":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>u(),title:"Remove listing",children:r?"Remove":"Delist"})}function NT({balances:e}){return E.jsx("div",{className:"space-y-2",children:e?Object.keys(e).length>0?Object.keys(e).map((t,n)=>E.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-ink-800 last:border-b-0",children:[E.jsx("span",{className:"font-mono text-sm text-ink-300",children:E.jsx(zn,{address:t,shorten:!0,nChar:8})}),E.jsx("span",{className:"text-white font-medium",children:e[t]})]},n)):E.jsx("p",{className:"text-ink-500 text-sm text-center py-4",children:"No owners found"}):E.jsx(Ft,{count:3,baseColor:"#27272a",highlightColor:"#3f3f46"})})}const ST=Jn({key:"blockToDateState",default:{}}),ea=Le.contractAddresses.v1.zang,Ti=Le.contractAddresses.v1.marketplace,CT=async(e,t,n)=>{t=[...t];const r=[],s=[],a=i=>{!t.includes(i)&&!r.includes(i)&&i!==qn&&t.push(i)},o=i=>{s.some(c=>c.transactionHash===i.transactionHash&&c.logIndex===i.logIndex)||s.push(i)};for(;t.length>0;){const i=[...t];t=[];const d=[];for(const g of i)r.push(g),g===null?d.push(ke.getContractEvents({address:ea,abi:Ae.zang,eventName:"TransferSingle",fromBlock:BigInt(n)})):d.push(ke.getContractEvents({address:ea,abi:Ae.zang,eventName:"TransferSingle",args:{operator:g},fromBlock:BigInt(n)}),ke.getContractEvents({address:ea,abi:Ae.zang,eventName:"TransferSingle",args:{from:g},fromBlock:BigInt(n)}),ke.getContractEvents({address:ea,abi:Ae.zang,eventName:"TransferSingle",args:{to:g},fromBlock:BigInt(n)}));const c=await Promise.all(d);for(const g of c)for(const u of g){const{from:l,to:f,operator:h,id:m}=u.args;(m===e||e===null)&&(a(l),a(f),a(h),o(u))}}return s},kT=async(e,t,n,r)=>{const s=e!==null?{_tokenId:BigInt(e)}:void 0,[a,o,i]=await Promise.all([ke.getContractEvents({address:Ti,abi:Ae.marketplace,eventName:"TokenListed",args:s,fromBlock:BigInt(r)}),ke.getContractEvents({address:Ti,abi:Ae.marketplace,eventName:"TokenDelisted",args:s,fromBlock:BigInt(r)}),ke.getContractEvents({address:Ti,abi:Ae.marketplace,eventName:"TokenPurchased",args:s,fromBlock:BigInt(r)})]),d=t?[t]:[],c=l=>{!d.includes(l)&&l!==qn&&d.push(l)};for(const l of o)c(l.args._seller);for(const l of i)c(l.args._buyer),c(l.args._seller);const g=await CT(e!==null?BigInt(e):null,d,n),u=[...a.map(l=>({...l,event:"TokenListed"})),...o.map(l=>({...l,event:"TokenDelisted"})),...i.map(l=>({...l,event:"TokenPurchased"})),...g.map(l=>({...l,event:"TransferSingle"}))];return u.sort((l,f)=>{const h=[Number(l.blockNumber),l.transactionIndex,l.logIndex],m=[Number(f.blockNumber),f.transactionIndex,f.logIndex];for(let x=0;x<h.length;x++){if(h[x]<m[x])return-1;if(h[x]>m[x])return 1}return 0}),u},IT=e=>{if(!e)return;const t={},n=(r,s)=>{r!==qn&&(t[r]===void 0&&(t[r]=0),t[r]+=s)};for(const r of e)if(r.event==="TransferSingle"){const{from:s,to:a,value:o}=r.args;n(s,-Number(o)),n(a,Number(o))}return Object.fromEntries(Object.keys(t).filter(r=>t[r]!==0).map(r=>[r,t[r]]))},Nm=e=>{if(!e)return;let t=[];for(const n of e)switch(n.event){case"TokenListed":t.push({id:Number(n.args._tokenId),type:"list",seller:n.args._seller,price:Cn(n.args._price),amount:Number(n.args.amount),transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break;case"TokenDelisted":t.push({id:Number(n.args._tokenId),type:"delist",seller:n.args._seller,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break;case"TransferSingle":{let r="transfer";n.args.from===qn?r="mint":n.args.to===qn&&(r="burn"),t.push({id:Number(n.args.id),type:r,from:n.args.from,to:n.args.to,amount:Number(n.args.value),operator:n.args.operator,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break}case"TokenPurchased":t.push({id:Number(n.args._tokenId),type:"purchase",buyer:n.args._buyer,seller:n.args._seller,amount:Number(n.args._amount),price:Cn(n.args._price),transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break}for(const n of t.filter(r=>r.type==="purchase"))t=t.filter(r=>!((r.type==="transfer"||r.type==="delist")&&n.transactionHash===r.transactionHash));return t},OT=async e=>{const t=await ke.getBlock({blockNumber:BigInt(e)});return new Date(Number(t.timestamp)*1e3)};var Sm="en",yu={},xo={};function Cm(){return Sm}function km(e){Sm=e}function RT(e){return yu[e]}function Im(e){if(!e)throw new Error("No locale data passed");yu[e.locale]=e,xo[e.locale.toLowerCase()]=e.locale}function wc(e){if(yu[e])return e;if(xo[e.toLowerCase()])return xo[e.toLowerCase()]}function Om(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return Ac(e);case"best fit":return Ac(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function Ac(e){var t=wc(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=wc(e);if(r)return r}}var P={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":s>=3&&s<=10?"few":s>=11&&s<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return s==1&&a!=11?"one":s>=2&&s<=4&&(a<12||a>14)?"few":r&&s==0||s>=5&&s<=9||a>=11&&a<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-1),a=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return s==1&&a!=11&&a!=71&&a!=91?"one":s==2&&a!=12&&a!=72&&a!=92?"two":(s==3||s==4||s==9)&&(a<10||a>19)&&(a<70||a>79)&&(a<90||a>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-1),i=r.slice(-2),d=s.slice(-1),c=s.slice(-2);return a&&o==1&&i!=11||d==1&&c!=11?"one":a&&o>=2&&o<=4&&(i<12||i>14)||d>=2&&d<=4&&(c<12||c>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return t==1&&s?"one":r!=0&&a==0&&s?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-1),i=s.slice(-1);return a&&(r==1||r==2||r==3)||a&&o!=4&&o!=6&&o!=9||!a&&i!=4&&i!=6&&i!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],s=!n[1];return t==1&&s?"one":r>=2&&r<=4&&s?"few":s?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],s=Number(n[0])==t;return t==1||!s&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-2),i=s.slice(-2);return a&&o==1||i==1?"one":a&&o==2||i==2?"two":a&&(o==3||o==4)||i==3||i==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return t==1?"one":r!=0&&a==0&&s?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return t>=0&&t<2?"one":r!=0&&a==0&&s?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],s=!n[1];return r==1&&s||r==0&&!s?"one":r==2&&s?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],s=(n[1]||"").replace(/0+$/,""),a=Number(n[0])==t,o=r.slice(-1),i=r.slice(-2);return a&&o==1&&i!=11||s%10==1&&s%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",s=Number(n[0])==t,a=s&&n[0].slice(-1),o=s&&n[0].slice(-2);return a==1&&(o<11||o>19)?"one":a>=2&&a<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",s=r.length,a=Number(n[0])==t,o=a&&n[0].slice(-1),i=a&&n[0].slice(-2),d=r.slice(-2),c=r.slice(-1);return a&&o==0||i>=11&&i<=19||s==2&&d>=11&&d<=19?"zero":o==1&&i!=11||s==2&&c==1&&d!=11||s!=2&&c==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-1),i=r.slice(-2),d=s.slice(-1),c=s.slice(-2);return a&&o==1&&i!=11||d==1&&c!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||s>=3&&s<=10?"few":s>=11&&s<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-1),o=r.slice(-2);return t==1&&s?"one":s&&a>=2&&a<=4&&(o<12||o>14)?"few":s&&r!=1&&(a==0||a==1)||s&&a>=5&&a<=9||s&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return r==0||r==1?"one":r!=0&&a==0&&s?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],s=Number(n[0])==t,a=s&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&a>=1&&a<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-1),o=r.slice(-2);return s&&a==1&&o!=11?"one":s&&a>=2&&a<=4&&(o<12||o>14)?"few":s&&a==0||s&&a>=5&&a<=9||s&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"";return t==0||t==1||r==0&&s==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-2);return s&&a==1?"one":s&&a==2?"two":s&&(a==3||a==4)||!s?"few":"other"}};P.as=P.am;P.az=P.af;P.bal=P.af;P.bg=P.af;P.bn=P.am;P.brx=P.af;P.ce=P.af;P.chr=P.af;P.de=P.ast;P.doi=P.am;P.ee=P.af;P.el=P.af;P.en=P.ast;P.et=P.ast;P.eu=P.af;P.fa=P.am;P.fi=P.ast;P.fil=P.ceb;P.fo=P.af;P.fur=P.af;P.fy=P.ast;P.gl=P.ast;P.gu=P.am;P.ha=P.af;P.hi=P.am;P.hr=P.bs;P.hsb=P.dsb;P.hu=P.af;P.hy=P.ff;P.ia=P.ast;P.id=P.dz;P.ig=P.dz;P.ii=P.dz;P.it=P.ca;P.ja=P.dz;P.jgo=P.af;P.jv=P.dz;P.ka=P.af;P.kea=P.dz;P.kk=P.af;P.kl=P.af;P.km=P.dz;P.kn=P.am;P.ko=P.dz;P.ks=P.af;P.ksh=P.blo;P.ku=P.af;P.ky=P.af;P.lb=P.af;P.lkt=P.dz;P.lo=P.dz;P.ml=P.af;P.mn=P.af;P.mr=P.af;P.ms=P.dz;P.my=P.dz;P.nb=P.af;P.ne=P.af;P.nl=P.ast;P.nn=P.af;P.no=P.af;P.nqo=P.dz;P.om=P.af;P.or=P.af;P.pa=P.ak;P.pcm=P.am;P.ps=P.af;P.rm=P.af;P.sah=P.dz;P.sc=P.ast;P.sd=P.af;P.sk=P.cs;P.so=P.af;P.sq=P.af;P.sr=P.bs;P.su=P.dz;P.sv=P.ast;P.sw=P.ast;P.syr=P.af;P.ta=P.af;P.te=P.af;P.th=P.dz;P.ti=P.ak;P.tk=P.af;P.tn=P.af;P.to=P.dz;P.tr=P.af;P.ug=P.af;P.uk=P.ru;P.ur=P.ast;P.uz=P.af;P.vec=P.ca;P.vi=P.dz;P.wae=P.af;P.wo=P.dz;P.xh=P.af;P.yi=P.ast;P.yo=P.dz;P.yue=P.dz;P.zh=P.dz;P.zu=P.am;function Nc(e){return e==="pt-PT"?e:DT(e)}var LT=/^([a-z0-9]+)/i;function DT(e){var t=e.match(LT);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function PT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jT(r.key),r)}}function MT(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jT(e){var t=FT(e,"string");return Es(t)=="symbol"?t:t+""}function FT(e,t){if(Es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vo=(function(){function e(t,n){PT(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=P[Nc(r[0])]}return MT(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return P[Nc(r)]})}}]),e})();function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cc(Object(n),!0).forEach(function(r){BT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BT(e,t,n){return(t=Rm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ic(e,t){return zT(e)||$T(e,t)||HT(e,t)||UT()}function UT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HT(e,t){if(e){if(typeof e=="string")return Oc(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}function Oc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $T(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,i=[],d=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);d=!0);}catch(g){c=!0,s=g}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return i}}function zT(e){if(Array.isArray(e))return e}function VT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rm(r.key),r)}}function qT(e,t,n){return t&&YT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rm(e){var t=WT(e,"string");return Vr(t)=="symbol"?t:t+""}function WT(e,t){if(Vr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GT=["second","minute","hour","day","week","month","quarter","year"],KT=["auto","always"],XT=["long","short","narrow"],QT=["lookup","best fit"],On=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};VT(this,e);var r=n.numeric,s=n.style,a=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(KT.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(s!==void 0){if(XT.indexOf(s)<0)throw new RangeError('Invalid "style" option: '.concat(s));this.style=s}if(a!==void 0){if(QT.indexOf(a)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(a));this.localeMatcher=a}if(typeof t=="string"&&(t=[t]),t.push(Cm()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("Unsupported locale");vo.supportedLocalesOf(this.locale).length>0?this.pluralRules=new vo(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Om(this.locale,{localeMatcher:this.localeMatcher})}return qT(e,[{key:"format",value:function(){var n=Rc(arguments),r=Ic(n,2),s=r[0],a=r[1];return this.getRule(s,a).replace("{0}",this.formatNumber(Math.abs(s)))}},{key:"formatToParts",value:function(){var n=Rc(arguments),r=Ic(n,2),s=r[0],a=r[1],o=this.getRule(s,a),i=o.indexOf("{0}");if(i<0)return[{type:"literal",value:o}];var d=[];return i>0&&d.push({type:"literal",value:o.slice(0,i)}),d=d.concat(this.formatNumberToParts(Math.abs(s)).map(function(c){return kc(kc({},c),{},{unit:a})})),i+3<o.length-1&&d.push({type:"literal",value:o.slice(i+3)}),d}},{key:"getRule",value:function(n,r){var s=RT(this.locale)[this.style][r];if(typeof s=="string")return s;if(this.numeric==="auto"){if(n===-2||n===-1){var a=s["previous".concat(n===-1?"":"-"+Math.abs(n))];if(a)return a}else if(n===1||n===2){var o=s["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&s.current)return s.current}var i=s[n_(n)?"past":"future"];if(typeof i=="string")return i;var d=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return i[d]||i.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e})();On.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return Om(n,t)})};On.addLocale=Im;On.addDefaultLocale=function(e){Im(e),km(e.locale)};On.setDefaultLocale=km;On.getDefaultLocale=Cm;On.PluralRules=vo;var _i='Invalid "unit" argument';function ZT(e){if(Vr(e)==="symbol")throw new TypeError(_i);if(typeof e!="string")throw new RangeError("".concat(_i,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),GT.indexOf(e)<0)throw new RangeError("".concat(_i,": ").concat(e));return e}var JT='Invalid "number" argument';function e_(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(JT,": ").concat(e));return e}function t_(e){return 1/e===-1/0}function n_(e){return e<0||e===0&&t_(e)}function Rc(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[e_(e[0]),ZT(e[1])]}function gr(e){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(e)}function r_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i_(r.key),r)}}function a_(e,t,n){return t&&s_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i_(e){var t=o_(e,"string");return gr(t)=="symbol"?t:t+""}function o_(e,t){if(gr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lc=(function(){function e(){r_(this,e),this.cache={}}return a_(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];for(var o=0,i=s;o<i.length;o++){var d=i[o];if(gr(n)!=="object")return;n=n[d]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(var a=r.pop(),o=r.pop(),i=this.cache,d=0,c=r;d<c.length;d++){var g=c[d];gr(i[g])!=="object"&&(i[g]={}),i=i[g]}return i[o]=a}}]),e})();function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function u_(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=l_(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_(e,t){if(e){if(typeof e=="string")return Dc(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dc(e,t):void 0}}function Dc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c_(e,t){for(var n=u_(e),r;!(r=n()).done;){var s=r.value;if(t(s))return s;for(var a=s.split("-");a.length>1;)if(a.pop(),s=a.join("-"),t(s))return s}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function d_(){var e=(typeof Intl>"u"?"undefined":To(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function f_(e){return h_(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var m_={}.constructor;function h_(e){return _o(e)!==void 0&&e!==null&&e.constructor===m_}var An=60,Sa=60*An,cr=24*Sa,wo=7*cr,Ao=30.44*cr,Lm=146097/400*cr;function Fr(e){switch(e){case"second":return 1;case"minute":return An;case"hour":return Sa;case"day":return cr;case"week":return wo;case"month":return Ao;case"year":return Lm}}function Dm(e){return e.factor!==void 0?e.factor:Fr(e.unit||e.formatAs)||1}function xs(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function Eu(e){switch(e){case"floor":return 1;default:return .5}}function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function Pm(e,t){var n=t.prevStep,r=t.timestamp,s=t.now,a=t.future,o=t.round,i;return n&&(n.id||n.unit)&&(i=e["threshold_for_".concat(n.id||n.unit)]),i===void 0&&e.threshold!==void 0&&(i=e.threshold,typeof i=="function"&&(i=i(s,a))),i===void 0&&(i=e.minTime),No(i)==="object"&&(n&&n.id&&i[n.id]!==void 0?i=i[n.id]:i=i.default),typeof i=="function"&&(i=i(r,{future:a,getMinTimeForUnit:function(c,g){return Pc(c,g||n&&n.formatAs,{round:o})}})),i===void 0&&e.test&&(e.test(r,{now:s,future:a})?i=0:i=9007199254740991),i===void 0&&(n?e.formatAs&&n.formatAs&&(i=Pc(e.formatAs,n.formatAs,{round:o})):i=0),i===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),i}function Pc(e,t,n){var r=n.round,s=Fr(e),a;if(t==="now"?a=Fr(e):a=Fr(t),s!==void 0&&a!==void 0)return s-a*(1-Eu(r))}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mc(Object(n),!0).forEach(function(r){g_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g_(e,t,n){return(t=b_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b_(e){var t=y_(e,"string");return vs(t)=="symbol"?t:t+""}function y_(e,t){if(vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E_(e,t,n){var r=n.now,s=n.future,a=n.round,o=n.units;e=v_(e,o);var i=x_(e,t,{now:r,future:s,round:a});{if(i){var d=e[e.indexOf(i)-1],c=e[e.indexOf(i)+1];return[d,i,c]}return[void 0,void 0,e[0]]}}function x_(e,t,n){var r=n.now,s=n.future,a=n.round;if(e.length!==0){var o=Mm(e,t,{now:r,future:s||t<0,round:a});if(o!==-1){var i=e[o];if(i.granularity){var d=xs(a)(Math.abs(t)/Dm(i)/i.granularity)*i.granularity;if(d===0&&o>0)return e[o-1]}return i}}}function Mm(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=Pm(e[r],p_({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return s===void 0||Math.abs(t)<s?r-1:r===e.length-1?r:Mm(e,t,n,r+1)}function v_(e,t){return e.filter(function(n){var r=n.unit,s=n.formatAs;return r=r||s,r?t.indexOf(r)>=0:!0})}function T_(e,t,n){var r=n.now,s=n.round;if(Fr(e)){var a=Fr(e)*1e3,o=t>r,i=Math.abs(t-r),d=xs(s)(i/a)*a;return o?d>0?i-d+w_(s,a):i-d+1:-(i-d)+__(s,a)}}function __(e,t){return Eu(e)*t}function w_(e,t){return(1-Eu(e))*t+1}var A_=365*24*60*60*1e3,jm=1e3*A_;function N_(e,t,n){var r=n.prevStep,s=n.nextStep,a=n.now,o=n.future,i=n.round,d=e.getTime?e.getTime():e,c=function(h){return T_(h,d,{now:a,round:i})},g=C_(o?t:s,d,{future:o,now:a,round:i,prevStep:o?r:t});if(g!==void 0){var u;if(t&&(t.getTimeToNextUpdate&&(u=t.getTimeToNextUpdate(d,{getTimeToNextUpdateForUnit:c,getRoundFunction:xs,now:a,future:o,round:i})),u===void 0)){var l=t.unit||t.formatAs;l&&(u=c(l))}return u===void 0?g:Math.min(u,g)}}function S_(e,t,n){var r=n.now,s=n.future,a=n.round,o=n.prevStep,i=Pm(e,{timestamp:t,now:r,future:s,round:a,prevStep:o});if(i!==void 0)return s?t-i*1e3+1:i===0&&t===r?jm:t+i*1e3}function C_(e,t,n){var r=n.now,s=n.future,a=n.round,o=n.prevStep;if(e){var i=S_(e,t,{now:r,future:s,round:a,prevStep:o});return i===void 0?void 0:i-r}else return s?t-r+1:jm}var Fm={};function Rr(e){return Fm[e]}function Bm(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");Fm[e.locale]=e}const k_=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],So={steps:k_,labels:"long"};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jc(Object(n),!0).forEach(function(r){I_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I_(e,t,n){return(t=O_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O_(e){var t=R_(e,"string");return Ts(t)=="symbol"?t:t+""}function R_(e,t){if(Ts(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Co=Fc(Fc({},So),{},{steps:So.steps.filter(function(e){return e.formatAs!=="second"})}),Um=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:An,unit:"minute"},{threshold:2.5*An,granularity:5,factor:An,unit:"minute"},{threshold:22.5*An,factor:.5*Sa,unit:"half-hour"},{threshold:42.5*An,threshold_for_minute:52.5*An,factor:Sa,unit:"hour"},{threshold:20.5/24*cr,factor:cr,unit:"day"},{threshold:5.5*cr,factor:wo,unit:"week"},{threshold:3.5*wo,factor:Ao,unit:"month"},{threshold:10.5*Ao,factor:Lm,unit:"year"}],Bc={gradation:Um,flavour:"long",units:["now","minute","hour","day","week","month","year"]},L_={gradation:Um,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Hm(e){return e instanceof Date?e:new Date(e)}var ko=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],fn={},D_={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return fn[n]||(fn[n]={}),fn[n].dayMonth||(fn[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),fn[n].dayMonth.format(Hm(t))}},P_={minTime:function(t,n){var r=n.future;if(r){var s=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-s)/1e3}else{var a=new Date(new Date(t).getFullYear()+1,0).getTime();return(a-t)/1e3}},format:function(t,n){return fn[n]||(fn[n]={}),fn[n].dayMonthYear||(fn[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),fn[n].dayMonthYear.format(Hm(t))}};d_()?ko.push(D_,P_):ko.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const br={steps:ko,labels:["mini","short-time","narrow","short"]};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uc(Object(n),!0).forEach(function(r){M_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M_(e,t,n){return(t=j_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_(e){var t=F_(e,"string");return _s(t)=="symbol"?t:t+""}function F_(e,t){if(_s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const B_=Hc(Hc({},br),{},{steps:[{formatAs:"now"}].concat(br.steps)});function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function $c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$c(Object(n),!0).forEach(function(r){U_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U_(e,t,n){return(t=H_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(e){var t=$_(e,"string");return ws(t)=="symbol"?t:t+""}function $_(e,t){if(ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Io=zc(zc({},br),{},{steps:br.steps.filter(function(e){return e.formatAs!=="second"})});function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function Vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vc(Object(n),!0).forEach(function(r){z_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z_(e,t,n){return(t=V_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e){var t=Y_(e,"string");return As(t)=="symbol"?t:t+""}function Y_(e,t){if(As(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const q_=Yc(Yc({},Io),{},{steps:[{formatAs:"now"}].concat(Io.steps)});function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qc(Object(n),!0).forEach(function(r){W_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W_(e,t,n){return(t=G_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_(e){var t=K_(e,"string");return Ns(t)=="symbol"?t:t+""}function K_(e,t){if(Ns(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const X_=ta(ta({},br),{},{steps:br.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?ta(ta({},e),{},{minTime:An}):e})}),Ss={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wc(Object(n),!0).forEach(function(r){Q_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q_(e,t,n){return(t=Z_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z_(e){var t=J_(e,"string");return Cs(t)=="symbol"?t:t+""}function J_(e,t){if(Cs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ew=Gc(Gc({},Ss),{},{steps:[{formatAs:"now"}].concat(Ss.steps)});function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kc(Object(n),!0).forEach(function(r){tw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tw(e,t,n){return(t=nw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nw(e){var t=rw(e,"string");return ks(t)=="symbol"?t:t+""}function rw(e,t){if(ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Oo=Xc(Xc({},Ss),{},{steps:Ss.steps.filter(function(e){return e.formatAs!=="second"})});function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qc(Object(n),!0).forEach(function(r){sw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sw(e,t,n){return(t=aw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aw(e){var t=iw(e,"string");return Is(t)=="symbol"?t:t+""}function iw(e,t){if(Is(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ow=Zc(Zc({},Oo),{},{steps:[{formatAs:"now"}].concat(Oo.steps)});function uw(e){switch(e){case"default":case"round":return So;case"round-minute":return Co;case"approximate":return Bc;case"time":case"approximate-time":return L_;case"mini":return Ss;case"mini-now":return ew;case"mini-minute":return Oo;case"mini-minute-now":return ow;case"twitter":return br;case"twitter-now":return B_;case"twitter-minute":return Io;case"twitter-minute-now":return q_;case"twitter-first-minute":return X_;default:return Bc}}function yr(e){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(e)}function lw(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=$m(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cw(e,t){return mw(e)||fw(e,t)||$m(e,t)||dw()}function dw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $m(e,t){if(e){if(typeof e=="string")return Jc(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jc(e,t):void 0}}function Jc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fw(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,i=[],d=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);d=!0);}catch(g){c=!0,s=g}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return i}}function mw(e){if(Array.isArray(e))return e}function hw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bw(r.key),r)}}function gw(e,t,n){return t&&pw(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bw(e){var t=yw(e,"string");return yr(t)=="symbol"?t:t+""}function yw(e,t){if(yr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var en=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;hw(this,e),typeof t=="string"&&(t=[t]),this.locale=c_(t.concat(e.getDefaultLocale()),Rr),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=On,this.IntlPluralRules=On.PluralRules),this.relativeTimeFormatCache=new Lc,this.pluralRulesCache=new Lc}return gw(e,[{key:"format",value:function(n,r,s){s||(r&&!_w(r)?(s=r,r=void 0):s={}),r||(r=Co),typeof r=="string"&&(r=uw(r));var a=Ew(n),o=this.getLabels(r.flavour||r.labels),i=o.labels,d=o.labelsType,c;r.now!==void 0&&(c=r.now),c===void 0&&s.now!==void 0&&(c=s.now),c===void 0&&(c=Date.now());var g=(c-a)/1e3,u=s.future||g<0,l=Tw(i,Rr(this.locale).now,Rr(this.locale).long,u);if(r.custom){var f=r.custom({now:c,date:new Date(a),time:a,elapsed:g,locale:this.locale});if(f!==void 0)return f}var h=vw(r.units,i,l),m=s.round||r.round,x=E_(r.gradation||r.steps||Co.steps,g,{now:c,units:h,round:m,future:u}),p=cw(x,3),y=p[0],v=p[1],_=p[2],w=this.formatDateForStep(a,v,g,{labels:i,labelsType:d,nowLabel:l,now:c,future:u,round:m})||"";if(s.getTimeToNextUpdate){var C=N_(a,v,{nextStep:_,prevStep:y,now:c,future:u,round:m});return[w,C]}return w}},{key:"formatDateForStep",value:function(n,r,s,a){var o=this,i=a.labels,d=a.labelsType,c=a.nowLabel,g=a.now,u=a.future,l=a.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(p,y){return o.formatValue(y,p,{labels:i,future:u})},now:g,future:u});var f=r.unit||r.formatAs;if(!f)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(f==="now")return c;var h=Math.abs(s)/Dm(r);r.granularity&&(h=xs(l)(h/r.granularity)*r.granularity);var m=-1*Math.sign(s)*xs(l)(h);switch(m===0&&(u?m=0:m=-0),d){case"long":case"short":case"narrow":return this.getFormatter(d).format(m,f);default:return this.formatValue(m,f,{labels:i,future:u})}}}},{key:"formatValue",value:function(n,r,s){var a=s.labels,o=s.future;return this.getFormattingRule(a,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,s,a){var o=a.future;if(this.locale,n=n[r],typeof n=="string")return n;var i=s===0?o?"future":"past":s<0?"past":"future",d=n[i]||n;if(typeof d=="string")return d;var c=this.getPluralRules().select(Math.abs(s));return d[c]||d.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(i){switch(i){case"tiny":case"mini-time":return"mini";default:return i}}),n=n.concat("long");for(var r=Rr(this.locale),s=lw(n),a;!(a=s()).done;){var o=a.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e})(),zm="en";en.getDefaultLocale=function(){return zm};en.setDefaultLocale=function(e){return zm=e};en.addDefaultLocale=function(e){if(ed)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");ed=!0,en.setDefaultLocale(e.locale),en.addLocale(e)};var ed;en.addLocale=function(e){Bm(e),On.addLocale(e)};en.locale=en.addLocale;en.addLabels=function(e,t,n){var r=Rr(e);r||(Bm({locale:e}),r=Rr(e)),r[t]=n};function Ew(e){if(e.constructor===Date||xw(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(yr(e),", ").concat(e))}function xw(e){return yr(e)==="object"&&typeof e.getTime=="function"}function vw(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(s){return s==="now"||r.indexOf(s)>=0})),r}function Tw(e,t,n,r){var s=e.now||t&&t.now;if(s)return typeof s=="string"?s:r?s.future:s.past;if(n&&n.second&&n.second.current)return n.second.current}function _w(e){return typeof e=="string"||f_(e)}const ww={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};en.addDefaultLocale(ww);const Aw=new en("en-US");function Vm({history:e,hideId:t,newestFirst:n=!1}){const[r,s]=dt(ST);F.useEffect(()=>{if(e)for(const i of e)i.blockNumber in r||OT(i.blockNumber).then(d=>{s(c=>({...c,[i.blockNumber]:d}))}).catch(()=>{})},[e,r,s]);const a=i=>{switch(i){case"mint":return"bg-green-500";case"transfer":return"bg-blue-500";case"list":return"bg-amber-500";case"delist":return"bg-ink-500";case"buy":return"bg-purple-500";default:return"bg-ink-500"}},o=F.useMemo(()=>n?e:[...e||[]].reverse(),[e,n]);return e?E.jsx("div",{className:"space-y-4",children:o.map((i,d)=>E.jsxs("div",{className:"relative pl-6 pb-4 border-l-2 border-ink-700 last:border-l-transparent",children:[E.jsx("div",{className:`absolute -left-[5px] top-1 w-2 h-2 rounded-full ${a(i.type)}`}),E.jsxs("div",{className:"bg-ink-800/50 rounded-lg p-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[!t&&i.id&&E.jsxs("a",{href:"/nft/?id="+i.id,className:"text-accent-cyan hover:underline font-mono text-sm",children:["#",i.id]}),E.jsx("span",{className:"px-2 py-0.5 bg-ink-700 rounded text-xs font-mono uppercase text-ink-200",children:i.type})]}),r[i.blockNumber]?E.jsx("span",{className:"text-xs text-ink-400 font-mono",children:Aw.format(r[i.blockNumber])}):E.jsx(Ft,{width:80,baseColor:"#27272a",highlightColor:"#3f3f46"})]}),E.jsxs("div",{className:"space-y-1 text-sm font-mono",children:[i.from&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"FROM"}),E.jsx(zn,{address:i.from,shorten:!0,nChar:8})]}),i.to&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"TO"}),E.jsx(zn,{address:i.to,shorten:!0,nChar:8})]}),i.seller&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"SELLER"}),E.jsx(zn,{address:i.seller,shorten:!0,nChar:8})]}),i.buyer&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"BUYER"}),E.jsx(zn,{address:i.buyer,shorten:!0,nChar:8})]}),i.price&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"PRICE"}),E.jsxs("span",{className:"text-white",children:[i.price," ETH"]})]}),i.amount&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"AMOUNT"}),E.jsx("span",{className:"text-ink-300",children:i.amount})]})]}),E.jsx("div",{className:"mt-3 pt-3 border-t border-ink-700",children:E.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:"text-xs text-ink-400 hover:text-accent-cyan transition-colors font-mono",href:Le.blockExplorer.url+"/tx/"+i.transactionHash,children:"View transaction "})})]})]},d))}):E.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>E.jsx(Ft,{height:120,className:"rounded-lg",baseColor:"#27272a",highlightColor:"#3f3f46"},i))})}const Nw=Jn({key:"burnedIds",default:[]});function Sw(){var Se,je;const e=sd(),t=Ca(),n=Le.contractAddresses.v1.zang,r=Le.contractAddresses.v1.marketplace,s=new URLSearchParams(e.search),a=s.get("id")?parseInt(s.get("id")):null,[o,i]=F.useState([0,null]),{address:d,isConnected:c}=Ht();gf();const[g,u]=dt(Nw),[l,f]=F.useState(null),[h,m]=F.useState(null),[x,p]=F.useState(null),[y,v]=F.useState(null),[_,w]=F.useState(null),[C,S]=F.useState(null),[T,A]=F.useState(null),[N,L]=F.useState(null),[D,j]=F.useState(null),[V,z]=F.useState(!0),[$,Q]=F.useState(null),[se,ge]=F.useState(null),[ae,ie]=F.useState(!1),[ce,fe]=F.useState(null),[,ye]=dt(Gt),Oe=async W=>{if(!a||!W)return;const re=Le.firstBlocks.v1.base.zang,me=Le.firstBlocks.v1.base.marketplace,Ie=await kT(a,W,re,me);ge(Ie)},ze=async()=>{if(!a)return;let W=a-1,re=!1;for(;W>=1&&!re;)if(g.includes(W))W--;else{try{re=await ke.readContract({address:n,abi:Ae.zang,functionName:"exists",args:[BigInt(W)]})}catch(me){ye(bt(me));break}if(re)break;u(me=>[...me,W]),W--}return re?W:null},qe=async()=>{try{const W=await ke.readContract({address:n,abi:Ae.zang,functionName:"lastTokenId"});return j(Number(W)),Number(W)}catch(W){ye(bt(W))}},Pe=async(W=null)=>{if(!a)return;let re=a+1,me=!1,Ie=W||D;for(Ie===null&&(Ie=await qe());re<=Ie&&!me;)if(re===Ie&&await qe(),g.includes(re))re++;else{try{me=await ke.readContract({address:n,abi:Ae.zang,functionName:"exists",args:[BigInt(re)]})}catch(we){ye(bt(we));break}if(me)break;u(we=>[...we,re]),re++}return me?re:null},ut=async()=>{if(a)try{return await ke.readContract({address:n,abi:Ae.zang,functionName:"uri",args:[BigInt(a)]})}catch(W){ki(W)?z(!1):ye(bt(W))}},We=async()=>{if(a)try{const W=await ke.readContract({address:n,abi:Ae.zang,functionName:"authorOf",args:[BigInt(a)]});return S(W),W}catch(W){ki(W)||ye(bt(W))}},gt=async W=>{if(W)try{const me=await(await fetch(W)).json();return p(me),me}catch(re){ye(bt(re))}},tt=async W=>{if(W!=null&&W.text_uri){var re=W.text_uri;re=re.replace("charset=UTF-8,","");try{const me=await fetch(re),Ie=await me.text();v(me.headers.get("content-type")),w(Ie)}catch(me){ye(bt(me))}}},_t=async()=>{if(a)try{const[W,re]=await ke.readContract({address:n,abi:Ae.zang,functionName:"royaltyInfo",args:[BigInt(a),10000n]}),me=new Tr(re.toString());A({recipient:W,amount:me.div(100).toNumber()})}catch(W){ye(bt(W))}},wt=async()=>{if(a)try{const W=await ke.readContract({address:n,abi:Ae.zang,functionName:"totalSupply",args:[BigInt(a)]});L(W)}catch(W){ye(bt(W))}},At=W=>()=>{t(W?"/nft?id="+h:"/nft?id="+l)};F.useEffect(()=>{a||t("/")},[a,t]),F.useEffect(()=>{document.title=a?`#${a} - zang`:"zang"},[a]),F.useEffect(()=>{ye(null)},[a]),F.useEffect(()=>{(async()=>{z(!0),p(null),w(null),v(null),S(null),A(null),L(null),f(null),m(null),Q(null),Ge({}),ge(null),ie(!1);const re=await qe();ut().then(we=>gt(we)).then(we=>tt(we)),We().then(we=>Oe(we)),_t(),wt(),ne();const[me,Ie]=await Promise.all([ze(),Pe(re)]);f(me),m(Ie)})()},[a]),F.useEffect(()=>{(async()=>{try{const me=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json();fe(me.ethereum.usd)}catch{}})()},[]);const[kt,Ge]=F.useState({}),nt=F.useMemo(()=>$?$.filter(W=>W.seller!==qn):null,[$]),Je=F.useMemo(()=>{if(!nt)return null;const W={};for(const me of nt){const Ie=me.seller;W[Ie]||(W[Ie]=[]),W[Ie].push(me)}const re=[];for(const[me,Ie]of Object.entries(W))Ie.sort((we,Ke)=>we.price-Ke.price),re.push({seller:me,listings:Ie,sellerBalance:kt[me]});for(const me of re)me.listings.sort((Ie,we)=>Ie.price-we.price);return re.sort((me,Ie)=>me.listings[0].price-Ie.listings[0].price),re},[nt,kt]),Et=W=>kt[W],O=()=>Et(d),M=W=>{if(!a||!d||nt===null)return null;let re=Et(W);if(re==null)return null;for(const me of nt)me.seller===W&&(re-=me.amount);return re<0&&(re=0),re},U=()=>M(d),ne=async()=>{if(a)try{const W=await ke.readContract({address:r,abi:Ae.marketplace,functionName:"listingCount",args:[BigInt(a)]}),re=Number(W),me=[],Ie=[];for(let we=0;we<re;we++)Ie.push(ke.readContract({address:r,abi:Ae.marketplace,functionName:"listings",args:[BigInt(a),BigInt(we)]}).then(Ke=>{const[zt,Mt,st]=Ke;me.push({amount:Number(st),price:Cn(zt),seller:Mt,id:we})}).catch(()=>null));await Promise.all(Ie),me.sort((we,Ke)=>we.price-Ke.price),Q(me)}catch(W){ye(bt(W))}},ee=async W=>{if(!(!W||!a))try{const re=await ke.readContract({address:n,abi:Ae.zang,functionName:"balanceOf",args:[W,BigInt(a)]});Ge(me=>({...me,[W]:Number(re)}))}catch(re){ye(bt(re))}},K=async()=>{await ee(d)},oe=async()=>{if(!a||!$)return;const W=[];try{if(nt)for(const re of nt){const me=ee(re.seller);W.push(me)}await Promise.all(W)}catch(re){ye(bt(re))}};F.useEffect(()=>{nt&&nt.length>0&&oe()},[nt]),F.useEffect(()=>{o[0]===a&&(ne(),wt(),_t())},[o]),F.useEffect(()=>{d&&a&&c&&K()},[d,a,c]);const ve=W=>{i(([re,me])=>[W,me+1])};return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Er,{}),E.jsx(Ba,{}),V?E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("button",{onClick:At(!1),disabled:!l,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l?"text-ink-300 hover:text-white hover:bg-ink-800":"text-ink-700 cursor-not-allowed"}`,children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),E.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),E.jsxs("span",{className:"text-ink-500 font-mono text-sm",children:["#",a]}),E.jsxs("button",{onClick:At(!0),disabled:!h,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${h?"text-ink-300 hover:text-white hover:bg-ink-800":"text-ink-700 cursor-not-allowed"}`,children:[E.jsx("span",{className:"hidden sm:inline",children:"Next"}),E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsx("div",{className:"lg:col-span-2",children:E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[y&&(y==="text/markdown"||y==="text/html")&&E.jsx("div",{className:"flex justify-end px-4 pt-4",children:E.jsx("button",{onClick:()=>ie(!ae),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${ae?"bg-ink-700 text-white":"bg-ink-800/50 text-ink-400 hover:text-ink-200 hover:bg-ink-800"}`,children:ae?E.jsxs(F.Fragment,{children:[E.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Rendered"]}):E.jsxs(F.Fragment,{children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),"View Source"]})})}),E.jsx("div",{className:"p-6",children:y&&(_||_==="")?ae&&typeof window<"u"?(()=>{const W=require("react-ace").default;return require("ace-builds/src-noconflict/mode-html"),require("ace-builds/src-noconflict/mode-markdown"),require("ace-builds/src-noconflict/theme-monokai"),E.jsx(W,{mode:y==="text/html"?"html":"markdown",theme:"monokai",value:_,name:"source-viewer",readOnly:!0,editorProps:{$blockScrolling:!1},setOptions:{showPrintMargin:!1,showGutter:!0,highlightActiveLine:!1,highlightGutterLine:!1},width:"100%",height:"400px",fontSize:14})})():y==="text/html"?E.jsx(Fa,{source:_}):y==="text/markdown"?E.jsx("div",{className:"prose prose-invert prose-ink max-w-none","data-color-mode":"dark",children:E.jsx(Lo.Markdown,{source:_,rehypePlugins:[()=>Oa(Rn.validMarkdown)]})}):E.jsx("pre",{className:"font-mono text-ink-100 whitespace-pre overflow-x-auto text-sm leading-relaxed",children:_}):E.jsx(Ft,{count:12,baseColor:"#27272a",highlightColor:"#3f3f46"})})]})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:[E.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:(x==null?void 0:x.name)!==null&&(x==null?void 0:x.name)!==void 0?x.name:E.jsx(Ft,{baseColor:"#27272a",highlightColor:"#3f3f46"})}),E.jsx("p",{className:"text-ink-400 mb-4",children:C!==null?E.jsxs(F.Fragment,{children:["by"," ",E.jsx(zn,{address:C,shorten:!0,nChar:8})]}):E.jsx(Ft,{width:150,baseColor:"#27272a",highlightColor:"#3f3f46"})}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:y&&N!==null?E.jsxs(F.Fragment,{children:[E.jsx(rx,{type:y}),E.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded bg-ink-800 text-ink-300",children:["Edition:"," ",N.toString()]})]}):E.jsx(Ft,{width:180,baseColor:"#27272a",highlightColor:"#3f3f46"})}),(x==null?void 0:x.description)!==void 0&&(x==null?void 0:x.description)!==null?E.jsx("p",{className:"text-ink-300 text-sm italic",children:x.description}):E.jsx(Ft,{count:2,baseColor:"#27272a",highlightColor:"#3f3f46"}),T&&C&&(T==null?void 0:T.amount)!==null?E.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[E.jsxs("p",{className:"text-ink-500 text-xs",children:[T.amount.toFixed(2),"% royalty to"," ",T.recipient===C?"the author":T.recipient]}),C===d&&E.jsx(Jx,{id:a,walletAddress:d,currentRoyaltyPercentage:T==null?void 0:T.amount,onUpdate:ve,minimal:!0})]}):E.jsx(Ft,{width:200,baseColor:"#27272a",highlightColor:"#3f3f46",className:"mt-4"})]}),c&&O()!==null&&O()!==0&&E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:[E.jsxs("div",{className:"flex items-baseline justify-between mb-5",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-3xl font-bold text-white",children:O()}),E.jsx("span",{className:"text-ink-400 text-sm ml-2",children:"owned"})]}),O()!==U()&&U()!==null&&E.jsxs("span",{className:"text-ink-500 text-sm",children:[U()," ","available"]})]}),E.jsx(e2,{id:a,userBalance:O(),userAvailableAmount:U(),onUpdate:ve,walletAddress:d,fullWidth:!0}),E.jsx(tx,{id:a,walletAddress:d,balance:O(),availableAmount:U(),onUpdate:ve,secondary:!0}),((je=(Se=Je==null?void 0:Je.find(W=>W.seller===d))==null?void 0:Se.listings)==null?void 0:je.length)>0&&E.jsxs("div",{className:"border-t border-ink-700 pt-4 mt-5",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-3",children:"Your Listings"}),E.jsx("div",{className:"space-y-2",children:Je.find(W=>W.seller===d).listings.map(W=>E.jsxs("div",{className:"flex items-center justify-between py-2",children:[E.jsxs("div",{className:"flex items-baseline gap-2",children:[E.jsxs("span",{className:"text-white font-mono text-sm",children:[W.price," ","ETH"]}),ce&&E.jsxs("span",{className:"text-ink-500 text-xs",children:["$",(parseFloat(W.price)*ce).toFixed(2)]}),E.jsxs("span",{className:"text-ink-500 text-xs",children:[""," ",W.amount]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(wT,{nftId:a,listingId:W.id,balance:O(),onUpdate:ve,oldAmount:W.amount,oldPrice:W.price,ethPrice:ce,availableAmount:U(),minimal:!0}),E.jsx(AT,{nftId:a,listingId:W.id,onUpdate:ve,minimal:!0})]})]},W.id))})]})]}),E.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:E.jsx(ZE,{isConnected:c,id:a,walletAddress:d,onUpdate:ve,listingGroups:Je,showOnlyOthers:!0,ethPrice:ce})}),E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[E.jsx("div",{className:"px-4 py-3 border-b border-ink-800/50",children:E.jsx("h3",{className:"text-sm font-medium text-ink-300",children:"Owners"})}),E.jsx("div",{className:"p-4 max-h-60 overflow-y-auto",children:E.jsx(NT,{balances:IT(se)})})]}),E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[E.jsx("div",{className:"px-4 py-3 border-b border-ink-800/50",children:E.jsx("h3",{className:"text-sm font-medium text-ink-300",children:"History"})}),E.jsx("div",{className:"p-4 max-h-72 overflow-y-auto",children:E.jsx(Vm,{history:Nm(se),hideId:!0})})]})]})]})]}):E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-12 inline-block",children:[E.jsx("p",{className:"text-ink-400 text-lg",children:"This NFT doesn't exist."}),E.jsx("a",{href:"/",className:"inline-flex items-center mt-4 px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Home"})]})})]})}const wi={editionSize:1,royaltyPercentage:10,useCustomRecipient:!1,textType:"text/plain"};function Cw({value:e,label:t,icon:n,description:r,selected:s,onClick:a,color:o}){const i={blue:{border:"border-blue-500",bg:"bg-blue-500/10",icon:"text-blue-400"},purple:{border:"border-purple-500",bg:"bg-purple-500/10",icon:"text-purple-400"},amber:{border:"border-amber-500",bg:"bg-amber-500/10",icon:"text-amber-400"}},d=i[o]||i.blue;return E.jsxs("button",{type:"button",onClick:a,className:`flex-1 p-4 rounded-xl border-2 transition-all duration-200 text-left ${s?`${d.border} ${d.bg}`:"border-ink-700 bg-ink-900/50 hover:border-ink-500 hover:bg-ink-900"}`,children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsx("span",{className:`text-2xl w-8 text-center ${s?d.icon:"text-ink-500"}`,children:n}),E.jsx("span",{className:`font-medium ${s?"text-white":"text-ink-300"}`,children:t})]}),E.jsx("p",{className:`text-sm ${s?"text-ink-300":"text-ink-500"}`,children:r})]})}function kw(){const{register:e,formState:{errors:t,isValid:n},handleSubmit:r,watch:s,setValue:a}=Rs({defaultValues:wi,mode:"onChange",resolver:Ls(Rn.mint)}),[o,i]=F.useState(""),{isConnected:d,address:c}=Ht(),{writeContractAsync:g}=Zn(),[u]=F.useState({status:"noTransaction"}),[l,f]=F.useState(!1),[h,m]=F.useState(!1),x=s("useCustomRecipient",wi.useCustomRecipient),p=s("textType",wi.textType),y=er(),[,v]=dt(Gt),_=Le.contractAddresses.v1.zang,w=S=>async T=>{if(!d){v("Please connect a wallet.");return}if(T={...T,text:o},!(T.title&&T.description&&T.text)&&!S){l||f(!0);return}const A=()=>[...T.text].some(z=>z.charCodeAt(0)>127);v(null);const N="data:"+T.textType+(A()&&T.textType==="text/plain"?",charset=UTF-8":"")+","+encodeURIComponent(T.text),L=new Tr(T.royaltyPercentage).mul("100").toNumber();let D=null;if(T.useCustomRecipient){if(D=T.customRecipient,D.includes(".eth")){let z=null;try{z=await Do.getEnsAddress({name:ad(D)})}catch($){v('Invalid custom recipient address: "'+$.message+'".');return}if(z)D=z;else{v("Could not resolve ENS name.");return}}}else D=c;y(async()=>await g({address:_,abi:Ae.zang,functionName:"mint",args:[N,T.title||"",T.description||"",BigInt(T.editionSize),BigInt(L),D,0n],...gn()}),"Mint",async(z,$,Q,se)=>{var ge;if(z!=="success")return null;if(Q&&se&&se.blockNumber){const ae=(ge=se.logs)==null?void 0:ge.find(ie=>{try{return ie.topics[0]==="0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62"}catch{return!1}});if(ae){const ie=BigInt(ae.topics[3]).toString();return E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{children:[E.jsxs(aa,{className:"text-accent-cyan hover:underline",href:"/nft?id="+ie,children:["NFT #",ie]})," ","minted successfully!"]}),E.jsx("p",{children:E.jsx(od,{hash:$.hash})})]})}else{v("Could not find token ID in transaction receipt.");return}}})},C=[{value:"text/plain",label:"Plain Text",icon:"",description:"Simple text, poetry, prose",color:"blue"},{value:"text/markdown",label:"Markdown",icon:"#",description:"Formatted text with styling",color:"purple"},{value:"text/html",label:"HTML",icon:"<>",description:"Rich content with CSS",color:"amber"}];return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Er,{}),E.jsx(Ba,{}),E.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("p",{className:"text-ink-500 font-mono text-sm mb-3",children:"$ create new"}),E.jsx("h1",{className:"text-3xl sm:text-4xl font-mono text-white mb-4",children:"Mint Your Work"}),E.jsx("p",{className:"text-ink-400 max-w-lg mx-auto",children:"Turn your text into a permanent, collectible NFT on Base."})]}),E.jsxs("form",{onSubmit:r(w(!1)),className:"space-y-8",children:[E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"1"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Choose your medium"})]}),E.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:C.map(S=>E.jsx(Cw,{...S,selected:p===S.value,onClick:()=>a("textType",S.value)},S.value))}),E.jsx("input",{type:"hidden",...e("textType")})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"2"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Write your content"})]}),E.jsx(Dy,{textType:p,value:o,setValue:i})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"3"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Add details"})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.jsx("div",{className:"sm:col-span-2",children:E.jsx(Zt,{label:"Title",name:"title",type:"text",placeholder:"Give your work a name",register:e,errors:t})}),E.jsx("div",{className:"sm:col-span-2",children:E.jsx(Zt,{label:"Description",name:"description",type:"text",placeholder:"What's it about? (optional)",register:e,errors:t})}),E.jsx(Zt,{label:"Edition Size",name:"editionSize",type:"number",hint:"How many copies to mint",register:e,errors:t}),E.jsx(Zt,{label:"Royalty %",name:"royaltyPercentage",type:"number",hint:"You earn this on secondary sales",register:e,errors:t})]}),E.jsxs("div",{className:"pt-4",children:[E.jsxs("button",{type:"button",onClick:()=>m(!h),className:"flex items-center gap-2 text-sm text-ink-500 hover:text-ink-300 transition-colors",children:[E.jsx("svg",{className:`w-4 h-4 transition-transform ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Advanced options"]}),h&&E.jsxs("div",{className:"mt-4 p-4 bg-ink-900/50 rounded-lg border border-ink-800 space-y-4",children:[E.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",...e("useCustomRecipient"),className:"w-4 h-4 rounded border-ink-600 bg-ink-800 text-accent-cyan focus:ring-accent-cyan focus:ring-offset-ink-900"}),E.jsx("span",{className:"text-sm text-ink-300",children:"Use custom royalty recipient"})]}),x&&E.jsx(Zt,{label:"Recipient Address",name:"customRecipient",type:"text",placeholder:"0x... or ENS name",register:e,errors:t})]})]})]}),E.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[E.jsx("svg",{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsxs("p",{className:"text-sm text-amber-200/80",children:["This will create a transaction on"," ",E.jsx("strong",{className:"text-amber-200",children:Le.networks.main.name}),". Make sure your wallet is connected to the right network."]})]}),E.jsx("div",{className:"pt-4",children:d?u.status==="noTransaction"||u.status==="error"?E.jsxs("button",{type:"submit",disabled:!n,className:"w-full py-4 px-6 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[E.jsx("span",{className:"font-mono text-ink-500",children:"$"}),"Mint NFT",E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}):null:E.jsxs("div",{className:"text-center p-6 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("p",{className:"text-ink-400 mb-4",children:"Connect your wallet to mint"}),E.jsx("p",{className:"text-ink-600 text-sm",children:"Use the button in the header to connect"})]})})]}),E.jsx(mp,{isOpen:l,setIsOpen:f,onClose:S=>r(w(S))()})]})]})}function Iw(){const{address:e,isConnected:t}=Ht(),[n,r]=F.useState(null),[s,a]=F.useState([]),[o,i]=F.useState({}),[,d]=dt(Gt),c=Le.contractAddresses.v1.zang,g=5;F.useEffect(()=>{!t||!e||(a([]),i({}))},[e,t]),F.useEffect(()=>{(async()=>{try{const y=await ke.readContract({address:c,abi:Ae.zang,functionName:"lastTokenId"});r(Number(y))}catch(y){d(bt(y))}})()},[d]);const u=async(p,y)=>{try{const v=await ke.readContract({address:c,abi:Ae.zang,functionName:"balanceOf",args:[y,BigInt(p)]});i(_=>({..._,[p]:Number(v)}))}catch(v){d(bt(v))}},l=async(p,y)=>{if(!y)return;const v=[...s];for(let _=0;_<p;_++){const w=n-v.length;w>=1&&(v.push(w),u(w,y))}a(v)};F.useEffect(()=>{l(20,e)},[n,e]);const f=s.filter(p=>o[p]!==void 0&&o[p]!==0),h=s.length>0&&Object.keys(o).length<s.length,m=n!==null&&(s.length===0||f.length===0&&s.length<n),x=n===null||h||m;return F.useEffect(()=>{f.length<20&&s.length<n&&l(20,e)},[s,e]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Er,{}),E.jsx(Ba,{}),E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-center text-white mb-8",children:"Your Collection"}),e?x?E.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[E.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-cyan",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{className:"text-ink-400",children:"Loading your collection..."})]}):f.length>0?E.jsx(yf,{dataLength:s.length,next:()=>l(g,e),hasMore:s.length<n,loader:E.jsx("div",{className:"flex justify-center py-8",children:E.jsx("div",{className:"animate-pulse text-ink-400",children:"Loading more..."})}),endMessage:E.jsx("div",{className:"text-center py-8 text-ink-400",children:"You've seen all your NFTs"}),children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:f.map(p=>E.jsx(bf,{id:p},p))})}):E.jsx("div",{className:"text-center py-16",children:E.jsxs("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:[E.jsx("p",{className:"text-ink-400 text-lg mb-4",children:"Your collection is empty"}),E.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Explore NFTs"})]})}):E.jsx("div",{className:"text-center py-16",children:E.jsx("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:E.jsx("p",{className:"text-ink-400 text-lg",children:"Connect a wallet to view your collection"})})})]})]})}let Ai=null,Ni=null;const Ow=6e4;function Rw(){const e=Le.contractAddresses.v1.zang,t=Le.contractAddresses.v1.marketplace,[n,r]=F.useState(null),[s,a]=F.useState(!0),o=F.useCallback(async()=>{if(Ai&&Ni&&Date.now()-Ni<Ow){r(Ai),a(!1);return}a(!0);try{const i=await ke.getBlockNumber(),d=BigInt(Math.max(Number(i)-5e4,Le.firstBlocks.v1.base.zang)),[c,g,u,l]=await Promise.all([ke.getContractEvents({address:e,abi:Ae.zang,eventName:"TransferSingle",fromBlock:d}),ke.getContractEvents({address:t,abi:Ae.marketplace,eventName:"TokenListed",fromBlock:d}),ke.getContractEvents({address:t,abi:Ae.marketplace,eventName:"TokenDelisted",fromBlock:d}),ke.getContractEvents({address:t,abi:Ae.marketplace,eventName:"TokenPurchased",fromBlock:d})]),h=[...c.map(m=>({...m,event:"TransferSingle"})),...g.map(m=>({...m,event:"TokenListed"})),...u.map(m=>({...m,event:"TokenDelisted"})),...l.map(m=>({...m,event:"TokenPurchased"}))].sort((m,x)=>Number(x.blockNumber)!==Number(m.blockNumber)?Number(x.blockNumber)-Number(m.blockNumber):x.logIndex-m.logIndex).slice(0,100);Ai=h,Ni=Date.now(),r(h)}catch{r([])}finally{a(!1)}},[e,t]);return F.useEffect(()=>{o()},[o]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Er,{}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-mono font-bold text-center text-white mb-8",children:"Recent Activity"}),E.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:s?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[E.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-cyan",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{className:"text-ink-400",children:"Loading activity..."})]}):n&&n.length===0?E.jsx("div",{className:"text-center py-12 text-ink-400",children:"No recent activity"}):E.jsx(Vm,{history:Nm(n),newestFirst:!0})})]})]})}function Lw(){return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Er,{}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsx("div",{className:"bg-ink-800/50 rounded-lg border border-ink-700/50 p-4 mb-6",children:E.jsxs("p",{className:"text-ink-300",children:[E.jsx("span",{className:"font-semibold text-ink-100",children:"Note"}),": We are not affiliated with Li.Finance."]})}),E.jsx("div",{className:"bg-ink-900/50 rounded-lg border border-ink-700/50 overflow-hidden",style:{height:"80vh"},children:E.jsx("iframe",{id:"lifi-iframe",className:"w-full h-full",src:"https://li.finance/embed?fromChain=eth&toChain=base&toToken=0x0000000000000000000000000000000000000000",scrolling:"auto",title:"Li.Fi Widget",frameBorder:"0"})})]})]})}const Dw=()=>E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Er,{}),E.jsxs("main",{className:"flex flex-col items-center justify-center px-4 py-20",children:[E.jsx("pre",{className:"text-accent-cyan font-mono text-xs sm:text-sm md:text-base leading-tight mb-8 select-none",children:`
       
     
 
 
           
             
`}),E.jsxs("div",{className:"text-center max-w-md",children:[E.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-white mb-4",children:"Page Not Found"}),E.jsxs("p",{className:"text-ink-400 mb-8 font-mono text-sm",children:["The text you're looking for doesn't exist here.",E.jsx("br",{}),"Perhaps it was never written..."]}),E.jsxs("div",{className:"text-ink-600 font-mono text-xs mb-8",children:[E.jsx("span",{className:"text-ink-500",children:">"})," searching for page...",E.jsx("br",{}),E.jsx("span",{className:"text-red-500",children:">"})," ERROR: file not found",E.jsx("br",{}),E.jsx("span",{className:"text-ink-500",children:">"})," redirecting to safety..."]}),E.jsx(rd,{to:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Gallery"})]}),E.jsxs("div",{className:"mt-16 text-ink-800 font-mono text-xs opacity-50",children:["",E.jsx("br",{}),"  ",E.jsx("br",{})," TEXT is art. This page isn't. ",E.jsx("br",{}),"  ",E.jsx("br",{}),""]})]})]});function Pw(){const{pathname:e}=sd();return F.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const Mw=new Qm;function jw(){return E.jsx(Zm,{config:A0,children:E.jsx(Jm,{client:Mw,children:E.jsx(o0,{theme:u0({accentColor:"#22d3ee",accentColorForeground:"#0a0a0a",borderRadius:"medium"}),children:E.jsxs(s0,{children:[E.jsx(Pw,{}),E.jsx(ah,{children:E.jsxs(r0,{children:[E.jsx(rr,{path:"/",element:E.jsx($y,{})}),E.jsx(rr,{path:"/nft",element:E.jsx(Sw,{})}),E.jsx(rr,{path:"/mint",element:E.jsx(kw,{})}),E.jsx(rr,{path:"/vault",element:E.jsx(Iw,{})}),E.jsx(rr,{path:"/activity",element:E.jsx(Rw,{})}),E.jsx(rr,{path:"/bridge",element:E.jsx(Lw,{})}),E.jsx(rr,{path:"*",element:E.jsx(Dw,{})})]})})]})})})})}T0.createRoot(document.getElementById("root")).render(E.jsx(Y.StrictMode,{children:E.jsx(n0,{children:E.jsx(jw,{})})}));const zw=Object.freeze(Object.defineProperty({__proto__:null,default:l0},Symbol.toStringTag,{value:"Module"}));export{zw as e};
