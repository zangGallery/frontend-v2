import{K as ge,V as D,j as m}from"./web3-core-DnMkIS5S.js";import{a as ve}from"./react-vendor-z79Uuty_.js";import{p as j,v as P,c as pe,A as V}from"./index-GFROsYiu.js";import{a as ht,R as gt,S as we}from"./ui-vendor-51-FR4Jz.js";const vt=ht({key:"blockToDateState",default:{}}),Y=pe.contractAddresses.v1.zang,Z=pe.contractAddresses.v1.marketplace,wt=async(e,t,r)=>{t=[...t];const n=[],o=[],a=u=>{!t.includes(u)&&!n.includes(u)&&u!==D&&t.push(u)},s=u=>{o.some(f=>f.transactionHash===u.transactionHash&&f.logIndex===u.logIndex)||o.push(u)};for(;t.length>0;){const u=[...t];t=[];const c=[];for(const p of u)n.push(p),p===null?c.push(j.getContractEvents({address:Y,abi:P.zang,eventName:"TransferSingle",fromBlock:BigInt(r)})):c.push(j.getContractEvents({address:Y,abi:P.zang,eventName:"TransferSingle",args:{operator:p},fromBlock:BigInt(r)}),j.getContractEvents({address:Y,abi:P.zang,eventName:"TransferSingle",args:{from:p},fromBlock:BigInt(r)}),j.getContractEvents({address:Y,abi:P.zang,eventName:"TransferSingle",args:{to:p},fromBlock:BigInt(r)}));const f=await Promise.all(c);for(const p of f)for(const y of p){const{from:l,to:b,operator:h,id:d}=y.args;(d===e||e===null)&&(a(l),a(b),a(h),s(y))}}return o},St=async e=>{try{const t=await fetch(`/api/events/${e}`);if(t.ok){const{events:r,_meta:n}=await t.json();return{events:r.map(a=>({event:a.event_type,blockNumber:BigInt(a.block_number),transactionHash:a.tx_hash,logIndex:a.log_index,args:a.data})),_meta:n}}}catch{}return null},On=async(e,t,r,n)=>{if(e!==null){const l=await St(e);if(l&&l.events&&l.events.length>0)return l.events.sort((b,h)=>{const d=Number(b.blockNumber),g=Number(h.blockNumber);return d!==g?d-g:b.logIndex-h.logIndex}),l.events._meta=l._meta,l.events}const o=e!==null?{_tokenId:BigInt(e)}:void 0,[a,s,u]=await Promise.all([j.getContractEvents({address:Z,abi:P.marketplace,eventName:"TokenListed",args:o,fromBlock:BigInt(n)}),j.getContractEvents({address:Z,abi:P.marketplace,eventName:"TokenDelisted",args:o,fromBlock:BigInt(n)}),j.getContractEvents({address:Z,abi:P.marketplace,eventName:"TokenPurchased",args:o,fromBlock:BigInt(n)})]),c=t?[t]:[],f=l=>{!c.includes(l)&&l!==D&&c.push(l)};for(const l of s)f(l.args._seller);for(const l of u)f(l.args._buyer),f(l.args._seller);const p=await wt(e!==null?BigInt(e):null,c,r),y=[...a.map(l=>({...l,event:"TokenListed"})),...s.map(l=>({...l,event:"TokenDelisted"})),...u.map(l=>({...l,event:"TokenPurchased"})),...p.map(l=>({...l,event:"TransferSingle"}))];return y.sort((l,b)=>{const h=[Number(l.blockNumber),l.transactionIndex,l.logIndex],d=[Number(b.blockNumber),b.transactionIndex,b.logIndex];for(let g=0;g<h.length;g++){if(h[g]<d[g])return-1;if(h[g]>d[g])return 1}return 0}),y},jn=e=>{if(!e)return;const t={},r=(n,o)=>{n!==D&&(t[n]===void 0&&(t[n]=0),t[n]+=o)};for(const n of e)if(n.event==="TransferSingle"){const{from:o,to:a,value:s}=n.args;r(o,-Number(s)),r(a,Number(s))}return Object.fromEntries(Object.keys(t).filter(n=>t[n]!==0).map(n=>[n,t[n]]))},Pn=e=>{if(!e)return;let t=[];for(const r of e)switch(r.event){case"TokenListed":t.push({id:Number(r.args._tokenId),type:"list",seller:r.args._seller,price:ge(r.args._price),amount:Number(r.args.amount),transactionHash:r.transactionHash,blockNumber:Number(r.blockNumber)});break;case"TokenDelisted":t.push({id:Number(r.args._tokenId),type:"delist",seller:r.args._seller,transactionHash:r.transactionHash,blockNumber:Number(r.blockNumber)});break;case"TransferSingle":{let n="transfer";r.args.from===D?n="mint":r.args.to===D&&(n="burn"),t.push({id:Number(r.args.id),type:n,from:r.args.from,to:r.args.to,amount:Number(r.args.value),operator:r.args.operator,transactionHash:r.transactionHash,blockNumber:Number(r.blockNumber)});break}case"TokenPurchased":t.push({id:Number(r.args._tokenId),type:"purchase",buyer:r.args._buyer,seller:r.args._seller,amount:Number(r.args._amount),price:ge(r.args._price),transactionHash:r.transactionHash,blockNumber:Number(r.blockNumber)});break}for(const r of t.filter(n=>n.type==="purchase"))t=t.filter(n=>!((n.type==="transfer"||n.type==="delist")&&r.transactionHash===n.transactionHash));return t},G=new Map,J=new Map,Ot=async e=>{if(G.has(e))return G.get(e);if(J.has(e))return J.get(e);const t=(async()=>{try{const o=await fetch(`/api/block/${e}`);if(o.ok){const a=await o.json(),s=new Date(a.timestamp*1e3);return G.set(e,s),s}}catch{}const r=await j.getBlock({blockNumber:BigInt(e)}),n=new Date(Number(r.timestamp)*1e3);return G.set(e,n),n})();J.set(e,t);try{return await t}finally{J.delete(e)}};var Qe="en",ye={},te={};function Ze(){return Qe}function et(e){Qe=e}function jt(e){return ye[e]}function tt(e){if(!e)throw new Error("No locale data passed");ye[e.locale]=e,te[e.locale.toLowerCase()]=e.locale}function Se(e){if(ye[e])return e;if(te[e.toLowerCase()])return te[e.toLowerCase()]}function rt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.localeMatcher||"lookup";switch(r){case"lookup":return Oe(e);case"best fit":return Oe(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(r))}}function Oe(e){var t=Se(e);if(t)return t;for(var r=e.split("-");e.length>1;){r.pop(),e=r.join("-");var n=Se(e);if(n)return n}}var i={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var r=String(t).split("."),n=Number(r[0])==t,o=n&&r[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":o>=3&&o<=10?"few":o>=11&&o<=99?"many":"other"},ast:function(t){var r=String(t).split("."),n=!r[1];return t==1&&n?"one":"other"},be:function(t){var r=String(t).split("."),n=Number(r[0])==t,o=n&&r[0].slice(-1),a=n&&r[0].slice(-2);return o==1&&a!=11?"one":o>=2&&o<=4&&(a<12||a>14)?"few":n&&o==0||o>=5&&o<=9||a>=11&&a<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var r=String(t).split("."),n=Number(r[0])==t,o=n&&r[0].slice(-1),a=n&&r[0].slice(-2),s=n&&r[0].slice(-6);return o==1&&a!=11&&a!=71&&a!=91?"one":o==2&&a!=12&&a!=72&&a!=92?"two":(o==3||o==4||o==9)&&(a<10||a>19)&&(a<70||a>79)&&(a<90||a>99)?"few":t!=0&&n&&s==0?"many":"other"},bs:function(t){var r=String(t).split("."),n=r[0],o=r[1]||"",a=!r[1],s=n.slice(-1),u=n.slice(-2),c=o.slice(-1),f=o.slice(-2);return a&&s==1&&u!=11||c==1&&f!=11?"one":a&&s>=2&&s<=4&&(u<12||u>14)||c>=2&&c<=4&&(f<12||f>14)?"few":"other"},ca:function(t){var r=String(t).split("."),n=r[0],o=!r[1],a=n.slice(-6);return t==1&&o?"one":n!=0&&a==0&&o?"many":"other"},ceb:function(t){var r=String(t).split("."),n=r[0],o=r[1]||"",a=!r[1],s=n.slice(-1),u=o.slice(-1);return a&&(n==1||n==2||n==3)||a&&s!=4&&s!=6&&s!=9||!a&&u!=4&&u!=6&&u!=9?"one":"other"},cs:function(t){var r=String(t).split("."),n=r[0],o=!r[1];return t==1&&o?"one":n>=2&&n<=4&&o?"few":o?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var r=String(t).split("."),n=r[0],o=Number(r[0])==t;return t==1||!o&&(n==0||n==1)?"one":"other"},dsb:function(t){var r=String(t).split("."),n=r[0],o=r[1]||"",a=!r[1],s=n.slice(-2),u=o.slice(-2);return a&&s==1||u==1?"one":a&&s==2||u==2?"two":a&&(s==3||s==4)||u==3||u==4?"few":"other"},dz:function(t){return"other"},es:function(t){var r=String(t).split("."),n=r[0],o=!r[1],a=n.slice(-6);return t==1?"one":n!=0&&a==0&&o?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var r=String(t).split("."),n=r[0],o=!r[1],a=n.slice(-6);return t>=0&&t<2?"one":n!=0&&a==0&&o?"many":"other"},ga:function(t){var r=String(t).split("."),n=Number(r[0])==t;return t==1?"one":t==2?"two":n&&t>=3&&t<=6?"few":n&&t>=7&&t<=10?"many":"other"},gd:function(t){var r=String(t).split("."),n=Number(r[0])==t;return t==1||t==11?"one":t==2||t==12?"two":n&&t>=3&&t<=10||n&&t>=13&&t<=19?"few":"other"},he:function(t){var r=String(t).split("."),n=r[0],o=!r[1];return n==1&&o||n==0&&!o?"one":n==2&&o?"two":"other"},is:function(t){var r=String(t).split("."),n=r[0],o=(r[1]||"").replace(/0+$/,""),a=Number(r[0])==t,s=n.slice(-1),u=n.slice(-2);return a&&s==1&&u!=11||o%10==1&&o%100!=11?"one":"other"},lt:function(t){var r=String(t).split("."),n=r[1]||"",o=Number(r[0])==t,a=o&&r[0].slice(-1),s=o&&r[0].slice(-2);return a==1&&(s<11||s>19)?"one":a>=2&&a<=9&&(s<11||s>19)?"few":n!=0?"many":"other"},lv:function(t){var r=String(t).split("."),n=r[1]||"",o=n.length,a=Number(r[0])==t,s=a&&r[0].slice(-1),u=a&&r[0].slice(-2),c=n.slice(-2),f=n.slice(-1);return a&&s==0||u>=11&&u<=19||o==2&&c>=11&&c<=19?"zero":s==1&&u!=11||o==2&&f==1&&c!=11||o!=2&&f==1?"one":"other"},mk:function(t){var r=String(t).split("."),n=r[0],o=r[1]||"",a=!r[1],s=n.slice(-1),u=n.slice(-2),c=o.slice(-1),f=o.slice(-2);return a&&s==1&&u!=11||c==1&&f!=11?"one":"other"},mt:function(t){var r=String(t).split("."),n=Number(r[0])==t,o=n&&r[0].slice(-2);return t==1?"one":t==2?"two":t==0||o>=3&&o<=10?"few":o>=11&&o<=19?"many":"other"},pl:function(t){var r=String(t).split("."),n=r[0],o=!r[1],a=n.slice(-1),s=n.slice(-2);return t==1&&o?"one":o&&a>=2&&a<=4&&(s<12||s>14)?"few":o&&n!=1&&(a==0||a==1)||o&&a>=5&&a<=9||o&&s>=12&&s<=14?"many":"other"},pt:function(t){var r=String(t).split("."),n=r[0],o=!r[1],a=n.slice(-6);return n==0||n==1?"one":n!=0&&a==0&&o?"many":"other"},ro:function(t){var r=String(t).split("."),n=!r[1],o=Number(r[0])==t,a=o&&r[0].slice(-2);return t==1&&n?"one":!n||t==0||t!=1&&a>=1&&a<=19?"few":"other"},ru:function(t){var r=String(t).split("."),n=r[0],o=!r[1],a=n.slice(-1),s=n.slice(-2);return o&&a==1&&s!=11?"one":o&&a>=2&&a<=4&&(s<12||s>14)?"few":o&&a==0||o&&a>=5&&a<=9||o&&s>=11&&s<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var r=String(t).split("."),n=r[0],o=r[1]||"";return t==0||t==1||n==0&&o==1?"one":"other"},sl:function(t){var r=String(t).split("."),n=r[0],o=!r[1],a=n.slice(-2);return o&&a==1?"one":o&&a==2?"two":o&&(a==3||a==4)||!o?"few":"other"}};i.as=i.am;i.az=i.af;i.bal=i.af;i.bg=i.af;i.bn=i.am;i.brx=i.af;i.ce=i.af;i.chr=i.af;i.de=i.ast;i.doi=i.am;i.ee=i.af;i.el=i.af;i.en=i.ast;i.et=i.ast;i.eu=i.af;i.fa=i.am;i.fi=i.ast;i.fil=i.ceb;i.fo=i.af;i.fur=i.af;i.fy=i.ast;i.gl=i.ast;i.gu=i.am;i.ha=i.af;i.hi=i.am;i.hr=i.bs;i.hsb=i.dsb;i.hu=i.af;i.hy=i.ff;i.ia=i.ast;i.id=i.dz;i.ig=i.dz;i.ii=i.dz;i.it=i.ca;i.ja=i.dz;i.jgo=i.af;i.jv=i.dz;i.ka=i.af;i.kea=i.dz;i.kk=i.af;i.kl=i.af;i.km=i.dz;i.kn=i.am;i.ko=i.dz;i.ks=i.af;i.ksh=i.blo;i.ku=i.af;i.ky=i.af;i.lb=i.af;i.lkt=i.dz;i.lo=i.dz;i.ml=i.af;i.mn=i.af;i.mr=i.af;i.ms=i.dz;i.my=i.dz;i.nb=i.af;i.ne=i.af;i.nl=i.ast;i.nn=i.af;i.no=i.af;i.nqo=i.dz;i.om=i.af;i.or=i.af;i.pa=i.ak;i.pcm=i.am;i.ps=i.af;i.rm=i.af;i.sah=i.dz;i.sc=i.ast;i.sd=i.af;i.sk=i.cs;i.so=i.af;i.sq=i.af;i.sr=i.bs;i.su=i.dz;i.sv=i.ast;i.sw=i.ast;i.syr=i.af;i.ta=i.af;i.te=i.af;i.th=i.dz;i.ti=i.ak;i.tk=i.af;i.tn=i.af;i.to=i.dz;i.tr=i.af;i.ug=i.af;i.uk=i.ru;i.ur=i.ast;i.uz=i.af;i.vec=i.ca;i.vi=i.dz;i.wae=i.af;i.wo=i.dz;i.xh=i.af;i.yi=i.ast;i.yo=i.dz;i.yue=i.dz;i.zh=i.dz;i.zu=i.am;function je(e){return e==="pt-PT"?e:kt(e)}var Pt=/^([a-z0-9]+)/i;function kt(e){var t=e.match(Pt);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function I(e){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(e)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nt(n.key),n)}}function Tt(e,t,r){return t&&Pe(e.prototype,t),r&&Pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nt(e){var t=At(e,"string");return I(t)=="symbol"?t:t+""}function At(e,t){if(I(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var re=(function(){function e(t,r){xt(this,e);var n=e.supportedLocalesOf(t);if(n.length===0)throw new RangeError("Unsupported locale: "+t);if(r&&r.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=i[je(n[0])]}return Tt(e,[{key:"select",value:function(r){return this.$(r)}}],[{key:"supportedLocalesOf",value:function(r){return typeof r=="string"&&(r=[r]),r.filter(function(n){return i[je(n)]})}}]),e})();function $(e){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(e)}function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ke(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Et(e,t,r){return(t=nt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){return It(e)||Dt(e,t)||_t(e,t)||$t()}function $t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(e,t){if(e){if(typeof e=="string")return Ne(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}function Ne(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Dt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){f=!0,o=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw o}}return u}}function It(e){if(Array.isArray(e))return e}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nt(n.key),n)}}function Ft(e,t,r){return t&&Rt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nt(e){var t=Mt(e,"string");return $(t)=="symbol"?t:t+""}function Mt(e,t){if($(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ct=["second","minute","hour","day","week","month","quarter","year"],zt=["auto","always"],Ut=["long","short","narrow"],qt=["lookup","best fit"],O=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Lt(this,e);var n=r.numeric,o=r.style,a=r.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",n!==void 0){if(zt.indexOf(n)<0)throw new RangeError('Invalid "numeric" option: '.concat(n));this.numeric=n}if(o!==void 0){if(Ut.indexOf(o)<0)throw new RangeError('Invalid "style" option: '.concat(o));this.style=o}if(a!==void 0){if(qt.indexOf(a)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(a));this.localeMatcher=a}if(typeof t=="string"&&(t=[t]),t.push(Ze()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("Unsupported locale");re.supportedLocalesOf(this.locale).length>0?this.pluralRules=new re(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=rt(this.locale,{localeMatcher:this.localeMatcher})}return Ft(e,[{key:"format",value:function(){var r=Ae(arguments),n=Te(r,2),o=n[0],a=n[1];return this.getRule(o,a).replace("{0}",this.formatNumber(Math.abs(o)))}},{key:"formatToParts",value:function(){var r=Ae(arguments),n=Te(r,2),o=n[0],a=n[1],s=this.getRule(o,a),u=s.indexOf("{0}");if(u<0)return[{type:"literal",value:s}];var c=[];return u>0&&c.push({type:"literal",value:s.slice(0,u)}),c=c.concat(this.formatNumberToParts(Math.abs(o)).map(function(f){return xe(xe({},f),{},{unit:a})})),u+3<s.length-1&&c.push({type:"literal",value:s.slice(u+3)}),c}},{key:"getRule",value:function(r,n){var o=jt(this.locale)[this.style][n];if(typeof o=="string")return o;if(this.numeric==="auto"){if(r===-2||r===-1){var a=o["previous".concat(r===-1?"":"-"+Math.abs(r))];if(a)return a}else if(r===1||r===2){var s=o["next".concat(r===1?"":"-"+Math.abs(r))];if(s)return s}else if(r===0&&o.current)return o.current}var u=o[Yt(r)?"past":"future"];if(typeof u=="string")return u;var c=this.pluralRules&&this.pluralRules.select(Math.abs(r))||"other";return u[c]||u.other}},{key:"formatNumber",value:function(r){return this.numberFormat?this.numberFormat.format(r):String(r)}},{key:"formatNumberToParts",value:function(r){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(r):[{type:"integer",value:this.formatNumber(r)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e})();O.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(r){return rt(r,t)})};O.addLocale=tt;O.addDefaultLocale=function(e){tt(e),et(e.locale)};O.setDefaultLocale=et;O.getDefaultLocale=Ze;O.PluralRules=re;var ee='Invalid "unit" argument';function Bt(e){if($(e)==="symbol")throw new TypeError(ee);if(typeof e!="string")throw new RangeError("".concat(ee,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),Ct.indexOf(e)<0)throw new RangeError("".concat(ee,": ").concat(e));return e}var Kt='Invalid "number" argument';function Ht(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(Kt,": ").concat(e));return e}function Vt(e){return 1/e===-1/0}function Yt(e){return e<0||e===0&&Vt(e)}function Ae(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[Ht(e[0]),Bt(e[1])]}function x(e){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xt(n.key),n)}}function Wt(e,t,r){return t&&Jt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xt(e){var t=Qt(e,"string");return x(t)=="symbol"?t:t+""}function Qt(e,t){if(x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ee=(function(){function e(){Gt(this,e),this.cache={}}return Wt(e,[{key:"get",value:function(){for(var r=this.cache,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];for(var s=0,u=o;s<u.length;s++){var c=u[s];if(x(r)!=="object")return;r=r[c]}return r}},{key:"put",value:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var a=n.pop(),s=n.pop(),u=this.cache,c=0,f=n;c<f.length;c++){var p=f[c];x(u[p])!=="object"&&(u[p]={}),u=u[p]}return u[s]=a}}]),e})();function ne(e){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(e)}function Zt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=er(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function er(e,t){if(e){if(typeof e=="string")return $e(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tr(e,t){for(var r=Zt(e),n;!(n=r()).done;){var o=n.value;if(t(o))return o;for(var a=o.split("-");a.length>1;)if(a.pop(),o=a.join("-"),t(o))return o}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function rr(){var e=(typeof Intl>"u"?"undefined":ne(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function oe(e){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(e)}function nr(e){return ir(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var or={}.constructor;function ir(e){return oe(e)!==void 0&&e!==null&&e.constructor===or}var S=60,X=60*S,k=24*X,ie=7*k,ae=30.44*k,ot=146097/400*k;function E(e){switch(e){case"second":return 1;case"minute":return S;case"hour":return X;case"day":return k;case"week":return ie;case"month":return ae;case"year":return ot}}function it(e){return e.factor!==void 0?e.factor:E(e.unit||e.formatAs)||1}function L(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function be(e){switch(e){case"floor":return 1;default:return .5}}function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(e)}function at(e,t){var r=t.prevStep,n=t.timestamp,o=t.now,a=t.future,s=t.round,u;return r&&(r.id||r.unit)&&(u=e["threshold_for_".concat(r.id||r.unit)]),u===void 0&&e.threshold!==void 0&&(u=e.threshold,typeof u=="function"&&(u=u(o,a))),u===void 0&&(u=e.minTime),ue(u)==="object"&&(r&&r.id&&u[r.id]!==void 0?u=u[r.id]:u=u.default),typeof u=="function"&&(u=u(n,{future:a,getMinTimeForUnit:function(f,p){return _e(f,p||r&&r.formatAs,{round:s})}})),u===void 0&&e.test&&(e.test(n,{now:o,future:a})?u=0:u=9007199254740991),u===void 0&&(r?e.formatAs&&r.formatAs&&(u=_e(e.formatAs,r.formatAs,{round:s})):u=0),u===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),u}function _e(e,t,r){var n=r.round,o=E(e),a;if(t==="now"?a=E(e):a=E(t),o!==void 0&&a!==void 0)return o-a*(1-be(n))}function R(e){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(e)}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?De(Object(r),!0).forEach(function(n){ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ur(e,t,r){return(t=sr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sr(e){var t=cr(e,"string");return R(t)=="symbol"?t:t+""}function cr(e,t){if(R(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t,r){var n=r.now,o=r.future,a=r.round,s=r.units;e=mr(e,s);var u=lr(e,t,{now:n,future:o,round:a});{if(u){var c=e[e.indexOf(u)-1],f=e[e.indexOf(u)+1];return[c,u,f]}return[void 0,void 0,e[0]]}}function lr(e,t,r){var n=r.now,o=r.future,a=r.round;if(e.length!==0){var s=ut(e,t,{now:n,future:o||t<0,round:a});if(s!==-1){var u=e[s];if(u.granularity){var c=L(a)(Math.abs(t)/it(u)/u.granularity)*u.granularity;if(c===0&&s>0)return e[s-1]}return u}}}function ut(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=at(e[n],ar({prevStep:e[n-1],timestamp:r.now-t*1e3},r));return o===void 0||Math.abs(t)<o?n-1:n===e.length-1?n:ut(e,t,r,n+1)}function mr(e,t){return e.filter(function(r){var n=r.unit,o=r.formatAs;return n=n||o,n?t.indexOf(n)>=0:!0})}function pr(e,t,r){var n=r.now,o=r.round;if(E(e)){var a=E(e)*1e3,s=t>n,u=Math.abs(t-n),c=L(o)(u/a)*a;return s?c>0?u-c+br(o,a):u-c+1:-(u-c)+yr(o,a)}}function yr(e,t){return be(e)*t}function br(e,t){return(1-be(e))*t+1}var dr=365*24*60*60*1e3,st=1e3*dr;function hr(e,t,r){var n=r.prevStep,o=r.nextStep,a=r.now,s=r.future,u=r.round,c=e.getTime?e.getTime():e,f=function(h){return pr(h,c,{now:a,round:u})},p=vr(s?t:o,c,{future:s,now:a,round:u,prevStep:s?n:t});if(p!==void 0){var y;if(t&&(t.getTimeToNextUpdate&&(y=t.getTimeToNextUpdate(c,{getTimeToNextUpdateForUnit:f,getRoundFunction:L,now:a,future:s,round:u})),y===void 0)){var l=t.unit||t.formatAs;l&&(y=f(l))}return y===void 0?p:Math.min(y,p)}}function gr(e,t,r){var n=r.now,o=r.future,a=r.round,s=r.prevStep,u=at(e,{timestamp:t,now:n,future:o,round:a,prevStep:s});if(u!==void 0)return o?t-u*1e3+1:u===0&&t===n?st:t+u*1e3}function vr(e,t,r){var n=r.now,o=r.future,a=r.round,s=r.prevStep;if(e){var u=gr(e,t,{now:n,future:o,round:a,prevStep:s});return u===void 0?void 0:u-n}else return o?t-n+1:st}var ct={};function A(e){return ct[e]}function ft(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");ct[e.locale]=e}const wr=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],se={steps:wr,labels:"long"};function F(e){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(e)}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ie(Object(r),!0).forEach(function(n){Sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sr(e,t,r){return(t=Or(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Or(e){var t=jr(e,"string");return F(t)=="symbol"?t:t+""}function jr(e,t){if(F(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ce=Le(Le({},se),{},{steps:se.steps.filter(function(e){return e.formatAs!=="second"})}),lt=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:S,unit:"minute"},{threshold:2.5*S,granularity:5,factor:S,unit:"minute"},{threshold:22.5*S,factor:.5*X,unit:"half-hour"},{threshold:42.5*S,threshold_for_minute:52.5*S,factor:X,unit:"hour"},{threshold:20.5/24*k,factor:k,unit:"day"},{threshold:5.5*k,factor:ie,unit:"week"},{threshold:3.5*ie,factor:ae,unit:"month"},{threshold:10.5*ae,factor:ot,unit:"year"}],Re={gradation:lt,flavour:"long",units:["now","minute","hour","day","week","month","year"]},Pr={gradation:lt,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function mt(e){return e instanceof Date?e:new Date(e)}var fe=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],w={},kr={minTime:function(t,r){r.future;var n=r.getMinTimeForUnit;return n("day")},format:function(t,r){return w[r]||(w[r]={}),w[r].dayMonth||(w[r].dayMonth=new Intl.DateTimeFormat(r,{month:"short",day:"numeric"})),w[r].dayMonth.format(mt(t))}},xr={minTime:function(t,r){var n=r.future;if(n){var o=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-o)/1e3}else{var a=new Date(new Date(t).getFullYear()+1,0).getTime();return(a-t)/1e3}},format:function(t,r){return w[r]||(w[r]={}),w[r].dayMonthYear||(w[r].dayMonthYear=new Intl.DateTimeFormat(r,{year:"numeric",month:"short",day:"numeric"})),w[r].dayMonthYear.format(mt(t))}};rr()?fe.push(kr,xr):fe.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const T={steps:fe,labels:["mini","short-time","narrow","short"]};function M(e){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(e)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(n){Tr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tr(e,t,r){return(t=Nr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nr(e){var t=Ar(e,"string");return M(t)=="symbol"?t:t+""}function Ar(e,t){if(M(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Er=Me(Me({},T),{},{steps:[{formatAs:"now"}].concat(T.steps)});function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ce(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $r(e,t,r){return(t=_r(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _r(e){var t=Dr(e,"string");return C(t)=="symbol"?t:t+""}function Dr(e,t){if(C(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(C(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const le=ze(ze({},T),{},{steps:T.steps.filter(function(e){return e.formatAs!=="second"})});function z(e){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(e)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ue(Object(r),!0).forEach(function(n){Ir(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ir(e,t,r){return(t=Lr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lr(e){var t=Rr(e,"string");return z(t)=="symbol"?t:t+""}function Rr(e,t){if(z(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Fr=qe(qe({},le),{},{steps:[{formatAs:"now"}].concat(le.steps)});function U(e){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Be(Object(r),!0).forEach(function(n){Mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mr(e,t,r){return(t=Cr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cr(e){var t=zr(e,"string");return U(t)=="symbol"?t:t+""}function zr(e,t){if(U(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Ur=W(W({},T),{},{steps:T.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?W(W({},e),{},{minTime:S}):e})}),q={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function B(e){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ke(Object(r),!0).forEach(function(n){qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qr(e,t,r){return(t=Br(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br(e){var t=Kr(e,"string");return B(t)=="symbol"?t:t+""}function Kr(e,t){if(B(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Hr=He(He({},q),{},{steps:[{formatAs:"now"}].concat(q.steps)});function K(e){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(e)}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ve(Object(r),!0).forEach(function(n){Vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vr(e,t,r){return(t=Yr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yr(e){var t=Gr(e,"string");return K(t)=="symbol"?t:t+""}function Gr(e,t){if(K(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(K(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const me=Ye(Ye({},q),{},{steps:q.steps.filter(function(e){return e.formatAs!=="second"})});function H(e){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(e)}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(r),!0).forEach(function(n){Jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jr(e,t,r){return(t=Wr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wr(e){var t=Xr(e,"string");return H(t)=="symbol"?t:t+""}function Xr(e,t){if(H(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(H(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Qr=Je(Je({},me),{},{steps:[{formatAs:"now"}].concat(me.steps)});function Zr(e){switch(e){case"default":case"round":return se;case"round-minute":return ce;case"approximate":return Re;case"time":case"approximate-time":return Pr;case"mini":return q;case"mini-now":return Hr;case"mini-minute":return me;case"mini-minute-now":return Qr;case"twitter":return T;case"twitter-now":return Er;case"twitter-minute":return le;case"twitter-minute-now":return Fr;case"twitter-first-minute":return Ur;default:return Re}}function N(e){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(e)}function en(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=pt(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(e,t){return on(e)||nn(e,t)||pt(e,t)||rn()}function rn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(e,t){if(e){if(typeof e=="string")return We(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(e,t):void 0}}function We(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){f=!0,o=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw o}}return u}}function on(e){if(Array.isArray(e))return e}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cn(n.key),n)}}function sn(e,t,r){return t&&un(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cn(e){var t=fn(e,"string");return N(t)=="symbol"?t:t+""}function fn(e,t){if(N(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(N(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.polyfill;an(this,e),typeof t=="string"&&(t=[t]),this.locale=tr(t.concat(e.getDefaultLocale()),A),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),n===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=O,this.IntlPluralRules=O.PluralRules),this.relativeTimeFormatCache=new Ee,this.pluralRulesCache=new Ee}return sn(e,[{key:"format",value:function(r,n,o){o||(n&&!bn(n)?(o=n,n=void 0):o={}),n||(n=ce),typeof n=="string"&&(n=Zr(n));var a=ln(r),s=this.getLabels(n.flavour||n.labels),u=s.labels,c=s.labelsType,f;n.now!==void 0&&(f=n.now),f===void 0&&o.now!==void 0&&(f=o.now),f===void 0&&(f=Date.now());var p=(f-a)/1e3,y=o.future||p<0,l=yn(u,A(this.locale).now,A(this.locale).long,y);if(n.custom){var b=n.custom({now:f,date:new Date(a),time:a,elapsed:p,locale:this.locale});if(b!==void 0)return b}var h=pn(n.units,u,l),d=o.round||n.round,g=fr(n.gradation||n.steps||ce.steps,p,{now:f,units:h,round:d,future:y}),_=tn(g,3),Q=_[0],de=_[1],bt=_[2],he=this.formatDateForStep(a,de,p,{labels:u,labelsType:c,nowLabel:l,now:f,future:y,round:d})||"";if(o.getTimeToNextUpdate){var dt=hr(a,de,{nextStep:bt,prevStep:Q,now:f,future:y,round:d});return[he,dt]}return he}},{key:"formatDateForStep",value:function(r,n,o,a){var s=this,u=a.labels,c=a.labelsType,f=a.nowLabel,p=a.now,y=a.future,l=a.round;if(n){if(n.format)return n.format(r,this.locale,{formatAs:function(_,Q){return s.formatValue(Q,_,{labels:u,future:y})},now:p,future:y});var b=n.unit||n.formatAs;if(!b)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(n)));if(b==="now")return f;var h=Math.abs(o)/it(n);n.granularity&&(h=L(l)(h/n.granularity)*n.granularity);var d=-1*Math.sign(o)*L(l)(h);switch(d===0&&(y?d=0:d=-0),c){case"long":case"short":case"narrow":return this.getFormatter(c).format(d,b);default:return this.formatValue(d,b,{labels:u,future:y})}}}},{key:"formatValue",value:function(r,n,o){var a=o.labels,s=o.future;return this.getFormattingRule(a,n,r,{future:s}).replace("{0}",this.formatNumber(Math.abs(r)))}},{key:"getFormattingRule",value:function(r,n,o,a){var s=a.future;if(this.locale,r=r[n],typeof r=="string")return r;var u=o===0?s?"future":"past":o<0?"past":"future",c=r[u]||r;if(typeof c=="string")return c;var f=this.getPluralRules().select(Math.abs(o));return c[f]||c.other}},{key:"formatNumber",value:function(r){return this.numberFormat?this.numberFormat.format(r):String(r)}},{key:"getFormatter",value:function(r){return this.relativeTimeFormatCache.get(this.locale,r)||this.relativeTimeFormatCache.put(this.locale,r,new this.IntlRelativeTimeFormat(this.locale,{style:r}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof r=="string"&&(r=[r]),r=r.map(function(u){switch(u){case"tiny":case"mini-time":return"mini";default:return u}}),r=r.concat("long");for(var n=A(this.locale),o=en(r),a;!(a=o()).done;){var s=a.value;if(n[s])return{labelsType:s,labels:n[s]}}}}]),e})(),yt="en";v.getDefaultLocale=function(){return yt};v.setDefaultLocale=function(e){return yt=e};v.addDefaultLocale=function(e){if(Xe)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");Xe=!0,v.setDefaultLocale(e.locale),v.addLocale(e)};var Xe;v.addLocale=function(e){ft(e),O.addLocale(e)};v.locale=v.addLocale;v.addLabels=function(e,t,r){var n=A(e);n||(ft({locale:e}),n=A(e)),n[t]=r};function ln(e){if(e.constructor===Date||mn(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(N(e),", ").concat(e))}function mn(e){return N(e)==="object"&&typeof e.getTime=="function"}function pn(e,t,r){var n=Object.keys(t);return r&&n.push("now"),e&&(n=e.filter(function(o){return o==="now"||n.indexOf(o)>=0})),n}function yn(e,t,r,n){var o=e.now||t&&t.now;if(o)return typeof o=="string"?o:n?o.future:o.past;if(r&&r.second&&r.second.current)return r.second.current}function bn(e){return typeof e=="string"||nr(e)}const dn={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};v.addDefaultLocale(dn);const hn=new v("en-US");function kn({history:e,hideId:t,newestFirst:r=!1}){const[n,o]=gt(vt);ve.useEffect(()=>{if(e)for(const u of e)u.blockNumber in n||Ot(u.blockNumber).then(c=>{o(f=>({...f,[u.blockNumber]:c}))}).catch(()=>{})},[e,n,o]);const a=u=>{switch(u){case"mint":return"bg-cyan-500";case"transfer":return"bg-blue-500";case"list":return"bg-amber-500";case"delist":return"bg-ink-500";case"buy":case"purchase":return"bg-green-500";default:return"bg-ink-500"}},s=ve.useMemo(()=>r?e:[...e||[]].reverse(),[e,r]);return e?m.jsx("div",{className:"space-y-4",children:s.map((u,c)=>m.jsxs("div",{className:"relative pl-6 pb-4 border-l-2 border-ink-700 last:border-l-transparent",children:[m.jsx("div",{className:`absolute -left-[5px] top-1 w-2 h-2 rounded-full ${a(u.type)}`}),m.jsxs("div",{className:"bg-ink-800/50 rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[!t&&u.id&&m.jsxs("a",{href:"/nft/?id="+u.id,className:"text-accent-cyan hover:underline font-mono text-sm",children:["#",u.id]}),m.jsx("span",{className:"px-2 py-0.5 bg-ink-700 rounded text-xs font-mono uppercase text-ink-200",children:u.type})]}),n[u.blockNumber]?m.jsx("span",{className:"text-xs text-ink-400 font-mono",children:hn.format(n[u.blockNumber])}):m.jsx(we,{width:80,baseColor:"#27272a",highlightColor:"#3f3f46"})]}),m.jsxs("div",{className:"space-y-1 text-sm font-mono",children:[u.from&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("span",{className:"text-ink-500 w-16",children:"FROM"}),m.jsx(V,{address:u.from,shorten:!0,nChar:8})]}),u.to&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("span",{className:"text-ink-500 w-16",children:"TO"}),m.jsx(V,{address:u.to,shorten:!0,nChar:8})]}),u.seller&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("span",{className:"text-ink-500 w-16",children:"SELLER"}),m.jsx(V,{address:u.seller,shorten:!0,nChar:8})]}),u.buyer&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("span",{className:"text-ink-500 w-16",children:"BUYER"}),m.jsx(V,{address:u.buyer,shorten:!0,nChar:8})]}),u.price&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("span",{className:"text-ink-500 w-16",children:"PRICE"}),m.jsxs("span",{className:"text-white",children:[u.price," ETH"]})]}),u.amount&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("span",{className:"text-ink-500 w-16",children:"AMOUNT"}),m.jsx("span",{className:"text-ink-300",children:u.amount})]})]}),m.jsx("div",{className:"mt-3 pt-3 border-t border-ink-700",children:m.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:"text-xs text-ink-400 hover:text-accent-cyan transition-colors font-mono",href:pe.blockExplorer.url+"/tx/"+u.transactionHash,children:"View transaction "})})]})]},c))}):m.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>m.jsx(we,{height:120,className:"rounded-lg",baseColor:"#27272a",highlightColor:"#3f3f46"},u))})}export{kn as N,jn as c,On as g,Pn as p};
