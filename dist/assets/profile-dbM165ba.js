import{v as H,j as e}from"./web3-core-DUkMGIH9.js";import{u as M,a as n}from"./react-vendor-z79Uuty_.js";import{u as T,m as W,H as z,c as A,N as V}from"./index-C6BJuccv.js";import{S as a}from"./ui-vendor-51-FR4Jz.js";import"./md-editor-C0JwPbmY.js";import{C as I}from"./rainbowkit-M05sXE1j.js";function Q(){var v,b,N,w,C,y;const L=M(),o=(v=new URLSearchParams(L.search).get("address"))==null?void 0:v.toLowerCase(),{address:x}=H(),_=(x==null?void 0:x.toLowerCase())===o,{lookupEns:h}=T(),[s,P]=n.useState(null),[i,l]=n.useState(!0),[u,c]=n.useState(null),[d,g]=n.useState("created"),[E,p]=n.useState(!1),k=o?W(o):null;n.useEffect(()=>{if(!o){c("No address provided"),l(!1);return}if(!/^0x[a-fA-F0-9]{40}$/.test(o)){c("Invalid address format"),l(!1);return}(async()=>{l(!0),c(null);try{const r=await fetch(`/api/author/${o}`);if(!r.ok)throw new Error("Failed to fetch profile");const F=await r.json();P(F)}catch(r){c(r.message)}finally{l(!1)}})()},[o]),n.useEffect(()=>{const r=h(o)||m(o);document.title=r?`${r} - zang`:"Profile - zang"},[o,h]);const m=t=>t?`${t.slice(0,6)}...${t.slice(-4)}`:"",S=()=>{navigator.clipboard.writeText(o),p(!0),setTimeout(()=>p(!1),2e3)},j=o?h(o):null,$=j||m(o),f=d==="created"?(s==null?void 0:s.created)||[]:(s==null?void 0:s.collected)||[],B=t=>({token_id:t.token_id,name:t.name,description:t.description,author:t.author,content_type:t.content_type,content:t.content,_stats:{totalSupply:t.total_supply?parseInt(t.total_supply,10):null,floorPrice:t.floor_price,listedCount:t.listed_count||0,totalVolume:t.total_volume||"0"}});return e.jsxs("div",{className:"min-h-screen bg-ink-950",children:[e.jsx(z,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:u?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:[e.jsx("p",{className:"text-red-400 text-lg mb-4",children:u}),e.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Home"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[k?e.jsx("img",{src:k,alt:"Avatar",className:"w-20 h-20 rounded-xl"}):e.jsx(a,{width:80,height:80,className:"rounded-xl",baseColor:"#27272a",highlightColor:"#3f3f46"}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-2 font-mono",children:$||e.jsx(a,{width:200,baseColor:"#27272a",highlightColor:"#3f3f46"})}),j&&e.jsx("p",{className:"text-ink-400 font-mono text-sm mb-2",children:m(o)}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3",children:[e.jsx("button",{onClick:S,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700 transition-colors text-sm",children:E?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})}),e.jsxs("a",{href:`${A.blockExplorer.url}/address/${o}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700 transition-colors text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Basescan"]}),_&&e.jsx(I.Custom,{children:({openAccountModal:t})=>e.jsxs("button",{onClick:t,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700 transition-colors text-sm",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Wallet"]})})]})]}),e.jsxs("div",{className:"flex gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i?e.jsx(a,{width:40,baseColor:"#27272a",highlightColor:"#3f3f46"}):((b=s==null?void 0:s.stats)==null?void 0:b.totalCreated)||0}),e.jsx("div",{className:"text-xs text-ink-400 uppercase tracking-wide",children:"Created"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i?e.jsx(a,{width:40,baseColor:"#27272a",highlightColor:"#3f3f46"}):((N=s==null?void 0:s.stats)==null?void 0:N.totalCollected)||0}),e.jsx("div",{className:"text-xs text-ink-400 uppercase tracking-wide",children:"Collected"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i?e.jsx(a,{width:60,baseColor:"#27272a",highlightColor:"#3f3f46"}):e.jsxs(e.Fragment,{children:[((w=s==null?void 0:s.stats)==null?void 0:w.totalVolume)||"0"," ",e.jsx("span",{className:"text-ink-400 text-base",children:"ETH"})]})}),e.jsx("div",{className:"text-xs text-ink-400 uppercase tracking-wide",children:"Volume"})]})]})]})}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>g("created"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d==="created"?"bg-accent-cyan text-ink-950":"bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700"}`,children:["Created (",((C=s==null?void 0:s.stats)==null?void 0:C.totalCreated)||0,")"]}),e.jsxs("button",{onClick:()=>g("collected"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d==="collected"?"bg-accent-cyan text-ink-950":"bg-ink-800 text-ink-300 hover:text-white hover:bg-ink-700"}`,children:["Collected (",((y=s==null?void 0:s.stats)==null?void 0:y.totalCollected)||0,")"]})]}),i?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[e.jsx(a,{height:208,baseColor:"#27272a",highlightColor:"#3f3f46"}),e.jsx("div",{className:"p-4",children:e.jsx(a,{count:2,baseColor:"#27272a",highlightColor:"#3f3f46"})})]},t))}):f.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(t=>e.jsx(V,{id:t.token_id,prefetchedData:B(t)},t.token_id))}):e.jsx("div",{className:"text-center py-16",children:e.jsx("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:e.jsx("p",{className:"text-ink-400 text-lg",children:d==="created"?"No artworks created yet":"No artworks collected yet"})})})]})})]})}export{Q as default};
