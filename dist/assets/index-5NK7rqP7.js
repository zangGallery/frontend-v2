const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BCNa70Kg.js","assets/react-vendor-DDjscz8v.js","assets/ace-Crcp_Mm0.js","assets/md-editor-DazOniVP.js","assets/web3-core-Bdneq6MY.js","assets/md-editor-Bsl8KSMX.css","assets/mode-html-Cjq9fmL4.js","assets/theme-monokai-l0L8ZsWv.js","assets/ext-language_tools-dj6MuGN6.js","assets/ace-DC6gpk9w.js","assets/index-1qFw5GQN.js"])))=>i.map(i=>d[i]);
import{r as Ca,am as Hd,j as E,z as qt,aB as $d,E as Qm,aC as Zm,aD as ar,_ as Dr,aE as br,aF as tn,A as Jm,aG as Oa,aH as e0,aI as t0,aJ as n0}from"./web3-core-Bdneq6MY.js";import{h as r0,g as lu,R as Y,c as s0,a as M,u as Ka,L as qd,p as dr,i as Vd,B as a0,j as i0,k as lr}from"./react-vendor-DDjscz8v.js";import{R as ir,a as ht,S as Ut,b as o0}from"./ui-vendor-D1Om885V.js";import{t as u0,m as Zi,f as Ts,C as l0,u as zd,R as c0,v as d0,w as f0}from"./rainbowkit-DOGAudsZ.js";import{b as h0,i as m0,s as p0,g as g0,a as b0,t as y0,e as _i,c as ol,d as Ji,p as ul,f as ll,w as E0,h as Ur,j as x0,k as v0,l as cl,z as _0,E as cu,P as ke}from"./md-editor-DazOniVP.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ta={},dl;function T0(){if(dl)return ta;dl=1;var e=r0();return ta.createRoot=e.createRoot,ta.hydrateRoot=e.hydrateRoot,ta}var w0=T0();const A0=lu(w0),N0="3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",S0="3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",k0=u0({appName:"zang.gallery",projectId:"3a8170812b534d0ff9d794f19a901d64",chains:[Ts,Zi],transports:{[Ts.id]:Ca(`https://base-mainnet.g.alchemy.com/v2/${N0}`),[Zi.id]:Ca(`https://eth-mainnet.g.alchemy.com/v2/${S0}`)},ssr:!1}),Qt=ir({key:"standardError",default:null}),eo=e=>{const t=JSON.stringify(e);return t.includes("ZangNFT")&&t.includes("query for nonexistent token")},Et=e=>{var t;return e.message?e.message==="Internal JSON-RPC error."&&((t=e.data)!=null&&t.message)?"Internal JSON-RPC error: "+e.data.message+".":e.message:"Unknown error."},Pe={contractAddresses:{v1:{zang:"0x5541ff300e9b01176b953EA3153006e36D4BA273",marketplace:"0xbD5C4612084eA90847DeB475529aC74B3521498d"}},firstBlocks:{v1:{base:{zang:5300011,marketplace:5300368}}},networks:{main:{name:"Base",chainId:8453,rpcUrl:"https://base-mainnet.g.alchemy.com/v2/3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J"},ens:{name:"ENS",chainId:1}},api_keys:{alchemy_base:"3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J",alchemy_mainnet:"3ZdCeXQPljcAdtTaEpDGSoSvWAZ8FM-J"},ens:{cacheExpiration:1e3*60*2},blockExplorer:{name:"BaseScan",url:"https://basescan.org"}},ba={calls:[],enabled:typeof window<"u"&&window.__RPC_TRACKING_ENABLED__===!0,enable(){this.enabled=!0,this.calls=[],console.log("[RPC] Tracking enabled. Refresh page to capture all calls.")},disable(){this.enabled=!1,console.log("[RPC] Tracking disabled")},reset(){this.calls=[],console.log("[RPC] Counter reset")},log(e,t){if(!this.enabled)return;const n=JSON.stringify(t,(s,a)=>typeof a=="bigint"?a.toString():a),r={id:this.calls.length+1,method:e,args:n,time:new Date().toISOString()};this.calls.push(r),console.log(`[RPC #${r.id}] ${e}`,t)},summary(){const e={};for(const t of this.calls){const n=`${t.method}(${t.args})`;e[n]=(e[n]||0)+1}return console.log("[RPC Summary] Total calls:",this.calls.length),console.table(e),{total:this.calls.length,byMethod:e}}};typeof window<"u"&&(window.rpcTracker=ba);const C0=Hd({chain:Ts,transport:Ca(`https://base-mainnet.g.alchemy.com/v2/${Pe.api_keys.alchemy_base}`)}),Fe=new Proxy(C0,{get(e,t){const n=e[t];return typeof n=="function"?async(...r)=>{var s,a;return t==="readContract"?ba.log(r[0].functionName,{address:(s=r[0].address)==null?void 0:s.slice(0,10),args:r[0].args}):t==="getContractEvents"?ba.log("getContractEvents",{address:(a=r[0].address)==null?void 0:a.slice(0,10),eventName:r[0].eventName}):t==="getBlockNumber"&&ba.log("getBlockNumber",{}),n.apply(e,r)}:n}}),du=Hd({chain:Zi,transport:Ca(`https://eth-mainnet.g.alchemy.com/v2/${Pe.api_keys.alchemy_mainnet}`)}),O0=ir({key:"transactionCount",default:0}),I0=ir({key:"transactionStatus",default:{}}),R0=ir({key:"transactionListeners",default:[]}),Yd=()=>{const[e,t]=ht(I0),[n,r]=ht(R0);return{getTransactionStatus:i=>e[i],transactions:e,updateTransactionStatus:async(i,c)=>{t(d=>({...d,[i]:c}));for(const d of n)d(i,c)},register:i=>{r(c=>c.includes(i)?c:[...c,i])}}},or=()=>{const{updateTransactionStatus:e}=Yd(),[t,n]=ht(O0),r=()=>(n(a=>a+1),t);return async(a,o,i,c)=>{const d=r();let p;try{e(d,{status:"pending",name:o,content:i?await i("pending"):null}),p=await a(),e(d,{status:"approved",name:o,hash:p,content:i?await i("approved",{hash:p}):null});const u=await Fe.waitForTransactionReceipt({hash:p,confirmations:1});return e(d,{status:"success",name:o,hash:p,content:i?await i("success",{hash:p},!0,u):null}),{hash:p,receipt:u,success:!0}}catch(u){if(e(d,{status:"error",name:o,hash:p,errorMessage:Et(u),content:i?await i("success",{hash:p},!1):null}),c)throw u;return{error:u,success:!1}}}};function L0(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const D0=e=>{switch(e){case"success":return j0;case"info":return F0;case"warning":return B0;case"error":return U0;default:return null}},P0=Array(12).fill(0),M0=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},P0.map((n,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),j0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),B0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),U0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),H0=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$0=()=>{const[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let to=1;class q0{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:to++,o=this.toasts.find(c=>c.id===a),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:i,title:r}):c):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,o;const i=s.then(async d=>{if(o=["resolve",d],Y.isValidElement(d))a=!1,this.create({id:r,type:"default",message:d});else if(z0(d)&&!d.ok){a=!1;const u=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,m=typeof u=="object"&&!Y.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...m})}else if(d instanceof Error){a=!1;const u=typeof n.error=="function"?await n.error(d):n.error,l=typeof n.description=="function"?await n.description(d):n.description,m=typeof u=="object"&&!Y.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...m})}else if(n.success!==void 0){a=!1;const u=typeof n.success=="function"?await n.success(d):n.success,l=typeof n.description=="function"?await n.description(d):n.description,m=typeof u=="object"&&!Y.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:l,...m})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(d):n.error,u=typeof n.description=="function"?await n.description(d):n.description,f=typeof p=="object"&&!Y.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:u,...f})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,p)=>i.then(()=>o[0]==="reject"?p(o[1]):d(o[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||to++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Lt=new q0,V0=(e,t)=>{const n=(t==null?void 0:t.id)||to++;return Lt.addToast({title:e,...t,id:n}),n},z0=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Y0=V0,W0=()=>Lt.toasts,K0=()=>Lt.getActiveToasts(),na=Object.assign(Y0,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:W0,getToasts:K0});L0("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ra(e){return e.label!==void 0}const G0=3,X0="24px",Q0="16px",fl=4e3,Z0=356,J0=14,ep=45,tp=200;function mn(...e){return e.filter(Boolean).join(" ")}function np(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const rp=e=>{var t,n,r,s,a,o,i,c,d;const{invert:p,toast:u,unstyled:l,interacting:f,setHeights:m,visibleToasts:h,heights:x,index:g,toasts:y,expanded:v,removeToast:T,defaultRichColors:w,closeButton:k,style:S,cancelButtonStyle:_,actionButtonStyle:A,className:N="",descriptionClassName:O="",duration:D,position:j,gap:$,expandByDefault:V,classNames:U,icons:z,closeButtonAriaLabel:ne="Close toast"}=e,[ce,ae]=Y.useState(null),[de,me]=Y.useState(null),[pe,Te]=Y.useState(!1),[Ie,Ce]=Y.useState(!1),[Ye,Me]=Y.useState(!1),[st,Ge]=Y.useState(!1),[pt,tt]=Y.useState(!1),[At,Nt]=Y.useState(0),[St,Bt]=Y.useState(0),Xe=Y.useRef(u.duration||D||fl),It=Y.useRef(null),it=Y.useRef(null),Ze=g===0,R=g+1<=h,B=u.type,H=u.dismissible!==!1,re=u.className||"",J=u.descriptionClassName||"",X=Y.useMemo(()=>x.findIndex(xe=>xe.toastId===u.id)||0,[x,u.id]),oe=Y.useMemo(()=>{var xe;return(xe=u.closeButton)!=null?xe:k},[u.closeButton,k]),we=Y.useMemo(()=>u.duration||D||fl,[u.duration,D]),Oe=Y.useRef(0),je=Y.useRef(0),vt=Y.useRef(0),nt=Y.useRef(null),[zt,K]=j.split("-"),se=Y.useMemo(()=>x.reduce((xe,rt,Re)=>Re>=X?xe:xe+rt.height,0),[x,X]),ie=$0(),Se=u.invert||p,Ue=B==="loading";je.current=Y.useMemo(()=>X*$+se,[X,se]),Y.useEffect(()=>{Xe.current=we},[we]),Y.useEffect(()=>{Te(!0)},[]),Y.useEffect(()=>{const xe=it.current;if(xe){const rt=xe.getBoundingClientRect().height;return Bt(rt),m(Re=>[{toastId:u.id,height:rt,position:u.position},...Re]),()=>m(Re=>Re.filter(He=>He.toastId!==u.id))}},[m,u.id]),Y.useLayoutEffect(()=>{if(!pe)return;const xe=it.current,rt=xe.style.height;xe.style.height="auto";const Re=xe.getBoundingClientRect().height;xe.style.height=rt,Bt(Re),m(He=>He.find(ye=>ye.toastId===u.id)?He.map(ye=>ye.toastId===u.id?{...ye,height:Re}:ye):[{toastId:u.id,height:Re,position:u.position},...He])},[pe,u.title,u.description,m,u.id,u.jsx,u.action,u.cancel]);const _e=Y.useCallback(()=>{Ce(!0),Nt(je.current),m(xe=>xe.filter(rt=>rt.toastId!==u.id)),setTimeout(()=>{T(u)},tp)},[u,T,m,je]);Y.useEffect(()=>{if(u.promise&&B==="loading"||u.duration===1/0||u.type==="loading")return;let xe;return v||f||ie?(()=>{if(vt.current<Oe.current){const He=new Date().getTime()-Oe.current;Xe.current=Xe.current-He}vt.current=new Date().getTime()})():(()=>{Xe.current!==1/0&&(Oe.current=new Date().getTime(),xe=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),_e()},Xe.current))})(),()=>clearTimeout(xe)},[v,f,u,B,ie,_e]),Y.useEffect(()=>{u.delete&&(_e(),u.onDismiss==null||u.onDismiss.call(u,u))},[_e,u.delete]);function On(){var xe;if(z!=null&&z.loading){var rt;return Y.createElement("div",{className:mn(U==null?void 0:U.loader,u==null||(rt=u.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":B==="loading"},z.loading)}return Y.createElement(M0,{className:mn(U==null?void 0:U.loader,u==null||(xe=u.classNames)==null?void 0:xe.loader),visible:B==="loading"})}const dn=u.icon||(z==null?void 0:z[B])||D0(B);var Zt,In;return Y.createElement("li",{tabIndex:0,ref:it,className:mn(N,re,U==null?void 0:U.toast,u==null||(t=u.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[B],u==null||(n=u.classNames)==null?void 0:n[B]),"data-sonner-toast":"","data-rich-colors":(Zt=u.richColors)!=null?Zt:w,"data-styled":!(u.jsx||u.unstyled||l),"data-mounted":pe,"data-promise":!!u.promise,"data-swiped":pt,"data-removed":Ie,"data-visible":R,"data-y-position":zt,"data-x-position":K,"data-index":g,"data-front":Ze,"data-swiping":Ye,"data-dismissible":H,"data-type":B,"data-invert":Se,"data-swipe-out":st,"data-swipe-direction":de,"data-expanded":!!(v||V&&pe),"data-testid":u.testId,style:{"--index":g,"--toasts-before":g,"--z-index":y.length-g,"--offset":`${Ie?At:je.current}px`,"--initial-height":V?"auto":`${St}px`,...S,...u.style},onDragEnd:()=>{Me(!1),ae(null),nt.current=null},onPointerDown:xe=>{xe.button!==2&&(Ue||!H||(It.current=new Date,Nt(je.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Me(!0),nt.current={x:xe.clientX,y:xe.clientY})))},onPointerUp:()=>{var xe,rt,Re;if(st||!H)return;nt.current=null;const He=Number(((xe=it.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),be=Number(((rt=it.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ye=new Date().getTime()-((Re=It.current)==null?void 0:Re.getTime()),We=ce==="x"?He:be,Yt=Math.abs(We)/ye;if(Math.abs(We)>=ep||Yt>.11){Nt(je.current),u.onDismiss==null||u.onDismiss.call(u,u),me(ce==="x"?He>0?"right":"left":be>0?"down":"up"),_e(),Ge(!0);return}else{var te,ue;(te=it.current)==null||te.style.setProperty("--swipe-amount-x","0px"),(ue=it.current)==null||ue.style.setProperty("--swipe-amount-y","0px")}tt(!1),Me(!1),ae(null)},onPointerMove:xe=>{var rt,Re,He;if(!nt.current||!H||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;const ye=xe.clientY-nt.current.y,We=xe.clientX-nt.current.x;var Yt;const te=(Yt=e.swipeDirections)!=null?Yt:np(j);!ce&&(Math.abs(We)>1||Math.abs(ye)>1)&&ae(Math.abs(We)>Math.abs(ye)?"x":"y");let ue={x:0,y:0};const he=De=>1/(1.5+Math.abs(De)/20);if(ce==="y"){if(te.includes("top")||te.includes("bottom"))if(te.includes("top")&&ye<0||te.includes("bottom")&&ye>0)ue.y=ye;else{const De=ye*he(ye);ue.y=Math.abs(De)<Math.abs(ye)?De:ye}}else if(ce==="x"&&(te.includes("left")||te.includes("right")))if(te.includes("left")&&We<0||te.includes("right")&&We>0)ue.x=We;else{const De=We*he(We);ue.x=Math.abs(De)<Math.abs(We)?De:We}(Math.abs(ue.x)>0||Math.abs(ue.y)>0)&&tt(!0),(Re=it.current)==null||Re.style.setProperty("--swipe-amount-x",`${ue.x}px`),(He=it.current)==null||He.style.setProperty("--swipe-amount-y",`${ue.y}px`)}},oe&&!u.jsx&&B!=="loading"?Y.createElement("button",{"aria-label":ne,"data-disabled":Ue,"data-close-button":!0,onClick:Ue||!H?()=>{}:()=>{_e(),u.onDismiss==null||u.onDismiss.call(u,u)},className:mn(U==null?void 0:U.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(In=z==null?void 0:z.close)!=null?In:H0):null,(B||u.icon||u.promise)&&u.icon!==null&&((z==null?void 0:z[B])!==null||u.icon)?Y.createElement("div",{"data-icon":"",className:mn(U==null?void 0:U.icon,u==null||(s=u.classNames)==null?void 0:s.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||On():null,u.type!=="loading"?dn:null):null,Y.createElement("div",{"data-content":"",className:mn(U==null?void 0:U.content,u==null||(a=u.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:mn(U==null?void 0:U.title,u==null||(o=u.classNames)==null?void 0:o.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?Y.createElement("div",{"data-description":"",className:mn(O,J,U==null?void 0:U.description,u==null||(i=u.classNames)==null?void 0:i.description)},typeof u.description=="function"?u.description():u.description):null),Y.isValidElement(u.cancel)?u.cancel:u.cancel&&ra(u.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||_,onClick:xe=>{ra(u.cancel)&&H&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,xe),_e())},className:mn(U==null?void 0:U.cancelButton,u==null||(c=u.classNames)==null?void 0:c.cancelButton)},u.cancel.label):null,Y.isValidElement(u.action)?u.action:u.action&&ra(u.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||A,onClick:xe=>{ra(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,xe),!xe.defaultPrevented&&_e())},className:mn(U==null?void 0:U.actionButton,u==null||(d=u.classNames)==null?void 0:d.actionButton)},u.action.label):null)};function hl(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function sp(e,t){const n={};return[e,t].forEach((r,s)=>{const a=s===1,o=a?"--mobile-offset":"--offset",i=a?Q0:X0;function c(d){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=i:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(i)}),n}const ap=Y.forwardRef(function(t,n){const{id:r,invert:s,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:c,className:d,offset:p,mobileOffset:u,theme:l="light",richColors:f,duration:m,style:h,visibleToasts:x=G0,toastOptions:g,dir:y=hl(),gap:v=J0,icons:T,containerAriaLabel:w="Notifications"}=t,[k,S]=Y.useState([]),_=Y.useMemo(()=>r?k.filter(pe=>pe.toasterId===r):k.filter(pe=>!pe.toasterId),[k,r]),A=Y.useMemo(()=>Array.from(new Set([a].concat(_.filter(pe=>pe.position).map(pe=>pe.position)))),[_,a]),[N,O]=Y.useState([]),[D,j]=Y.useState(!1),[$,V]=Y.useState(!1),[U,z]=Y.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=Y.useRef(null),ce=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=Y.useRef(null),de=Y.useRef(!1),me=Y.useCallback(pe=>{S(Te=>{var Ie;return(Ie=Te.find(Ce=>Ce.id===pe.id))!=null&&Ie.delete||Lt.dismiss(pe.id),Te.filter(({id:Ce})=>Ce!==pe.id)})},[]);return Y.useEffect(()=>Lt.subscribe(pe=>{if(pe.dismiss){requestAnimationFrame(()=>{S(Te=>Te.map(Ie=>Ie.id===pe.id?{...Ie,delete:!0}:Ie))});return}setTimeout(()=>{s0.flushSync(()=>{S(Te=>{const Ie=Te.findIndex(Ce=>Ce.id===pe.id);return Ie!==-1?[...Te.slice(0,Ie),{...Te[Ie],...pe},...Te.slice(Ie+1)]:[pe,...Te]})})})}),[k]),Y.useEffect(()=>{if(l!=="system"){z(l);return}if(l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;const pe=window.matchMedia("(prefers-color-scheme: dark)");try{pe.addEventListener("change",({matches:Te})=>{z(Te?"dark":"light")})}catch{pe.addListener(({matches:Ie})=>{try{z(Ie?"dark":"light")}catch(Ce){console.error(Ce)}})}},[l]),Y.useEffect(()=>{k.length<=1&&j(!1)},[k]),Y.useEffect(()=>{const pe=Te=>{var Ie;if(o.every(Me=>Te[Me]||Te.code===Me)){var Ye;j(!0),(Ye=ne.current)==null||Ye.focus()}Te.code==="Escape"&&(document.activeElement===ne.current||(Ie=ne.current)!=null&&Ie.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",pe),()=>document.removeEventListener("keydown",pe)},[o]),Y.useEffect(()=>{if(ne.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,de.current=!1)}},[ne.current]),Y.createElement("section",{ref:n,"aria-label":`${w} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((pe,Te)=>{var Ie;const[Ce,Ye]=pe.split("-");return _.length?Y.createElement("ol",{key:pe,dir:y==="auto"?hl():y,tabIndex:-1,ref:ne,className:d,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":Ce,"data-x-position":Ye,style:{"--front-toast-height":`${((Ie=N[0])==null?void 0:Ie.height)||0}px`,"--width":`${Z0}px`,"--gap":`${v}px`,...h,...sp(p,u)},onBlur:Me=>{de.current&&!Me.currentTarget.contains(Me.relatedTarget)&&(de.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||de.current||(de.current=!0,ae.current=Me.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{$||j(!1)},onDragEnd:()=>j(!1),onPointerDown:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},_.filter(Me=>!Me.position&&Te===0||Me.position===pe).map((Me,st)=>{var Ge,pt;return Y.createElement(rp,{key:Me.id,icons:T,index:st,toast:Me,defaultRichColors:f,duration:(Ge=g==null?void 0:g.duration)!=null?Ge:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:s,visibleToasts:x,closeButton:(pt=g==null?void 0:g.closeButton)!=null?pt:c,interacting:$,position:pe,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,closeButtonAriaLabel:g==null?void 0:g.closeButtonAriaLabel,removeToast:me,toasts:_.filter(tt=>tt.position==Me.position),heights:N.filter(tt=>tt.position==Me.position),setHeights:O,expandByDefault:i,gap:v,expanded:D,swipeDirections:t.swipeDirections})})):null}))});function Wd({hash:e}){return E.jsxs("a",{className:"inline-flex items-center gap-1.5 text-accent-cyan hover:text-accent-cyan/80 transition-colors text-sm",href:Pe.blockExplorer.url+"/tx/"+e,target:"_blank",rel:"noopener noreferrer",children:["View on ",Pe.blockExplorer.name,E.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}function ip(){const{register:e}=Yd(),t=(n,r)=>{const s=r.hash?E.jsx(Wd,{hash:r.hash}):null;r.status==="pending"?na.loading(r.content||"Waiting for approval...",{id:n,description:r.name}):r.status==="approved"?na.loading(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction approved, confirming..."}),s]}),{id:n,description:r.name}):r.status==="success"?na.success(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction confirmed!"}),s]}),{id:n,description:r.name,duration:8e3}):r.status==="error"&&na.error(r.content||E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Transaction failed"}),r.errorMessage&&E.jsx("p",{className:"text-xs text-ink-400 break-words",children:r.errorMessage}),s]}),{id:n,description:r.name,duration:1e4})};return M.useEffect(()=>{e(t)},[]),E.jsx(ap,{position:"bottom-right",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"sonner-toast"},richColors:!0,closeButton:!0})}function op(){const{isConnected:e}=qt(),t=$d(),{switchChain:n}=Qm();return M.useEffect(()=>{e&&t!==Ts.id&&(n==null||n({chainId:Ts.id}))},[e,t,n]),null}function up({children:e,props:t}){return E.jsxs("div",{className:"min-h-screen flex flex-col bg-ink-950",children:[E.jsx(op,{}),E.jsx("main",{className:"flex-1",children:e}),E.jsx(ip,{}),E.jsx("footer",{className:"bg-ink-900/50 border-t border-ink-800/50 mt-auto",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("span",{className:"font-mono text-xl font-bold text-ink-100",children:[".zang","{"]}),E.jsxs("p",{className:"text-ink-400 text-sm",children:["Text-based NFTs on Base.",E.jsx("br",{}),"By artists, for artists."]}),E.jsx("p",{className:"text-ink-500 text-xs",children:"Platform fee: 5%"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-ink-300 font-medium text-sm uppercase tracking-wide",children:"Contact"}),E.jsx("a",{href:"mailto:team@zang.gallery",className:"block text-ink-400 hover:text-accent-cyan transition-colors text-sm",children:"team@zang.gallery"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-ink-300 font-medium text-sm uppercase tracking-wide",children:"Community"}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsxs("a",{href:"https://twitter.com/zanggallery",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Twitter"]}),E.jsxs("a",{href:"https://github.com/zanggallery",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),"GitHub"]}),E.jsxs("a",{href:"https://discord.gg/jnpCz9R3gf",target:"_blank",rel:"noopener noreferrer",className:"text-ink-400 hover:text-accent-cyan transition-colors text-sm inline-flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189z"})}),"Discord"]})]})]})]}),E.jsx("div",{className:"mt-8 pt-8 border-t border-ink-800/50",children:E.jsx("p",{className:"text-ink-500 text-xs text-center",children:"Built on Base"})})]})})]})}function Nr(){const[e,t]=M.useState(!1),{isConnected:n}=qt(),r=$d(),s=[{href:"/",label:"Home"},{href:"/mint",label:"Mint"},{href:"/activity",label:"Activity"}];return n&&s.push({href:"/vault",label:"Vault"}),E.jsxs("header",{className:"sticky top-0 z-50 bg-ink-950/80 backdrop-blur-md border-b border-ink-800/50",children:[E.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"flex items-center h-16",children:[E.jsx("div",{className:"flex-shrink-0 w-64",children:E.jsx(xa,{href:"/",className:"group flex items-center",children:E.jsxs("span",{className:"font-mono text-2xl font-bold text-ink-100 group-hover:text-white transition-colors duration-200",children:[".zang","{"]})})}),E.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center space-x-8",children:s.map(a=>E.jsx(xa,{href:a.href,className:"nav-link text-sm font-medium uppercase tracking-wide",children:a.label},a.href))}),E.jsx("div",{className:"hidden md:flex flex-shrink-0 justify-end w-64",children:E.jsx(sc,{})}),E.jsx("button",{className:"md:hidden ml-auto p-2 rounded-lg text-ink-400 hover:text-white hover:bg-ink-800/50 transition-colors",onClick:()=>t(!e),"aria-label":"Toggle menu","aria-expanded":e,children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&E.jsx("div",{className:"md:hidden py-4 border-t border-ink-800/50 animate-fade-in",children:E.jsxs("div",{className:"flex flex-col space-y-4",children:[s.map(a=>E.jsx(xa,{href:a.href,className:"text-ink-300 hover:text-white text-sm font-medium uppercase tracking-wide py-2 transition-colors",onClick:()=>t(!1),children:a.label},a.href)),E.jsx("div",{className:"pt-4 border-t border-ink-800/50",children:E.jsx(sc,{})})]})})]}),n&&r!==Pe.networks.main.chainId&&E.jsx("div",{className:"bg-red-500/10 border-b border-red-500/20 px-4 py-3",children:E.jsxs("p",{className:"text-center text-red-400 text-sm",children:["Please switch to"," ",E.jsx("span",{className:"font-semibold",children:Pe.networks.main.name})]})})]})}var $s=e=>e.type==="checkbox",fr=e=>e instanceof Date,Dt=e=>e==null;const Kd=e=>typeof e=="object";var ct=e=>!Dt(e)&&!Array.isArray(e)&&Kd(e)&&!fr(e),lp=e=>ct(e)&&e.target?$s(e.target)?e.target.checked:e.target.value:e,cp=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dp=(e,t)=>e.has(cp(t)),fp=e=>{const t=e.constructor&&e.constructor.prototype;return ct(t)&&t.hasOwnProperty("isPrototypeOf")},fu=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gt(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(fu&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(ct(e)&&fp(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=gt(e[s]));return r}var Ga=e=>/^\w*$/.test(e),at=e=>e===void 0,hu=e=>Array.isArray(e)?e.filter(Boolean):[],mu=e=>hu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,n)=>{if(!t||!ct(e))return n;const r=(Ga(t)?[t]:mu(t)).reduce((s,a)=>Dt(s)?s:s[a],e);return at(r)||r===e?at(e[t])?n:e[t]:r},gn=e=>typeof e=="boolean",nn=e=>typeof e=="function",Ve=(e,t,n)=>{let r=-1;const s=Ga(t)?[t]:mu(t),a=s.length,o=a-1;for(;++r<a;){const i=s[r];let c=n;if(r!==o){const d=e[i];c=ct(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(i==="__proto__"||i==="constructor"||i==="prototype")return;e[i]=c,e=e[i]}};const ml={BLUR:"blur",FOCUS_OUT:"focusout"},rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ln={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hp=Y.createContext(null);hp.displayName="HookFormContext";var mp=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==rn.all&&(t._proxyFormState[o]=!r||rn.all),e[o]}});return s};const pp=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;var Ht=e=>typeof e=="string",gp=(e,t,n,r,s)=>Ht(e)?(r&&t.watch.add(e),le(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),le(n,a))):(r&&(t.watchAll=!0),n),no=e=>Dt(e)||!Kd(e);function Kn(e,t,n=new WeakSet){if(no(e)||no(t))return Object.is(e,t);if(fr(e)&&fr(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const i=t[a];if(fr(o)&&fr(i)||ct(o)&&ct(i)||Array.isArray(o)&&Array.isArray(i)?!Kn(o,i,n):!Object.is(o,i))return!1}}return!0}var Gd=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},fs=e=>Array.isArray(e)?e:[e],pl=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function Xd(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],a=t[r];if(s&&ct(s)&&a){const o=Xd(s,a);ct(o)&&(n[r]=o)}else e[r]&&(n[r]=a)}return n}var Ct=e=>ct(e)&&!Object.keys(e).length,pu=e=>e.type==="file",Ia=e=>{if(!fu)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qd=e=>e.type==="select-multiple",gu=e=>e.type==="radio",bp=e=>gu(e)||$s(e),Ti=e=>Ia(e)&&e.isConnected;function yp(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=at(e)?r++:e[t[r++]];return e}function Ep(e){for(const t in e)if(e.hasOwnProperty(t)&&!at(e[t]))return!1;return!0}function ot(e,t){const n=Array.isArray(t)?t:Ga(t)?[t]:mu(t),r=n.length===1?e:yp(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(ct(r)&&Ct(r)||Array.isArray(r)&&Ep(r))&&ot(e,n.slice(0,-1)),e}var xp=e=>{for(const t in e)if(nn(e[t]))return!0;return!1};function Zd(e){return Array.isArray(e)||ct(e)&&!xp(e)}function ro(e,t={}){for(const n in e){const r=e[n];Zd(r)?(t[n]=Array.isArray(r)?[]:{},ro(r,t[n])):at(r)||(t[n]=!0)}return t}function Pr(e,t,n){n||(n=ro(t));for(const r in e){const s=e[r];if(Zd(s))at(t)||no(n[r])?n[r]=ro(s,Array.isArray(s)?[]:{}):Pr(s,Dt(t)?{}:t[r],n[r]);else{const a=t[r];n[r]=!Kn(s,a)}}return n}const gl={value:!1,isValid:!1},bl={value:!0,isValid:!0};var Jd=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!at(e[0].attributes.value)?at(e[0].value)||e[0].value===""?bl:{value:e[0].value,isValid:!0}:bl:gl}return gl},ef=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>at(e)?e:t?e===""?NaN:e&&+e:n&&Ht(e)?new Date(e):r?r(e):e;const yl={isValid:!1,value:null};var tf=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,yl):yl;function El(e){const t=e.ref;return pu(t)?t.files:gu(t)?tf(e.refs).value:Qd(t)?[...t.selectedOptions].map(({value:n})=>n):$s(t)?Jd(e.refs).value:ef(at(t.value)?e.ref.value:t.value,e)}var vp=(e,t,n,r)=>{const s={};for(const a of e){const o=le(t,a);o&&Ve(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Ra=e=>e instanceof RegExp,rs=e=>at(e)?e:Ra(e)?e.source:ct(e)?Ra(e.value)?e.value.source:e.value:e,xl=e=>({isOnSubmit:!e||e===rn.onSubmit,isOnBlur:e===rn.onBlur,isOnChange:e===rn.onChange,isOnAll:e===rn.all,isOnTouch:e===rn.onTouched});const vl="AsyncFunction";var _p=e=>!!e&&!!e.validate&&!!(nn(e.validate)&&e.validate.constructor.name===vl||ct(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vl)),Tp=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),_l=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const hs=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=le(e,s);if(a){const{_f:o,...i}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(hs(i,t))break}else if(ct(i)&&hs(i,t))break}}};function Tl(e,t,n){const r=le(e,n);if(r||Ga(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=le(t,a),i=le(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:`${a}.root`,error:i.root};s.pop()}return{name:n}}var wp=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return Ct(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||rn.all))},Ap=(e,t,n)=>!e||!t||e===t||fs(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Np=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,Sp=(e,t)=>!hu(le(e,t)).length&&ot(e,t),kp=(e,t,n)=>{const r=fs(le(e,n));return Ve(r,"root",t[n]),Ve(e,n,r),e};function wl(e,t,n="validate"){if(Ht(e)||Array.isArray(e)&&e.every(Ht)||gn(e)&&!e)return{type:n,message:Ht(e)?e:"",ref:t}}var Ir=e=>ct(e)&&!Ra(e)?e:{value:e,message:""},Al=async(e,t,n,r,s,a)=>{const{ref:o,refs:i,required:c,maxLength:d,minLength:p,min:u,max:l,pattern:f,validate:m,name:h,valueAsNumber:x,mount:g}=e._f,y=le(n,h);if(!g||t.has(h))return{};const v=i?i[0]:o,T=D=>{s&&v.reportValidity&&(v.setCustomValidity(gn(D)?"":D||""),v.reportValidity())},w={},k=gu(o),S=$s(o),_=k||S,A=(x||pu(o))&&at(o.value)&&at(y)||Ia(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,N=Gd.bind(null,h,r,w),O=(D,j,$,V=Ln.maxLength,U=Ln.minLength)=>{const z=D?j:$;w[h]={type:D?V:U,message:z,ref:o,...N(D?V:U,z)}};if(a?!Array.isArray(y)||!y.length:c&&(!_&&(A||Dt(y))||gn(y)&&!y||S&&!Jd(i).isValid||k&&!tf(i).isValid)){const{value:D,message:j}=Ht(c)?{value:!!c,message:c}:Ir(c);if(D&&(w[h]={type:Ln.required,message:j,ref:v,...N(Ln.required,j)},!r))return T(j),w}if(!A&&(!Dt(u)||!Dt(l))){let D,j;const $=Ir(l),V=Ir(u);if(!Dt(y)&&!isNaN(y)){const U=o.valueAsNumber||y&&+y;Dt($.value)||(D=U>$.value),Dt(V.value)||(j=U<V.value)}else{const U=o.valueAsDate||new Date(y),z=ae=>new Date(new Date().toDateString()+" "+ae),ne=o.type=="time",ce=o.type=="week";Ht($.value)&&y&&(D=ne?z(y)>z($.value):ce?y>$.value:U>new Date($.value)),Ht(V.value)&&y&&(j=ne?z(y)<z(V.value):ce?y<V.value:U<new Date(V.value))}if((D||j)&&(O(!!D,$.message,V.message,Ln.max,Ln.min),!r))return T(w[h].message),w}if((d||p)&&!A&&(Ht(y)||a&&Array.isArray(y))){const D=Ir(d),j=Ir(p),$=!Dt(D.value)&&y.length>+D.value,V=!Dt(j.value)&&y.length<+j.value;if(($||V)&&(O($,D.message,j.message),!r))return T(w[h].message),w}if(f&&!A&&Ht(y)){const{value:D,message:j}=Ir(f);if(Ra(D)&&!y.match(D)&&(w[h]={type:Ln.pattern,message:j,ref:o,...N(Ln.pattern,j)},!r))return T(j),w}if(m){if(nn(m)){const D=await m(y,n),j=wl(D,v);if(j&&(w[h]={...j,...N(Ln.validate,j.message)},!r))return T(j.message),w}else if(ct(m)){let D={};for(const j in m){if(!Ct(D)&&!r)break;const $=wl(await m[j](y,n),v,j);$&&(D={...$,...N(j,$.message)},T($.message),r&&(w[h]=D))}if(!Ct(D)&&(w[h]={ref:v,...D},!r))return w}}return T(!0),w};const Cp={mode:rn.onSubmit,reValidateMode:rn.onChange,shouldFocusError:!0};function Op(e={}){let t={...Cp,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:nn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=ct(t.defaultValues)||ct(t.values)?gt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:gt(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},i={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={...p};let l={...u};const f={array:pl(),state:pl()},m=t.criteriaMode===rn.all,h=R=>B=>{clearTimeout(d),d=setTimeout(R,B)},x=async R=>{if(!o.keepIsValid&&!t.disabled&&(u.isValid||l.isValid||R)){let B;t.resolver?(B=Ct((await _()).errors),g()):B=await N(r,!0),B!==n.isValid&&f.state.next({isValid:B})}},g=(R,B)=>{!t.disabled&&(u.isValidating||u.validatingFields||l.isValidating||l.validatingFields)&&((R||Array.from(i.mount)).forEach(H=>{H&&(B?Ve(n.validatingFields,H,B):ot(n.validatingFields,H))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Ct(n.validatingFields)}))},y=(R,B=[],H,re,J=!0,X=!0)=>{if(re&&H&&!t.disabled){if(o.action=!0,X&&Array.isArray(le(r,R))){const oe=H(le(r,R),re.argA,re.argB);J&&Ve(r,R,oe)}if(X&&Array.isArray(le(n.errors,R))){const oe=H(le(n.errors,R),re.argA,re.argB);J&&Ve(n.errors,R,oe),Sp(n.errors,R)}if((u.touchedFields||l.touchedFields)&&X&&Array.isArray(le(n.touchedFields,R))){const oe=H(le(n.touchedFields,R),re.argA,re.argB);J&&Ve(n.touchedFields,R,oe)}(u.dirtyFields||l.dirtyFields)&&(n.dirtyFields=Pr(s,a)),f.state.next({name:R,isDirty:D(R,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ve(a,R,B)},v=(R,B)=>{Ve(n.errors,R,B),f.state.next({errors:n.errors})},T=R=>{n.errors=R,f.state.next({errors:n.errors,isValid:!1})},w=(R,B,H,re)=>{const J=le(r,R);if(J){const X=le(a,R,at(H)?le(s,R):H);at(X)||re&&re.defaultChecked||B?Ve(a,R,B?X:El(J._f)):V(R,X),o.mount&&!o.action&&x()}},k=(R,B,H,re,J)=>{let X=!1,oe=!1;const we={name:R};if(!t.disabled){if(!H||re){(u.isDirty||l.isDirty)&&(oe=n.isDirty,n.isDirty=we.isDirty=D(),X=oe!==we.isDirty);const Oe=Kn(le(s,R),B);oe=!!le(n.dirtyFields,R),Oe?ot(n.dirtyFields,R):Ve(n.dirtyFields,R,!0),we.dirtyFields=n.dirtyFields,X=X||(u.dirtyFields||l.dirtyFields)&&oe!==!Oe}if(H){const Oe=le(n.touchedFields,R);Oe||(Ve(n.touchedFields,R,H),we.touchedFields=n.touchedFields,X=X||(u.touchedFields||l.touchedFields)&&Oe!==H)}X&&J&&f.state.next(we)}return X?we:{}},S=(R,B,H,re)=>{const J=le(n.errors,R),X=(u.isValid||l.isValid)&&gn(B)&&n.isValid!==B;if(t.delayError&&H?(c=h(()=>v(R,H)),c(t.delayError)):(clearTimeout(d),c=null,H?Ve(n.errors,R,H):ot(n.errors,R)),(H?!Kn(J,H):J)||!Ct(re)||X){const oe={...re,...X&&gn(B)?{isValid:B}:{},errors:n.errors,name:R};n={...n,...oe},f.state.next(oe)}},_=async R=>(g(R,!0),await t.resolver(a,t.context,vp(R||i.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),A=async R=>{const{errors:B}=await _(R);if(g(R),R)for(const H of R){const re=le(B,H);re?Ve(n.errors,H,re):ot(n.errors,H)}else n.errors=B;return B},N=async(R,B,H={valid:!0})=>{for(const re in R){const J=R[re];if(J){const{_f:X,...oe}=J;if(X){const we=i.array.has(X.name),Oe=J._f&&_p(J._f);Oe&&u.validatingFields&&g([X.name],!0);const je=await Al(J,i.disabled,a,m,t.shouldUseNativeValidation&&!B,we);if(Oe&&u.validatingFields&&g([X.name]),je[X.name]&&(H.valid=!1,B))break;!B&&(le(je,X.name)?we?kp(n.errors,je,X.name):Ve(n.errors,X.name,je[X.name]):ot(n.errors,X.name))}!Ct(oe)&&await N(oe,B,H)}}return H.valid},O=()=>{for(const R of i.unMount){const B=le(r,R);B&&(B._f.refs?B._f.refs.every(H=>!Ti(H)):!Ti(B._f.ref))&&Me(R)}i.unMount=new Set},D=(R,B)=>!t.disabled&&(R&&B&&Ve(a,R,B),!Kn(de(),s)),j=(R,B,H)=>gp(R,i,{...o.mount?a:at(B)?s:Ht(R)?{[R]:B}:B},H,B),$=R=>hu(le(o.mount?a:s,R,t.shouldUnregister?le(s,R,[]):[])),V=(R,B,H={})=>{const re=le(r,R);let J=B;if(re){const X=re._f;X&&(!X.disabled&&Ve(a,R,ef(B,X)),J=Ia(X.ref)&&Dt(B)?"":B,Qd(X.ref)?[...X.ref.options].forEach(oe=>oe.selected=J.includes(oe.value)):X.refs?$s(X.ref)?X.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(J)?oe.checked=!!J.find(we=>we===oe.value):oe.checked=J===oe.value||!!J)}):X.refs.forEach(oe=>oe.checked=oe.value===J):pu(X.ref)?X.ref.value="":(X.ref.value=J,X.ref.type||f.state.next({name:R,values:gt(a)})))}(H.shouldDirty||H.shouldTouch)&&k(R,J,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&ae(R)},U=(R,B,H)=>{for(const re in B){if(!B.hasOwnProperty(re))return;const J=B[re],X=R+"."+re,oe=le(r,X);(i.array.has(R)||ct(J)||oe&&!oe._f)&&!fr(J)?U(X,J,H):V(X,J,H)}},z=(R,B,H={})=>{const re=le(r,R),J=i.array.has(R),X=gt(B);Ve(a,R,X),J?(f.array.next({name:R,values:gt(a)}),(u.isDirty||u.dirtyFields||l.isDirty||l.dirtyFields)&&H.shouldDirty&&f.state.next({name:R,dirtyFields:Pr(s,a),isDirty:D(R,X)})):re&&!re._f&&!Dt(X)?U(R,X,H):V(R,X,H),_l(R,i)&&f.state.next({...n,name:R}),f.state.next({name:o.mount?R:void 0,values:gt(a)})},ne=async R=>{o.mount=!0;const B=R.target;let H=B.name,re=!0;const J=le(r,H),X=Oe=>{re=Number.isNaN(Oe)||fr(Oe)&&isNaN(Oe.getTime())||Kn(Oe,le(a,H,Oe))},oe=xl(t.mode),we=xl(t.reValidateMode);if(J){let Oe,je;const vt=B.type?El(J._f):lp(R),nt=R.type===ml.BLUR||R.type===ml.FOCUS_OUT,zt=!Tp(J._f)&&!t.resolver&&!le(n.errors,H)&&!J._f.deps||Np(nt,le(n.touchedFields,H),n.isSubmitted,we,oe),K=_l(H,i,nt);Ve(a,H,vt),nt?(!B||!B.readOnly)&&(J._f.onBlur&&J._f.onBlur(R),c&&c(0)):J._f.onChange&&J._f.onChange(R);const se=k(H,vt,nt),ie=!Ct(se)||K;if(!nt&&f.state.next({name:H,type:R.type,values:gt(a)}),zt)return(u.isValid||l.isValid)&&(t.mode==="onBlur"?nt&&x():nt||x()),ie&&f.state.next({name:H,...K?{}:se});if(!nt&&K&&f.state.next({...n}),t.resolver){const{errors:Se}=await _([H]);if(g([H]),X(vt),re){const Ue=Tl(n.errors,r,H),_e=Tl(Se,r,Ue.name||H);Oe=_e.error,H=_e.name,je=Ct(Se)}}else g([H],!0),Oe=(await Al(J,i.disabled,a,m,t.shouldUseNativeValidation))[H],g([H]),X(vt),re&&(Oe?je=!1:(u.isValid||l.isValid)&&(je=await N(r,!0)));re&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&ae(J._f.deps),S(H,je,Oe,se))}},ce=(R,B)=>{if(le(n.errors,B)&&R.focus)return R.focus(),1},ae=async(R,B={})=>{let H,re;const J=fs(R);if(t.resolver){const X=await A(at(R)?R:J);H=Ct(X),re=R?!J.some(oe=>le(X,oe)):H}else R?(re=(await Promise.all(J.map(async X=>{const oe=le(r,X);return await N(oe&&oe._f?{[X]:oe}:oe)}))).every(Boolean),!(!re&&!n.isValid)&&x()):re=H=await N(r);return f.state.next({...!Ht(R)||(u.isValid||l.isValid)&&H!==n.isValid?{}:{name:R},...t.resolver||!R?{isValid:H}:{},errors:n.errors}),B.shouldFocus&&!re&&hs(r,ce,R?J:i.mount),re},de=(R,B)=>{let H={...o.mount?a:s};return B&&(H=Xd(B.dirtyFields?n.dirtyFields:n.touchedFields,H)),at(R)?H:Ht(R)?le(H,R):R.map(re=>le(H,re))},me=(R,B)=>({invalid:!!le((B||n).errors,R),isDirty:!!le((B||n).dirtyFields,R),error:le((B||n).errors,R),isValidating:!!le(n.validatingFields,R),isTouched:!!le((B||n).touchedFields,R)}),pe=R=>{R&&fs(R).forEach(B=>ot(n.errors,B)),f.state.next({errors:R?n.errors:{}})},Te=(R,B,H)=>{const re=(le(r,R,{_f:{}})._f||{}).ref,J=le(n.errors,R)||{},{ref:X,message:oe,type:we,...Oe}=J;Ve(n.errors,R,{...Oe,...B,ref:re}),f.state.next({name:R,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&re&&re.focus&&re.focus()},Ie=(R,B)=>nn(R)?f.state.subscribe({next:H=>"values"in H&&R(j(void 0,B),H)}):j(R,B,!0),Ce=R=>f.state.subscribe({next:B=>{Ap(R.name,B.name,R.exact)&&wp(B,R.formState||u,It,R.reRenderRoot)&&R.callback({values:{...a},...n,...B,defaultValues:s})}}).unsubscribe,Ye=R=>(o.mount=!0,l={...l,...R.formState},Ce({...R,formState:{...p,...R.formState}})),Me=(R,B={})=>{for(const H of R?fs(R):i.mount)i.mount.delete(H),i.array.delete(H),B.keepValue||(ot(r,H),ot(a,H)),!B.keepError&&ot(n.errors,H),!B.keepDirty&&ot(n.dirtyFields,H),!B.keepTouched&&ot(n.touchedFields,H),!B.keepIsValidating&&ot(n.validatingFields,H),!t.shouldUnregister&&!B.keepDefaultValue&&ot(s,H);f.state.next({values:gt(a)}),f.state.next({...n,...B.keepDirty?{isDirty:D()}:{}}),!B.keepIsValid&&x()},st=({disabled:R,name:B})=>{(gn(R)&&o.mount||R||i.disabled.has(B))&&(R?i.disabled.add(B):i.disabled.delete(B))},Ge=(R,B={})=>{let H=le(r,R);const re=gn(B.disabled)||gn(t.disabled);return Ve(r,R,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:R}},name:R,mount:!0,...B}}),i.mount.add(R),H?st({disabled:gn(B.disabled)?B.disabled:t.disabled,name:R}):w(R,!0,B.value),{...re?{disabled:B.disabled||t.disabled}:{},...t.progressive?{required:!!B.required,min:rs(B.min),max:rs(B.max),minLength:rs(B.minLength),maxLength:rs(B.maxLength),pattern:rs(B.pattern)}:{},name:R,onChange:ne,onBlur:ne,ref:J=>{if(J){Ge(R,B),H=le(r,R);const X=at(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,oe=bp(X),we=H._f.refs||[];if(oe?we.find(Oe=>Oe===X):X===H._f.ref)return;Ve(r,R,{_f:{...H._f,...oe?{refs:[...we.filter(Ti),X,...Array.isArray(le(s,R))?[{}]:[]],ref:{type:X.type,name:R}}:{ref:X}}}),w(R,!1,void 0,X)}else H=le(r,R,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||B.shouldUnregister)&&!(dp(i.array,R)&&o.action)&&i.unMount.add(R)}}},pt=()=>t.shouldFocusError&&hs(r,ce,i.mount),tt=R=>{gn(R)&&(f.state.next({disabled:R}),hs(r,(B,H)=>{const re=le(r,H);re&&(B.disabled=re._f.disabled||R,Array.isArray(re._f.refs)&&re._f.refs.forEach(J=>{J.disabled=re._f.disabled||R}))},0,!1))},At=(R,B)=>async H=>{let re;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let J=gt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:oe}=await _();g(),n.errors=X,J=gt(oe)}else await N(r);if(i.disabled.size)for(const X of i.disabled)ot(J,X);if(ot(n.errors,"root"),Ct(n.errors)){f.state.next({errors:{}});try{await R(J,H)}catch(X){re=X}}else B&&await B({...n.errors},H),pt(),setTimeout(pt);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ct(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},Nt=(R,B={})=>{le(r,R)&&(at(B.defaultValue)?z(R,gt(le(s,R))):(z(R,B.defaultValue),Ve(s,R,gt(B.defaultValue))),B.keepTouched||ot(n.touchedFields,R),B.keepDirty||(ot(n.dirtyFields,R),n.isDirty=B.defaultValue?D(R,gt(le(s,R))):D()),B.keepError||(ot(n.errors,R),u.isValid&&x()),f.state.next({...n}))},St=(R,B={})=>{const H=R?gt(R):s,re=gt(H),J=Ct(R),X=J?s:re;if(B.keepDefaultValues||(s=H),!B.keepValues){if(B.keepDirtyValues){const oe=new Set([...i.mount,...Object.keys(Pr(s,a))]);for(const we of Array.from(oe))le(n.dirtyFields,we)?Ve(X,we,le(a,we)):z(we,le(X,we))}else{if(fu&&at(R))for(const oe of i.mount){const we=le(r,oe);if(we&&we._f){const Oe=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Ia(Oe)){const je=Oe.closest("form");if(je){je.reset();break}}}}if(B.keepFieldsRef)for(const oe of i.mount)z(oe,le(X,oe));else r={}}a=t.shouldUnregister?B.keepDefaultValues?gt(s):{}:gt(X),f.array.next({values:{...X}}),f.state.next({values:{...X}})}i={mount:B.keepDirtyValues?i.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!B.keepIsValid||!!B.keepDirtyValues||!t.shouldUnregister&&!Ct(X),o.watch=!!t.shouldUnregister,o.keepIsValid=!!B.keepIsValid,o.action=!1,B.keepErrors||(n.errors={}),f.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:J?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!Kn(R,s)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:B.keepDirtyValues?B.keepDefaultValues&&a?Pr(s,a):n.dirtyFields:B.keepDefaultValues&&R?Pr(s,R):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Bt=(R,B)=>St(nn(R)?R(a):R,{...t.resetOptions,...B}),Xe=(R,B={})=>{const H=le(r,R),re=H&&H._f;if(re){const J=re.refs?re.refs[0]:re.ref;J.focus&&setTimeout(()=>{J.focus(),B.shouldSelect&&nn(J.select)&&J.select()})}},It=R=>{n={...n,...R}},Ze={control:{register:Ge,unregister:Me,getFieldState:me,handleSubmit:At,setError:Te,_subscribe:Ce,_runSchema:_,_updateIsValidating:g,_focusError:pt,_getWatch:j,_getDirty:D,_setValid:x,_setFieldArray:y,_setDisabledField:st,_setErrors:T,_getFieldArray:$,_reset:St,_resetDefaultValues:()=>nn(t.defaultValues)&&t.defaultValues().then(R=>{Bt(R,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:tt,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(R){o=R},get _defaultValues(){return s},get _names(){return i},set _names(R){i=R},get _formState(){return n},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:Ye,trigger:ae,register:Ge,handleSubmit:At,watch:Ie,setValue:z,getValues:de,reset:Bt,resetField:Nt,clearErrors:pe,unregister:Me,setError:Te,setFocus:Xe,getFieldState:me};return{...Ze,formControl:Ze}}function qs(e={}){const t=Y.useRef(void 0),n=Y.useRef(void 0),[r,s]=Y.useState({isDirty:!1,isValidating:!1,isLoading:nn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:nn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!nn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...i}=Op(e);t.current={...i,formState:r}}const a=t.current.control;return a._options=e,pp(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(i=>({...i,isReady:!0})),a._formState.isReady=!0,o},[a]),Y.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Y.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Y.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Y.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Y.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Y.useEffect(()=>{var o;e.values&&!Kn(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),Y.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=mp(r,a),t.current}const Nl=(e,t,n)=>{if(e&&"reportValidity"in e){const r=le(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},nf=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Nl(r.ref,n,e):r.refs&&r.refs.forEach(s=>Nl(s,n,e))}},Ip=(e,t)=>{t.shouldUseNativeValidation&&nf(e,t);const n={};for(const r in e){const s=le(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(Rp(t.names||Object.keys(e),r)){const o=Object.assign({},le(n,r));Ve(o,"root",a),Ve(n,r,o)}else Ve(n,r,a)}return n},Rp=(e,t)=>e.some(n=>n.startsWith(t+"."));var Vs=function(e,t,n){return t===void 0&&(t={abortEarly:!1}),n===void 0&&(n={}),function(r,s,a){try{var o=function(){return c.error?{values:{},errors:Ip((p=c.error,u=!a.shouldUseNativeValidation&&a.criteriaMode==="all",p.details.length?p.details.reduce(function(l,f){var m=f.path.join(".");if(l[m]||(l[m]={message:f.message,type:f.type}),u){var h=l[m].types,x=h&&h[f.type];l[m]=Gd(m,u,l,f.type,x?[].concat(x,f.message):f.message)}return l},{}):{}),a)}:(a.shouldUseNativeValidation&&nf({},a),{errors:{},values:c.value});var p,u},i=Object.assign({},t,{context:s}),c={},d=(function(){if(n.mode==="sync")c=e.validate(r,i);else{var p=(function(u,l){try{var f=u()}catch(m){return l(m)}return f&&f.then?f.then(void 0,l):f})(function(){return Promise.resolve(e.validateAsync(r,i)).then(function(u){c.value=u})},function(u){c.error=u});if(p&&p.then)return p.then(function(){})}})();return Promise.resolve(d&&d.then?d.then(o):o())}catch(p){return Promise.reject(p)}}};function sn(e){const t={...e};delete t.label,delete t.name,delete t.errors,delete t.register,delete t.hint;const n=e.errors[e.name];return E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"block text-sm font-medium text-ink-300",children:e.label}),E.jsx("input",{className:`w-full px-4 py-3 bg-ink-900 border rounded-lg text-ink-100 placeholder-ink-500 transition-colors duration-200 focus:outline-none focus:ring-1 ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-ink-700 focus:border-accent-cyan focus:ring-accent-cyan"}`,...t,...e.register(e.name)}),e.hint&&!n&&E.jsx("p",{className:"text-xs text-ink-500",children:e.hint}),n&&E.jsx("p",{className:"text-sm text-red-400",children:n.message})]})}const Lp=[{type:"constructor",inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_imageURI",type:"string"},{internalType:"string",name:"_externalLink",type:"string"},{internalType:"address",name:"_zangCommissionAccount",type:"address"}]},{type:"function",name:"PLATFORM_FEE_TIMELOCK",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"applyPlatformFeePercentageIncrease",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"authorOf",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"balanceOf",inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"burn",inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"contractURI",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"decreasePlatformFeePercentage",inputs:[{internalType:"uint16",name:"_lowerFeePercentage",type:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"decreaseRoyaltyNumerator",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint96",name:"_lowerValue",type:"uint96"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"description",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"descriptionOf",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"exists",inputs:[{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"externalLink",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"imageURI",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"lastTokenId",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"lock",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"mint",inputs:[{internalType:"string",name:"textURI_",type:"string"},{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"description_",type:"string"},{internalType:"uint256",name:"amount_",type:"uint256"},{internalType:"uint96",name:"royaltyNumerator_",type:"uint96"},{internalType:"address",name:"royaltyRecipient_",type:"address"},{internalType:"bytes",name:"data_",type:"bytes"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"nameOf",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"newPlatformFeePercentage",inputs:[],outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"platformFeePercentage",inputs:[],outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"requestPlatformFeePercentageIncrease",inputs:[{internalType:"uint16",name:"_higherFeePercentage",type:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"royaltyDenominator",inputs:[],outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"pure"},{type:"function",name:"royaltyInfo",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_salePrice",type:"uint256"}],outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"royaltyNumerator",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setZangCommissionAccount",inputs:[{internalType:"address",name:"_zangCommissionAccount",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"textURI",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[{internalType:"uint256",name:"id",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{internalType:"address",name:"newOwner",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"uri",inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"zangCommissionAccount",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0},{name:"operator",type:"address",indexed:!0},{name:"approved",type:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0},{name:"newOwner",type:"address",indexed:!0}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0},{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"ids",type:"uint256[]",indexed:!1},{name:"values",type:"uint256[]",indexed:!1}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0},{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"id",type:"uint256",indexed:!1},{name:"value",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1},{name:"id",type:"uint256",indexed:!0}],anonymous:!1}],Dp=[{type:"constructor",inputs:[{internalType:"contract IZangNFT",name:"_zangNFTAddress",type:"address"}]},{type:"function",name:"buyToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"delistToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListing",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_expectedAmount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListingAmount",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_expectedAmount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"editListingPrice",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"listToken",inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"listingCount",inputs:[{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"listings",inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{internalType:"address",name:"newOwner",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"zangNFTAddress",inputs:[],outputs:[{internalType:"contract IZangNFT",name:"",type:"address"}],stateMutability:"view"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0},{name:"newOwner",type:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1}],anonymous:!1},{type:"event",name:"TokenDelisted",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"TokenListed",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1},{name:"amount",type:"uint256",indexed:!1},{name:"_price",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"TokenPurchased",inputs:[{name:"_tokenId",type:"uint256",indexed:!0},{name:"_buyer",type:"address",indexed:!0},{name:"_seller",type:"address",indexed:!0},{name:"_listingId",type:"uint256",indexed:!1},{name:"_amount",type:"uint256",indexed:!1},{name:"_price",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1}],anonymous:!1}],Le={zang:Lp,marketplace:Dp},bu=(e,t,n)=>({...e,execute:(r,s)=>{if(!r.text||!r.selection){s.replaceSelection(`${t}${n}`);return}try{const a=b0({text:r.text,selection:r.selection}),o=s.setSelectionRange(a),i=o.selectedText||"",c=i.search(/\S|$/),d=i.substring(0,c),p=i.search(/\s+$/),u=p===-1?"":i.substring(p,i.length),l=s.replaceSelection(d.concat(t,o.selectedText.trim(),n,u));s.setSelectionRange({start:l.selection.end-t.length-o.selectedText.length+d.length,end:l.selection.end-n.length-u.length})}catch{s.replaceSelection(`${t}${r.selectedText||""}${n}`)}}}),Pp=bu(h0,"**","**"),Mp=bu(m0,"*","*"),jp=bu(p0,"~~","~~"),yr=g0();yr[yr.findIndex(e=>e.name==="bold")]=Pp;yr[yr.findIndex(e=>e.name==="italic")]=Mp;yr[yr.findIndex(e=>e.name==="strikethrough")]=jp;var wi={exports:{}},Sl;function Bp(){return Sl||(Sl=1,(function(e,t){(function(n,r){e.exports=r()})(self,(()=>{return n={7629:(s,a,o)=>{const i=o(375),c=o(8571),d=o(9474),p=o(1687),u=o(8652),l=o(8160),f=o(3292),m=o(6354),h=o(8901),x=o(9708),g=o(6914),y=o(2294),v=o(6133),T=o(1152),w=o(8863),k=o(2036),S={Base:class{constructor(_){this.type=_,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new y.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return i(typeof x.describe=="function","Manifest functionality disabled"),x.describe(this)}allow(..._){return l.verifyFlat(_,"allow"),this._values(_,"_valids")}alter(_){i(_&&typeof _=="object"&&!Array.isArray(_),"Invalid targets argument"),i(!this._inRuleset(),"Cannot set alterations inside a ruleset");const A=this.clone();A.$_terms.alterations=A.$_terms.alterations||[];for(const N in _){const O=_[N];i(typeof O=="function","Alteration adjuster for",N,"must be a function"),A.$_terms.alterations.push({target:N,adjuster:O})}return A.$_temp.ruleset=!1,A}artifact(_){return i(_!==void 0,"Artifact cannot be undefined"),i(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",_)}cast(_){return i(_===!1||typeof _=="string","Invalid to value"),i(_===!1||this._definition.cast[_],"Type",this.type,"does not support casting to",_),this.$_setFlag("cast",_===!1?void 0:_)}default(_,A){return this._default("default",_,A)}description(_){return i(_&&typeof _=="string","Description must be a non-empty string"),this.$_setFlag("description",_)}empty(_){const A=this.clone();return _!==void 0&&(_=A.$_compile(_,{override:!1})),A.$_setFlag("empty",_,{clone:!1})}error(_){return i(_,"Missing error"),i(_ instanceof Error||typeof _=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",_)}example(_,A={}){return i(_!==void 0,"Missing example"),l.assertOptions(A,["override"]),this._inner("examples",_,{single:!0,override:A.override})}external(_,A){return typeof _=="object"&&(i(!A,"Cannot combine options with description"),A=_.description,_=_.method),i(typeof _=="function","Method must be a function"),i(A===void 0||A&&typeof A=="string","Description must be a non-empty string"),this._inner("externals",{method:_,description:A},{single:!0})}failover(_,A){return this._default("failover",_,A)}forbidden(){return this.presence("forbidden")}id(_){return _?(i(typeof _=="string","id must be a non-empty string"),i(/^[^\.]+$/.test(_),"id cannot contain period character"),this.$_setFlag("id",_)):this.$_setFlag("id",void 0)}invalid(..._){return this._values(_,"_invalids")}label(_){return i(_&&typeof _=="string","Label name must be a non-empty string"),this.$_setFlag("label",_)}meta(_){return i(_!==void 0,"Meta cannot be undefined"),this._inner("metas",_,{single:!0})}note(..._){i(_.length,"Missing notes");for(const A of _)i(A&&typeof A=="string","Notes must be non-empty strings");return this._inner("notes",_)}only(_=!0){return i(typeof _=="boolean","Invalid mode:",_),this.$_setFlag("only",_)}optional(){return this.presence("optional")}prefs(_){i(_,"Missing preferences"),i(_.context===void 0,"Cannot override context"),i(_.externals===void 0,"Cannot override externals"),i(_.warnings===void 0,"Cannot override warnings"),i(_.debug===void 0,"Cannot override debug"),l.checkPreferences(_);const A=this.clone();return A._preferences=l.preferences(A._preferences,_),A}presence(_){return i(["optional","required","forbidden"].includes(_),"Unknown presence mode",_),this.$_setFlag("presence",_)}raw(_=!0){return this.$_setFlag("result",_?"raw":void 0)}result(_){return i(["raw","strip"].includes(_),"Unknown result mode",_),this.$_setFlag("result",_)}required(){return this.presence("required")}strict(_){const A=this.clone(),N=_!==void 0&&!_;return A._preferences=l.preferences(A._preferences,{convert:N}),A}strip(_=!0){return this.$_setFlag("result",_?"strip":void 0)}tag(..._){i(_.length,"Missing tags");for(const A of _)i(A&&typeof A=="string","Tags must be non-empty strings");return this._inner("tags",_)}unit(_){return i(_&&typeof _=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",_)}valid(..._){l.verifyFlat(_,"valid");const A=this.allow(..._);return A.$_setFlag("only",!!A._valids,{clone:!1}),A}when(_,A){const N=this.clone();N.$_terms.whens||(N.$_terms.whens=[]);const O=f.when(N,_,A);if(!["any","link"].includes(N.type)){const D=O.is?[O]:O.switch;for(const j of D)i(!j.then||j.then.type==="any"||j.then.type===N.type,"Cannot combine",N.type,"with",j.then&&j.then.type),i(!j.otherwise||j.otherwise.type==="any"||j.otherwise.type===N.type,"Cannot combine",N.type,"with",j.otherwise&&j.otherwise.type)}return N.$_terms.whens.push(O),N.$_mutateRebuild()}cache(_){i(!this._inRuleset(),"Cannot set caching inside a ruleset"),i(!this._cache,"Cannot override schema cache"),i(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const A=this.clone();return A._cache=_||u.provider.provision(),A.$_temp.ruleset=!1,A}clone(){const _=Object.create(Object.getPrototypeOf(this));return this._assign(_)}concat(_){i(l.isSchema(_),"Invalid schema object"),i(this.type==="any"||_.type==="any"||_.type===this.type,"Cannot merge type",this.type,"with another type:",_.type),i(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),i(!_._inRuleset(),"Cannot concatenate a schema with open ruleset");let A=this.clone();if(this.type==="any"&&_.type!=="any"){const N=_.clone();for(const O of Object.keys(A))O!=="type"&&(N[O]=A[O]);A=N}A._ids.concat(_._ids),A._refs.register(_,v.toSibling),A._preferences=A._preferences?l.preferences(A._preferences,_._preferences):_._preferences,A._valids=k.merge(A._valids,_._valids,_._invalids),A._invalids=k.merge(A._invalids,_._invalids,_._valids);for(const N of _._singleRules.keys())A._singleRules.has(N)&&(A._rules=A._rules.filter((O=>O.keep||O.name!==N)),A._singleRules.delete(N));for(const N of _._rules)_._definition.rules[N.method].multi||A._singleRules.set(N.name,N),A._rules.push(N);if(A._flags.empty&&_._flags.empty){A._flags.empty=A._flags.empty.concat(_._flags.empty);const N=Object.assign({},_._flags);delete N.empty,p(A._flags,N)}else if(_._flags.empty){A._flags.empty=_._flags.empty;const N=Object.assign({},_._flags);delete N.empty,p(A._flags,N)}else p(A._flags,_._flags);for(const N in _.$_terms){const O=_.$_terms[N];O?A.$_terms[N]?A.$_terms[N]=A.$_terms[N].concat(O):A.$_terms[N]=O.slice():A.$_terms[N]||(A.$_terms[N]=O)}return this.$_root._tracer&&this.$_root._tracer._combine(A,[this,_]),A.$_mutateRebuild()}extend(_){return i(!_.base,"Cannot extend type with another base"),h.type(this,_)}extract(_){return _=Array.isArray(_)?_:_.split("."),this._ids.reach(_)}fork(_,A){i(!this._inRuleset(),"Cannot fork inside a ruleset");let N=this;for(let O of[].concat(_))O=Array.isArray(O)?O:O.split("."),N=N._ids.fork(O,A,N);return N.$_temp.ruleset=!1,N}rule(_){const A=this._definition;l.assertOptions(_,Object.keys(A.modifiers)),i(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const N=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;i(N>=0&&N<this._rules.length,"Cannot apply rules to empty ruleset");const O=this.clone();for(let D=N;D<O._rules.length;++D){const j=O._rules[D],$=c(j);for(const V in _)A.modifiers[V]($,_[V]),i($.name===j.name,"Cannot change rule name");O._rules[D]=$,O._singleRules.get($.name)===j&&O._singleRules.set($.name,$)}return O.$_temp.ruleset=!1,O.$_mutateRebuild()}get ruleset(){i(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const _=this.clone();return _.$_temp.ruleset=_._rules.length,_}get $(){return this.ruleset}tailor(_){_=[].concat(_),i(!this._inRuleset(),"Cannot tailor inside a ruleset");let A=this;if(this.$_terms.alterations)for(const{target:N,adjuster:O}of this.$_terms.alterations)_.includes(N)&&(A=O(A),i(l.isSchema(A),"Alteration adjuster for",N,"failed to return a schema object"));return A=A.$_modify({each:N=>N.tailor(_),ref:!1}),A.$_temp.ruleset=!1,A.$_mutateRebuild()}tracer(){return T.location?T.location(this):this}validate(_,A){return w.entry(_,this,A)}validateAsync(_,A){return w.entryAsync(_,this,A)}$_addRule(_){typeof _=="string"&&(_={name:_}),i(_&&typeof _=="object","Invalid options"),i(_.name&&typeof _.name=="string","Invalid rule name");for(const j in _)i(j[0]!=="_","Cannot set private rule properties");const A=Object.assign({},_);A._resolve=[],A.method=A.method||A.name;const N=this._definition.rules[A.method],O=A.args;i(N,"Unknown rule",A.method);const D=this.clone();if(O){i(Object.keys(O).length===1||Object.keys(O).length===this._definition.rules[A.name].args.length,"Invalid rule definition for",this.type,A.name);for(const j in O){let $=O[j];if(N.argsByName){const V=N.argsByName.get(j);if(V.ref&&l.isResolvable($))A._resolve.push(j),D.$_mutateRegister($);else if(V.normalize&&($=V.normalize($),O[j]=$),V.assert){const U=l.validateArg($,j,V);i(!U,U,"or reference")}}$!==void 0?O[j]=$:delete O[j]}}return N.multi||(D._ruleRemove(A.name,{clone:!1}),D._singleRules.set(A.name,A)),D.$_temp.ruleset===!1&&(D.$_temp.ruleset=null),N.priority?D._rules.unshift(A):D._rules.push(A),D}$_compile(_,A){return f.schema(this.$_root,_,A)}$_createError(_,A,N,O,D,j={}){const $=j.flags!==!1?this._flags:{},V=j.messages?g.merge(this._definition.messages,j.messages):this._definition.messages;return new m.Report(_,A,N,$,V,O,D)}$_getFlag(_){return this._flags[_]}$_getRule(_){return this._singleRules.get(_)}$_mapLabels(_){return _=Array.isArray(_)?_:_.split("."),this._ids.labels(_)}$_match(_,A,N,O){(N=Object.assign({},N)).abortEarly=!0,N._externals=!1,A.snapshot();const D=!w.validate(_,this,A,N,O).errors;return A.restore(),D}$_modify(_){return l.assertOptions(_,["each","once","ref","schema"]),y.schema(this,_)||this}$_mutateRebuild(){return i(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(_,{source:A,name:N,path:O,key:D})=>{const j=this._definition[A][N]&&this._definition[A][N].register;j!==!1&&this.$_mutateRegister(_,{family:j,key:D})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(_,{family:A,key:N}={}){this._refs.register(_,A),this._ids.register(_,{key:N})}$_property(_){return this._definition.properties[_]}$_reach(_){return this._ids.reach(_)}$_rootReferences(){return this._refs.roots()}$_setFlag(_,A,N={}){i(_[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const O=this._definition.flags[_]||{};if(d(A,O.default)&&(A=void 0),d(A,this._flags[_]))return this;const D=N.clone!==!1?this.clone():this;return A!==void 0?(D._flags[_]=A,D.$_mutateRegister(A)):delete D._flags[_],_[0]!=="_"&&(D.$_temp.ruleset=!1),D}$_parent(_,...A){return this[_][l.symbols.parent].call(this,...A)}$_validate(_,A,N){return w.validate(_,this,A,N)}_assign(_){_.type=this.type,_.$_root=this.$_root,_.$_temp=Object.assign({},this.$_temp),_.$_temp.whens={},_._ids=this._ids.clone(),_._preferences=this._preferences,_._valids=this._valids&&this._valids.clone(),_._invalids=this._invalids&&this._invalids.clone(),_._rules=this._rules.slice(),_._singleRules=c(this._singleRules,{shallow:!0}),_._refs=this._refs.clone(),_._flags=Object.assign({},this._flags),_._cache=null,_.$_terms={};for(const A in this.$_terms)_.$_terms[A]=this.$_terms[A]?this.$_terms[A].slice():null;_.$_super={};for(const A in this.$_super)_.$_super[A]=this._super[A].bind(_);return _}_bare(){const _=this.clone();_._reset();const A=_._definition.terms;for(const N in A){const O=A[N];_.$_terms[N]=O.init}return _.$_mutateRebuild()}_default(_,A,N={}){return l.assertOptions(N,"literal"),i(A!==void 0,"Missing",_,"value"),i(typeof A=="function"||!N.literal,"Only function value supports literal option"),typeof A=="function"&&N.literal&&(A={[l.symbols.literal]:!0,literal:A}),this.$_setFlag(_,A)}_generate(_,A,N){if(!this.$_terms.whens)return{schema:this};const O=[],D=[];for(let V=0;V<this.$_terms.whens.length;++V){const U=this.$_terms.whens[V];if(U.concat){O.push(U.concat),D.push(`${V}.concat`);continue}const z=U.ref?U.ref.resolve(_,A,N):_,ne=U.is?[U]:U.switch,ce=D.length;for(let ae=0;ae<ne.length;++ae){const{is:de,then:me,otherwise:pe}=ne[ae],Te=`${V}${U.switch?"."+ae:""}`;if(de.$_match(z,A.nest(de,`${Te}.is`),N)){if(me){const Ie=A.localize([...A.path,`${Te}.then`],A.ancestors,A.schemas),{schema:Ce,id:Ye}=me._generate(_,Ie,N);O.push(Ce),D.push(`${Te}.then${Ye?`(${Ye})`:""}`);break}}else if(pe){const Ie=A.localize([...A.path,`${Te}.otherwise`],A.ancestors,A.schemas),{schema:Ce,id:Ye}=pe._generate(_,Ie,N);O.push(Ce),D.push(`${Te}.otherwise${Ye?`(${Ye})`:""}`);break}}if(U.break&&D.length>ce)break}const j=D.join(", ");if(A.mainstay.tracer.debug(A,"rule","when",j),!j)return{schema:this};if(!A.mainstay.tracer.active&&this.$_temp.whens[j])return{schema:this.$_temp.whens[j],id:j};let $=this;this._definition.generate&&($=this._definition.generate(this,_,A,N));for(const V of O)$=$.concat(V);return this.$_root._tracer&&this.$_root._tracer._combine($,[this,...O]),this.$_temp.whens[j]=$,{schema:$,id:j}}_inner(_,A,N={}){i(!this._inRuleset(),`Cannot set ${_} inside a ruleset`);const O=this.clone();return O.$_terms[_]&&!N.override||(O.$_terms[_]=[]),N.single?O.$_terms[_].push(A):O.$_terms[_].push(...A),O.$_temp.ruleset=!1,O}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(_,A={}){if(!this._singleRules.has(_))return this;const N=A.clone!==!1?this.clone():this;N._singleRules.delete(_);const O=[];for(let D=0;D<N._rules.length;++D){const j=N._rules[D];j.name!==_||j.keep?O.push(j):N._inRuleset()&&D<N.$_temp.ruleset&&--N.$_temp.ruleset}return N._rules=O,N}_values(_,A){l.verifyFlat(_,A.slice(1,-1));const N=this.clone(),O=_[0]===l.symbols.override;if(O&&(_=_.slice(1)),!N[A]&&_.length?N[A]=new k:O&&(N[A]=_.length?new k:null,N.$_mutateRebuild()),!N[A])return N;O&&N[A].override();for(const D of _){i(D!==void 0,"Cannot call allow/valid/invalid with undefined"),i(D!==l.symbols.override,"Override must be the first value");const j=A==="_invalids"?"_valids":"_invalids";N[j]&&(N[j].remove(D),N[j].length||(i(A==="_valids"||!N._flags.only,"Setting invalid value",D,"leaves schema rejecting all values due to previous valid rule"),N[j]=null)),N[A].add(D,N._refs)}return N}}};S.Base.prototype[l.symbols.any]={version:l.version,compile:f.compile,root:"$_root"},S.Base.prototype.isImmutable=!0,S.Base.prototype.deny=S.Base.prototype.invalid,S.Base.prototype.disallow=S.Base.prototype.invalid,S.Base.prototype.equal=S.Base.prototype.valid,S.Base.prototype.exist=S.Base.prototype.required,S.Base.prototype.not=S.Base.prototype.invalid,S.Base.prototype.options=S.Base.prototype.prefs,S.Base.prototype.preferences=S.Base.prototype.prefs,s.exports=new S.Base},8652:(s,a,o)=>{const i=o(375),c=o(8571),d=o(8160),p={max:1e3,supported:new Set(["undefined","boolean","number","string"])};a.provider={provision:u=>new p.Cache(u)},p.Cache=class{constructor(u={}){d.assertOptions(u,["max"]),i(u.max===void 0||u.max&&u.max>0&&isFinite(u.max),"Invalid max cache size"),this._max=u.max||p.max,this._map=new Map,this._list=new p.List}get length(){return this._map.size}set(u,l){if(u!==null&&!p.supported.has(typeof u))return;let f=this._map.get(u);if(f)return f.value=l,void this._list.first(f);f=this._list.unshift({key:u,value:l}),this._map.set(u,f),this._compact()}get(u){const l=this._map.get(u);if(l)return this._list.first(l),c(l.value)}_compact(){if(this._map.size>this._max){const u=this._list.pop();this._map.delete(u.key)}}},p.List=class{constructor(){this.tail=null,this.head=null}unshift(u){return u.next=null,u.prev=this.head,this.head&&(this.head.next=u),this.head=u,this.tail||(this.tail=u),u}first(u){u!==this.head&&(this._remove(u),this.unshift(u))}pop(){return this._remove(this.tail)}_remove(u){const{next:l,prev:f}=u;return l.prev=f,f&&(f.next=l),u===this.tail&&(this.tail=l),u.prev=null,u.next=null,u}}},8160:(s,a,o)=>{const i=o(375),c=o(7916),d=o(5934);let p,u;const l={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};a.version=d.version,a.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},a.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},a.assertOptions=function(f,m,h="Options"){i(f&&typeof f=="object"&&!Array.isArray(f),"Options must be of type object");const x=Object.keys(f).filter((g=>!m.includes(g)));i(x.length===0,`${h} contain unknown keys: ${x}`)},a.checkPreferences=function(f){u=u||o(3378);const m=u.preferences.validate(f);if(m.error)throw new c([m.error.details[0].message])},a.compare=function(f,m,h){switch(h){case"=":return f===m;case">":return f>m;case"<":return f<m;case">=":return f>=m;case"<=":return f<=m}},a.default=function(f,m){return f===void 0?m:f},a.isIsoDate=function(f){return l.isoDate.test(f)},a.isNumber=function(f){return typeof f=="number"&&!isNaN(f)},a.isResolvable=function(f){return!!f&&(f[a.symbols.ref]||f[a.symbols.template])},a.isSchema=function(f,m={}){const h=f&&f[a.symbols.any];return!!h&&(i(m.legacy||h.version===a.version,"Cannot mix different versions of joi schemas"),!0)},a.isValues=function(f){return f[a.symbols.values]},a.limit=function(f){return Number.isSafeInteger(f)&&f>=0},a.preferences=function(f,m){p=p||o(6914),f=f||{},m=m||{};const h=Object.assign({},f,m);return m.errors&&f.errors&&(h.errors=Object.assign({},f.errors,m.errors),h.errors.wrap=Object.assign({},f.errors.wrap,m.errors.wrap)),m.messages&&(h.messages=p.compile(m.messages,f.messages)),delete h[a.symbols.prefs],h},a.tryWithPath=function(f,m,h={}){try{return f()}catch(x){throw x.path!==void 0?x.path=m+"."+x.path:x.path=m,h.append&&(x.message=`${x.message} (${x.path})`),x}},a.validateArg=function(f,m,{assert:h,message:x}){if(a.isSchema(h)){const g=h.validate(f);return g.error?g.error.message:void 0}if(!h(f))return m?`${m} ${x}`:x},a.verifyFlat=function(f,m){for(const h of f)i(!Array.isArray(h),"Method no longer accepts array arguments:",m)}},3292:(s,a,o)=>{const i=o(375),c=o(8160),d=o(6133),p={};a.schema=function(u,l,f={}){c.assertOptions(f,["appendPath","override"]);try{return p.schema(u,l,f)}catch(m){throw f.appendPath&&m.path!==void 0&&(m.message=`${m.message} (${m.path})`),m}},p.schema=function(u,l,f){i(l!==void 0,"Invalid undefined schema"),Array.isArray(l)&&(i(l.length,"Invalid empty array schema"),l.length===1&&(l=l[0]));const m=(h,...x)=>f.override!==!1?h.valid(u.override,...x):h.valid(...x);if(p.simple(l))return m(u,l);if(typeof l=="function")return u.custom(l);if(i(typeof l=="object","Invalid schema content:",typeof l),c.isResolvable(l))return m(u,l);if(c.isSchema(l))return l;if(Array.isArray(l)){for(const h of l)if(!p.simple(h))return u.alternatives().try(...l);return m(u,...l)}return l instanceof RegExp?u.string().regex(l):l instanceof Date?m(u.date(),l):(i(Object.getPrototypeOf(l)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),u.object().keys(l))},a.ref=function(u,l){return d.isRef(u)?u:d.create(u,l)},a.compile=function(u,l,f={}){c.assertOptions(f,["legacy"]);const m=l&&l[c.symbols.any];if(m)return i(f.legacy||m.version===c.version,"Cannot mix different versions of joi schemas:",m.version,c.version),l;if(typeof l!="object"||!f.legacy)return a.schema(u,l,{appendPath:!0});const h=p.walk(l);return h?h.compile(h.root,l):a.schema(u,l,{appendPath:!0})},p.walk=function(u){if(typeof u!="object")return null;if(Array.isArray(u)){for(const f of u){const m=p.walk(f);if(m)return m}return null}const l=u[c.symbols.any];if(l)return{root:u[l.root],compile:l.compile};i(Object.getPrototypeOf(u)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const f in u){const m=p.walk(u[f]);if(m)return m}return null},p.simple=function(u){return u===null||["boolean","string","number"].includes(typeof u)},a.when=function(u,l,f){if(f===void 0&&(i(l&&typeof l=="object","Missing options"),f=l,l=d.create(".")),Array.isArray(f)&&(f={switch:f}),c.assertOptions(f,["is","not","then","otherwise","switch","break"]),c.isSchema(l))return i(f.is===void 0,'"is" can not be used with a schema condition'),i(f.not===void 0,'"not" can not be used with a schema condition'),i(f.switch===void 0,'"switch" can not be used with a schema condition'),p.condition(u,{is:l,then:f.then,otherwise:f.otherwise,break:f.break});if(i(d.isRef(l)||typeof l=="string","Invalid condition:",l),i(f.not===void 0||f.is===void 0,'Cannot combine "is" with "not"'),f.switch===void 0){let h=f;f.not!==void 0&&(h={is:f.not,then:f.otherwise,otherwise:f.then,break:f.break});let x=h.is!==void 0?u.$_compile(h.is):u.$_root.invalid(null,!1,0,"").required();return i(h.then!==void 0||h.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),i(h.break===void 0||h.then===void 0||h.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),f.is===void 0||d.isRef(f.is)||c.isSchema(f.is)||(x=x.required()),p.condition(u,{ref:a.ref(l),is:x,then:h.then,otherwise:h.otherwise,break:h.break})}i(Array.isArray(f.switch),'"switch" must be an array'),i(f.is===void 0,'Cannot combine "switch" with "is"'),i(f.not===void 0,'Cannot combine "switch" with "not"'),i(f.then===void 0,'Cannot combine "switch" with "then"');const m={ref:a.ref(l),switch:[],break:f.break};for(let h=0;h<f.switch.length;++h){const x=f.switch[h],g=h===f.switch.length-1;c.assertOptions(x,g?["is","then","otherwise"]:["is","then"]),i(x.is!==void 0,'Switch statement missing "is"'),i(x.then!==void 0,'Switch statement missing "then"');const y={is:u.$_compile(x.is),then:u.$_compile(x.then)};if(d.isRef(x.is)||c.isSchema(x.is)||(y.is=y.is.required()),g){i(f.otherwise===void 0||x.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const v=f.otherwise!==void 0?f.otherwise:x.otherwise;v!==void 0&&(i(m.break===void 0,"Cannot specify both otherwise and break"),y.otherwise=u.$_compile(v))}m.switch.push(y)}return m},p.condition=function(u,l){for(const f of["then","otherwise"])l[f]===void 0?delete l[f]:l[f]=u.$_compile(l[f]);return l}},6354:(s,a,o)=>{const i=o(5688),c=o(8160),d=o(3328);a.Report=class{constructor(p,u,l,f,m,h,x){if(this.code=p,this.flags=f,this.messages=m,this.path=h.path,this.prefs=x,this.state=h,this.value=u,this.message=null,this.template=null,this.local=l||{},this.local.label=a.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const g=this.path[this.path.length-1];typeof g!="object"&&(this.local.key=g)}}_setTemplate(p){if(this.template=p,!this.flags.label&&this.path.length===0){const u=this._template(this.template,"root");u&&(this.local.label=u)}}toString(){if(this.message)return this.message;const p=this.code;if(!this.prefs.errors.render)return this.code;const u=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return u===void 0?`Error code "${p}" is not defined, your custom type is missing the correct messages definition`:(this.message=u.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(p,u){return a.template(this.value,p,u||this.code,this.state,this.prefs)}},a.path=function(p){let u="";for(const l of p)typeof l!="object"&&(typeof l=="string"?(u&&(u+="."),u+=l):u+=`[${l}]`);return u},a.template=function(p,u,l,f,m){if(!u)return;if(d.isTemplate(u))return l!=="root"?u:null;let h=m.errors.language;if(c.isResolvable(h)&&(h=h.resolve(p,f,m)),h&&u[h]){if(u[h][l]!==void 0)return u[h][l];if(u[h]["*"]!==void 0)return u[h]["*"]}return u[l]?u[l]:u["*"]},a.label=function(p,u,l,f){if(!l.errors.label)return"";if(p.label)return p.label;let m=u.path;return l.errors.label==="key"&&u.path.length>1&&(m=u.path.slice(-1)),a.path(m)||a.template(null,l.messages,"root",u,l)||f&&a.template(null,f,"root",u,l)||"value"},a.process=function(p,u,l){if(!p)return null;const{override:f,message:m,details:h}=a.details(p);if(f)return f;if(l.errors.stack)return new a.ValidationError(m,h,u);const x=Error.stackTraceLimit;Error.stackTraceLimit=0;const g=new a.ValidationError(m,h,u);return Error.stackTraceLimit=x,g},a.details=function(p,u={}){let l=[];const f=[];for(const m of p){if(m instanceof Error){if(u.override!==!1)return{override:m};const x=m.toString();l.push(x),f.push({message:x,type:"override",context:{error:m}});continue}const h=m.toString();l.push(h),f.push({message:h,path:m.path.filter((x=>typeof x!="object")),type:m.code,context:m.local})}return l.length>1&&(l=[...new Set(l)]),{message:l.join(". "),details:f}},a.ValidationError=class extends Error{constructor(p,u,l){super(p),this._original=l,this.details=u}static isError(p){return p instanceof a.ValidationError}},a.ValidationError.prototype.isJoi=!0,a.ValidationError.prototype.name="ValidationError",a.ValidationError.prototype.annotate=i.error},8901:(s,a,o)=>{const i=o(375),c=o(8571),d=o(8160),p=o(6914),u={};a.type=function(l,f){const m=Object.getPrototypeOf(l),h=c(m),x=l._assign(Object.create(h)),g=Object.assign({},f);delete g.base,h._definition=g;const y=m._definition||{};g.messages=p.merge(y.messages,g.messages),g.properties=Object.assign({},y.properties,g.properties),x.type=g.type,g.flags=Object.assign({},y.flags,g.flags);const v=Object.assign({},y.terms);if(g.terms)for(const S in g.terms){const _=g.terms[S];i(x.$_terms[S]===void 0,"Invalid term override for",g.type,S),x.$_terms[S]=_.init,v[S]=_}g.terms=v,g.args||(g.args=y.args),g.prepare=u.prepare(g.prepare,y.prepare),g.coerce&&(typeof g.coerce=="function"&&(g.coerce={method:g.coerce}),g.coerce.from&&!Array.isArray(g.coerce.from)&&(g.coerce={method:g.coerce.method,from:[].concat(g.coerce.from)})),g.coerce=u.coerce(g.coerce,y.coerce),g.validate=u.validate(g.validate,y.validate);const T=Object.assign({},y.rules);if(g.rules)for(const S in g.rules){const _=g.rules[S];i(typeof _=="object","Invalid rule definition for",g.type,S);let A=_.method;if(A===void 0&&(A=function(){return this.$_addRule(S)}),A&&(i(!h[S],"Rule conflict in",g.type,S),h[S]=A),i(!T[S],"Rule conflict in",g.type,S),T[S]=_,_.alias){const N=[].concat(_.alias);for(const O of N)h[O]=_.method}_.args&&(_.argsByName=new Map,_.args=_.args.map((N=>(typeof N=="string"&&(N={name:N}),i(!_.argsByName.has(N.name),"Duplicated argument name",N.name),d.isSchema(N.assert)&&(N.assert=N.assert.strict().label(N.name)),_.argsByName.set(N.name,N),N))))}g.rules=T;const w=Object.assign({},y.modifiers);if(g.modifiers)for(const S in g.modifiers){i(!h[S],"Rule conflict in",g.type,S);const _=g.modifiers[S];i(typeof _=="function","Invalid modifier definition for",g.type,S);const A=function(N){return this.rule({[S]:N})};h[S]=A,w[S]=_}if(g.modifiers=w,g.overrides){h._super=m,x.$_super={};for(const S in g.overrides)i(m[S],"Cannot override missing",S),g.overrides[S][d.symbols.parent]=m[S],x.$_super[S]=m[S].bind(x);Object.assign(h,g.overrides)}g.cast=Object.assign({},y.cast,g.cast);const k=Object.assign({},y.manifest,g.manifest);return k.build=u.build(g.manifest&&g.manifest.build,y.manifest&&y.manifest.build),g.manifest=k,g.rebuild=u.rebuild(g.rebuild,y.rebuild),x},u.build=function(l,f){return l&&f?function(m,h){return f(l(m,h),h)}:l||f},u.coerce=function(l,f){return l&&f?{from:l.from&&f.from?[...new Set([...l.from,...f.from])]:null,method(m,h){let x;if((!f.from||f.from.includes(typeof m))&&(x=f.method(m,h),x)){if(x.errors||x.value===void 0)return x;m=x.value}if(!l.from||l.from.includes(typeof m)){const g=l.method(m,h);if(g)return g}return x}}:l||f},u.prepare=function(l,f){return l&&f?function(m,h){const x=l(m,h);if(x){if(x.errors||x.value===void 0)return x;m=x.value}return f(m,h)||x}:l||f},u.rebuild=function(l,f){return l&&f?function(m){f(m),l(m)}:l||f},u.validate=function(l,f){return l&&f?function(m,h){const x=f(m,h);if(x){if(x.errors&&(!Array.isArray(x.errors)||x.errors.length))return x;m=x.value}return l(m,h)||x}:l||f}},5107:(s,a,o)=>{const i=o(375),c=o(8571),d=o(8652),p=o(8160),u=o(3292),l=o(6354),f=o(8901),m=o(9708),h=o(6133),x=o(3328),g=o(1152);let y;const v={types:{alternatives:o(4946),any:o(8068),array:o(546),boolean:o(4937),date:o(7500),function:o(390),link:o(8785),number:o(3832),object:o(8966),string:o(7417),symbol:o(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const T={_types:new Set(Object.keys(v.types))};for(const w of T._types)T[w]=function(...k){return i(!k.length||["alternatives","link","object"].includes(w),"The",w,"type does not allow arguments"),v.generate(this,v.types[w],k)};for(const w of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])T[w]=function(...k){return this.any()[w](...k)};Object.assign(T,v.methods);for(const w in v.aliases){const k=v.aliases[w];T[w]=T[k]}return T.x=T.expression,g.setup&&g.setup(T),T}};v.methods={ValidationError:l.ValidationError,version:p.version,cache:d.provider,assert(T,w,...k){v.assert(T,w,!0,k)},attempt:(T,w,...k)=>v.assert(T,w,!1,k),build(T){return i(typeof m.build=="function","Manifest functionality disabled"),m.build(this,T)},checkPreferences(T){p.checkPreferences(T)},compile(T,w){return u.compile(this,T,w)},defaults(T){i(typeof T=="function","modifier must be a function");const w=Object.assign({},this);for(const k of w._types){const S=T(w[k]());i(p.isSchema(S),"modifier must return a valid schema object"),w[k]=function(..._){return v.generate(this,S,_)}}return w},expression:(...T)=>new x(...T),extend(...T){p.verifyFlat(T,"extend"),y=y||o(3378),i(T.length,"You need to provide at least one extension"),this.assert(T,y.extensions);const w=Object.assign({},this);w._types=new Set(w._types);for(let k of T){typeof k=="function"&&(k=k(w)),this.assert(k,y.extension);const S=v.expandExtension(k,w);for(const _ of S){i(w[_.type]===void 0||w._types.has(_.type),"Cannot override name",_.type);const A=_.base||this.any(),N=f.type(A,_);w._types.add(_.type),w[_.type]=function(...O){return v.generate(this,N,O)}}}return w},isError:l.ValidationError.isError,isExpression:x.isTemplate,isRef:h.isRef,isSchema:p.isSchema,in:(...T)=>h.in(...T),override:p.symbols.override,ref:(...T)=>h.create(...T),types(){const T={};for(const w of this._types)T[w]=this[w]();for(const w in v.aliases)T[w]=this[w]();return T}},v.assert=function(T,w,k,S){const _=S[0]instanceof Error||typeof S[0]=="string"?S[0]:null,A=_!==null?S[1]:S[0],N=w.validate(T,p.preferences({errors:{stack:!0}},A||{}));let O=N.error;if(!O)return N.value;if(_ instanceof Error)throw _;const D=k&&typeof O.annotate=="function"?O.annotate():O.message;throw O instanceof l.ValidationError==0&&(O=c(O)),O.message=_?`${_} ${D}`:D,O},v.generate=function(T,w,k){return i(T,"Must be invoked on a Joi instance."),w.$_root=T,w._definition.args&&k.length?w._definition.args(w,...k):w},v.expandExtension=function(T,w){if(typeof T.type=="string")return[T];const k=[];for(const S of w._types)if(T.type.test(S)){const _=Object.assign({},T);_.type=S,_.base=w[S](),k.push(_)}return k},s.exports=v.root()},6914:(s,a,o)=>{const i=o(375),c=o(8571),d=o(3328);a.compile=function(p,u){if(typeof p=="string")return i(!u,"Cannot set single message string"),new d(p);if(d.isTemplate(p))return i(!u,"Cannot set single message template"),p;i(typeof p=="object"&&!Array.isArray(p),"Invalid message options"),u=u?c(u):{};for(let l in p){const f=p[l];if(l==="root"||d.isTemplate(f)){u[l]=f;continue}if(typeof f=="string"){u[l]=new d(f);continue}i(typeof f=="object"&&!Array.isArray(f),"Invalid message for",l);const m=l;for(l in u[m]=u[m]||{},f){const h=f[l];l==="root"||d.isTemplate(h)?u[m][l]=h:(i(typeof h=="string","Invalid message for",l,"in",m),u[m][l]=new d(h))}}return u},a.decompile=function(p){const u={};for(let l in p){const f=p[l];if(l==="root"){u.root=f;continue}if(d.isTemplate(f)){u[l]=f.describe({compact:!0});continue}const m=l;for(l in u[m]={},f){const h=f[l];l!=="root"?u[m][l]=h.describe({compact:!0}):u[m].root=h}}return u},a.merge=function(p,u){if(!p)return a.compile(u);if(!u)return p;if(typeof u=="string")return new d(u);if(d.isTemplate(u))return u;const l=c(p);for(let f in u){const m=u[f];if(f==="root"||d.isTemplate(m)){l[f]=m;continue}if(typeof m=="string"){l[f]=new d(m);continue}i(typeof m=="object"&&!Array.isArray(m),"Invalid message for",f);const h=f;for(f in l[h]=l[h]||{},m){const x=m[f];f==="root"||d.isTemplate(x)?l[h][f]=x:(i(typeof x=="string","Invalid message for",f,"in",h),l[h][f]=new d(x))}}return l}},2294:(s,a,o)=>{const i=o(375),c=o(8160),d=o(6133),p={};a.Ids=p.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const u=new p.Ids;return u._byId=new Map(this._byId),u._byKey=new Map(this._byKey),u._schemaChain=this._schemaChain,u}concat(u){u._schemaChain&&(this._schemaChain=!0);for(const[l,f]of u._byId.entries())i(!this._byKey.has(l),"Schema id conflicts with existing key:",l),this._byId.set(l,f);for(const[l,f]of u._byKey.entries())i(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,f)}fork(u,l,f){const m=this._collect(u);m.push({schema:f});const h=m.shift();let x={id:h.id,schema:l(h.schema)};i(c.isSchema(x.schema),"adjuster function failed to return a joi schema type");for(const g of m)x={id:g.id,schema:p.fork(g.schema,x.id,x.schema)};return x.schema}labels(u,l=[]){const f=u[0],m=this._get(f);if(!m)return[...l,...u].join(".");const h=u.slice(1);return l=[...l,m.schema._flags.label||f],h.length?m.schema._ids.labels(h,l):l.join(".")}reach(u,l=[]){const f=u[0],m=this._get(f);i(m,"Schema does not contain path",[...l,...u].join("."));const h=u.slice(1);return h.length?m.schema._ids.reach(h,[...l,f]):m.schema}register(u,{key:l}={}){if(!u||!c.isSchema(u))return;(u.$_property("schemaChain")||u._ids._schemaChain)&&(this._schemaChain=!0);const f=u._flags.id;if(f){const m=this._byId.get(f);i(!m||m.schema===u,"Cannot add different schemas with the same id:",f),i(!this._byKey.has(f),"Schema id conflicts with existing key:",f),this._byId.set(f,{schema:u,id:f})}l&&(i(!this._byKey.has(l),"Schema already contains key:",l),i(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,{schema:u,id:l}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(u,l=[],f=[]){const m=u[0],h=this._get(m);i(h,"Schema does not contain path",[...l,...u].join(".")),f=[h,...f];const x=u.slice(1);return x.length?h.schema._ids._collect(x,[...l,m],f):f}_get(u){return this._byId.get(u)||this._byKey.get(u)}},p.fork=function(u,l,f){const m=a.schema(u,{each:(h,{key:x})=>{if(l===(h._flags.id||x))return f},ref:!1});return m?m.$_mutateRebuild():u},a.schema=function(u,l){let f;for(const m in u._flags){if(m[0]==="_")continue;const h=p.scan(u._flags[m],{source:"flags",name:m},l);h!==void 0&&(f=f||u.clone(),f._flags[m]=h)}for(let m=0;m<u._rules.length;++m){const h=u._rules[m],x=p.scan(h.args,{source:"rules",name:h.name},l);if(x!==void 0){f=f||u.clone();const g=Object.assign({},h);g.args=x,f._rules[m]=g,f._singleRules.get(h.name)===h&&f._singleRules.set(h.name,g)}}for(const m in u.$_terms){if(m[0]==="_")continue;const h=p.scan(u.$_terms[m],{source:"terms",name:m},l);h!==void 0&&(f=f||u.clone(),f.$_terms[m]=h)}return f},p.scan=function(u,l,f,m,h){const x=m||[];if(u===null||typeof u!="object")return;let g;if(Array.isArray(u)){for(let y=0;y<u.length;++y){const v=l.source==="terms"&&l.name==="keys"&&u[y].key,T=p.scan(u[y],l,f,[y,...x],v);T!==void 0&&(g=g||u.slice(),g[y]=T)}return g}if(f.schema!==!1&&c.isSchema(u)||f.ref!==!1&&d.isRef(u)){const y=f.each(u,{...l,path:x,key:h});return y===u?void 0:y}for(const y in u){if(y[0]==="_")continue;const v=p.scan(u[y],l,f,[y,...x],h);v!==void 0&&(g=g||Object.assign({},u),g[y]=v)}return g}},6133:(s,a,o)=>{const i=o(375),c=o(8571),d=o(9621),p=o(8160);let u;const l={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};a.create=function(f,m={}){i(typeof f=="string","Invalid reference key:",f),p.assertOptions(m,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),i(!m.prefix||typeof m.prefix=="object","options.prefix must be of type object");const h=Object.assign({},l.defaults,m);delete h.prefix;const x=h.separator,g=l.context(f,x,m.prefix);if(h.type=g.type,f=g.key,h.type==="value")if(g.root&&(i(!x||f[0]!==x,"Cannot specify relative path with root prefix"),h.ancestor="root",f||(f=null)),x&&x===f)f=null,h.ancestor=0;else if(h.ancestor!==void 0)i(!x||!f||f[0]!==x,"Cannot combine prefix with ancestor option");else{const[y,v]=l.ancestor(f,x);v&&(f=f.slice(v))===""&&(f=null),h.ancestor=y}return h.path=x?f===null?[]:f.split(x):[f],new l.Ref(h)},a.in=function(f,m={}){return a.create(f,{...m,in:!0})},a.isRef=function(f){return!!f&&!!f[p.symbols.ref]},l.Ref=class{constructor(f){i(typeof f=="object","Invalid reference construction"),p.assertOptions(f,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),i([!1,void 0].includes(f.separator)||typeof f.separator=="string"&&f.separator.length===1,"Invalid separator"),i(!f.adjust||typeof f.adjust=="function","options.adjust must be a function"),i(!f.map||Array.isArray(f.map),"options.map must be an array"),i(!f.map||!f.adjust,"Cannot set both map and adjust options"),Object.assign(this,l.defaults,f),i(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(f,m,h,x,g={}){return i(!this.in||g.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(h.context,m,g):this.type==="local"?this._resolve(x,m,g):this.ancestor?this.ancestor==="root"?this._resolve(m.ancestors[m.ancestors.length-1],m,g):(i(this.ancestor<=m.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(m.ancestors[this.ancestor-1],m,g)):this._resolve(f,m,g)}_resolve(f,m,h){let x;if(this.type==="value"&&m.mainstay.shadow&&h.shadow!==!1&&(x=m.mainstay.shadow.get(this.absolute(m))),x===void 0&&(x=d(f,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(x=this.adjust(x)),this.map){const g=this.map.get(x);g!==void 0&&(x=g)}return m.mainstay&&m.mainstay.tracer.resolve(m,this,x),x}toString(){return this.display}absolute(f){return[...f.path.slice(0,-this.ancestor),...this.path]}clone(){return new l.Ref(this)}describe(){const f={path:this.path};this.type!=="value"&&(f.type=this.type),this.separator!=="."&&(f.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(f.ancestor=this.ancestor),this.map&&(f.map=[...this.map]);for(const m of["adjust","iterables","render"])this[m]!==null&&this[m]!==void 0&&(f[m]=this[m]);return this.in!==!1&&(f.in=!0),{ref:f}}updateDisplay(){const f=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${f}`);if(!this.separator)return void(this.display=`ref:${f}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${f}`);if(this.ancestor==="root")return void(this.display=`ref:root:${f}`);if(this.ancestor===1)return void(this.display=`ref:${f||".."}`);const m=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${m}${f||""}`}},l.Ref.prototype[p.symbols.ref]=!0,a.build=function(f){return(f=Object.assign({},l.defaults,f)).type==="value"&&f.ancestor===void 0&&(f.ancestor=1),new l.Ref(f)},l.context=function(f,m,h={}){if(f=f.trim(),h){const x=h.global===void 0?"$":h.global;if(x!==m&&f.startsWith(x))return{key:f.slice(x.length),type:"global"};const g=h.local===void 0?"#":h.local;if(g!==m&&f.startsWith(g))return{key:f.slice(g.length),type:"local"};const y=h.root===void 0?"/":h.root;if(y!==m&&f.startsWith(y))return{key:f.slice(y.length),type:"value",root:!0}}return{key:f,type:"value"}},l.ancestor=function(f,m){if(!m)return[1,0];if(f[0]!==m)return[1,0];if(f[1]!==m)return[0,1];let h=2;for(;f[h]===m;)++h;return[h-1,h]},a.toSibling=0,a.toParent=1,a.Manager=class{constructor(){this.refs=[]}register(f,m){if(f)if(m=m===void 0?a.toParent:m,Array.isArray(f))for(const h of f)this.register(h,m);else if(p.isSchema(f))for(const h of f._refs.refs)h.ancestor-m>=0&&this.refs.push({ancestor:h.ancestor-m,root:h.root});else a.isRef(f)&&f.type==="value"&&f.ancestor-m>=0&&this.refs.push({ancestor:f.ancestor-m,root:f.root}),u=u||o(3328),u.isTemplate(f)&&this.register(f.refs(),m)}get length(){return this.refs.length}clone(){const f=new a.Manager;return f.refs=c(this.refs),f}reset(){this.refs=[]}roots(){return this.refs.filter((f=>!f.ancestor)).map((f=>f.root))}}},3378:(s,a,o)=>{const i=o(5107),c={};c.wrap=i.string().min(1).max(2).allow(!1),a.preferences=i.object({allowUnknown:i.boolean(),abortEarly:i.boolean(),artifacts:i.boolean(),cache:i.boolean(),context:i.object(),convert:i.boolean(),dateFormat:i.valid("date","iso","string","time","utc"),debug:i.boolean(),errors:{escapeHtml:i.boolean(),label:i.valid("path","key",!1),language:[i.string(),i.object().ref()],render:i.boolean(),stack:i.boolean(),wrap:{label:c.wrap,array:c.wrap,string:c.wrap}},externals:i.boolean(),messages:i.object(),noDefaults:i.boolean(),nonEnumerables:i.boolean(),presence:i.valid("required","optional","forbidden"),skipFunctions:i.boolean(),stripUnknown:i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects").allow(!0,!1),warnings:i.boolean()}).strict(),c.nameRx=/^[a-zA-Z0-9]\w*$/,c.rule=i.object({alias:i.array().items(i.string().pattern(c.nameRx)).single(),args:i.array().items(i.string(),i.object({name:i.string().pattern(c.nameRx).required(),ref:i.boolean(),assert:i.alternatives([i.function(),i.object().schema()]).conditional("ref",{is:!0,then:i.required()}),normalize:i.function(),message:i.string().when("assert",{is:i.function(),then:i.required()})})),convert:i.boolean(),manifest:i.boolean(),method:i.function().allow(!1),multi:i.boolean(),validate:i.function()}),a.extension=i.object({type:i.alternatives([i.string(),i.object().regex()]).required(),args:i.function(),cast:i.object().pattern(c.nameRx,i.object({from:i.function().maxArity(1).required(),to:i.function().minArity(1).maxArity(2).required()})),base:i.object().schema().when("type",{is:i.object().regex(),then:i.forbidden()}),coerce:[i.function().maxArity(3),i.object({method:i.function().maxArity(3).required(),from:i.array().items(i.string()).single()})],flags:i.object().pattern(c.nameRx,i.object({setter:i.string(),default:i.any()})),manifest:{build:i.function().arity(2)},messages:[i.object(),i.string()],modifiers:i.object().pattern(c.nameRx,i.function().minArity(1).maxArity(2)),overrides:i.object().pattern(c.nameRx,i.function()),prepare:i.function().maxArity(3),rebuild:i.function().arity(1),rules:i.object().pattern(c.nameRx,c.rule),terms:i.object().pattern(c.nameRx,i.object({init:i.array().allow(null).required(),manifest:i.object().pattern(/.+/,[i.valid("schema","single"),i.object({mapped:i.object({from:i.string().required(),to:i.string().required()}).required()})])})),validate:i.function().maxArity(3)}).strict(),a.extensions=i.array().items(i.object(),i.function().arity(1)).strict(),c.desc={buffer:i.object({buffer:i.string()}),func:i.object({function:i.function().required(),options:{literal:!0}}),override:i.object({override:!0}),ref:i.object({ref:i.object({type:i.valid("value","global","local"),path:i.array().required(),separator:i.string().length(1).allow(!1),ancestor:i.number().min(0).integer().allow("root"),map:i.array().items(i.array().length(2)).min(1),adjust:i.function(),iterables:i.boolean(),in:i.boolean(),render:i.boolean()}).required()}),regex:i.object({regex:i.string().min(3)}),special:i.object({special:i.valid("deep").required()}),template:i.object({template:i.string().required(),options:i.object()}),value:i.object({value:i.alternatives([i.object(),i.array()]).required()})},c.desc.entity=i.alternatives([i.array().items(i.link("...")),i.boolean(),i.function(),i.number(),i.string(),c.desc.buffer,c.desc.func,c.desc.ref,c.desc.regex,c.desc.special,c.desc.template,c.desc.value,i.link("/")]),c.desc.values=i.array().items(null,i.boolean(),i.function(),i.number().allow(1/0,-1/0),i.string().allow(""),i.symbol(),c.desc.buffer,c.desc.func,c.desc.override,c.desc.ref,c.desc.regex,c.desc.template,c.desc.value),c.desc.messages=i.object().pattern(/.+/,[i.string(),c.desc.template,i.object().pattern(/.+/,[i.string(),c.desc.template])]),a.description=i.object({type:i.string().required(),flags:i.object({cast:i.string(),default:i.any(),description:i.string(),empty:i.link("/"),failover:c.desc.entity,id:i.string(),label:i.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:i.boolean(),unit:i.string()}).unknown(),preferences:{allowUnknown:i.boolean(),abortEarly:i.boolean(),artifacts:i.boolean(),cache:i.boolean(),convert:i.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:i.boolean(),label:["path","key"],language:[i.string(),c.desc.ref],wrap:{label:c.wrap,array:c.wrap}},externals:i.boolean(),messages:c.desc.messages,noDefaults:i.boolean(),nonEnumerables:i.boolean(),presence:["required","optional","forbidden"],skipFunctions:i.boolean(),stripUnknown:i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects").allow(!0,!1),warnings:i.boolean()},allow:c.desc.values,invalid:c.desc.values,rules:i.array().min(1).items({name:i.string().required(),args:i.object().min(1),keep:i.boolean(),message:[i.string(),c.desc.messages],warn:i.boolean()}),keys:i.object().pattern(/.*/,i.link("/")),link:c.desc.ref}).pattern(/^[a-z]\w*$/,i.any())},493:(s,a,o)=>{const i=o(8571),c=o(9621),d=o(8160),p={value:Symbol("value")};s.exports=p.State=class{constructor(u,l,f){this.path=u,this.ancestors=l,this.mainstay=f.mainstay,this.schemas=f.schemas,this.debug=null}localize(u,l=null,f=null){const m=new p.State(u,l,this);return f&&m.schemas&&(m.schemas=[p.schemas(f),...m.schemas]),m}nest(u,l){const f=new p.State(this.path,this.ancestors,this);return f.schemas=f.schemas&&[p.schemas(u),...f.schemas],f.debug=l,f}shadow(u,l){this.mainstay.shadow=this.mainstay.shadow||new p.Shadow,this.mainstay.shadow.set(this.path,u,l)}snapshot(){this.mainstay.shadow&&(this._snapshot=i(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},p.schemas=function(u){return d.isSchema(u)?{schema:u}:u},p.Shadow=class{constructor(){this._values=null}set(u,l,f){if(!u.length||f==="strip"&&typeof u[u.length-1]=="number")return;this._values=this._values||new Map;let m=this._values;for(let h=0;h<u.length;++h){const x=u[h];let g=m.get(x);g||(g=new Map,m.set(x,g)),m=g}m[p.value]=l}get(u){const l=this.node(u);if(l)return l[p.value]}node(u){if(this._values)return c(this._values,u,{iterables:!0})}override(u,l){if(!this._values)return;const f=u.slice(0,-1),m=u[u.length-1],h=c(this._values,f,{iterables:!0});l?h.set(m,l):h&&h.delete(m)}}},3328:(s,a,o)=>{const i=o(375),c=o(8571),d=o(5277),p=o(1447),u=o(8160),l=o(6354),f=o(6133),m={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};s.exports=m.Template=class{constructor(h,x){if(i(typeof h=="string","Template source must be a string"),i(!h.includes("\0")&&!h.includes(""),"Template source cannot contain reserved control characters"),this.source=h,this.rendered=h,this._template=null,x){const{functions:g,...y}=x;this._settings=Object.keys(y).length?c(y):void 0,this._functions=g,this._functions&&(i(Object.keys(this._functions).every((v=>typeof v=="string")),"Functions keys must be strings"),i(Object.values(this._functions).every((v=>typeof v=="function")),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const h=m.encode(this.source),x=m.split(h);let g=!1;const y=[],v=x.shift();v&&y.push(v);for(const T of x){const w=T[0]!=="{",k=w?"}":"}}",S=T.indexOf(k);if(S===-1||T[1]==="{"){y.push(`{${m.decode(T)}`);continue}let _=T.slice(w?0:1,S);const A=_[0]===":";A&&(_=_.slice(1));const N=this._ref(m.decode(_),{raw:w,wrapped:A});y.push(N),typeof N!="string"&&(g=!0);const O=T.slice(S+k.length);O&&y.push(m.decode(O))}g?this._template=y:this.rendered=y.join("")}static date(h,x){return m.dateFormat[x.dateFormat].call(h)}describe(h={}){if(!this._settings&&h.compact)return this.source;const x={template:this.source};return this._settings&&(x.options=this._settings),this._functions&&(x.functions=this._functions),x}static build(h){return new m.Template(h.template,h.options||h.functions?{...h.options,functions:h.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(h){return!!h&&!!h[u.symbols.template]}refs(){if(!this._template)return;const h=[];for(const x of this._template)typeof x!="string"&&h.push(...x.refs);return h}resolve(h,x,g,y){return this._template&&this._template.length===1?this._part(this._template[0],h,x,g,y,{}):this.render(h,x,g,y)}_part(h,...x){return h.ref?h.ref.resolve(...x):h.formula.evaluate(x)}render(h,x,g,y,v={}){if(!this.isDynamic())return this.rendered;const T=[];for(const w of this._template)if(typeof w=="string")T.push(w);else{const k=this._part(w,h,x,g,y,v),S=m.stringify(k,h,x,g,y,v);if(S!==void 0){const _=w.raw||(v.errors&&v.errors.escapeHtml)===!1?S:d(S);T.push(m.wrap(_,w.wrapped&&g.errors.wrap.label))}}return T.join("")}_ref(h,{raw:x,wrapped:g}){const y=[],v=w=>{const k=f.create(w,this._settings);return y.push(k),S=>{const _=k.resolve(...S);return _!==void 0?_:null}};try{const w=this._functions?{...m.functions,...this._functions}:m.functions;var T=new p.Parser(h,{reference:v,functions:w,constants:m.constants})}catch(w){throw w.message=`Invalid template variable "${h}" fails due to: ${w.message}`,w}if(T.single){if(T.single.type==="reference"){const w=y[0];return{ref:w,raw:x,refs:y,wrapped:g||w.type==="local"&&w.key==="label"}}return m.stringify(T.single.value)}return{formula:T,raw:x,refs:y}}toString(){return this.source}},m.Template.prototype[u.symbols.template]=!0,m.Template.prototype.isImmutable=!0,m.encode=function(h){return h.replace(/\\(\{+)/g,((x,g)=>m.opens.slice(0,g.length))).replace(/\\(\}+)/g,((x,g)=>m.closes.slice(0,g.length)))},m.decode=function(h){return h.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},m.split=function(h){const x=[];let g="";for(let y=0;y<h.length;++y){const v=h[y];if(v==="{"){let T="";for(;y+1<h.length&&h[y+1]==="{";)T+="{",++y;x.push(g),g=T}else g+=v}return x.push(g),x},m.wrap=function(h,x){return x?x.length===1?`${x}${h}${x}`:`${x[0]}${h}${x[1]}`:h},m.stringify=function(h,x,g,y,v,T={}){const w=typeof h,k=y&&y.errors&&y.errors.wrap||{};let S=!1;if(f.isRef(h)&&h.render&&(S=h.in,h=h.resolve(x,g,y,v,{in:h.in,...T})),h===null)return"null";if(w==="string")return m.wrap(h,T.arrayItems&&k.string);if(w==="number"||w==="function"||w==="symbol")return h.toString();if(w!=="object")return JSON.stringify(h);if(h instanceof Date)return m.Template.date(h,y);if(h instanceof Map){const A=[];for(const[N,O]of h.entries())A.push(`${N.toString()} -> ${O.toString()}`);h=A}if(!Array.isArray(h))return h.toString();const _=[];for(const A of h)_.push(m.stringify(A,x,g,y,v,{arrayItems:!0,...T}));return m.wrap(_.join(", "),!S&&k.array)},m.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},m.functions={if:(h,x,g)=>h?x:g,length:h=>typeof h=="string"?h.length:h&&typeof h=="object"?Array.isArray(h)?h.length:Object.keys(h).length:null,msg(h){const[x,g,y,v,T]=this,w=T.messages;if(!w)return"";const k=l.template(x,w[0],h,g,y)||l.template(x,w[1],h,g,y);return k?k.render(x,g,y,v,T):""},number:h=>typeof h=="number"?h:typeof h=="string"?parseFloat(h):typeof h=="boolean"?h?1:0:h instanceof Date?h.getTime():null}},4946:(s,a,o)=>{const i=o(375),c=o(1687),d=o(8068),p=o(8160),u=o(3292),l=o(6354),f=o(6133),m={};s.exports=d.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:(h,...x)=>x.length===1&&Array.isArray(x[0])?h.try(...x[0]):h.try(...x),validate(h,x){const{schema:g,error:y,state:v,prefs:T}=x;if(g._flags.match){const k=[],S=[];for(let A=0;A<g.$_terms.matches.length;++A){const N=g.$_terms.matches[A],O=v.nest(N.schema,`match.${A}`);O.snapshot();const D=N.schema.$_validate(h,O,T);D.errors?(S.push(D.errors),O.restore()):(k.push(D.value),O.commit())}if(k.length===0)return{errors:y("alternatives.any",{details:S.map((A=>l.details(A,{override:!1})))})};if(g._flags.match==="one")return k.length===1?{value:k[0]}:{errors:y("alternatives.one")};if(k.length!==g.$_terms.matches.length)return{errors:y("alternatives.all",{details:S.map((A=>l.details(A,{override:!1})))})};const _=A=>A.$_terms.matches.some((N=>N.schema.type==="object"||N.schema.type==="alternatives"&&_(N.schema)));return _(g)?{value:k.reduce(((A,N)=>c(A,N,{mergeArrays:!1})))}:{value:k[k.length-1]}}const w=[];for(let k=0;k<g.$_terms.matches.length;++k){const S=g.$_terms.matches[k];if(S.schema){const N=v.nest(S.schema,`match.${k}`);N.snapshot();const O=S.schema.$_validate(h,N,T);if(!O.errors)return N.commit(),O;N.restore(),w.push({schema:S.schema,reports:O.errors});continue}const _=S.ref?S.ref.resolve(h,v,T):h,A=S.is?[S]:S.switch;for(let N=0;N<A.length;++N){const O=A[N],{is:D,then:j,otherwise:$}=O,V=`match.${k}${S.switch?"."+N:""}`;if(D.$_match(_,v.nest(D,`${V}.is`),T)){if(j)return j.$_validate(h,v.nest(j,`${V}.then`),T)}else if($)return $.$_validate(h,v.nest($,`${V}.otherwise`),T)}}return m.errors(w,x)},rules:{conditional:{method(h,x){i(!this._flags._endedSwitch,"Unreachable condition"),i(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),i(x.break===void 0,"Cannot use break option with alternatives conditional");const g=this.clone(),y=u.when(g,h,x),v=y.is?[y]:y.switch;for(const T of v)if(T.then&&T.otherwise){g.$_setFlag("_endedSwitch",!0,{clone:!1});break}return g.$_terms.matches.push(y),g.$_mutateRebuild()}},match:{method(h){if(i(["any","one","all"].includes(h),"Invalid alternatives match mode",h),h!=="any")for(const x of this.$_terms.matches)i(x.schema,"Cannot combine match mode",h,"with conditional rules");return this.$_setFlag("match",h)}},try:{method(...h){i(h.length,"Missing alternative schemas"),p.verifyFlat(h,"try"),i(!this._flags._endedSwitch,"Unreachable condition");const x=this.clone();for(const g of h)x.$_terms.matches.push({schema:x.$_compile(g)});return x.$_mutateRebuild()}}},overrides:{label(h){return this.$_parent("label",h).$_modify({each:(x,g)=>g.path[0]!=="is"&&typeof x._flags.label!="string"?x.label(h):void 0,ref:!1})}},rebuild(h){h.$_modify({each:x=>{p.isSchema(x)&&x.type==="array"&&h.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(h,x){if(x.matches)for(const g of x.matches){const{schema:y,ref:v,is:T,not:w,then:k,otherwise:S}=g;h=y?h.try(y):v?h.conditional(v,{is:T,then:k,not:w,otherwise:S,switch:g.switch}):h.conditional(T,{then:k,otherwise:S})}return h}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),m.errors=function(h,{error:x,state:g}){if(!h.length)return{errors:x("alternatives.any")};if(h.length===1)return{errors:h[0].reports};const y=new Set,v=[];for(const{reports:T,schema:w}of h){if(T.length>1)return m.unmatched(h,x);const k=T[0];if(k instanceof l.Report==0)return m.unmatched(h,x);if(k.state.path.length!==g.path.length){v.push({type:w.type,report:k});continue}if(k.code==="any.only"){for(const A of k.local.valids)y.add(A);continue}const[S,_]=k.code.split(".");_!=="base"?v.push({type:w.type,report:k}):k.code==="object.base"?y.add(k.local.type):y.add(S)}return v.length?v.length===1?{errors:v[0].report}:m.unmatched(h,x):{errors:x("alternatives.types",{types:[...y]})}},m.unmatched=function(h,x){const g=[];for(const y of h)g.push(...y.reports);return{errors:x("alternatives.match",l.details(g,{override:!1}))}}},8068:(s,a,o)=>{const i=o(375),c=o(7629),d=o(8160),p=o(6914);s.exports=c.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(u,l){return i(typeof u=="function","Method must be a function"),i(l===void 0||l&&typeof l=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:u,description:l}})},validate(u,l,{method:f}){try{return f(u,l)}catch(m){return l.error("any.custom",{error:m})}},args:["method","description"],multi:!0},messages:{method(u){return this.prefs({messages:u})}},shared:{method(u){i(d.isSchema(u)&&u._flags.id,"Schema must be a schema with an id");const l=this.clone();return l.$_terms.shared=l.$_terms.shared||[],l.$_terms.shared.push(u),l.$_mutateRegister(u),l}},warning:{method(u,l){return i(u&&typeof u=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:u,local:l},warn:!0})},validate:(u,l,{code:f,local:m})=>l.error(f,m),args:["code","local"],multi:!0}},modifiers:{keep(u,l=!0){u.keep=l},message(u,l){u.message=p.compile(l)},warn(u,l=!0){u.warn=l}},manifest:{build(u,l){for(const f in l){const m=l[f];if(["examples","externals","metas","notes","tags"].includes(f))for(const h of m)u=u[f.slice(0,-1)](h);else if(f!=="alterations")if(f!=="whens"){if(f==="shared")for(const h of m)u=u.shared(h)}else for(const h of m){const{ref:x,is:g,not:y,then:v,otherwise:T,concat:w}=h;u=w?u.concat(w):x?u.when(x,{is:g,not:y,then:v,otherwise:T,switch:h.switch,break:h.break}):u.when(g,{then:v,otherwise:T,break:h.break})}else{const h={};for(const{target:x,adjuster:g}of m)h[x]=g;u=u.alter(h)}}return u}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(s,a,o)=>{const i=o(375),c=o(9474),d=o(9621),p=o(8068),u=o(8160),l=o(3292),f={};s.exports=p.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(m,{schema:h,state:x,prefs:g}){if(!Array.isArray(m))return;const y=h.$_getRule("sort");return y?f.sort(h,m,y.args.options,x,g):void 0}},validate(m,{schema:h,error:x}){if(!Array.isArray(m)){if(h._flags.single){const g=[m];return g[u.symbols.arraySingle]=!0,{value:g}}return{errors:x("array.base")}}if(h.$_getRule("items")||h.$_terms.externals)return{value:m.slice()}},rules:{has:{method(m){m=this.$_compile(m,{appendPath:!0});const h=this.$_addRule({name:"has",args:{schema:m}});return h.$_mutateRegister(m),h},validate(m,{state:h,prefs:x,error:g},{schema:y}){const v=[m,...h.ancestors];for(let w=0;w<m.length;++w){const k=h.localize([...h.path,w],v,y);if(y.$_match(m[w],k,x))return m}const T=y._flags.label;return T?g("array.hasKnown",{patternLabel:T}):g("array.hasUnknown",null)},multi:!0},items:{method(...m){u.verifyFlat(m,"items");const h=this.$_addRule("items");for(let x=0;x<m.length;++x){const g=u.tryWithPath((()=>this.$_compile(m[x])),x,{append:!0});h.$_terms.items.push(g)}return h.$_mutateRebuild()},validate(m,{schema:h,error:x,state:g,prefs:y,errorsArray:v}){const T=h.$_terms._requireds.slice(),w=h.$_terms.ordered.slice(),k=[...h.$_terms._inclusions,...T],S=!m[u.symbols.arraySingle];delete m[u.symbols.arraySingle];const _=v();let A=m.length;for(let N=0;N<A;++N){const O=m[N];let D=!1,j=!1;const $=S?N:new Number(N),V=[...g.path,$];if(!h._flags.sparse&&O===void 0){if(_.push(x("array.sparse",{key:$,path:V,pos:N,value:void 0},g.localize(V))),y.abortEarly)return _;w.shift();continue}const U=[m,...g.ancestors];for(const ae of h.$_terms._exclusions)if(ae.$_match(O,g.localize(V,U,ae),y,{presence:"ignore"})){if(_.push(x("array.excludes",{pos:N,value:O},g.localize(V))),y.abortEarly)return _;D=!0,w.shift();break}if(D)continue;if(h.$_terms.ordered.length){if(w.length){const ae=w.shift(),de=ae.$_validate(O,g.localize(V,U,ae),y);if(de.errors){if(_.push(...de.errors),y.abortEarly)return _}else if(ae._flags.result==="strip")f.fastSplice(m,N),--N,--A;else{if(!h._flags.sparse&&de.value===void 0){if(_.push(x("array.sparse",{key:$,path:V,pos:N,value:void 0},g.localize(V))),y.abortEarly)return _;continue}m[N]=de.value}continue}if(!h.$_terms.items.length){if(_.push(x("array.orderedLength",{pos:N,limit:h.$_terms.ordered.length})),y.abortEarly)return _;break}}const z=[];let ne=T.length;for(let ae=0;ae<ne;++ae){const de=g.localize(V,U,T[ae]);de.snapshot();const me=T[ae].$_validate(O,de,y);if(z[ae]=me,!me.errors){if(de.commit(),m[N]=me.value,j=!0,f.fastSplice(T,ae),--ae,--ne,!h._flags.sparse&&me.value===void 0&&(_.push(x("array.sparse",{key:$,path:V,pos:N,value:void 0},g.localize(V))),y.abortEarly))return _;break}de.restore()}if(j)continue;const ce=y.stripUnknown&&!!y.stripUnknown.arrays||!1;ne=k.length;for(const ae of k){let de;const me=T.indexOf(ae);if(me!==-1)de=z[me];else{const pe=g.localize(V,U,ae);if(pe.snapshot(),de=ae.$_validate(O,pe,y),!de.errors){pe.commit(),ae._flags.result==="strip"?(f.fastSplice(m,N),--N,--A):h._flags.sparse||de.value!==void 0?m[N]=de.value:(_.push(x("array.sparse",{key:$,path:V,pos:N,value:void 0},g.localize(V))),D=!0),j=!0;break}pe.restore()}if(ne===1){if(ce){f.fastSplice(m,N),--N,--A,j=!0;break}if(_.push(...de.errors),y.abortEarly)return _;D=!0;break}}if(!D&&(h.$_terms._inclusions.length||h.$_terms._requireds.length)&&!j){if(ce){f.fastSplice(m,N),--N,--A;continue}if(_.push(x("array.includes",{pos:N,value:O},g.localize(V))),y.abortEarly)return _}}return T.length&&f.fillMissedErrors(h,_,T,m,g,y),w.length&&(f.fillOrderedErrors(h,_,w,m,g,y),_.length||f.fillDefault(w,m,g,y)),_.length?_:m},priority:!0,manifest:!1},length:{method(m){return this.$_addRule({name:"length",args:{limit:m},operator:"="})},validate:(m,h,{limit:x},{name:g,operator:y,args:v})=>u.compare(m.length,x,y)?m:h.error("array."+g,{limit:v.limit,value:m}),args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method(m){return this.$_addRule({name:"max",method:"length",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"length",args:{limit:m},operator:">="})}},ordered:{method(...m){u.verifyFlat(m,"ordered");const h=this.$_addRule("items");for(let x=0;x<m.length;++x){const g=u.tryWithPath((()=>this.$_compile(m[x])),x,{append:!0});f.validateSingle(g,h),h.$_mutateRegister(g),h.$_terms.ordered.push(g)}return h.$_mutateRebuild()}},single:{method(m){const h=m===void 0||!!m;return i(!h||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",h)}},sort:{method(m={}){u.assertOptions(m,["by","order"]);const h={order:m.order||"ascending"};return m.by&&(h.by=l.ref(m.by,{ancestor:0}),i(!h.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:h}})},validate(m,{error:h,state:x,prefs:g,schema:y},{options:v}){const{value:T,errors:w}=f.sort(y,m,v,x,g);if(w)return w;for(let k=0;k<m.length;++k)if(m[k]!==T[k])return h("array.sort",{order:v.order,by:v.by?v.by.key:"value"});return m},convert:!0},sparse:{method(m){const h=m===void 0||!!m;return this._flags.sparse===h?this:(h?this.clone():this.$_addRule("items")).$_setFlag("sparse",h,{clone:!1})}},unique:{method(m,h={}){i(!m||typeof m=="function"||typeof m=="string","comparator must be a function or a string"),u.assertOptions(h,["ignoreUndefined","separator"]);const x={name:"unique",args:{options:h,comparator:m}};if(m)if(typeof m=="string"){const g=u.default(h.separator,".");x.path=g?m.split(g):[m]}else x.comparator=m;return this.$_addRule(x)},validate(m,{state:h,error:x,schema:g},{comparator:y,options:v},{comparator:T,path:w}){const k={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},S=T||c,_=v.ignoreUndefined;for(let A=0;A<m.length;++A){const N=w?d(m[A],w):m[A],O=T?k.custom:k[typeof N];if(i(O,"Failed to find unique map container for type",typeof N),O instanceof Map){const D=O.entries();let j;for(;!(j=D.next()).done;)if(S(j.value[0],N)){const $=h.localize([...h.path,A],[m,...h.ancestors]),V={pos:A,value:m[A],dupePos:j.value[1],dupeValue:m[j.value[1]]};return w&&(V.path=y),x("array.unique",V,$)}O.set(N,A)}else{if((!_||N!==void 0)&&O[N]!==void 0){const D={pos:A,value:m[A],dupePos:O[N],dupeValue:m[O[N]]};return w&&(D.path=y),x("array.unique",D,h.localize([...h.path,A],[m,...h.ancestors]))}O[N]=A}}return m},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(m,h)=>new Set(m)}},rebuild(m){m.$_terms._inclusions=[],m.$_terms._exclusions=[],m.$_terms._requireds=[];for(const h of m.$_terms.items)f.validateSingle(h,m),h._flags.presence==="required"?m.$_terms._requireds.push(h):h._flags.presence==="forbidden"?m.$_terms._exclusions.push(h):m.$_terms._inclusions.push(h);for(const h of m.$_terms.ordered)f.validateSingle(h,m)},manifest:{build:(m,h)=>(h.items&&(m=m.items(...h.items)),h.ordered&&(m=m.ordered(...h.ordered)),m)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(m,h,x,g,y,v){const T=[];let w=0;for(const k of x){const S=k._flags.label;S?T.push(S):++w}T.length?w?h.push(m.$_createError("array.includesRequiredBoth",g,{knownMisses:T,unknownMisses:w},y,v)):h.push(m.$_createError("array.includesRequiredKnowns",g,{knownMisses:T},y,v)):h.push(m.$_createError("array.includesRequiredUnknowns",g,{unknownMisses:w},y,v))},f.fillOrderedErrors=function(m,h,x,g,y,v){const T=[];for(const w of x)w._flags.presence==="required"&&T.push(w);T.length&&f.fillMissedErrors(m,h,T,g,y,v)},f.fillDefault=function(m,h,x,g){const y=[];let v=!0;for(let T=m.length-1;T>=0;--T){const w=m[T],k=[h,...x.ancestors],S=w.$_validate(void 0,x.localize(x.path,k,w),g).value;if(v){if(S===void 0)continue;v=!1}y.unshift(S)}y.length&&h.push(...y)},f.fastSplice=function(m,h){let x=h;for(;x<m.length;)m[x++]=m[x];--m.length},f.validateSingle=function(m,h){(m.type==="array"||m._flags._arrayItems)&&(i(!h._flags.single,"Cannot specify array item with single rule enabled"),h.$_setFlag("_arrayItems",!0,{clone:!1}))},f.sort=function(m,h,x,g,y){const v=x.order==="ascending"?1:-1,T=-1*v,w=v,k=(S,_)=>{let A=f.compare(S,_,T,w);if(A!==null||(x.by&&(S=x.by.resolve(S,g,y),_=x.by.resolve(_,g,y)),A=f.compare(S,_,T,w),A!==null))return A;const N=typeof S;if(N!==typeof _)throw m.$_createError("array.sort.mismatching",h,null,g,y);if(N!=="number"&&N!=="string")throw m.$_createError("array.sort.unsupported",h,{type:N},g,y);return N==="number"?(S-_)*v:S<_?T:w};try{return{value:h.slice().sort(k)}}catch(S){return{errors:S}}},f.compare=function(m,h,x,g){return m===h?0:m===void 0?1:h===void 0?-1:m===null?g:h===null?x:null}},4937:(s,a,o)=>{const i=o(375),c=o(8068),d=o(8160),p=o(2036),u={isBool:function(l){return typeof l=="boolean"}};s.exports=c.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(l,{schema:f}){if(typeof l!="boolean"){if(typeof l=="string"){const m=f._flags.sensitive?l:l.toLowerCase();l=m==="true"||m!=="false"&&l}return typeof l!="boolean"&&(l=f.$_terms.truthy&&f.$_terms.truthy.has(l,null,null,!f._flags.sensitive)||(!f.$_terms.falsy||!f.$_terms.falsy.has(l,null,null,!f._flags.sensitive))&&l),{value:l}}},validate(l,{error:f}){if(typeof l!="boolean")return{value:l,errors:f("boolean.base")}},rules:{truthy:{method(...l){d.verifyFlat(l,"truthy");const f=this.clone();f.$_terms.truthy=f.$_terms.truthy||new p;for(let m=0;m<l.length;++m){const h=l[m];i(h!==void 0,"Cannot call truthy with undefined"),f.$_terms.truthy.add(h)}return f}},falsy:{method(...l){d.verifyFlat(l,"falsy");const f=this.clone();f.$_terms.falsy=f.$_terms.falsy||new p;for(let m=0;m<l.length;++m){const h=l[m];i(h!==void 0,"Cannot call falsy with undefined"),f.$_terms.falsy.add(h)}return f}},sensitive:{method(l=!0){return this.$_setFlag("sensitive",l)}}},cast:{number:{from:u.isBool,to:(l,f)=>l?1:0},string:{from:u.isBool,to:(l,f)=>l?"true":"false"}},manifest:{build:(l,f)=>(f.truthy&&(l=l.truthy(...f.truthy)),f.falsy&&(l=l.falsy(...f.falsy)),l)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(s,a,o)=>{const i=o(375),c=o(8068),d=o(8160),p=o(3328),u={isDate:function(l){return l instanceof Date}};s.exports=c.extend({type:"date",coerce:{from:["number","string"],method:(l,{schema:f})=>({value:u.parse(l,f._flags.format)||l})},validate(l,{schema:f,error:m,prefs:h}){if(l instanceof Date&&!isNaN(l.getTime()))return;const x=f._flags.format;return h.convert&&x&&typeof l=="string"?{value:l,errors:m("date.format",{format:x})}:{value:l,errors:m("date.base")}},rules:{compare:{method:!1,validate(l,f,{date:m},{name:h,operator:x,args:g}){const y=m==="now"?Date.now():m.getTime();return d.compare(l.getTime(),y,x)?l:f.error("date."+h,{limit:g.date,value:l})},args:[{name:"date",ref:!0,normalize:l=>l==="now"?l:u.parse(l),assert:l=>l!==null,message:"must have a valid date format"}]},format:{method(l){return i(["iso","javascript","unix"].includes(l),"Unknown date format",l),this.$_setFlag("format",l)}},greater:{method(l){return this.$_addRule({name:"greater",method:"compare",args:{date:l},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(l){return this.$_addRule({name:"less",method:"compare",args:{date:l},operator:"<"})}},max:{method(l){return this.$_addRule({name:"max",method:"compare",args:{date:l},operator:"<="})}},min:{method(l){return this.$_addRule({name:"min",method:"compare",args:{date:l},operator:">="})}},timestamp:{method(l="javascript"){return i(["javascript","unix"].includes(l),'"type" must be one of "javascript, unix"'),this.format(l)}}},cast:{number:{from:u.isDate,to:(l,f)=>l.getTime()},string:{from:u.isDate,to:(l,{prefs:f})=>p.date(l,f)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),u.parse=function(l,f){if(l instanceof Date)return l;if(typeof l!="string"&&(isNaN(l)||!isFinite(l))||/^\s*$/.test(l))return null;if(f==="iso")return d.isIsoDate(l)?u.date(l.toString()):null;const m=l;if(typeof l=="string"&&/^[+-]?\d+(\.\d+)?$/.test(l)&&(l=parseFloat(l)),f){if(f==="javascript")return u.date(1*l);if(f==="unix")return u.date(1e3*l);if(typeof m=="string")return null}return u.date(l)},u.date=function(l){const f=new Date(l);return isNaN(f.getTime())?null:f}},390:(s,a,o)=>{const i=o(375),c=o(7824);s.exports=c.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(d){return i(Number.isSafeInteger(d)&&d>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:d}})},validate:(d,p,{n:u})=>d.length===u?d:p.error("function.arity",{n:u})},class:{method(){return this.$_addRule("class")},validate:(d,p)=>/^\s*class\s/.test(d.toString())?d:p.error("function.class",{value:d})},minArity:{method(d){return i(Number.isSafeInteger(d)&&d>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:d}})},validate:(d,p,{n:u})=>d.length>=u?d:p.error("function.minArity",{n:u})},maxArity:{method(d){return i(Number.isSafeInteger(d)&&d>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:d}})},validate:(d,p,{n:u})=>d.length<=u?d:p.error("function.maxArity",{n:u})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(s,a,o)=>{const i=o(978),c=o(375),d=o(8571),p=o(3652),u=o(8068),l=o(8160),f=o(3292),m=o(6354),h=o(6133),x=o(3328),g={renameDefaults:{alias:!1,multiple:!1,override:!1}};s.exports=u.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(y,v)=>y.keys(v),validate(y,{schema:v,error:T,state:w,prefs:k}){if(!y||typeof y!==v.$_property("typeof")||Array.isArray(y))return{value:y,errors:T("object.base",{type:v.$_property("typeof")})};if(!(v.$_terms.renames||v.$_terms.dependencies||v.$_terms.keys||v.$_terms.patterns||v.$_terms.externals))return;y=g.clone(y,k);const S=[];if(v.$_terms.renames&&!g.rename(v,y,w,k,S))return{value:y,errors:S};if(!v.$_terms.keys&&!v.$_terms.patterns&&!v.$_terms.dependencies)return{value:y,errors:S};const _=new Set(Object.keys(y));if(v.$_terms.keys){const A=[y,...w.ancestors];for(const N of v.$_terms.keys){const O=N.key,D=y[O];_.delete(O);const j=w.localize([...w.path,O],A,N),$=N.schema.$_validate(D,j,k);if($.errors){if(k.abortEarly)return{value:y,errors:$.errors};$.value!==void 0&&(y[O]=$.value),S.push(...$.errors)}else N.schema._flags.result==="strip"||$.value===void 0&&D!==void 0?delete y[O]:$.value!==void 0&&(y[O]=$.value)}}if(_.size||v._flags._hasPatternMatch){const A=g.unknown(v,y,_,S,w,k);if(A)return A}if(v.$_terms.dependencies)for(const A of v.$_terms.dependencies){if(A.key!==null&&g.isPresent(A.options)(A.key.resolve(y,w,k,null,{shadow:!1}))===!1)continue;const N=g.dependencies[A.rel](v,A,y,w,k);if(N){const O=v.$_createError(N.code,y,N.context,w,k);if(k.abortEarly)return{value:y,errors:O};S.push(O)}}return{value:y,errors:S}},rules:{and:{method(...y){return l.verifyFlat(y,"and"),g.dependency(this,"and",null,y)}},append:{method(y){return y==null||Object.keys(y).length===0?this:this.keys(y)}},assert:{method(y,v,T){x.isTemplate(y)||(y=f.ref(y)),c(T===void 0||typeof T=="string","Message must be a string"),v=this.$_compile(v,{appendPath:!0});const w=this.$_addRule({name:"assert",args:{subject:y,schema:v,message:T}});return w.$_mutateRegister(y),w.$_mutateRegister(v),w},validate(y,{error:v,prefs:T,state:w},{subject:k,schema:S,message:_}){const A=k.resolve(y,w,T),N=h.isRef(k)?k.absolute(w):[];return S.$_match(A,w.localize(N,[y,...w.ancestors],S),T)?y:v("object.assert",{subject:k,message:_})},args:["subject","schema","message"],multi:!0},instance:{method(y,v){return c(typeof y=="function","constructor must be a function"),v=v||y.name,this.$_addRule({name:"instance",args:{constructor:y,name:v}})},validate:(y,v,{constructor:T,name:w})=>y instanceof T?y:v.error("object.instance",{type:w,value:y}),args:["constructor","name"]},keys:{method(y){c(y===void 0||typeof y=="object","Object schema must be a valid object"),c(!l.isSchema(y),"Object schema cannot be a joi schema");const v=this.clone();if(y)if(Object.keys(y).length){v.$_terms.keys=v.$_terms.keys?v.$_terms.keys.filter((T=>!y.hasOwnProperty(T.key))):new g.Keys;for(const T in y)l.tryWithPath((()=>v.$_terms.keys.push({key:T,schema:this.$_compile(y[T])})),T)}else v.$_terms.keys=new g.Keys;else v.$_terms.keys=null;return v.$_mutateRebuild()}},length:{method(y){return this.$_addRule({name:"length",args:{limit:y},operator:"="})},validate:(y,v,{limit:T},{name:w,operator:k,args:S})=>l.compare(Object.keys(y).length,T,k)?y:v.error("object."+w,{limit:S.limit,value:y}),args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"}]},max:{method(y){return this.$_addRule({name:"max",method:"length",args:{limit:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"length",args:{limit:y},operator:">="})}},nand:{method(...y){return l.verifyFlat(y,"nand"),g.dependency(this,"nand",null,y)}},or:{method(...y){return l.verifyFlat(y,"or"),g.dependency(this,"or",null,y)}},oxor:{method(...y){return g.dependency(this,"oxor",null,y)}},pattern:{method(y,v,T={}){const w=y instanceof RegExp;w||(y=this.$_compile(y,{appendPath:!0})),c(v!==void 0,"Invalid rule"),l.assertOptions(T,["fallthrough","matches"]),w&&c(!y.flags.includes("g")&&!y.flags.includes("y"),"pattern should not use global or sticky mode"),v=this.$_compile(v,{appendPath:!0});const k=this.clone();k.$_terms.patterns=k.$_terms.patterns||[];const S={[w?"regex":"schema"]:y,rule:v};return T.matches&&(S.matches=this.$_compile(T.matches),S.matches.type!=="array"&&(S.matches=S.matches.$_root.array().items(S.matches)),k.$_mutateRegister(S.matches),k.$_setFlag("_hasPatternMatch",!0,{clone:!1})),T.fallthrough&&(S.fallthrough=!0),k.$_terms.patterns.push(S),k.$_mutateRegister(v),k}},ref:{method(){return this.$_addRule("ref")},validate:(y,v)=>h.isRef(y)?y:v.error("object.refType",{value:y})},regex:{method(){return this.$_addRule("regex")},validate:(y,v)=>y instanceof RegExp?y:v.error("object.regex",{value:y})},rename:{method(y,v,T={}){c(typeof y=="string"||y instanceof RegExp,"Rename missing the from argument"),c(typeof v=="string"||v instanceof x,"Invalid rename to argument"),c(v!==y,"Cannot rename key to same name:",y),l.assertOptions(T,["alias","ignoreUndefined","override","multiple"]);const w=this.clone();w.$_terms.renames=w.$_terms.renames||[];for(const k of w.$_terms.renames)c(k.from!==y,"Cannot rename the same key multiple times");return v instanceof x&&w.$_mutateRegister(v),w.$_terms.renames.push({from:y,to:v,options:i(g.renameDefaults,T)}),w}},schema:{method(y="any"){return this.$_addRule({name:"schema",args:{type:y}})},validate:(y,v,{type:T})=>!l.isSchema(y)||T!=="any"&&y.type!==T?v.error("object.schema",{type:T}):y},unknown:{method(y){return this.$_setFlag("unknown",y!==!1)}},with:{method(y,v,T={}){return g.dependency(this,"with",y,v,T)}},without:{method(y,v,T={}){return g.dependency(this,"without",y,v,T)}},xor:{method(...y){return l.verifyFlat(y,"xor"),g.dependency(this,"xor",null,y)}}},overrides:{default(y,v){return y===void 0&&(y=l.symbols.deepDefault),this.$_parent("default",y,v)}},rebuild(y){if(y.$_terms.keys){const v=new p.Sorter;for(const T of y.$_terms.keys)l.tryWithPath((()=>v.add(T,{after:T.schema.$_rootReferences(),group:T.key})),T.key);y.$_terms.keys=new g.Keys(...v.nodes)}},manifest:{build(y,v){if(v.keys&&(y=y.keys(v.keys)),v.dependencies)for(const{rel:T,key:w=null,peers:k,options:S}of v.dependencies)y=g.dependency(y,T,w,k,S);if(v.patterns)for(const{regex:T,schema:w,rule:k,fallthrough:S,matches:_}of v.patterns)y=y.pattern(T||w,k,{fallthrough:S,matches:_});if(v.renames)for(const{from:T,to:w,options:k}of v.renames)y=y.rename(T,w,k);return y}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),g.clone=function(y,v){if(typeof y=="object"){if(v.nonEnumerables)return d(y,{shallow:!0});const w=Object.create(Object.getPrototypeOf(y));return Object.assign(w,y),w}const T=function(...w){return y.apply(this,w)};return T.prototype=d(y.prototype),Object.defineProperty(T,"name",{value:y.name,writable:!1}),Object.defineProperty(T,"length",{value:y.length,writable:!1}),Object.assign(T,y),T},g.dependency=function(y,v,T,w,k){c(T===null||typeof T=="string",v,"key must be a strings"),k||(k=w.length>1&&typeof w[w.length-1]=="object"?w.pop():{}),l.assertOptions(k,["separator","isPresent"]),w=[].concat(w);const S=l.default(k.separator,"."),_=[];for(const N of w)c(typeof N=="string",v,"peers must be strings"),_.push(f.ref(N,{separator:S,ancestor:0,prefix:!1}));T!==null&&(T=f.ref(T,{separator:S,ancestor:0,prefix:!1}));const A=y.clone();return A.$_terms.dependencies=A.$_terms.dependencies||[],A.$_terms.dependencies.push(new g.Dependency(v,T,_,w,k)),A},g.dependencies={and(y,v,T,w,k){const S=[],_=[],A=v.peers.length,N=g.isPresent(v.options);for(const O of v.peers)N(O.resolve(T,w,k,null,{shadow:!1}))===!1?S.push(O.key):_.push(O.key);if(S.length!==A&&_.length!==A)return{code:"object.and",context:{present:_,presentWithLabels:g.keysToLabels(y,_),missing:S,missingWithLabels:g.keysToLabels(y,S)}}},nand(y,v,T,w,k){const S=[],_=g.isPresent(v.options);for(const O of v.peers)_(O.resolve(T,w,k,null,{shadow:!1}))&&S.push(O.key);if(S.length!==v.peers.length)return;const A=v.paths[0],N=v.paths.slice(1);return{code:"object.nand",context:{main:A,mainWithLabel:g.keysToLabels(y,A),peers:N,peersWithLabels:g.keysToLabels(y,N)}}},or(y,v,T,w,k){const S=g.isPresent(v.options);for(const _ of v.peers)if(S(_.resolve(T,w,k,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:v.paths,peersWithLabels:g.keysToLabels(y,v.paths)}}},oxor(y,v,T,w,k){const S=[],_=g.isPresent(v.options);for(const N of v.peers)_(N.resolve(T,w,k,null,{shadow:!1}))&&S.push(N.key);if(!S.length||S.length===1)return;const A={peers:v.paths,peersWithLabels:g.keysToLabels(y,v.paths)};return A.present=S,A.presentWithLabels=g.keysToLabels(y,S),{code:"object.oxor",context:A}},with(y,v,T,w,k){const S=g.isPresent(v.options);for(const _ of v.peers)if(S(_.resolve(T,w,k,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:v.key.key,mainWithLabel:g.keysToLabels(y,v.key.key),peer:_.key,peerWithLabel:g.keysToLabels(y,_.key)}}},without(y,v,T,w,k){const S=g.isPresent(v.options);for(const _ of v.peers)if(S(_.resolve(T,w,k,null,{shadow:!1})))return{code:"object.without",context:{main:v.key.key,mainWithLabel:g.keysToLabels(y,v.key.key),peer:_.key,peerWithLabel:g.keysToLabels(y,_.key)}}},xor(y,v,T,w,k){const S=[],_=g.isPresent(v.options);for(const N of v.peers)_(N.resolve(T,w,k,null,{shadow:!1}))&&S.push(N.key);if(S.length===1)return;const A={peers:v.paths,peersWithLabels:g.keysToLabels(y,v.paths)};return S.length===0?{code:"object.missing",context:A}:(A.present=S,A.presentWithLabels=g.keysToLabels(y,S),{code:"object.xor",context:A})}},g.keysToLabels=function(y,v){return Array.isArray(v)?v.map((T=>y.$_mapLabels(T))):y.$_mapLabels(v)},g.isPresent=function(y){return typeof y.isPresent=="function"?y.isPresent:v=>v!==void 0},g.rename=function(y,v,T,w,k){const S={};for(const _ of y.$_terms.renames){const A=[],N=typeof _.from!="string";if(N)for(const O in v){if(v[O]===void 0&&_.options.ignoreUndefined||O===_.to)continue;const D=_.from.exec(O);D&&A.push({from:O,to:_.to,match:D})}else!Object.prototype.hasOwnProperty.call(v,_.from)||v[_.from]===void 0&&_.options.ignoreUndefined||A.push(_);for(const O of A){const D=O.from;let j=O.to;if(j instanceof x&&(j=j.render(v,T,w,O.match)),D!==j){if(!_.options.multiple&&S[j]&&(k.push(y.$_createError("object.rename.multiple",v,{from:D,to:j,pattern:N},T,w)),w.abortEarly)||Object.prototype.hasOwnProperty.call(v,j)&&!_.options.override&&!S[j]&&(k.push(y.$_createError("object.rename.override",v,{from:D,to:j,pattern:N},T,w)),w.abortEarly))return!1;v[D]===void 0?delete v[j]:v[j]=v[D],S[j]=!0,_.options.alias||delete v[D]}}}return!0},g.unknown=function(y,v,T,w,k,S){if(y.$_terms.patterns){let _=!1;const A=y.$_terms.patterns.map((O=>{if(O.matches)return _=!0,[]})),N=[v,...k.ancestors];for(const O of T){const D=v[O],j=[...k.path,O];for(let $=0;$<y.$_terms.patterns.length;++$){const V=y.$_terms.patterns[$];if(V.regex){const ne=V.regex.test(O);if(k.mainstay.tracer.debug(k,"rule",`pattern.${$}`,ne?"pass":"error"),!ne)continue}else if(!V.schema.$_match(O,k.nest(V.schema,`pattern.${$}`),S))continue;T.delete(O);const U=k.localize(j,N,{schema:V.rule,key:O}),z=V.rule.$_validate(D,U,S);if(z.errors){if(S.abortEarly)return{value:v,errors:z.errors};w.push(...z.errors)}if(V.matches&&A[$].push(O),v[O]=z.value,!V.fallthrough)break}}if(_)for(let O=0;O<A.length;++O){const D=A[O];if(!D)continue;const j=y.$_terms.patterns[O].matches,$=k.localize(k.path,N,j),V=j.$_validate(D,$,S);if(V.errors){const U=m.details(V.errors,{override:!1});U.matches=D;const z=y.$_createError("object.pattern.match",v,U,k,S);if(S.abortEarly)return{value:v,errors:z};w.push(z)}}}if(T.size&&(y.$_terms.keys||y.$_terms.patterns)){if(S.stripUnknown&&y._flags.unknown===void 0||S.skipFunctions){const _=!(!S.stripUnknown||S.stripUnknown!==!0&&!S.stripUnknown.objects);for(const A of T)_?(delete v[A],T.delete(A)):typeof v[A]=="function"&&T.delete(A)}if(!l.default(y._flags.unknown,S.allowUnknown))for(const _ of T){const A=k.localize([...k.path,_],[]),N=y.$_createError("object.unknown",v[_],{child:_},A,S,{flags:!1});if(S.abortEarly)return{value:v,errors:N};w.push(N)}}},g.Dependency=class{constructor(y,v,T,w,k){this.rel=y,this.key=v,this.peers=T,this.paths=w,this.options=k}describe(){const y={rel:this.rel,peers:this.paths};return this.key!==null&&(y.key=this.key.key),this.peers[0].separator!=="."&&(y.options={...y.options,separator:this.peers[0].separator}),this.options.isPresent&&(y.options={...y.options,isPresent:this.options.isPresent}),y}},g.Keys=class extends Array{concat(y){const v=this.slice(),T=new Map;for(let w=0;w<v.length;++w)T.set(v[w].key,w);for(const w of y){const k=w.key,S=T.get(k);S!==void 0?v[S]={key:k,schema:v[S].schema.concat(w.schema)}:v.push(w)}return v}}},8785:(s,a,o)=>{const i=o(375),c=o(8068),d=o(8160),p=o(3292),u=o(6354),l={};s.exports=c.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(f,m)=>f.ref(m),validate(f,{schema:m,state:h,prefs:x}){i(m.$_terms.link,"Uninitialized link schema");const g=l.generate(m,f,h,x),y=m.$_terms.link[0].ref;return g.$_validate(f,h.nest(g,`link:${y.display}:${g.type}`),x)},generate:(f,m,h,x)=>l.generate(f,m,h,x),rules:{ref:{method(f){i(!this.$_terms.link,"Cannot reinitialize schema"),f=p.ref(f),i(f.type==="value"||f.type==="local","Invalid reference type:",f.type),i(f.type==="local"||f.ancestor==="root"||f.ancestor>0,"Link cannot reference itself");const m=this.clone();return m.$_terms.link=[{ref:f}],m}},relative:{method(f=!0){return this.$_setFlag("relative",f)}}},overrides:{concat(f){i(this.$_terms.link,"Uninitialized link schema"),i(d.isSchema(f),"Invalid schema object"),i(f.type!=="link","Cannot merge type link with another link");const m=this.clone();return m.$_terms.whens||(m.$_terms.whens=[]),m.$_terms.whens.push({concat:f}),m.$_mutateRebuild()}},manifest:{build:(f,m)=>(i(m.link,"Invalid link description missing link"),f.ref(m.link))}}),l.generate=function(f,m,h,x){let g=h.mainstay.links.get(f);if(g)return g._generate(m,h,x).schema;const y=f.$_terms.link[0].ref,{perspective:v,path:T}=l.perspective(y,h);l.assert(v,"which is outside of schema boundaries",y,f,h,x);try{g=T.length?v.$_reach(T):v}catch{l.assert(!1,"to non-existing schema",y,f,h,x)}return l.assert(g.type!=="link","which is another link",y,f,h,x),f._flags.relative||h.mainstay.links.set(f,g),g._generate(m,h,x).schema},l.perspective=function(f,m){if(f.type==="local"){for(const{schema:h,key:x}of m.schemas){if((h._flags.id||x)===f.path[0])return{perspective:h,path:f.path.slice(1)};if(h.$_terms.shared){for(const g of h.$_terms.shared)if(g._flags.id===f.path[0])return{perspective:g,path:f.path.slice(1)}}}return{perspective:null,path:null}}return f.ancestor==="root"?{perspective:m.schemas[m.schemas.length-1].schema,path:f.path}:{perspective:m.schemas[f.ancestor]&&m.schemas[f.ancestor].schema,path:f.path}},l.assert=function(f,m,h,x,g,y){f||i(!1,`"${u.label(x._flags,g,y)}" contains link reference "${h.display}" ${m}`)}},3832:(s,a,o)=>{const i=o(375),c=o(8068),d=o(8160),p={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(u){const l=u.toString(),f=l.indexOf("."),m=l.indexOf("e");return(f<0?0:(m<0?l.length:m)-f-1)+(m<0?0:Math.max(0,-parseInt(l.slice(m+1))))}};s.exports=c.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(u,{schema:l,error:f}){if(!u.match(p.numberRx))return;u=u.trim();const m={value:parseFloat(u)};if(m.value===0&&(m.value=0),!l._flags.unsafe)if(u.match(/e/i)){if(p.extractSignificantDigits(u)!==p.extractSignificantDigits(String(m.value)))return m.errors=f("number.unsafe"),m}else{const h=m.value.toString();if(h.match(/e/i))return m;if(h!==p.normalizeDecimal(u))return m.errors=f("number.unsafe"),m}return m}},validate(u,{schema:l,error:f,prefs:m}){if(u===1/0||u===-1/0)return{value:u,errors:f("number.infinity")};if(!d.isNumber(u))return{value:u,errors:f("number.base")};const h={value:u};if(m.convert){const x=l.$_getRule("precision");if(x){const g=Math.pow(10,x.args.limit);h.value=Math.round(h.value*g)/g}}return h.value===0&&(h.value=0),!l._flags.unsafe&&(u>Number.MAX_SAFE_INTEGER||u<Number.MIN_SAFE_INTEGER)&&(h.errors=f("number.unsafe")),h},rules:{compare:{method:!1,validate:(u,l,{limit:f},{name:m,operator:h,args:x})=>d.compare(u,f,h)?u:l.error("number."+m,{limit:x.limit,value:u}),args:[{name:"limit",ref:!0,assert:d.isNumber,message:"must be a number"}]},greater:{method(u){return this.$_addRule({name:"greater",method:"compare",args:{limit:u},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(u,l)=>Math.trunc(u)-u==0?u:l.error("number.integer")},less:{method(u){return this.$_addRule({name:"less",method:"compare",args:{limit:u},operator:"<"})}},max:{method(u){return this.$_addRule({name:"max",method:"compare",args:{limit:u},operator:"<="})}},min:{method(u){return this.$_addRule({name:"min",method:"compare",args:{limit:u},operator:">="})}},multiple:{method(u){const l=typeof u=="number"?p.decimalPlaces(u):null,f=Math.pow(10,l);return this.$_addRule({name:"multiple",args:{base:u,baseDecimalPlace:l,pfactor:f}})},validate:(u,l,{base:f,baseDecimalPlace:m,pfactor:h},x)=>p.decimalPlaces(u)>m?l.error("number.multiple",{multiple:x.args.base,value:u}):Math.round(h*u)%Math.round(h*f)==0?u:l.error("number.multiple",{multiple:x.args.base,value:u}),args:[{name:"base",ref:!0,assert:u=>typeof u=="number"&&isFinite(u)&&u>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(u,l)=>Number.isSafeInteger(u)&&u>=0&&u<=65535?u:l.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(u){return i(Number.isSafeInteger(u),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:u}})},validate(u,l,{limit:f}){const m=u.toString().match(p.precisionRx);return Math.max((m[1]?m[1].length:0)-(m[2]?parseInt(m[2],10):0),0)<=f?u:l.error("number.precision",{limit:f,value:u})},convert:!0},sign:{method(u){return i(["negative","positive"].includes(u),"Invalid sign",u),this.$_addRule({name:"sign",args:{sign:u}})},validate:(u,l,{sign:f})=>f==="negative"&&u<0||f==="positive"&&u>0?u:l.error(`number.${f}`)},unsafe:{method(u=!0){return i(typeof u=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",u)}}},cast:{string:{from:u=>typeof u=="number",to:(u,l)=>u.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),p.extractSignificantDigits=function(u){return u.replace(p.exponentialPartRegex,"").replace(p.dotRegex,"").replace(p.trailingZerosRegex,"").replace(p.leadingSignAndZerosRegex,"")},p.normalizeDecimal=function(u){return(u=u.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&u.endsWith("0")&&(u=u.replace(/0+$/,"")),u==="-0"?"0":u}},8966:(s,a,o)=>{const i=o(7824);s.exports=i.extend({type:"object",cast:{map:{from:c=>c&&typeof c=="object",to:(c,d)=>new Map(Object.entries(c))}}})},7417:(s,a,o)=>{const i=o(375),c=o(5380),d=o(1745),p=o(9959),u=o(6064),l=o(9926),f=o(5752),m=o(8068),h=o(8160),x={tlds:l instanceof Set&&{tlds:{allow:l,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:p.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};s.exports=m.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(g,{schema:y,state:v,prefs:T}){const w=y.$_getRule("normalize");w&&(g=g.normalize(w.args.form));const k=y.$_getRule("case");k&&(g=k.args.direction==="upper"?g.toLocaleUpperCase():g.toLocaleLowerCase());const S=y.$_getRule("trim");if(S&&S.args.enabled&&(g=g.trim()),y.$_terms.replacements)for(const A of y.$_terms.replacements)g=g.replace(A.pattern,A.replacement);const _=y.$_getRule("hex");if(_&&_.args.options.byteAligned&&g.length%2!=0&&(g=`0${g}`),y.$_getRule("isoDate")){const A=x.isoDate(g);A&&(g=A)}if(y._flags.truncate){const A=y.$_getRule("max");if(A){let N=A.args.limit;if(h.isResolvable(N)&&(N=N.resolve(g,v,T),!h.limit(N)))return{value:g,errors:y.$_createError("any.ref",N,{ref:A.args.limit,arg:"limit",reason:"must be a positive integer"},v,T)};g=g.slice(0,N)}}return{value:g}}},validate(g,{schema:y,error:v}){if(typeof g!="string")return{value:g,errors:v("string.base")};if(g===""){const T=y.$_getRule("min");return T&&T.args.limit===0?void 0:{value:g,errors:v("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(g,y)=>/^[a-zA-Z0-9]+$/.test(g)?g:y.error("string.alphanum")},base64:{method(g={}){return h.assertOptions(g,["paddingRequired","urlSafe"]),g={urlSafe:!1,paddingRequired:!0,...g},i(typeof g.paddingRequired=="boolean","paddingRequired must be boolean"),i(typeof g.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:g}})},validate:(g,y,{options:v})=>x.base64Regex[v.paddingRequired][v.urlSafe].test(g)?g:y.error("string.base64")},case:{method(g){return i(["lower","upper"].includes(g),"Invalid case:",g),this.$_addRule({name:"case",args:{direction:g}})},validate:(g,y,{direction:v})=>v==="lower"&&g===g.toLocaleLowerCase()||v==="upper"&&g===g.toLocaleUpperCase()?g:y.error(`string.${v}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(g,y){let v=g.length,T=0,w=1;for(;v--;){const k=g.charAt(v)*w;T+=k-9*(k>9),w^=3}return T>0&&T%10==0?g:y.error("string.creditCard")}},dataUri:{method(g={}){return h.assertOptions(g,["paddingRequired"]),g={paddingRequired:!0,...g},i(typeof g.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:g}})},validate(g,y,{options:v}){const T=g.match(x.dataUriRegex);return T&&(!T[2]||T[2]!=="base64"||x.base64Regex[v.paddingRequired].false.test(T[3]))?g:y.error("string.dataUri")}},domain:{method(g){g&&h.assertOptions(g,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const y=x.addressOptions(g);return this.$_addRule({name:"domain",args:{options:g},address:y})},validate:(g,y,v,{address:T})=>c.isValid(g,T)?g:y.error("string.domain")},email:{method(g={}){h.assertOptions(g,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),i(g.multiple===void 0||typeof g.multiple=="boolean","multiple option must be an boolean");const y=x.addressOptions(g),v=new RegExp(`\\s*[${g.separator?u(g.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:g},regex:v,address:y})},validate(g,y,{options:v},{regex:T,address:w}){const k=v.multiple?g.split(T):[g],S=[];for(const _ of k)d.isValid(_,w)||S.push(_);return S.length?y.error("string.email",{value:g,invalids:S}):g}},guid:{alias:"uuid",method(g={}){h.assertOptions(g,["version","separator"]);let y="";if(g.version){const w=[].concat(g.version);i(w.length>=1,"version must have at least 1 valid version specified");const k=new Set;for(let S=0;S<w.length;++S){const _=w[S];i(typeof _=="string","version at position "+S+" must be a string");const A=x.guidVersions[_.toLowerCase()];i(A,"version at position "+S+" must be one of "+Object.keys(x.guidVersions).join(", ")),i(!k.has(A),"version at position "+S+" must not be a duplicate"),y+=A,k.add(A)}}i(x.guidSeparators.has(g.separator),'separator must be one of true, false, "-", or ":"');const v=g.separator===void 0?"[:-]?":g.separator===!0?"[:-]":g.separator===!1?"[]?":`\\${g.separator}`,T=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${v})[0-9A-F]{4}\\2?[${y||"0-9A-F"}][0-9A-F]{3}\\2?[${y?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:g},regex:T})},validate(g,y,v,{regex:T}){const w=T.exec(g);return w?x.guidBrackets[w[1]]!==w[w.length-1]?y.error("string.guid"):g:y.error("string.guid")}},hex:{method(g={}){return h.assertOptions(g,["byteAligned","prefix"]),g={byteAligned:!1,prefix:!1,...g},i(typeof g.byteAligned=="boolean","byteAligned must be boolean"),i(typeof g.prefix=="boolean"||g.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:g}})},validate:(g,y,{options:v})=>(v.prefix==="optional"?x.hexRegex.withOptionalPrefix:v.prefix===!0?x.hexRegex.withPrefix:x.hexRegex.withoutPrefix).test(g)?v.byteAligned&&g.length%2!=0?y.error("string.hexAlign"):g:y.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(g,y)=>c.isValid(g,{minDomainSegments:1})||x.ipRegex.test(g)?g:y.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(g={}){h.assertOptions(g,["cidr","version"]);const{cidr:y,versions:v,regex:T}=p.regex(g),w=g.version?v:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:y,version:w}},regex:T})},validate:(g,y,{options:v},{regex:T})=>T.test(g)?g:v.version?y.error("string.ipVersion",{value:g,cidr:v.cidr,version:v.version}):y.error("string.ip",{value:g,cidr:v.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(g,{error:y})=>x.isoDate(g)?g:y("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(g,y)=>x.isoDurationRegex.test(g)?g:y.error("string.isoDuration")},length:{method(g,y){return x.length(this,"length",g,"=",y)},validate(g,y,{limit:v,encoding:T},{name:w,operator:k,args:S}){const _=!T&&g.length;return h.compare(_,v,k)?g:y.error("string."+w,{limit:S.limit,value:g,encoding:T})},args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(g,y){return x.length(this,"max",g,"<=",y)},args:["limit","encoding"]},min:{method(g,y){return x.length(this,"min",g,">=",y)},args:["limit","encoding"]},normalize:{method(g="NFC"){return i(x.normalizationForms.includes(g),"normalization form must be one of "+x.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:g}})},validate:(g,{error:y},{form:v})=>g===g.normalize(v)?g:y("string.normalize",{value:g,form:v}),convert:!0},pattern:{alias:"regex",method(g,y={}){i(g instanceof RegExp,"regex must be a RegExp"),i(!g.flags.includes("g")&&!g.flags.includes("y"),"regex should not use global or sticky mode"),typeof y=="string"&&(y={name:y}),h.assertOptions(y,["invert","name"]);const v=["string.pattern",y.invert?".invert":"",y.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:g,options:y},errorCode:v})},validate:(g,y,{regex:v,options:T},{errorCode:w})=>v.test(g)^T.invert?g:y.error(w,{name:T.name,regex:v,value:g}),args:["regex","options"],multi:!0},replace:{method(g,y){typeof g=="string"&&(g=new RegExp(u(g),"g")),i(g instanceof RegExp,"pattern must be a RegExp"),i(typeof y=="string","replacement must be a String");const v=this.clone();return v.$_terms.replacements||(v.$_terms.replacements=[]),v.$_terms.replacements.push({pattern:g,replacement:y}),v}},token:{method(){return this.$_addRule("token")},validate:(g,y)=>/^\w+$/.test(g)?g:y.error("string.token")},trim:{method(g=!0){return i(typeof g=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:g}})},validate:(g,y,{enabled:v})=>v&&g!==g.trim()?y.error("string.trim"):g,convert:!0},truncate:{method(g=!0){return i(typeof g=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",g)}},uppercase:{method(){return this.case("upper")}},uri:{method(g={}){h.assertOptions(g,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),g.domain&&h.assertOptions(g.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:y,scheme:v}=f.regex(g),T=g.domain?x.addressOptions(g.domain):null;return this.$_addRule({name:"uri",args:{options:g},regex:y,domain:T,scheme:v})},validate(g,y,{options:v},{regex:T,domain:w,scheme:k}){if(["http:/","https:/"].includes(g))return y.error("string.uri");let S=T.exec(g);if(!S&&y.prefs.convert&&v.encodeUri){const _=encodeURI(g);S=T.exec(_),S&&(g=_)}if(S){const _=S[1]||S[2];return!w||v.allowRelative&&!_||c.isValid(_,w)?g:y.error("string.domain",{value:_})}return v.relativeOnly?y.error("string.uriRelativeOnly"):v.scheme?y.error("string.uriCustomScheme",{scheme:k,value:g}):y.error("string.uri")}}},manifest:{build(g,y){if(y.replacements)for(const{pattern:v,replacement:T}of y.replacements)g=g.replace(v,T);return g}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),x.addressOptions=function(g){if(!g)return x.tlds||g;if(i(g.minDomainSegments===void 0||Number.isSafeInteger(g.minDomainSegments)&&g.minDomainSegments>0,"minDomainSegments must be a positive integer"),i(g.maxDomainSegments===void 0||Number.isSafeInteger(g.maxDomainSegments)&&g.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),g.tlds===!1)return g;if(g.tlds===!0||g.tlds===void 0)return i(x.tlds,"Built-in TLD list disabled"),Object.assign({},g,x.tlds);i(typeof g.tlds=="object","tlds must be true, false, or an object");const y=g.tlds.deny;if(y)return Array.isArray(y)&&(g=Object.assign({},g,{tlds:{deny:new Set(y)}})),i(g.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),i(!g.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),x.validateTlds(g.tlds.deny,"tlds.deny"),g;const v=g.tlds.allow;return v?v===!0?(i(x.tlds,"Built-in TLD list disabled"),Object.assign({},g,x.tlds)):(Array.isArray(v)&&(g=Object.assign({},g,{tlds:{allow:new Set(v)}})),i(g.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),x.validateTlds(g.tlds.allow,"tlds.allow"),g):g},x.validateTlds=function(g,y){for(const v of g)i(c.isValid(v,{minDomainSegments:1,maxDomainSegments:1}),`${y} must contain valid top level domain names`)},x.isoDate=function(g){if(!h.isIsoDate(g))return null;/.*T.*[+-]\d\d$/.test(g)&&(g+="00");const y=new Date(g);return isNaN(y.getTime())?null:y.toISOString()},x.length=function(g,y,v,T,w){return i(!w||!1,"Invalid encoding:",w),g.$_addRule({name:y,method:"length",args:{limit:v,encoding:w},operator:T})}},8826:(s,a,o)=>{const i=o(375),c=o(8068),d={};d.Map=class extends Map{slice(){return new d.Map(this)}},s.exports=c.extend({type:"symbol",terms:{map:{init:new d.Map}},coerce:{method(p,{schema:u,error:l}){const f=u.$_terms.map.get(p);return f&&(p=f),u._flags.only&&typeof p!="symbol"?{value:p,errors:l("symbol.map",{map:u.$_terms.map})}:{value:p}}},validate(p,{error:u}){if(typeof p!="symbol")return{value:p,errors:u("symbol.base")}},rules:{map:{method(p){p&&!p[Symbol.iterator]&&typeof p=="object"&&(p=Object.entries(p)),i(p&&p[Symbol.iterator],"Iterable must be an iterable or object");const u=this.clone(),l=[];for(const f of p){i(f&&f[Symbol.iterator],"Entry must be an iterable");const[m,h]=f;i(typeof m!="object"&&typeof m!="function"&&typeof m!="symbol","Key must not be of type object, function, or Symbol"),i(typeof h=="symbol","Value must be a Symbol"),u.$_terms.map.set(m,h),l.push(h)}return u.valid(...l)}}},manifest:{build:(p,u)=>(u.map&&(p=p.map(u.map)),p)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(s,a,o)=>{const i=o(375),c=o(8571),d=o(738),p=o(9621),u=o(8160),l=o(6354),f=o(493),m={result:Symbol("result")};a.entry=function(h,x,g){let y=u.defaults;g&&(i(g.warnings===void 0,"Cannot override warnings preference in synchronous validation"),i(g.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),y=u.preferences(u.defaults,g));const v=m.entry(h,x,y);i(!v.mainstay.externals.length,"Schema with external rules must use validateAsync()");const T={value:v.value};return v.error&&(T.error=v.error),v.mainstay.warnings.length&&(T.warning=l.details(v.mainstay.warnings)),v.mainstay.debug&&(T.debug=v.mainstay.debug),v.mainstay.artifacts&&(T.artifacts=v.mainstay.artifacts),T},a.entryAsync=async function(h,x,g){let y=u.defaults;g&&(y=u.preferences(u.defaults,g));const v=m.entry(h,x,y),T=v.mainstay;if(v.error)throw T.debug&&(v.error.debug=T.debug),v.error;if(T.externals.length){let k=v.value;const S=[];for(const _ of T.externals){const A=_.state.path,N=_.schema.type==="link"?T.links.get(_.schema):null;let O,D,j=k;const $=A.length?[k]:[],V=A.length?p(h,A):h;if(A.length){O=A[A.length-1];let U=k;for(const z of A.slice(0,-1))U=U[z],$.unshift(U);D=$[0],j=D[O]}try{const U=(ne,ce)=>(N||_.schema).$_createError(ne,j,ce,_.state,y),z=await _.method(j,{schema:_.schema,linked:N,state:_.state,prefs:g,original:V,error:U,errorsArray:m.errorsArray,warn:(ne,ce)=>T.warnings.push((N||_.schema).$_createError(ne,j,ce,_.state,y)),message:(ne,ce)=>(N||_.schema).$_createError("external",j,ce,_.state,y,{messages:ne})});if(z===void 0||z===j)continue;if(z instanceof l.Report){if(T.tracer.log(_.schema,_.state,"rule","external","error"),S.push(z),y.abortEarly)break;continue}if(Array.isArray(z)&&z[u.symbols.errors]){if(T.tracer.log(_.schema,_.state,"rule","external","error"),S.push(...z),y.abortEarly)break;continue}D?(T.tracer.value(_.state,"rule",j,z,"external"),D[O]=z):(T.tracer.value(_.state,"rule",k,z,"external"),k=z)}catch(U){throw y.errors.label&&(U.message+=` (${_.label})`),U}}if(v.value=k,S.length)throw v.error=l.process(S,h,y),T.debug&&(v.error.debug=T.debug),v.error}if(!y.warnings&&!y.debug&&!y.artifacts)return v.value;const w={value:v.value};return T.warnings.length&&(w.warning=l.details(T.warnings)),T.debug&&(w.debug=T.debug),T.artifacts&&(w.artifacts=T.artifacts),w},m.Mainstay=class{constructor(h,x,g){this.externals=[],this.warnings=[],this.tracer=h,this.debug=x,this.links=g,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const h=this._snapshots.pop();this.externals=h.externals,this.warnings=h.warnings}commit(){this._snapshots.pop()}},m.entry=function(h,x,g){const{tracer:y,cleanup:v}=m.tracer(x,g),T=g.debug?[]:null,w=x._ids._schemaChain?new Map:null,k=new m.Mainstay(y,T,w),S=x._ids._schemaChain?[{schema:x}]:null,_=new f([],[],{mainstay:k,schemas:S}),A=a.validate(h,x,_,g);v&&x.$_root.untrace();const N=l.process(A.errors,h,g);return{value:A.value,error:N,mainstay:k}},m.tracer=function(h,x){return h.$_root._tracer?{tracer:h.$_root._tracer._register(h)}:x.debug?(i(h.$_root.trace,"Debug mode not supported"),{tracer:h.$_root.trace()._register(h),cleanup:!0}):{tracer:m.ignore}},a.validate=function(h,x,g,y,v={}){if(x.$_terms.whens&&(x=x._generate(h,g,y).schema),x._preferences&&(y=m.prefs(x,y)),x._cache&&y.cache){const N=x._cache.get(h);if(g.mainstay.tracer.debug(g,"validate","cached",!!N),N)return N}const T=(N,O,D)=>x.$_createError(N,h,O,D||g,y),w={original:h,prefs:y,schema:x,state:g,error:T,errorsArray:m.errorsArray,warn:(N,O,D)=>g.mainstay.warnings.push(T(N,O,D)),message:(N,O)=>x.$_createError("custom",h,O,g,y,{messages:N})};g.mainstay.tracer.entry(x,g);const k=x._definition;if(k.prepare&&h!==void 0&&y.convert){const N=k.prepare(h,w);if(N){if(g.mainstay.tracer.value(g,"prepare",h,N.value),N.errors)return m.finalize(N.value,[].concat(N.errors),w);h=N.value}}if(k.coerce&&h!==void 0&&y.convert&&(!k.coerce.from||k.coerce.from.includes(typeof h))){const N=k.coerce.method(h,w);if(N){if(g.mainstay.tracer.value(g,"coerced",h,N.value),N.errors)return m.finalize(N.value,[].concat(N.errors),w);h=N.value}}const S=x._flags.empty;S&&S.$_match(m.trim(h,x),g.nest(S),u.defaults)&&(g.mainstay.tracer.value(g,"empty",h,void 0),h=void 0);const _=v.presence||x._flags.presence||(x._flags._endedSwitch?null:y.presence);if(h===void 0){if(_==="forbidden")return m.finalize(h,null,w);if(_==="required")return m.finalize(h,[x.$_createError("any.required",h,null,g,y)],w);if(_==="optional"){if(x._flags.default!==u.symbols.deepDefault)return m.finalize(h,null,w);g.mainstay.tracer.value(g,"default",h,{}),h={}}}else if(_==="forbidden")return m.finalize(h,[x.$_createError("any.unknown",h,null,g,y)],w);const A=[];if(x._valids){const N=x._valids.get(h,g,y,x._flags.insensitive);if(N)return y.convert&&(g.mainstay.tracer.value(g,"valids",h,N.value),h=N.value),g.mainstay.tracer.filter(x,g,"valid",N),m.finalize(h,null,w);if(x._flags.only){const O=x.$_createError("any.only",h,{valids:x._valids.values({display:!0})},g,y);if(y.abortEarly)return m.finalize(h,[O],w);A.push(O)}}if(x._invalids){const N=x._invalids.get(h,g,y,x._flags.insensitive);if(N){g.mainstay.tracer.filter(x,g,"invalid",N);const O=x.$_createError("any.invalid",h,{invalids:x._invalids.values({display:!0})},g,y);if(y.abortEarly)return m.finalize(h,[O],w);A.push(O)}}if(k.validate){const N=k.validate(h,w);if(N&&(g.mainstay.tracer.value(g,"base",h,N.value),h=N.value,N.errors)){if(!Array.isArray(N.errors))return A.push(N.errors),m.finalize(h,A,w);if(N.errors.length)return A.push(...N.errors),m.finalize(h,A,w)}}return x._rules.length?m.rules(h,A,w):m.finalize(h,A,w)},m.rules=function(h,x,g){const{schema:y,state:v,prefs:T}=g;for(const w of y._rules){const k=y._definition.rules[w.method];if(k.convert&&T.convert){v.mainstay.tracer.log(y,v,"rule",w.name,"full");continue}let S,_=w.args;if(w._resolve.length){_=Object.assign({},_);for(const N of w._resolve){const O=k.argsByName.get(N),D=_[N].resolve(h,v,T),j=O.normalize?O.normalize(D):D,$=u.validateArg(j,null,O);if($){S=y.$_createError("any.ref",D,{arg:N,ref:_[N],reason:$},v,T);break}_[N]=j}}S=S||k.validate(h,g,_,w);const A=m.rule(S,w);if(A.errors){if(v.mainstay.tracer.log(y,v,"rule",w.name,"error"),w.warn){v.mainstay.warnings.push(...A.errors);continue}if(T.abortEarly)return m.finalize(h,A.errors,g);x.push(...A.errors)}else v.mainstay.tracer.log(y,v,"rule",w.name,"pass"),v.mainstay.tracer.value(v,"rule",h,A.value,w.name),h=A.value}return m.finalize(h,x,g)},m.rule=function(h,x){return h instanceof l.Report?(m.error(h,x),{errors:[h],value:null}):Array.isArray(h)&&h[u.symbols.errors]?(h.forEach((g=>m.error(g,x))),{errors:h,value:null}):{errors:null,value:h}},m.error=function(h,x){return x.message&&h._setTemplate(x.message),h},m.finalize=function(h,x,g){x=x||[];const{schema:y,state:v,prefs:T}=g;if(x.length){const k=m.default("failover",void 0,x,g);k!==void 0&&(v.mainstay.tracer.value(v,"failover",h,k),h=k,x=[])}if(x.length&&y._flags.error)if(typeof y._flags.error=="function"){x=y._flags.error(x),Array.isArray(x)||(x=[x]);for(const k of x)i(k instanceof Error||k instanceof l.Report,"error() must return an Error object")}else x=[y._flags.error];if(h===void 0){const k=m.default("default",h,x,g);v.mainstay.tracer.value(v,"default",h,k),h=k}if(y._flags.cast&&h!==void 0){const k=y._definition.cast[y._flags.cast];if(k.from(h)){const S=k.to(h,g);v.mainstay.tracer.value(v,"cast",h,S,y._flags.cast),h=S}}if(y.$_terms.externals&&T.externals&&T._externals!==!1)for(const{method:k}of y.$_terms.externals)v.mainstay.externals.push({method:k,schema:y,state:v,label:l.label(y._flags,v,T)});const w={value:h,errors:x.length?x:null};return y._flags.result&&(w.value=y._flags.result==="strip"?void 0:g.original,v.mainstay.tracer.value(v,y._flags.result,h,w.value),v.shadow(h,y._flags.result)),y._cache&&T.cache!==!1&&!y._refs.length&&y._cache.set(g.original,w),h===void 0||w.errors||y._flags.artifact===void 0||(v.mainstay.artifacts=v.mainstay.artifacts||new Map,v.mainstay.artifacts.has(y._flags.artifact)||v.mainstay.artifacts.set(y._flags.artifact,[]),v.mainstay.artifacts.get(y._flags.artifact).push(v.path)),w},m.prefs=function(h,x){const g=x===u.defaults;return g&&h._preferences[u.symbols.prefs]?h._preferences[u.symbols.prefs]:(x=u.preferences(x,h._preferences),g&&(h._preferences[u.symbols.prefs]=x),x)},m.default=function(h,x,g,y){const{schema:v,state:T,prefs:w}=y,k=v._flags[h];if(w.noDefaults||k===void 0)return x;if(T.mainstay.tracer.log(v,T,"rule",h,"full"),!k)return k;if(typeof k=="function"){const S=k.length?[c(T.ancestors[0]),y]:[];try{return k(...S)}catch(_){return void g.push(v.$_createError(`any.${h}`,null,{error:_},T,w))}}return typeof k!="object"?k:k[u.symbols.literal]?k.literal:u.isResolvable(k)?k.resolve(x,T,w):c(k)},m.trim=function(h,x){if(typeof h!="string")return h;const g=x.$_getRule("trim");return g&&g.args.enabled?h.trim():h},m.ignore={active:!1,debug:d,entry:d,filter:d,log:d,resolve:d,value:d},m.errorsArray=function(){const h=[];return h[u.symbols.errors]=!0,h}},2036:(s,a,o)=>{const i=o(375),c=o(9474),d=o(8160),p={};s.exports=p.Values=class{constructor(u,l){this._values=new Set(u),this._refs=new Set(l),this._lowercase=p.lowercases(u),this._override=!1}get length(){return this._values.size+this._refs.size}add(u,l){d.isResolvable(u)?this._refs.has(u)||(this._refs.add(u),l&&l.register(u)):this.has(u,null,null,!1)||(this._values.add(u),typeof u=="string"&&this._lowercase.set(u.toLowerCase(),u))}static merge(u,l,f){if(u=u||new p.Values,l){if(l._override)return l.clone();for(const m of[...l._values,...l._refs])u.add(m)}if(f)for(const m of[...f._values,...f._refs])u.remove(m);return u.length?u:null}remove(u){d.isResolvable(u)?this._refs.delete(u):(this._values.delete(u),typeof u=="string"&&this._lowercase.delete(u.toLowerCase()))}has(u,l,f,m){return!!this.get(u,l,f,m)}get(u,l,f,m){if(!this.length)return!1;if(this._values.has(u))return{value:u};if(typeof u=="string"&&u&&m){const h=this._lowercase.get(u.toLowerCase());if(h)return{value:h}}if(!this._refs.size&&typeof u!="object")return!1;if(typeof u=="object"){for(const h of this._values)if(c(h,u))return{value:h}}if(l)for(const h of this._refs){const x=h.resolve(u,l,f,null,{in:!0});if(x===void 0)continue;const g=h.in&&typeof x=="object"?Array.isArray(x)?x:Object.keys(x):[x];for(const y of g)if(typeof y==typeof u){if(m&&u&&typeof u=="string"){if(y.toLowerCase()===u.toLowerCase())return{value:y,ref:h}}else if(c(y,u))return{value:y,ref:h}}}return!1}override(){this._override=!0}values(u){if(u&&u.display){const l=[];for(const f of[...this._values,...this._refs])f!==void 0&&l.push(f);return l}return Array.from([...this._values,...this._refs])}clone(){const u=new p.Values(this._values,this._refs);return u._override=this._override,u}concat(u){i(!u._override,"Cannot concat override set of values");const l=new p.Values([...this._values,...u._values],[...this._refs,...u._refs]);return l._override=this._override,l}describe(){const u=[];this._override&&u.push({override:!0});for(const l of this._values.values())u.push(l&&typeof l=="object"?{value:l}:l);for(const l of this._refs.values())u.push(l.describe());return u}},p.Values.prototype[d.symbols.values]=!0,p.Values.prototype.slice=p.Values.prototype.clone,p.lowercases=function(u){const l=new Map;if(u)for(const f of u)typeof f=="string"&&l.set(f.toLowerCase(),f);return l}},978:(s,a,o)=>{const i=o(375),c=o(8571),d=o(1687),p=o(9621),u={};s.exports=function(l,f,m={}){if(i(l&&typeof l=="object","Invalid defaults value: must be an object"),i(!f||f===!0||typeof f=="object","Invalid source value: must be true, falsy or an object"),i(typeof m=="object","Invalid options: must be an object"),!f)return null;if(m.shallow)return u.applyToDefaultsWithShallow(l,f,m);const h=c(l);if(f===!0)return h;const x=m.nullOverride!==void 0&&m.nullOverride;return d(h,f,{nullOverride:x,mergeArrays:!1})},u.applyToDefaultsWithShallow=function(l,f,m){const h=m.shallow;i(Array.isArray(h),"Invalid keys");const x=new Map,g=f===!0?null:new Set;for(let T of h){T=Array.isArray(T)?T:T.split(".");const w=p(l,T);w&&typeof w=="object"?x.set(w,g&&p(f,T)||w):g&&g.add(T)}const y=c(l,{},x);if(!g)return y;for(const T of g)u.reachCopy(y,f,T);const v=m.nullOverride!==void 0&&m.nullOverride;return d(y,f,{nullOverride:v,mergeArrays:!1})},u.reachCopy=function(l,f,m){for(const g of m){if(!(g in f))return;const y=f[g];if(typeof y!="object"||y===null)return;f=y}const h=f;let x=l;for(let g=0;g<m.length-1;++g){const y=m[g];typeof x[y]!="object"&&(x[y]={}),x=x[y]}x[m[m.length-1]]=h}},375:(s,a,o)=>{const i=o(7916);s.exports=function(c,...d){if(!c)throw d.length===1&&d[0]instanceof Error?d[0]:new i(d)}},8571:(s,a,o)=>{const i=o(9621),c=o(4277),d=o(7043),p={needsProtoHack:new Set([c.set,c.map,c.weakSet,c.weakMap])};s.exports=p.clone=function(u,l={},f=null){if(typeof u!="object"||u===null)return u;let m=p.clone,h=f;if(l.shallow){if(l.shallow!==!0)return p.cloneWithShallow(u,l);m=v=>v}else if(h){const v=h.get(u);if(v)return v}else h=new Map;const x=c.getInternalProto(u);if(x===c.buffer)return!1;if(x===c.date)return new Date(u.getTime());if(x===c.regex)return new RegExp(u);const g=p.base(u,x,l);if(g===u)return u;if(h&&h.set(u,g),x===c.set)for(const v of u)g.add(m(v,l,h));else if(x===c.map)for(const[v,T]of u)g.set(v,m(T,l,h));const y=d.keys(u,l);for(const v of y){if(v==="__proto__")continue;if(x===c.array&&v==="length"){g.length=u.length;continue}const T=Object.getOwnPropertyDescriptor(u,v);T?T.get||T.set?Object.defineProperty(g,v,T):T.enumerable?g[v]=m(u[v],l,h):Object.defineProperty(g,v,{enumerable:!1,writable:!0,configurable:!0,value:m(u[v],l,h)}):Object.defineProperty(g,v,{enumerable:!0,writable:!0,configurable:!0,value:m(u[v],l,h)})}return g},p.cloneWithShallow=function(u,l){const f=l.shallow;(l=Object.assign({},l)).shallow=!1;const m=new Map;for(const h of f){const x=i(u,h);typeof x!="object"&&typeof x!="function"||m.set(x,x)}return p.clone(u,l,m)},p.base=function(u,l,f){if(f.prototype===!1)return p.needsProtoHack.has(l)?new l.constructor:l===c.array?[]:{};const m=Object.getPrototypeOf(u);if(m&&m.isImmutable)return u;if(l===c.array){const h=[];return m!==l&&Object.setPrototypeOf(h,m),h}if(p.needsProtoHack.has(l)){const h=new m.constructor;return m!==l&&Object.setPrototypeOf(h,m),h}return Object.create(m)}},9474:(s,a,o)=>{const i=o(4277),c={mismatched:null};s.exports=function(d,p,u){return u=Object.assign({prototype:!0},u),!!c.isDeepEqual(d,p,u,[])},c.isDeepEqual=function(d,p,u,l){if(d===p)return d!==0||1/d==1/p;const f=typeof d;if(f!==typeof p||d===null||p===null)return!1;if(f==="function"){if(!u.deepFunction||d.toString()!==p.toString())return!1}else if(f!=="object")return d!=d&&p!=p;const m=c.getSharedType(d,p,!!u.prototype);switch(m){case i.buffer:return!1;case i.promise:return d===p;case i.regex:return d.toString()===p.toString();case c.mismatched:return!1}for(let h=l.length-1;h>=0;--h)if(l[h].isSame(d,p))return!0;l.push(new c.SeenEntry(d,p));try{return!!c.isDeepEqualObj(m,d,p,u,l)}finally{l.pop()}},c.getSharedType=function(d,p,u){if(u)return Object.getPrototypeOf(d)!==Object.getPrototypeOf(p)?c.mismatched:i.getInternalProto(d);const l=i.getInternalProto(d);return l!==i.getInternalProto(p)?c.mismatched:l},c.valueOf=function(d){const p=d.valueOf;if(p===void 0)return d;try{return p.call(d)}catch(u){return u}},c.hasOwnEnumerableProperty=function(d,p){return Object.prototype.propertyIsEnumerable.call(d,p)},c.isSetSimpleEqual=function(d,p){for(const u of Set.prototype.values.call(d))if(!Set.prototype.has.call(p,u))return!1;return!0},c.isDeepEqualObj=function(d,p,u,l,f){const{isDeepEqual:m,valueOf:h,hasOwnEnumerableProperty:x}=c,{keys:g,getOwnPropertySymbols:y}=Object;if(d===i.array){if(!l.part){if(p.length!==u.length)return!1;for(let S=0;S<p.length;++S)if(!m(p[S],u[S],l,f))return!1;return!0}for(const S of p)for(const _ of u)if(m(S,_,l,f))return!0}else if(d===i.set){if(p.size!==u.size)return!1;if(!c.isSetSimpleEqual(p,u)){const S=new Set(Set.prototype.values.call(u));for(const _ of Set.prototype.values.call(p)){if(S.delete(_))continue;let A=!1;for(const N of S)if(m(_,N,l,f)){S.delete(N),A=!0;break}if(!A)return!1}}}else if(d===i.map){if(p.size!==u.size)return!1;for(const[S,_]of Map.prototype.entries.call(p))if(_===void 0&&!Map.prototype.has.call(u,S)||!m(_,Map.prototype.get.call(u,S),l,f))return!1}else if(d===i.error&&(p.name!==u.name||p.message!==u.message))return!1;const v=h(p),T=h(u);if((p!==v||u!==T)&&!m(v,T,l,f))return!1;const w=g(p);if(!l.part&&w.length!==g(u).length&&!l.skip)return!1;let k=0;for(const S of w)if(l.skip&&l.skip.includes(S))u[S]===void 0&&++k;else if(!x(u,S)||!m(p[S],u[S],l,f))return!1;if(!l.part&&w.length-k!==g(u).length)return!1;if(l.symbols!==!1){const S=y(p),_=new Set(y(u));for(const A of S){if(!l.skip||!l.skip.includes(A)){if(x(p,A)){if(!x(u,A)||!m(p[A],u[A],l,f))return!1}else if(x(u,A))return!1}_.delete(A)}for(const A of _)if(x(u,A))return!1}return!0},c.SeenEntry=class{constructor(d,p){this.obj=d,this.ref=p}isSame(d,p){return this.obj===d&&this.ref===p}}},7916:(s,a,o)=>{const i=o(8761);s.exports=class extends Error{constructor(c){super(c.filter((d=>d!=="")).map((d=>typeof d=="string"?d:d instanceof Error?d.message:i(d))).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a.assert)}}},5277:s=>{const a={};s.exports=function(o){if(!o)return"";let i="";for(let c=0;c<o.length;++c){const d=o.charCodeAt(c);a.isSafe(d)?i+=o[c]:i+=a.escapeHtmlChar(d)}return i},a.escapeHtmlChar=function(o){return a.namedHtml.get(o)||(o>=256?"&#"+o+";":`&#x${o.toString(16).padStart(2,"0")};`)},a.isSafe=function(o){return a.safeCharCodes.has(o)},a.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),a.safeCharCodes=(function(){const o=new Set;for(let i=32;i<123;++i)(i>=97||i>=65&&i<=90||i>=48&&i<=57||i===32||i===46||i===44||i===45||i===58||i===95)&&o.add(i);return o})()},6064:s=>{s.exports=function(a){return a.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:s=>{s.exports=function(){}},1687:(s,a,o)=>{const i=o(375),c=o(8571),d=o(7043),p={};s.exports=p.merge=function(u,l,f){if(i(u&&typeof u=="object","Invalid target value: must be an object"),i(l==null||typeof l=="object","Invalid source value: must be null, undefined, or an object"),!l)return u;if(f=Object.assign({nullOverride:!0,mergeArrays:!0},f),Array.isArray(l)){i(Array.isArray(u),"Cannot merge array onto an object"),f.mergeArrays||(u.length=0);for(let h=0;h<l.length;++h)u.push(c(l[h],{symbols:f.symbols}));return u}const m=d.keys(l,f);for(let h=0;h<m.length;++h){const x=m[h];if(x==="__proto__"||!Object.prototype.propertyIsEnumerable.call(l,x))continue;const g=l[x];if(g&&typeof g=="object"){if(u[x]===g)continue;!u[x]||typeof u[x]!="object"||Array.isArray(u[x])!==Array.isArray(g)||g instanceof Date||g instanceof RegExp?u[x]=c(g,{symbols:f.symbols}):p.merge(u[x],g,f)}else(g!=null||f.nullOverride)&&(u[x]=g)}return u}},9621:(s,a,o)=>{const i=o(375),c={};s.exports=function(d,p,u){if(p===!1||p==null)return d;typeof(u=u||{})=="string"&&(u={separator:u});const l=Array.isArray(p);i(!l||!u.separator,"Separator option is not valid for array-based chain");const f=l?p:p.split(u.separator||".");let m=d;for(let h=0;h<f.length;++h){let x=f[h];const g=u.iterables&&c.iterables(m);if(Array.isArray(m)||g==="set"){const y=Number(x);Number.isInteger(y)&&(x=y<0?m.length+y:y)}if(!m||typeof m=="function"&&u.functions===!1||!g&&m[x]===void 0){i(!u.strict||h+1===f.length,"Missing segment",x,"in reach path ",p),i(typeof m=="object"||u.functions===!0||typeof m!="function","Invalid segment",x,"in reach path ",p),m=u.default;break}m=g?g==="set"?[...m][x]:m.get(x):m[x]}return m},c.iterables=function(d){return d instanceof Set?"set":d instanceof Map?"map":void 0}},8761:s=>{s.exports=function(...a){try{return JSON.stringify(...a)}catch(o){return"[Cannot display object: "+o.message+"]"}}},4277:(s,a)=>{const o={};a=s.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},o.typeMap=new Map([["[object Error]",a.error],["[object Map]",a.map],["[object Promise]",a.promise],["[object Set]",a.set],["[object WeakMap]",a.weakMap],["[object WeakSet]",a.weakSet]]),a.getInternalProto=function(i){if(Array.isArray(i))return a.array;if(i instanceof Date)return a.date;if(i instanceof RegExp)return a.regex;if(i instanceof Error)return a.error;const c=Object.prototype.toString.call(i);return o.typeMap.get(c)||a.generic}},7043:(s,a)=>{a.keys=function(o,i={}){return i.symbols!==!1?Reflect.ownKeys(o):Object.getOwnPropertyNames(o)}},3652:(s,a,o)=>{const i=o(375),c={};a.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(d,p){const u=[].concat((p=p||{}).before||[]),l=[].concat(p.after||[]),f=p.group||"?",m=p.sort||0;i(!u.includes(f),`Item cannot come before itself: ${f}`),i(!u.includes("?"),"Item cannot come before unassociated items"),i(!l.includes(f),`Item cannot come after itself: ${f}`),i(!l.includes("?"),"Item cannot come after unassociated items"),Array.isArray(d)||(d=[d]);for(const h of d){const x={seq:this._items.length,sort:m,before:u,after:l,group:f,node:h};this._items.push(x)}if(!p.manual){const h=this._sort();i(h,"item",f!=="?"?`added into group ${f}`:"","created a dependencies error")}return this.nodes}merge(d){Array.isArray(d)||(d=[d]);for(const u of d)if(u)for(const l of u._items)this._items.push(Object.assign({},l));this._items.sort(c.mergeSort);for(let u=0;u<this._items.length;++u)this._items[u].seq=u;const p=this._sort();return i(p,"merge created a dependencies error"),this.nodes}sort(){const d=this._sort();return i(d,"sort created a dependencies error"),this.nodes}_sort(){const d={},p=Object.create(null),u=Object.create(null);for(const x of this._items){const g=x.seq,y=x.group;u[y]=u[y]||[],u[y].push(g),d[g]=x.before;for(const v of x.after)p[v]=p[v]||[],p[v].push(g)}for(const x in d){const g=[];for(const y in d[x]){const v=d[x][y];u[v]=u[v]||[],g.push(...u[v])}d[x]=g}for(const x in p)if(u[x])for(const g of u[x])d[g].push(...p[x]);const l={};for(const x in d){const g=d[x];for(const y of g)l[y]=l[y]||[],l[y].push(x)}const f={},m=[];for(let x=0;x<this._items.length;++x){let g=x;if(l[x]){g=null;for(let y=0;y<this._items.length;++y){if(f[y]===!0)continue;l[y]||(l[y]=[]);const v=l[y].length;let T=0;for(let w=0;w<v;++w)f[l[y][w]]&&++T;if(T===v){g=y;break}}}g!==null&&(f[g]=!0,m.push(g))}if(m.length!==this._items.length)return!1;const h={};for(const x of this._items)h[x.seq]=x;this._items=[],this.nodes=[];for(const x of m){const g=h[x];this.nodes.push(g.node),this._items.push(g)}return!0}},c.mergeSort=(d,p)=>d.sort===p.sort?0:d.sort<p.sort?-1:1},5380:(s,a,o)=>{const i=o(443),c=o(2178),d={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:i.URL||URL};a.analyze=function(p,u={}){if(!p)return c.code("DOMAIN_NON_EMPTY_STRING");if(typeof p!="string")throw new Error("Invalid input: domain must be a string");if(p.length>256)return c.code("DOMAIN_TOO_LONG");if(d.nonAsciiRx.test(p)){if(u.allowUnicode===!1)return c.code("DOMAIN_INVALID_UNICODE_CHARS");p=p.normalize("NFC")}if(d.domainControlRx.test(p))return c.code("DOMAIN_INVALID_CHARS");p=d.punycode(p),u.allowFullyQualified&&p[p.length-1]==="."&&(p=p.slice(0,-1));const l=u.minDomainSegments||d.minDomainSegments,f=p.split(".");if(f.length<l)return c.code("DOMAIN_SEGMENTS_COUNT");if(u.maxDomainSegments&&f.length>u.maxDomainSegments)return c.code("DOMAIN_SEGMENTS_COUNT_MAX");const m=u.tlds;if(m){const h=f[f.length-1].toLowerCase();if(m.deny&&m.deny.has(h)||m.allow&&!m.allow.has(h))return c.code("DOMAIN_FORBIDDEN_TLDS")}for(let h=0;h<f.length;++h){const x=f[h];if(!x.length)return c.code("DOMAIN_EMPTY_SEGMENT");if(x.length>63)return c.code("DOMAIN_LONG_SEGMENT");if(h<f.length-1){if(!d.domainSegmentRx.test(x))return c.code("DOMAIN_INVALID_CHARS")}else if(!d.tldSegmentRx.test(x))return c.code("DOMAIN_INVALID_TLDS_CHARS")}return null},a.isValid=function(p,u){return!a.analyze(p,u)},d.punycode=function(p){p.includes("%")&&(p=p.replace(/%/g,"%25"));try{return new d.URL(`http://${p}`).host}catch{return p}}},1745:(s,a,o)=>{const i=o(9848),c=o(5380),d=o(2178),p={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(i.TextEncoder||TextEncoder)};a.analyze=function(u,l){return p.email(u,l)},a.isValid=function(u,l){return!p.email(u,l)},p.email=function(u,l={}){if(typeof u!="string")throw new Error("Invalid input: email must be a string");if(!u)return d.code("EMPTY_STRING");const f=!p.nonAsciiRx.test(u);if(!f){if(l.allowUnicode===!1)return d.code("FORBIDDEN_UNICODE");u=u.normalize("NFC")}const m=u.split("@");if(m.length!==2)return m.length>2?d.code("MULTIPLE_AT_CHAR"):d.code("MISSING_AT_CHAR");const[h,x]=m;if(!h)return d.code("EMPTY_LOCAL");if(!l.ignoreLength){if(u.length>254)return d.code("ADDRESS_TOO_LONG");if(p.encoder.encode(h).length>64)return d.code("LOCAL_TOO_LONG")}return p.local(h,f)||c.analyze(x,l)},p.local=function(u,l){const f=u.split(".");for(const m of f){if(!m.length)return d.code("EMPTY_LOCAL_SEGMENT");if(l){if(!p.atextRx.test(m))return d.code("INVALID_LOCAL_CHARS")}else for(const h of m){if(p.atextRx.test(h))continue;const x=p.binary(h);if(!p.atomRx.test(x))return d.code("INVALID_LOCAL_CHARS")}}},p.binary=function(u){return Array.from(p.encoder.encode(u)).map((l=>String.fromCharCode(l))).join("")},p.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,p.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(s,a)=>{a.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},a.code=function(o){return{code:o,error:a.codes[o]}}},9959:(s,a,o)=>{const i=o(375),c=o(5752);a.regex=function(d={}){i(d.cidr===void 0||typeof d.cidr=="string","options.cidr must be a string");const p=d.cidr?d.cidr.toLowerCase():"optional";i(["required","optional","forbidden"].includes(p),"options.cidr must be one of required, optional, forbidden"),i(d.version===void 0||typeof d.version=="string"||Array.isArray(d.version),"options.version must be a string or an array of string");let u=d.version||["ipv4","ipv6","ipvfuture"];Array.isArray(u)||(u=[u]),i(u.length>=1,"options.version must have at least 1 version specified");for(let m=0;m<u.length;++m)i(typeof u[m]=="string","options.version must only contain strings"),u[m]=u[m].toLowerCase(),i(["ipv4","ipv6","ipvfuture"].includes(u[m]),"options.version contains unknown version "+u[m]+" - must be one of ipv4, ipv6, ipvfuture");u=Array.from(new Set(u));const l=`(?:${u.map((m=>{if(p==="forbidden")return c.ip[m];const h=`\\/${m==="ipv4"?c.ip.v4Cidr:c.ip.v6Cidr}`;return p==="required"?`${c.ip[m]}${h}`:`${c.ip[m]}(?:${h})?`})).join("|")})`,f=new RegExp(`^${l}$`);return{cidr:p,versions:u,regex:f,raw:l}}},5752:(s,a,o)=>{const i=o(375),c=o(6064),d={generate:function(){const p={},u="\\dA-Fa-f",l="["+u+"]",f="\\w-\\.~",m="!\\$&'\\(\\)\\*\\+,;=",h="%"+u,x=f+h+m+":@",g="["+x+"]",y="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";p.ipv4address="(?:"+y+"\\.){3}"+y;const v=l+"{1,4}",T="(?:"+v+":"+v+"|"+p.ipv4address+")",w="(?:"+v+":){6}"+T,k="::(?:"+v+":){5}"+T,S="(?:"+v+")?::(?:"+v+":){4}"+T,_="(?:(?:"+v+":){0,1}"+v+")?::(?:"+v+":){3}"+T,A="(?:(?:"+v+":){0,2}"+v+")?::(?:"+v+":){2}"+T,N="(?:(?:"+v+":){0,3}"+v+")?::"+v+":"+T,O="(?:(?:"+v+":){0,4}"+v+")?::"+T,D="(?:(?:"+v+":){0,5}"+v+")?::"+v,j="(?:(?:"+v+":){0,6}"+v+")?::";p.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",p.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",p.ipv6address="(?:"+w+"|"+k+"|"+S+"|"+_+"|"+A+"|"+N+"|"+O+"|"+D+"|"+j+")",p.ipvFuture="v"+l+"+\\.["+f+m+":]+",p.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",p.schemeRegex=new RegExp(p.scheme);const $="["+f+h+m+":]*",V="["+f+h+m+"]{1,255}",U="(?:\\[(?:"+p.ipv6address+"|"+p.ipvFuture+")\\]|"+p.ipv4address+"|"+V+")",z="(?:"+$+"@)?"+U+"(?::\\d*)?",ne="(?:"+$+"@)?("+U+")(?::\\d*)?",ce=g+"*",ae=g+"+",de="(?:\\/"+ce+")*",me="\\/(?:"+ae+de+")?",pe=ae+de,Te="["+f+h+m+"@]+"+de,Ie="(?:\\/\\/\\/"+ce+de+")";return p.hierPart="(?:(?:\\/\\/"+z+de+")|"+me+"|"+pe+"|"+Ie+")",p.hierPartCapture="(?:(?:\\/\\/"+ne+de+")|"+me+"|"+pe+")",p.relativeRef="(?:(?:\\/\\/"+z+de+")|"+me+"|"+Te+"|)",p.relativeRefCapture="(?:(?:\\/\\/"+ne+de+")|"+me+"|"+Te+"|)",p.query="["+x+"\\/\\?]*(?=#|$)",p.queryWithSquareBrackets="["+x+"\\[\\]\\/\\?]*(?=#|$)",p.fragment="["+x+"\\/\\?]*",p}};d.rfc3986=d.generate(),a.ip={v4Cidr:d.rfc3986.ipv4Cidr,v6Cidr:d.rfc3986.ipv6Cidr,ipv4:d.rfc3986.ipv4address,ipv6:d.rfc3986.ipv6address,ipvfuture:d.rfc3986.ipvFuture},d.createRegex=function(p){const u=d.rfc3986,l="(?:\\?"+(p.allowQuerySquareBrackets?u.queryWithSquareBrackets:u.query)+")?(?:#"+u.fragment+")?",f=p.domain?u.relativeRefCapture:u.relativeRef;if(p.relativeOnly)return d.wrap(f+l);let m="";if(p.scheme){i(p.scheme instanceof RegExp||typeof p.scheme=="string"||Array.isArray(p.scheme),"scheme must be a RegExp, String, or Array");const g=[].concat(p.scheme);i(g.length>=1,"scheme must have at least 1 scheme specified");const y=[];for(let v=0;v<g.length;++v){const T=g[v];i(T instanceof RegExp||typeof T=="string","scheme at position "+v+" must be a RegExp or String"),T instanceof RegExp?y.push(T.source.toString()):(i(u.schemeRegex.test(T),"scheme at position "+v+" must be a valid scheme"),y.push(c(T)))}m=y.join("|")}const h="(?:"+(m?"(?:"+m+")":u.scheme)+":"+(p.domain?u.hierPartCapture:u.hierPart)+")",x=p.allowRelative?"(?:"+h+"|"+f+")":h;return d.wrap(x+l,m)},d.wrap=function(p,u){return{raw:p=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${p}`,regex:new RegExp(`^${p}$`),scheme:u}},d.uriRegex=d.createRegex({}),a.regex=function(p={}){return p.scheme||p.allowRelative||p.relativeOnly||p.allowQuerySquareBrackets||p.domain?d.createRegex(p):d.uriRegex}},1447:(s,a)=>{const o={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};a.Parser=class{constructor(i,c={}){if(!c[o.settings]&&c.constants)for(const d in c.constants){const p=c.constants[d];if(p!==null&&!["boolean","number","string"].includes(typeof p))throw new Error(`Formula constant ${d} contains invalid ${typeof p} value type`)}this.settings=c[o.settings]?c:Object.assign({[o.settings]:!0,constants:{},functions:{}},c),this.single=null,this._parts=null,this._parse(i)}_parse(i){let c=[],d="",p=0,u=!1;const l=m=>{if(p)throw new Error("Formula missing closing parenthesis");const h=c.length?c[c.length-1]:null;if(u||d||m){if(h&&h.type==="reference"&&m===")")return h.type="function",h.value=this._subFormula(d,h.value),void(d="");if(m===")"){const x=new a.Parser(d,this.settings);c.push({type:"segment",value:x})}else if(u){if(u==="]")return c.push({type:"reference",value:d}),void(d="");c.push({type:"literal",value:d})}else if(o.operatorCharacters.includes(d))h&&h.type==="operator"&&o.operators.includes(h.value+d)?h.value+=d:c.push({type:"operator",value:d});else if(d.match(o.numberRx))c.push({type:"constant",value:parseFloat(d)});else if(this.settings.constants[d]!==void 0)c.push({type:"constant",value:this.settings.constants[d]});else{if(!d.match(o.tokenRx))throw new Error(`Formula contains invalid token: ${d}`);c.push({type:"reference",value:d})}d=""}};for(const m of i)u?m===u?(l(),u=!1):d+=m:p?m==="("?(d+=m,++p):m===")"?(--p,p?d+=m:l(m)):d+=m:m in o.literals?u=o.literals[m]:m==="("?(l(),++p):o.operatorCharacters.includes(m)?(l(),d=m,l()):m!==" "?d+=m:l();l(),c=c.map(((m,h)=>m.type!=="operator"||m.value!=="-"||h&&c[h-1].type!=="operator"?m:{type:"operator",value:"n"}));let f=!1;for(const m of c){if(m.type==="operator"){if(o.operatorsPrefix.includes(m.value))continue;if(!f)throw new Error("Formula contains an operator in invalid position");if(!o.operators.includes(m.value))throw new Error(`Formula contains an unknown operator ${m.value}`)}else if(f)throw new Error("Formula missing expected operator");f=!f}if(!f)throw new Error("Formula contains invalid trailing operator");c.length===1&&["reference","literal","constant"].includes(c[0].type)&&(this.single={type:c[0].type==="reference"?"reference":"value",value:c[0].value}),this._parts=c.map((m=>{if(m.type==="operator")return o.operatorsPrefix.includes(m.value)?m:m.value;if(m.type!=="reference")return m.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(m.value))throw new Error(`Formula contains invalid reference ${m.value}`);return this.settings.reference?this.settings.reference(m.value):o.reference(m.value)}))}_subFormula(i,c){const d=this.settings.functions[c];if(typeof d!="function")throw new Error(`Formula contains unknown function ${c}`);let p=[];if(i){let u="",l=0,f=!1;const m=()=>{if(!u)throw new Error(`Formula contains function ${c} with invalid arguments ${i}`);p.push(u),u=""};for(let h=0;h<i.length;++h){const x=i[h];f?(u+=x,x===f&&(f=!1)):x in o.literals&&!l?(u+=x,f=o.literals[x]):x!==","||l?(u+=x,x==="("?++l:x===")"&&--l):m()}m()}return p=p.map((u=>new a.Parser(u,this.settings))),function(u){const l=[];for(const f of p)l.push(f.evaluate(u));return d.call(u,...l)}}evaluate(i){const c=this._parts.slice();for(let d=c.length-2;d>=0;--d){const p=c[d];if(p&&p.type==="operator"){const u=c[d+1];c.splice(d+1,1);const l=o.evaluate(u,i);c[d]=o.single(p.value,l)}}return o.operatorsOrder.forEach((d=>{for(let p=1;p<c.length-1;)if(d.includes(c[p])){const u=c[p],l=o.evaluate(c[p-1],i),f=o.evaluate(c[p+1],i);c.splice(p,2);const m=o.calculate(u,l,f);c[p-1]=m===0?0:m}else p+=2})),o.evaluate(c[0],i)}},a.Parser.prototype[o.symbol]=!0,o.reference=function(i){return function(c){return c&&c[i]!==void 0?c[i]:null}},o.evaluate=function(i,c){return i===null?null:typeof i=="function"?i(c):i[o.symbol]?i.evaluate(c):i},o.single=function(i,c){if(i==="!")return!c;const d=-c;return d===0?0:d},o.calculate=function(i,c,d){if(i==="??")return o.exists(c)?c:d;if(typeof c=="string"||typeof d=="string"){if(i==="+")return(c=o.exists(c)?c:"")+(o.exists(d)?d:"")}else switch(i){case"^":return Math.pow(c,d);case"*":return c*d;case"/":return c/d;case"%":return c%d;case"+":return c+d;case"-":return c-d}switch(i){case"<":return c<d;case"<=":return c<=d;case">":return c>d;case">=":return c>=d;case"==":return c===d;case"!=":return c!==d;case"&&":return c&&d;case"||":return c||d}return null},o.exists=function(i){return i!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:s=>{s.exports=JSON.parse('{"version":"17.13.3"}')}},r={},(function s(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={exports:{}};return n[a](i,i.exports,s),i.exports})(5107);var n,r}))})(wi)),wi.exports}var Fp=Bp();const qe=lu(Fp),rf=-1,Xa=0,ms=1,La=2,yu=3,Eu=4,xu=5,vu=6,sf=7,af=8,kl=typeof self=="object"?self:globalThis,Up=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),r=s=>{if(e.has(s))return e.get(s);const[a,o]=t[s];switch(a){case Xa:case rf:return n(o,s);case ms:{const i=n([],s);for(const c of o)i.push(r(c));return i}case La:{const i=n({},s);for(const[c,d]of o)i[r(c)]=r(d);return i}case yu:return n(new Date(o),s);case Eu:{const{source:i,flags:c}=o;return n(new RegExp(i,c),s)}case xu:{const i=n(new Map,s);for(const[c,d]of o)i.set(r(c),r(d));return i}case vu:{const i=n(new Set,s);for(const c of o)i.add(r(c));return i}case sf:{const{name:i,message:c}=o;return n(new kl[i](c),s)}case af:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:i}=new Uint8Array(o);return n(new DataView(i),o)}}return n(new kl[a](o),s)};return r},Cl=e=>Up(new Map,e)(0),Rr="",{toString:Hp}={},{keys:$p}=Object,ss=e=>{const t=typeof e;if(t!=="object"||!e)return[Xa,t];const n=Hp.call(e).slice(8,-1);switch(n){case"Array":return[ms,Rr];case"Object":return[La,Rr];case"Date":return[yu,Rr];case"RegExp":return[Eu,Rr];case"Map":return[xu,Rr];case"Set":return[vu,Rr];case"DataView":return[ms,n]}return n.includes("Array")?[ms,n]:n.includes("Error")?[sf,n]:[La,n]},sa=([e,t])=>e===Xa&&(t==="function"||t==="symbol"),qp=(e,t,n,r)=>{const s=(o,i)=>{const c=r.push(o)-1;return n.set(i,c),c},a=o=>{if(n.has(o))return n.get(o);let[i,c]=ss(o);switch(i){case Xa:{let p=o;switch(c){case"bigint":i=af,p=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);p=null;break;case"undefined":return s([rf],o)}return s([i,p],o)}case ms:{if(c){let l=o;return c==="DataView"?l=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(l=new Uint8Array(o)),s([c,[...l]],o)}const p=[],u=s([i,p],o);for(const l of o)p.push(a(l));return u}case La:{if(c)switch(c){case"BigInt":return s([c,o.toString()],o);case"Boolean":case"Number":case"String":return s([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const p=[],u=s([i,p],o);for(const l of $p(o))(e||!sa(ss(o[l])))&&p.push([a(l),a(o[l])]);return u}case yu:return s([i,o.toISOString()],o);case Eu:{const{source:p,flags:u}=o;return s([i,{source:p,flags:u}],o)}case xu:{const p=[],u=s([i,p],o);for(const[l,f]of o)(e||!(sa(ss(l))||sa(ss(f))))&&p.push([a(l),a(f)]);return u}case vu:{const p=[],u=s([i,p],o);for(const l of o)(e||!sa(ss(l)))&&p.push(a(l));return u}}const{message:d}=o;return s([i,{name:c,message:d}],o)};return a},Ol=(e,{json:t,lossy:n}={})=>{const r=[];return qp(!(t||n),!!t,new Map,r)(e),r},Vp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Cl(Ol(e,t)):structuredClone(e):(e,t)=>Cl(Ol(e,t)),zp=of("end"),Yp=of("start");function of(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Wp(e){const t=Yp(e),n=zp(e);if(t&&n)return{start:t,end:n}}const cr=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],en={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...cr,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...cr],h2:[["className","sr-only"]],img:[...cr,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...cr,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...cr],table:[...cr],ul:[...cr,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},zn={}.hasOwnProperty;function Kp(e,t){let n={type:"root",children:[]};const r={schema:t?{...en,...t}:en,stack:[]},s=uf(r,e);return s&&(Array.isArray(s)?s.length===1?n=s[0]:n.children=s:n=s),n}function uf(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return Gp(e,n);case"doctype":return Xp(e,n);case"element":return Qp(e,n);case"root":return Zp(e,n);case"text":return Jp(e,n)}}}function Gp(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),a={type:"comment",value:r<0?n:n.slice(0,r)};return zs(a,t),a}}function Xp(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return zs(n,t),n}}function Qp(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=lf(e,t.children),s=eg(e,t.properties);e.stack.pop();let a=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(a=!0,e.schema.ancestors&&zn.call(e.schema.ancestors,n))){const i=e.schema.ancestors[n];let c=-1;for(a=!1;++c<i.length;)e.stack.includes(i[c])&&(a=!0)}if(!a)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const o={type:"element",tagName:n,properties:s,children:r};return zs(o,t),o}function Zp(e,t){const r={type:"root",children:lf(e,t.children)};return zs(r,t),r}function Jp(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return zs(r,t),r}function lf(e,t){const n=[];if(Array.isArray(t)){const r=t;let s=-1;for(;++s<r.length;){const a=uf(e,r[s]);a&&(Array.isArray(a)?n.push(...a):n.push(a))}}return n}function eg(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,s=e.schema.required,a=r&&zn.call(r,n)?r[n]:void 0,o=r&&zn.call(r,"*")?r["*"]:void 0,i=t&&typeof t=="object"?t:{},c={};let d;for(d in i)if(zn.call(i,d)){const p=i[d];let u=Il(e,Rl(a,d),d,p);u==null&&(u=Il(e,Rl(o,d),d,p)),u!=null&&(c[d]=u)}if(s&&zn.call(s,n)){const p=s[n];for(d in p)zn.call(p,d)&&!zn.call(c,d)&&(c[d]=p[d])}return c}function Il(e,t,n,r){return t?Array.isArray(r)?tg(e,t,n,r):cf(e,t,n,r):void 0}function tg(e,t,n,r){let s=-1;const a=[];for(;++s<r.length;){const o=cf(e,t,n,r[s]);(typeof o=="number"||typeof o=="string")&&a.push(o)}return a}function cf(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&ng(e,n,r)){if(typeof t=="object"&&t.length>1){let s=!1,a=0;for(;++a<t.length;){const o=t[a];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(r))){s=!0;break}}else if(o===r){s=!0;break}}if(!s)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function ng(e,t,n){const r=e.schema.protocols&&zn.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const s=String(n),a=s.indexOf(":"),o=s.indexOf("?"),i=s.indexOf("#"),c=s.indexOf("/");if(a<0||c>-1&&a>c||o>-1&&a>o||i>-1&&a>i)return!0;let d=-1;for(;++d<r.length;){const p=r[d];if(a===p.length&&s.slice(0,p.length)===p)return!0}return!1}function zs(e,t){const n=Wp(t);t.data&&(e.data=Vp(t.data)),n&&(e.position=n)}function Rl(e,t){let n,r=-1;if(e)for(;++r<e.length;){const s=e[r],a=typeof s=="string"?s:s[0];if(a===t)return s;a==="data*"&&(n=s)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function Qa(e){return function(t){return Kp(t,e)}}const rg=qe.string().domain({tlds:{allow:["eth"]}}),sg=qe.string().pattern(/^0x[a-fA-F0-9]{40}$/),ag=(e,t)=>{if(!e)return t.error("any.required");if(e.includes(".eth")){if(rg.validate(e).error)return t.error("custom.address")}else if(sg.validate(e).error)return t.error("custom.address");return e},df=qe.when("useCustomRecipient",{is:!0,then:qe.string().custom(ag),otherwise:qe.string().empty("")}).messages({"custom.address":'"Address" must be a valid Ethereum name or address'}),ff=e=>(t,n)=>{const r=n.original+"";return r.includes(".")&&r.split(".")[1].length>e?n.error("number.precision",{limit:e}):t},hf=e=>(t,n)=>{const r=qe.number().positive().unsafe(!0).label(e);try{qe.assert(t,r)}catch(s){return n.message(s.details[0].message)}return t.includes(".")&&t.split(".")[1].length>18?n.message(`"${e}" must have at most 18 decimal places after the decimal point`):t.endsWith(".")?t.splice(-1):t},ig=qe.object().keys({title:qe.string().allow("").label("Title"),description:qe.string().allow("").label("Description"),editionSize:qe.number().integer().min(1).empty("").required().label("Edition size"),royaltyPercentage:qe.number().custom(ff(2)).min(0).max(100).empty("").required().label("Royalty percentage"),useCustomRecipient:qe.boolean().required(),customRecipient:df.label("Address"),textType:qe.valid("text/plain","text/markdown","text/html").required()}),og=qe.object().keys({to:df.label("Address"),amount:qe.number().integer().min(1).empty("").required().label("Amount")}),ug=qe.object().keys({amount:qe.number().integer().min(1).empty("").required().label("Amount")});qe.object().keys({amount:qe.number().min(1).empty("").label("Amount"),price:qe.string().custom(hf("Price")).empty("").label("Price")});const lg=qe.object().keys({amount:qe.number().min(1).empty("").required().label("Amount"),price:qe.string().custom(hf("Price")).empty("").required().label("Price")});qe.object().keys({amount:qe.number().integer().min(1).empty("").required().label("Amount")});const cg=qe.object().keys({royaltyPercentage:qe.number().custom(ff(2)).min(0).max(100).empty("").required().label("Royalty percentage")}),dg={...en,protocols:{...en.protocols,src:[...en.protocols.src,"data"]}},fg={...en,tagNames:[...en.tagNames,"style"],protocols:{...en.protocols,src:[...en.protocols.src,"data"]},attributes:{...en.attributes,"*":[...en.attributes["*"],"class","className","style"]},clobber:[]},Un={buy:ug,editRoyalty:cg,list:lg,validHTML:fg,validMarkdown:dg,mint:ig,transfer:og},hg=(e,t)=>e.substring(0,t+2)+"..."+e.substring(e.length-t),Tn=()=>({maxPriorityFeePerGas:10n,maxFeePerGas:Zm("0.001")}),mg={amount:1,price:"0.1"};function pg({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s,id:a,walletAddress:o,onUpdate:i}){const c=Pe.contractAddresses.v1.zang,d=Le.zang,p=Pe.contractAddresses.v1.marketplace,{register:u,formState:{isDirty:l,isValid:f,errors:m},handleSubmit:h,watch:x}=qs({defaultValues:mg,mode:"onChange",resolver:Vs(Un.list)}),g=x("amount"),y=D=>{t(!1),D&&n(D.amount,D.price)},v=()=>{let D="";return s===0?D+=`You don't have any "free" (not tied to listings) tokens. `:D+=`You only have ${s} "free" (not tied to listings) token${s===1?"":"s"}. `,D+=`Proceeding will use ${g-s} token${g-s===1?"":"s"} `,D+="tied to existing listings, making some listings unfulfillable.",D},T=or(),[,w]=ht(Qt),[k,S]=M.useState(!1),{isConnected:_}=qt(),{writeContractAsync:A}=ar(),N=async()=>{if(!_){w("No wallet connected.");return}if(!a){w("No id specified.");return}const D=async()=>await A({address:c,abi:d,functionName:"setApprovalForAll",args:[p,!0],...Tn()}),{success:j}=await T(D,"Approve Marketplace");j&&(S(!0),i&&i(a))},O=async()=>{if(!(!a||!o))try{const D=await Fe.readContract({address:c,abi:d,functionName:"isApprovedForAll",args:[o,p]});S(D)}catch(D){w(Et(D))}};return M.useEffect(()=>{O()},[a,o]),e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>y(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"List NFT for Sale"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Balance"}),E.jsx("span",{className:"text-white font-mono",children:r})]}),r!==s&&E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Available (not listed)"}),E.jsx("span",{className:"text-white font-mono",children:s})]}),E.jsx(sn,{label:"Amount",name:"amount",type:"number",step:"1",min:"1",errors:m,register:u}),E.jsx(sn,{label:"Price per item (ETH)",name:"price",type:"number",step:"0.001",min:"0",errors:m,register:u}),g>Math.min(r,s)&&(g<=r?E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Warning:"})," ",v()]})}):E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," Cannot list more than you own (",r,")."]})})),!k&&E.jsx("div",{className:"p-3 rounded-lg bg-ink-800/50 border border-ink-700",children:E.jsx("p",{className:"text-ink-300 text-sm",children:"You need to approve the marketplace to list your NFTs. This is a one-time approval."})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>y(null),children:"Cancel"}),k?E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!f&&l||g>r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!f&&l||g>r,onClick:h(y),children:"List for Sale"}):E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90 transition-colors",onClick:N,children:"Approve Marketplace"})]})]})]}):null}function gg({isOpen:e,setIsOpen:t,onClose:n}){const r=s=>{t(!1),n(s)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>r(!1)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-5 border-b border-ink-800",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/10 border border-amber-500/20",children:E.jsx("svg",{className:"w-5 h-5 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-medium text-white",children:"Some fields are empty"}),E.jsx("p",{className:"text-sm text-ink-400",children:"Are you sure you want to mint anyway?"})]})]})}),E.jsxs("div",{className:"px-6 py-4 bg-ink-900/50 flex items-center justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-ink-300 hover:text-white transition-colors",onClick:()=>r(!1),children:"Cancel"}),E.jsx("button",{className:"px-4 py-2 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-colors",onClick:()=>r(!0),children:"Mint Anyway"})]})]})]}):null}function bg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ll(e.position):"start"in e||"end"in e?Ll(e):"line"in e||"column"in e?so(e):""}function so(e){return Dl(e&&e.line)+":"+Dl(e&&e.column)}function Ll(e){return so(e&&e.start)+"-"+so(e&&e.end)}function Dl(e){return e&&typeof e=="number"?e:1}class Ot extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(o=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const i=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=i?i.line:void 0,this.name=bg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const pn={basename:yg,dirname:Eg,extname:xg,join:vg,sep:"/"};function yg(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ys(e);let n=0,r=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,i=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else o<0&&(a=!0,o=s+1),i>-1&&(e.codePointAt(s)===t.codePointAt(i--)?i<0&&(r=s):(i=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Eg(e){if(Ys(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function xg(e){Ys(e);let t=e.length,n=-1,r=0,s=-1,a=0,o;for(;t--;){const i=e.codePointAt(t);if(i===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),i===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function vg(...e){let t=-1,n;for(;++t<e.length;)Ys(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":_g(n)}function _g(e){Ys(e);const t=e.codePointAt(0)===47;let n=Tg(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Tg(e,t){let n="",r=0,s=-1,a=0,o=-1,i,c;for(;++o<=e.length;){if(o<e.length)i=e.codePointAt(o);else{if(i===47)break;i=47}if(i===47){if(!(s===o-1||a===1))if(s!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=o,a=0;continue}}else if(n.length>0){n="",r=0,s=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),r=o-s-1;s=o,a=0}else i===46&&a>-1?a++:a=-1}return n}function Ys(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wg={cwd:Ag};function Ag(){return"/"}function ao(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Ng(e){if(typeof e=="string")e=new URL(e);else if(!ao(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Sg(e)}function Sg(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Ai=["history","path","basename","stem","extname","dirname"];class io{constructor(t){let n;t?ao(t)?n={path:t}:typeof t=="string"||kg(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":wg.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ai.length;){const a=Ai[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)Ai.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?pn.basename(this.path):void 0}set basename(t){Si(t,"basename"),Ni(t,"basename"),this.path=pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?pn.dirname(this.path):void 0}set dirname(t){Pl(this.basename,"dirname"),this.path=pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?pn.extname(this.path):void 0}set extname(t){if(Ni(t,"extname"),Pl(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ao(t)&&(t=Ng(t)),Si(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?pn.basename(this.path,this.extname):void 0}set stem(t){Si(t,"stem"),Ni(t,"stem"),this.path=pn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Ot(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ni(e,t){if(e&&e.includes(pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pn.sep+"`")}function Si(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Pl(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function kg(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Cg=(function(e){const r=this.constructor.prototype,s=r[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Og={}.hasOwnProperty;class _u extends Cg{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=y0()}copy(){const t=new _u;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_i(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Oi("data",this.frozen),this.namespace[t]=n,this):Og.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Oi("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=aa(t),r=this.parser||this.Parser;return ki("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ki("process",this.parser||this.Parser),Ci("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,o){const i=aa(t),c=r.parse(i);r.run(c,i,function(p,u,l){if(p||!u||!l)return d(p);const f=u,m=r.stringify(f,l);Lg(m)?l.value=m:l.result=m,d(p,l)});function d(p,u){p||!u?o(p):a?a(u):n(void 0,u)}}}processSync(t){let n=!1,r;return this.freeze(),ki("processSync",this.parser||this.Parser),Ci("processSync",this.compiler||this.Compiler),this.process(t,s),jl("processSync","process",n),r;function s(a,o){n=!0,ol(a),r=o}}run(t,n,r){Ml(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,i){const c=aa(n);s.run(t,c,d);function d(p,u,l){const f=u||t;p?i(p):o?o(f):r(void 0,f,l)}}}runSync(t,n){let r=!1,s;return this.run(t,n,a),jl("runSync","run",r),s;function a(o,i){ol(o),s=i,r=!0}}stringify(t,n){this.freeze();const r=aa(n),s=this.compiler||this.Compiler;return Ci("stringify",s),Ml(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Oi("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?i(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...u]=d;c(p,u)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(d.plugins),d.settings&&(s.settings=_i(!0,s.settings,d.settings))}function i(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const u=d[p];a(u)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,p){let u=-1,l=-1;for(;++u<r.length;)if(r[u][0]===d){l=u;break}if(l===-1)r.push([d,...p]);else if(p.length>0){let[f,...m]=p;const h=r[l][1];Ji(h)&&Ji(f)&&(f=_i(!0,h,f)),r[l]=[d,f,...m]}}}}const Ig=new _u().freeze();function ki(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ci(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Oi(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ml(e){if(!Ji(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function jl(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function aa(e){return Rg(e)?e:new io(e)}function Rg(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Lg(e){return typeof e=="string"||Dg(e)}function Dg(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}class Ws{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ws.prototype.normal={};Ws.prototype.property={};Ws.prototype.space=void 0;function mf(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Ws(n,r,t)}function ws(e){return e.toLowerCase()}class jt{constructor(t,n){this.attribute=n,this.property=t}}jt.prototype.attribute="";jt.prototype.booleanish=!1;jt.prototype.boolean=!1;jt.prototype.commaOrSpaceSeparated=!1;jt.prototype.commaSeparated=!1;jt.prototype.defined=!1;jt.prototype.mustUseProperty=!1;jt.prototype.number=!1;jt.prototype.overloadedBoolean=!1;jt.prototype.property="";jt.prototype.spaceSeparated=!1;jt.prototype.space=void 0;let Pg=0;const Ae=Sr(),ut=Sr(),oo=Sr(),ee=Sr(),Ke=Sr(),Hr=Sr(),Ft=Sr();function Sr(){return 2**++Pg}const uo=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:ut,commaOrSpaceSeparated:Ft,commaSeparated:Hr,number:ee,overloadedBoolean:oo,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),Ii=Object.keys(uo);class Tu extends jt{constructor(t,n,r,s){let a=-1;if(super(t,n),Bl(this,"space",s),typeof r=="number")for(;++a<Ii.length;){const o=Ii[a];Bl(this,Ii[a],(r&uo[o])===uo[o])}}}Tu.prototype.defined=!0;function Bl(e,t,n){n&&(e[t]=n)}function Zr(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new Tu(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ws(r)]=r,n[ws(a.attribute)]=r}return new Ws(t,n,e.space)}const pf=Zr({properties:{ariaActiveDescendant:null,ariaAtomic:ut,ariaAutoComplete:null,ariaBusy:ut,ariaChecked:ut,ariaColCount:ee,ariaColIndex:ee,ariaColSpan:ee,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:ut,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:ut,ariaFlowTo:Ke,ariaGrabbed:ut,ariaHasPopup:null,ariaHidden:ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:ee,ariaLive:null,ariaModal:ut,ariaMultiLine:ut,ariaMultiSelectable:ut,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:ee,ariaPressed:ut,ariaReadOnly:ut,ariaRelevant:null,ariaRequired:ut,ariaRoleDescription:Ke,ariaRowCount:ee,ariaRowIndex:ee,ariaRowSpan:ee,ariaSelected:ut,ariaSetSize:ee,ariaSort:null,ariaValueMax:ee,ariaValueMin:ee,ariaValueNow:ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function gf(e,t){return t in e?e[t]:t}function bf(e,t){return gf(e,t.toLowerCase())}const Mg=Zr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hr,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:Ke,autoFocus:Ae,autoPlay:Ae,blocking:Ke,capture:null,charSet:null,checked:Ae,cite:null,className:Ke,cols:ee,colSpan:null,content:null,contentEditable:ut,controls:Ae,controlsList:Ke,coords:ee|Hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:oo,draggable:ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:Ke,height:ee,hidden:oo,high:ee,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:Ae,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:ee,manifest:null,max:null,maxLength:ee,media:null,method:null,min:null,minLength:ee,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:ee,pattern:null,ping:Ke,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:Ke,required:Ae,reversed:Ae,rows:ee,rowSpan:ee,sandbox:Ke,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:ee,sizes:null,slot:null,span:ee,spellCheck:ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ee,step:null,style:null,tabIndex:ee,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:ut,width:ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:ee,borderColor:null,bottomMargin:ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:ee,leftMargin:ee,link:null,longDesc:null,lowSrc:null,marginHeight:ee,marginWidth:ee,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:ee,rules:null,scheme:null,scrolling:ut,standby:null,summary:null,text:null,topMargin:ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:ee,security:null,unselectable:null},space:"html",transform:bf}),jg=Zr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ft,accentHeight:ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ee,amplitude:ee,arabicForm:null,ascent:ee,attributeName:null,attributeType:null,azimuth:ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ee,by:null,calcMode:null,capHeight:ee,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ee,diffuseConstant:ee,direction:null,display:null,dur:null,divisor:ee,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:ee,enableBackground:null,end:null,event:null,exponent:ee,externalResourcesRequired:null,fill:null,fillOpacity:ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hr,g2:Hr,glyphName:Hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ee,horizOriginX:ee,horizOriginY:ee,id:null,ideographic:ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ee,k:ee,k1:ee,k2:ee,k3:ee,k4:ee,kernelMatrix:Ft,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ee,overlineThickness:ee,paintOrder:null,panose1:null,path:null,pathLength:ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ee,pointsAtY:ee,pointsAtZ:ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ft,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ft,rev:Ft,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ft,requiredFeatures:Ft,requiredFonts:Ft,requiredFormats:Ft,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ee,specularExponent:ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ee,strikethroughThickness:ee,string:null,stroke:null,strokeDashArray:Ft,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ee,strokeOpacity:ee,strokeWidth:null,style:null,surfaceScale:ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ft,tabIndex:ee,tableValues:null,target:null,targetX:ee,targetY:ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ft,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ee,underlineThickness:ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ee,values:null,vAlphabetic:ee,vMathematical:ee,vectorEffect:null,vHanging:ee,vIdeographic:ee,version:null,vertAdvY:ee,vertOriginX:ee,vertOriginY:ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:gf}),yf=Zr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ef=Zr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bf}),xf=Zr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Bg=/[A-Z]/g,Fl=/-[a-z]/g,Fg=/^data[-\w.:]+$/i;function wu(e,t){const n=ws(t);let r=t,s=jt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Fg.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(Fl,Hg);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!Fl.test(a)){let o=a.replace(Bg,Ug);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=Tu}return new s(r,t)}function Ug(e){return"-"+e.toLowerCase()}function Hg(e){return e.charAt(1).toUpperCase()}const Za=mf([pf,Mg,yf,Ef,xf],"html"),Ks=mf([pf,jg,yf,Ef,xf],"svg"),Ul=/[#.]/g;function $g(e,t){const n=e||"",r={};let s=0,a,o;for(;s<n.length;){Ul.lastIndex=s;const i=Ul.exec(n),c=n.slice(s,i?i.index:n.length);c&&(a?a==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:o=c,s+=c.length),i&&(a=i[0],s++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function vf(e,t,n){const r=n?Yg(n):void 0;function s(a,o,...i){let c;if(a==null){c={type:"root",children:[]};const d=o;i.unshift(d)}else{c=$g(a,t);const d=c.tagName.toLowerCase(),p=r?r.get(d):void 0;if(c.tagName=p||d,qg(o))i.unshift(o);else for(const[u,l]of Object.entries(o))Vg(e,c.properties,u,l)}for(const d of i)lo(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return s}function qg(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const a=s;for(const o of a)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Vg(e,t,n,r){const s=wu(e,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?s.spaceSeparated?a=ul(r):s.commaSeparated?a=ll(r):s.commaOrSpaceSeparated?a=ul(ll(r).join(" ")):a=Hl(s,s.property,r):Array.isArray(r)?a=[...r]:a=s.property==="style"?zg(r):String(r);if(Array.isArray(a)){const o=[];for(const i of a)o.push(Hl(s,s.property,i));a=o}s.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[s.property]=a}}function lo(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)lo(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?lo(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Hl(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||ws(n)===ws(t)))return!0}return n}function zg(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function Yg(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const Wg=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Kg=vf(Za,"div"),Gg=vf(Ks,"g",Wg);function Xg(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(a){if(typeof a=="number"&&a>-1&&a<=t.length){let o=0;for(;;){let i=n[o];if(i===void 0){const c=$l(t,n[o-1]);i=c===-1?t.length+1:c+1,n[o]=i}if(i>a)return{line:o+1,column:a-(o>0?n[o-1]:0)+1,offset:a};o++}}}function s(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;n.length<a.line;){const i=n[n.length-1],c=$l(t,i),d=c===-1?t.length+1:c+1;if(i===d)break;n.push(d)}const o=(a.line>1?n[a.line-2]:0)+a.column-1;if(o<n[a.line-1])return o}}}function $l(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const _f={}.hasOwnProperty,Qg=Object.prototype;function Zg(e,t){const n=t||{};return Au({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ks:Za,verbose:n.verbose||!1},e)}function Au(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ya(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Tf(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const a=String(e.file),o=Xg(a),i=o.toPoint(0),c=o.toPoint(a.length);n.position={start:i,end:c}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ya(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ya(e,r,n),n}default:return n=Jg(e,t),n}}function Tf(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=Au(e,t[n]);r.push(s)}return r}function Jg(e,t){const n=e.schema;e.schema=t.namespaceURI===E0.svg?Ks:Za;let r=-1;const s={};for(;++r<t.attrs.length;){const i=t.attrs[r],c=(i.prefix?i.prefix+":":"")+i.name;_f.call(Qg,c)||(s[c]=i.value)}const o=(e.schema.space==="svg"?Gg:Kg)(t.tagName,s,Tf(e,t.childNodes));if(ya(e,t,o),o.tagName==="template"){const i=t,c=i.sourceCodeLocation,d=c&&c.startTag&&Mr(c.startTag),p=c&&c.endTag&&Mr(c.endTag),u=Au(e,i.content);d&&p&&e.file&&(u.position={start:d.end,end:p.start}),o.content=u}return e.schema=n,o}function ya(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=eb(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function eb(e,t,n){const r=Mr(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const a={};let o;if(n.attrs)for(o in n.attrs)_f.call(n.attrs,o)&&(a[wu(e.schema,o).property]=Mr(n.attrs[o]));n.startTag;const i=Mr(n.startTag),c=n.endTag?Mr(n.endTag):void 0,d={opening:i};c&&(d.closing=c),d.properties=a,t.data={position:d}}}return r}function Mr(e){const t=ql({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=ql({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function ql(e){return e.line&&e.column?e:void 0}const tb=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),et="";var C;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(C||(C={}));const Rt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function wf(e){return e>=55296&&e<=57343}function nb(e){return e>=56320&&e<=57343}function rb(e,t){return(e-55296)*1024+9216+t}function Af(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Nf(e){return e>=64976&&e<=65007||tb.has(e)}var q;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(q||(q={}));const sb=65536;class ab{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=sb,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:a}=this,o=s+n,i=a+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(nb(n))return this.pos++,this._addGap(),rb(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,C.EOF;return this._err(q.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,C.EOF;const r=this.html.charCodeAt(n);return r===C.CARRIAGE_RETURN?C.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,C.EOF;let t=this.html.charCodeAt(this.pos);return t===C.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,C.LINE_FEED):t===C.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,wf(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===C.LINE_FEED||t===C.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Af(t)?this._err(q.controlCharacterInInputStream):Nf(t)&&this._err(q.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Be;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Be||(Be={}));function Sf(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const ib=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),ob=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function ub(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=ob.get(e))!==null&&t!==void 0?t:e}var yt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(yt||(yt={}));const lb=32;var Gn;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Gn||(Gn={}));function co(e){return e>=yt.ZERO&&e<=yt.NINE}function cb(e){return e>=yt.UPPER_A&&e<=yt.UPPER_F||e>=yt.LOWER_A&&e<=yt.LOWER_F}function db(e){return e>=yt.UPPER_A&&e<=yt.UPPER_Z||e>=yt.LOWER_A&&e<=yt.LOWER_Z||co(e)}function fb(e){return e===yt.EQUALS||db(e)}var bt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(bt||(bt={}));var Pn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Pn||(Pn={}));class hb{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=bt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Pn.Strict}startEntity(t){this.decodeMode=t,this.state=bt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case bt.EntityStart:return t.charCodeAt(n)===yt.NUM?(this.state=bt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=bt.NamedEntity,this.stateNamedEntity(t,n));case bt.NumericStart:return this.stateNumericStart(t,n);case bt.NumericDecimal:return this.stateNumericDecimal(t,n);case bt.NumericHex:return this.stateNumericHex(t,n);case bt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|lb)===yt.LOWER_X?(this.state=bt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=bt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const a=r-n;this.result=this.result*Math.pow(s,a)+Number.parseInt(t.substr(n,a),s),this.consumed+=a}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(co(s)||cb(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(co(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===yt.SEMI)this.consumed+=1;else if(this.decodeMode===Pn.Strict)return 0;return this.emitCodePoint(ub(this.result),this.consumed),this.errors&&(t!==yt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],a=(s&Gn.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=mb(r,s,this.treeIndex+Math.max(1,a),o),this.treeIndex<0)return this.result===0||this.decodeMode===Pn.Attribute&&(a===0||fb(o))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],a=(s&Gn.VALUE_LENGTH)>>14,a!==0){if(o===yt.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Pn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&Gn.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~Gn.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case bt.NamedEntity:return this.result!==0&&(this.decodeMode!==Pn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case bt.NumericDecimal:return this.emitNumericEntity(0,2);case bt.NumericHex:return this.emitNumericEntity(0,3);case bt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case bt.EntityStart:return 0}}}function mb(e,t,n,r){const s=(t&Gn.BRANCH_LENGTH)>>7,a=t&Gn.JUMP_TABLE;if(s===0)return a!==0&&r===a?n:-1;if(a){const c=r-a;return c<0||c>=s?-1:e[n+c]-1}let o=n,i=o+s-1;for(;o<=i;){const c=o+i>>>1,d=e[c];if(d<r)o=c+1;else if(d>r)i=c-1;else return e[c+s]}return-1}var G;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(G||(G={}));var mr;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(mr||(mr={}));var Gt;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Gt||(Gt={}));var F;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(F||(F={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(b||(b={}));const pb=new Map([[F.A,b.A],[F.ADDRESS,b.ADDRESS],[F.ANNOTATION_XML,b.ANNOTATION_XML],[F.APPLET,b.APPLET],[F.AREA,b.AREA],[F.ARTICLE,b.ARTICLE],[F.ASIDE,b.ASIDE],[F.B,b.B],[F.BASE,b.BASE],[F.BASEFONT,b.BASEFONT],[F.BGSOUND,b.BGSOUND],[F.BIG,b.BIG],[F.BLOCKQUOTE,b.BLOCKQUOTE],[F.BODY,b.BODY],[F.BR,b.BR],[F.BUTTON,b.BUTTON],[F.CAPTION,b.CAPTION],[F.CENTER,b.CENTER],[F.CODE,b.CODE],[F.COL,b.COL],[F.COLGROUP,b.COLGROUP],[F.DD,b.DD],[F.DESC,b.DESC],[F.DETAILS,b.DETAILS],[F.DIALOG,b.DIALOG],[F.DIR,b.DIR],[F.DIV,b.DIV],[F.DL,b.DL],[F.DT,b.DT],[F.EM,b.EM],[F.EMBED,b.EMBED],[F.FIELDSET,b.FIELDSET],[F.FIGCAPTION,b.FIGCAPTION],[F.FIGURE,b.FIGURE],[F.FONT,b.FONT],[F.FOOTER,b.FOOTER],[F.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[F.FORM,b.FORM],[F.FRAME,b.FRAME],[F.FRAMESET,b.FRAMESET],[F.H1,b.H1],[F.H2,b.H2],[F.H3,b.H3],[F.H4,b.H4],[F.H5,b.H5],[F.H6,b.H6],[F.HEAD,b.HEAD],[F.HEADER,b.HEADER],[F.HGROUP,b.HGROUP],[F.HR,b.HR],[F.HTML,b.HTML],[F.I,b.I],[F.IMG,b.IMG],[F.IMAGE,b.IMAGE],[F.INPUT,b.INPUT],[F.IFRAME,b.IFRAME],[F.KEYGEN,b.KEYGEN],[F.LABEL,b.LABEL],[F.LI,b.LI],[F.LINK,b.LINK],[F.LISTING,b.LISTING],[F.MAIN,b.MAIN],[F.MALIGNMARK,b.MALIGNMARK],[F.MARQUEE,b.MARQUEE],[F.MATH,b.MATH],[F.MENU,b.MENU],[F.META,b.META],[F.MGLYPH,b.MGLYPH],[F.MI,b.MI],[F.MO,b.MO],[F.MN,b.MN],[F.MS,b.MS],[F.MTEXT,b.MTEXT],[F.NAV,b.NAV],[F.NOBR,b.NOBR],[F.NOFRAMES,b.NOFRAMES],[F.NOEMBED,b.NOEMBED],[F.NOSCRIPT,b.NOSCRIPT],[F.OBJECT,b.OBJECT],[F.OL,b.OL],[F.OPTGROUP,b.OPTGROUP],[F.OPTION,b.OPTION],[F.P,b.P],[F.PARAM,b.PARAM],[F.PLAINTEXT,b.PLAINTEXT],[F.PRE,b.PRE],[F.RB,b.RB],[F.RP,b.RP],[F.RT,b.RT],[F.RTC,b.RTC],[F.RUBY,b.RUBY],[F.S,b.S],[F.SCRIPT,b.SCRIPT],[F.SEARCH,b.SEARCH],[F.SECTION,b.SECTION],[F.SELECT,b.SELECT],[F.SOURCE,b.SOURCE],[F.SMALL,b.SMALL],[F.SPAN,b.SPAN],[F.STRIKE,b.STRIKE],[F.STRONG,b.STRONG],[F.STYLE,b.STYLE],[F.SUB,b.SUB],[F.SUMMARY,b.SUMMARY],[F.SUP,b.SUP],[F.TABLE,b.TABLE],[F.TBODY,b.TBODY],[F.TEMPLATE,b.TEMPLATE],[F.TEXTAREA,b.TEXTAREA],[F.TFOOT,b.TFOOT],[F.TD,b.TD],[F.TH,b.TH],[F.THEAD,b.THEAD],[F.TITLE,b.TITLE],[F.TR,b.TR],[F.TRACK,b.TRACK],[F.TT,b.TT],[F.U,b.U],[F.UL,b.UL],[F.SVG,b.SVG],[F.VAR,b.VAR],[F.WBR,b.WBR],[F.XMP,b.XMP]]);function Ja(e){var t;return(t=pb.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const Q=b,gb={[G.HTML]:new Set([Q.ADDRESS,Q.APPLET,Q.AREA,Q.ARTICLE,Q.ASIDE,Q.BASE,Q.BASEFONT,Q.BGSOUND,Q.BLOCKQUOTE,Q.BODY,Q.BR,Q.BUTTON,Q.CAPTION,Q.CENTER,Q.COL,Q.COLGROUP,Q.DD,Q.DETAILS,Q.DIR,Q.DIV,Q.DL,Q.DT,Q.EMBED,Q.FIELDSET,Q.FIGCAPTION,Q.FIGURE,Q.FOOTER,Q.FORM,Q.FRAME,Q.FRAMESET,Q.H1,Q.H2,Q.H3,Q.H4,Q.H5,Q.H6,Q.HEAD,Q.HEADER,Q.HGROUP,Q.HR,Q.HTML,Q.IFRAME,Q.IMG,Q.INPUT,Q.LI,Q.LINK,Q.LISTING,Q.MAIN,Q.MARQUEE,Q.MENU,Q.META,Q.NAV,Q.NOEMBED,Q.NOFRAMES,Q.NOSCRIPT,Q.OBJECT,Q.OL,Q.P,Q.PARAM,Q.PLAINTEXT,Q.PRE,Q.SCRIPT,Q.SECTION,Q.SELECT,Q.SOURCE,Q.STYLE,Q.SUMMARY,Q.TABLE,Q.TBODY,Q.TD,Q.TEMPLATE,Q.TEXTAREA,Q.TFOOT,Q.TH,Q.THEAD,Q.TITLE,Q.TR,Q.TRACK,Q.UL,Q.WBR,Q.XMP]),[G.MATHML]:new Set([Q.MI,Q.MO,Q.MN,Q.MS,Q.MTEXT,Q.ANNOTATION_XML]),[G.SVG]:new Set([Q.TITLE,Q.FOREIGN_OBJECT,Q.DESC]),[G.XLINK]:new Set,[G.XML]:new Set,[G.XMLNS]:new Set},fo=new Set([Q.H1,Q.H2,Q.H3,Q.H4,Q.H5,Q.H6]);F.STYLE,F.SCRIPT,F.XMP,F.IFRAME,F.NOEMBED,F.NOFRAMES,F.PLAINTEXT;var I;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(I||(I={}));const Pt={DATA:I.DATA,RCDATA:I.RCDATA,RAWTEXT:I.RAWTEXT,SCRIPT_DATA:I.SCRIPT_DATA,PLAINTEXT:I.PLAINTEXT,CDATA_SECTION:I.CDATA_SECTION};function bb(e){return e>=C.DIGIT_0&&e<=C.DIGIT_9}function ls(e){return e>=C.LATIN_CAPITAL_A&&e<=C.LATIN_CAPITAL_Z}function yb(e){return e>=C.LATIN_SMALL_A&&e<=C.LATIN_SMALL_Z}function qn(e){return yb(e)||ls(e)}function Vl(e){return qn(e)||bb(e)}function ia(e){return e+32}function kf(e){return e===C.SPACE||e===C.LINE_FEED||e===C.TABULATION||e===C.FORM_FEED}function zl(e){return kf(e)||e===C.SOLIDUS||e===C.GREATER_THAN_SIGN}function Eb(e){return e===C.NULL?q.nullCharacterReference:e>1114111?q.characterReferenceOutsideUnicodeRange:wf(e)?q.surrogateCharacterReference:Nf(e)?q.noncharacterCharacterReference:Af(e)||e===C.CARRIAGE_RETURN?q.controlCharacterReference:null}class xb{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=I.DATA,this.returnState=I.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new ab(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new hb(ib,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(q.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(q.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=Eb(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Be.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Be.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Be.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Be.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Sf(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(q.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ja(t.tagName),t.type===Be.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(q.endTagWithAttributes),t.selfClosing&&this._err(q.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Be.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Be.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Be.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Be.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=kf(t)?Be.WHITESPACE_CHARACTER:t===C.NULL?Be.NULL_CHARACTER:Be.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Be.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=I.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Pn.Attribute:Pn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===I.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case I.DATA:{this._stateData(t);break}case I.RCDATA:{this._stateRcdata(t);break}case I.RAWTEXT:{this._stateRawtext(t);break}case I.SCRIPT_DATA:{this._stateScriptData(t);break}case I.PLAINTEXT:{this._statePlaintext(t);break}case I.TAG_OPEN:{this._stateTagOpen(t);break}case I.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case I.TAG_NAME:{this._stateTagName(t);break}case I.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case I.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case I.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case I.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case I.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case I.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case I.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case I.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case I.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case I.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case I.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case I.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case I.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case I.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case I.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case I.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case I.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case I.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case I.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case I.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case I.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case I.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case I.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case I.BOGUS_COMMENT:{this._stateBogusComment(t);break}case I.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case I.COMMENT_START:{this._stateCommentStart(t);break}case I.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case I.COMMENT:{this._stateComment(t);break}case I.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case I.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case I.COMMENT_END:{this._stateCommentEnd(t);break}case I.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case I.DOCTYPE:{this._stateDoctype(t);break}case I.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case I.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case I.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case I.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case I.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case I.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case I.CDATA_SECTION:{this._stateCdataSection(t);break}case I.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case I.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case I.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case I.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case C.LESS_THAN_SIGN:{this.state=I.TAG_OPEN;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(q.unexpectedNullCharacter),this._emitCodePoint(t);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case C.AMPERSAND:{this._startCharacterReference();break}case C.LESS_THAN_SIGN:{this.state=I.RCDATA_LESS_THAN_SIGN;break}case C.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(et);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case C.LESS_THAN_SIGN:{this.state=I.RAWTEXT_LESS_THAN_SIGN;break}case C.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(et);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case C.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_LESS_THAN_SIGN;break}case C.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(et);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case C.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(et);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(qn(t))this._createStartTagToken(),this.state=I.TAG_NAME,this._stateTagName(t);else switch(t){case C.EXCLAMATION_MARK:{this.state=I.MARKUP_DECLARATION_OPEN;break}case C.SOLIDUS:{this.state=I.END_TAG_OPEN;break}case C.QUESTION_MARK:{this._err(q.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t);break}case C.EOF:{this._err(q.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=I.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(qn(t))this._createEndTagToken(),this.state=I.TAG_NAME,this._stateTagName(t);else switch(t){case C.GREATER_THAN_SIGN:{this._err(q.missingEndTagName),this.state=I.DATA;break}case C.EOF:{this._err(q.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=I.BEFORE_ATTRIBUTE_NAME;break}case C.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case C.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.tagName+=et;break}case C.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ls(t)?ia(t):t)}}_stateRcdataLessThanSign(t){t===C.SOLIDUS?this.state=I.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){qn(t)?(this.state=I.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=I.BEFORE_ATTRIBUTE_NAME,!1;case C.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=I.SELF_CLOSING_START_TAG,!1;case C.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=I.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===C.SOLIDUS?this.state=I.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){qn(t)?(this.state=I.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case C.SOLIDUS:{this.state=I.SCRIPT_DATA_END_TAG_OPEN;break}case C.EXCLAMATION_MARK:{this.state=I.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=I.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){qn(t)?(this.state=I.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===C.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===C.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case C.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(et);break}case C.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case C.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(et);break}case C.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case C.HYPHEN_MINUS:{this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(et);break}case C.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===C.SOLIDUS?this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:qn(t)?(this._emitChars("<"),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){qn(t)?(this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Rt.SCRIPT,!1)&&zl(this.preprocessor.peek(Rt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Rt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case C.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(et);break}case C.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case C.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(et);break}case C.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case C.HYPHEN_MINUS:{this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(et);break}case C.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===C.SOLIDUS?(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Rt.SCRIPT,!1)&&zl(this.preprocessor.peek(Rt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Rt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.SOLIDUS:case C.GREATER_THAN_SIGN:case C.EOF:{this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case C.EQUALS_SIGN:{this._err(q.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=I.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:case C.SOLIDUS:case C.GREATER_THAN_SIGN:case C.EOF:{this._leaveAttrName(),this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case C.EQUALS_SIGN:{this._leaveAttrName(),this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case C.QUOTATION_MARK:case C.APOSTROPHE:case C.LESS_THAN_SIGN:{this._err(q.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.name+=et;break}default:this.currentAttr.name+=String.fromCodePoint(ls(t)?ia(t):t)}}_stateAfterAttributeName(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case C.EQUALS_SIGN:{this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case C.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{this.state=I.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this.state=I.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(q.missingAttributeValue),this.state=I.DATA,this.emitCurrentTagToken();break}default:this.state=I.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case C.QUOTATION_MARK:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=et;break}case C.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case C.APOSTROPHE:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=et;break}case C.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case C.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=et;break}case C.QUOTATION_MARK:case C.APOSTROPHE:case C.LESS_THAN_SIGN:case C.EQUALS_SIGN:case C.GRAVE_ACCENT:{this._err(q.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case C.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case C.SOLIDUS:{this._leaveAttrValue(),this.state=I.SELF_CLOSING_START_TAG;break}case C.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBetweenAttributes),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case C.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=I.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.unexpectedSolidusInTag),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case C.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case C.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.data+=et;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Rt.DASH_DASH,!0)?(this._createCommentToken(Rt.DASH_DASH.length+1),this.state=I.COMMENT_START):this._consumeSequenceIfMatch(Rt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Rt.DOCTYPE.length+1),this.state=I.DOCTYPE):this._consumeSequenceIfMatch(Rt.CDATA_START,!0)?this.inForeignNode?this.state=I.CDATA_SECTION:(this._err(q.cdataInHtmlContent),this._createCommentToken(Rt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=I.BOGUS_COMMENT):this._ensureHibernation()||(this._err(q.incorrectlyOpenedComment),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case C.HYPHEN_MINUS:{this.state=I.COMMENT_START_DASH;break}case C.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=I.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=I.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case C.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=I.DATA,this.emitCurrentComment(n);break}case C.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{this.state=I.COMMENT_END_DASH;break}case C.LESS_THAN_SIGN:{n.data+="<",this.state=I.COMMENT_LESS_THAN_SIGN;break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.data+=et;break}case C.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case C.EXCLAMATION_MARK:{n.data+="!",this.state=I.COMMENT_LESS_THAN_SIGN_BANG;break}case C.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=I.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===C.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=I.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===C.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=I.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==C.GREATER_THAN_SIGN&&t!==C.EOF&&this._err(q.nestedComment),this.state=I.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case C.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case C.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case C.EXCLAMATION_MARK:{this.state=I.COMMENT_END_BANG;break}case C.HYPHEN_MINUS:{n.data+="-";break}case C.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=I.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case C.HYPHEN_MINUS:{n.data+="--!",this.state=I.COMMENT_END_DASH;break}case C.GREATER_THAN_SIGN:{this._err(q.incorrectlyClosedComment),this.state=I.DATA,this.emitCurrentComment(n);break}case C.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=I.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case C.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBeforeDoctypeName),this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ls(t))this._createDoctypeToken(String.fromCharCode(ia(t))),this.state=I.DOCTYPE_NAME;else switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.NULL:{this._err(q.unexpectedNullCharacter),this._createDoctypeToken(et),this.state=I.DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this._err(q.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=I.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=I.AFTER_DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.name+=et;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ls(t)?ia(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Rt.PUBLIC,!1)?this.state=I.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Rt.SYSTEM,!1)?this.state=I.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(q.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case C.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=et;break}case C.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case C.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=et;break}case C.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case C.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case C.QUOTATION_MARK:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case C.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=et;break}case C.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case C.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=et;break}case C.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case C.NULL:{this._err(q.unexpectedNullCharacter);break}case C.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case C.RIGHT_SQUARE_BRACKET:{this.state=I.CDATA_SECTION_BRACKET;break}case C.EOF:{this._err(q.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===C.RIGHT_SQUARE_BRACKET?this.state=I.CDATA_SECTION_END:(this._emitChars("]"),this.state=I.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case C.GREATER_THAN_SIGN:{this.state=I.DATA;break}case C.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=I.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(C.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Vl(this.preprocessor.peek(1))?I.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Vl(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===C.SEMICOLON&&this._err(q.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Cf=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),Yl=new Set([...Cf,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),Da=new Set([b.APPLET,b.CAPTION,b.HTML,b.MARQUEE,b.OBJECT,b.TABLE,b.TD,b.TEMPLATE,b.TH]),vb=new Set([...Da,b.OL,b.UL]),_b=new Set([...Da,b.BUTTON]),Wl=new Set([b.ANNOTATION_XML,b.MI,b.MN,b.MO,b.MS,b.MTEXT]),Kl=new Set([b.DESC,b.FOREIGN_OBJECT,b.TITLE]),Tb=new Set([b.TR,b.TEMPLATE,b.HTML]),wb=new Set([b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML]),Ab=new Set([b.TABLE,b.TEMPLATE,b.HTML]),Nb=new Set([b.TD,b.TH]);class Sb{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===G.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==G.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(fo,G.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Nb,G.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Ab,G.HTML)}clearBackToTableBodyContext(){this.clearBackTo(wb,G.HTML)}clearBackToTableRowContext(){this.clearBackTo(Tb,G.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case G.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case G.SVG:{if(Kl.has(s))return!1;break}case G.MATHML:{if(Wl.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Da)}hasInListItemScope(t){return this.hasInDynamicScope(t,vb)}hasInButtonScope(t){return this.hasInDynamicScope(t,_b)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case G.HTML:{if(fo.has(n))return!0;if(Da.has(n))return!1;break}case G.SVG:{if(Kl.has(n))return!1;break}case G.MATHML:{if(Wl.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===G.HTML)switch(this.tagIDs[n]){case t:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===G.HTML)switch(this.tagIDs[t]){case b.TBODY:case b.THEAD:case b.TFOOT:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===G.HTML)switch(this.tagIDs[n]){case t:return!0;case b.OPTION:case b.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&Cf.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Yl.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&Yl.has(this.currentTagId);)this.pop()}}const Ri=3;var bn;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(bn||(bn={}));const Gl={type:bn.Marker};class kb{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,a=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let i=0;i<this.entries.length;i++){const c=this.entries[i];if(c.type===bn.Marker)break;const{element:d}=c;if(this.treeAdapter.getTagName(d)===a&&this.treeAdapter.getNamespaceURI(d)===o){const p=this.treeAdapter.getAttrList(d);p.length===s&&r.push({idx:i,attrs:p})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Ri)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Ri)return;const s=new Map(n.map(o=>[o.name,o.value]));let a=0;for(let o=0;o<r.length;o++){const i=r[o];i.attrs.every(c=>s.get(c.name)===c.value)&&(a+=1,a>=Ri&&this.entries.splice(i.idx,1))}}insertMarker(){this.entries.unshift(Gl)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:bn.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:bn.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Gl);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===bn.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===bn.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===bn.Element&&n.element===t)}}const Vn={createDocument(){return{nodeName:"#document",mode:Gt.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(a=>a.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const a={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Vn.appendChild(e,a)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Vn.isTextNode(n)){n.value+=t;return}}Vn.appendChild(e,Vn.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Vn.isTextNode(r)?r.value+=t:Vn.insertBefore(e,Vn.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Of="html",Cb="about:legacy-compat",Ob="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",If=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Ib=[...If,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Rb=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Rf=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Lb=[...Rf,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Xl(e,t){return t.some(n=>e.startsWith(n))}function Db(e){return e.name===Of&&e.publicId===null&&(e.systemId===null||e.systemId===Cb)}function Pb(e){if(e.name!==Of)return Gt.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Ob)return Gt.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),Rb.has(n))return Gt.QUIRKS;let r=t===null?Ib:If;if(Xl(n,r))return Gt.QUIRKS;if(r=t===null?Rf:Lb,Xl(n,r))return Gt.LIMITED_QUIRKS}return Gt.NO_QUIRKS}const Ql={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Mb="definitionurl",jb="definitionURL",Bb=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Fb=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:G.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:G.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:G.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:G.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:G.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:G.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:G.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:G.XML}],["xml:space",{prefix:"xml",name:"space",namespace:G.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:G.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:G.XMLNS}]]),Ub=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Hb=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function $b(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===mr.COLOR||r===mr.SIZE||r===mr.FACE)||Hb.has(t)}function Lf(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Mb){e.attrs[t].name=jb;break}}function Df(e){for(let t=0;t<e.attrs.length;t++){const n=Bb.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Nu(e){for(let t=0;t<e.attrs.length;t++){const n=Fb.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function qb(e){const t=Ub.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ja(e.tagName))}function Vb(e,t){return t===G.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function zb(e,t,n){if(t===G.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===mr.ENCODING){const s=n[r].value.toLowerCase();return s===Ql.TEXT_HTML||s===Ql.APPLICATION_XML}}return t===G.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function Yb(e,t,n,r){return(!r||r===G.HTML)&&zb(e,t,n)||(!r||r===G.MATHML)&&Vb(e,t)}const Wb="hidden",Kb=8,Gb=3;var L;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(L||(L={}));const Xb={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Pf=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),Zl={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Vn,onParseError:null};class Mf{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=L.INITIAL,this.originalInsertionMode=L.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Zl,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new xb(this.options,this),this.activeFormattingElements=new kb(this.treeAdapter),this.fragmentContextID=r?Ja(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Sb(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Zl,...n};t??(t=r.treeAdapter.createElement(F.TEMPLATE,G.HTML,[]));const s=r.treeAdapter.createElement("documentmock",G.HTML,[]),a=new this(r,s,t);return a.fragmentContextID===b.TEMPLATE&&a.tmplInsertionModeStack.unshift(L.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const a=(s=t.location)!==null&&s!==void 0?s:Xb,o={code:n,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(o)}onItemPush(t,n,r){var s,a;(a=(s=this.treeAdapter).onItemPush)===null||a===void 0||a.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let a,o;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,o=this.fragmentContextID):{current:a,currentTagId:o}=this.openElements,this._setContextModes(a,o)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===G.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,G.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=L.TEXT}switchToPlaintextParsing(){this.insertionMode=L.TEXT,this.originalInsertionMode=L.IN_BODY,this.tokenizer.state=Pt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===F.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==G.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=Pt.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=Pt.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=Pt.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=Pt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(i=>this.treeAdapter.isDocumentTypeNode(i));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,G.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,G.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(F.HTML,G.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),a=r?s.lastIndexOf(r):s.length,o=s[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:c,endCol:d,endOffset:p}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:c,endCol:d,endOffset:p})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),a=n.type===Be.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,a)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===F.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===G.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,G.HTML)}_processToken(t){switch(t.type){case Be.CHARACTER:{this.onCharacter(t);break}case Be.NULL_CHARACTER:{this.onNullCharacter(t);break}case Be.COMMENT:{this.onComment(t);break}case Be.DOCTYPE:{this.onDoctype(t);break}case Be.START_TAG:{this._processStartTag(t);break}case Be.END_TAG:{this.onEndTag(t);break}case Be.EOF:{this.onEof(t);break}case Be.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),a=this.treeAdapter.getAttrList(n);return Yb(t,s,a,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===bn.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const a=this.activeFormattingElements.entries[s];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=L.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=L.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=L.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=L.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=L.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=L.IN_TABLE;return}case b.BODY:{this.insertionMode=L.IN_BODY;return}case b.FRAMESET:{this.insertionMode=L.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?L.AFTER_HEAD:L.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=L.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=L.IN_HEAD;return}break}}this.insertionMode=L.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=L.IN_SELECT_IN_TABLE;return}}this.insertionMode=L.IN_SELECT}_isElementCausesFosterParenting(t){return Pf.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===G.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return gb[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){N1(this,t);return}switch(this.insertionMode){case L.INITIAL:{as(this,t);break}case L.BEFORE_HTML:{ps(this,t);break}case L.BEFORE_HEAD:{gs(this,t);break}case L.IN_HEAD:{bs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{ys(this,t);break}case L.AFTER_HEAD:{Es(this,t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:{Bf(this,t);break}case L.TEXT:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Li(this,t);break}case L.IN_TABLE_TEXT:{Vf(this,t);break}case L.IN_COLUMN_GROUP:{Pa(this,t);break}case L.AFTER_BODY:{Ma(this,t);break}case L.AFTER_AFTER_BODY:{Ea(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){A1(this,t);return}switch(this.insertionMode){case L.INITIAL:{as(this,t);break}case L.BEFORE_HTML:{ps(this,t);break}case L.BEFORE_HEAD:{gs(this,t);break}case L.IN_HEAD:{bs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{ys(this,t);break}case L.AFTER_HEAD:{Es(this,t);break}case L.TEXT:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Li(this,t);break}case L.IN_COLUMN_GROUP:{Pa(this,t);break}case L.AFTER_BODY:{Ma(this,t);break}case L.AFTER_AFTER_BODY:{Ea(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){ho(this,t);return}switch(this.insertionMode){case L.INITIAL:case L.BEFORE_HTML:case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_TEMPLATE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{ho(this,t);break}case L.IN_TABLE_TEXT:{is(this,t);break}case L.AFTER_BODY:{ry(this,t);break}case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{sy(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case L.INITIAL:{ay(this,t);break}case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:{this._err(t,q.misplacedDoctype);break}case L.IN_TABLE_TEXT:{is(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,q.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?S1(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{as(this,t);break}case L.BEFORE_HTML:{iy(this,t);break}case L.BEFORE_HEAD:{uy(this,t);break}case L.IN_HEAD:{cn(this,t);break}case L.IN_HEAD_NO_SCRIPT:{dy(this,t);break}case L.AFTER_HEAD:{hy(this,t);break}case L.IN_BODY:{wt(this,t);break}case L.IN_TABLE:{Yr(this,t);break}case L.IN_TABLE_TEXT:{is(this,t);break}case L.IN_CAPTION:{l1(this,t);break}case L.IN_COLUMN_GROUP:{Cu(this,t);break}case L.IN_TABLE_BODY:{ni(this,t);break}case L.IN_ROW:{ri(this,t);break}case L.IN_CELL:{f1(this,t);break}case L.IN_SELECT:{Wf(this,t);break}case L.IN_SELECT_IN_TABLE:{m1(this,t);break}case L.IN_TEMPLATE:{g1(this,t);break}case L.AFTER_BODY:{y1(this,t);break}case L.IN_FRAMESET:{E1(this,t);break}case L.AFTER_FRAMESET:{v1(this,t);break}case L.AFTER_AFTER_BODY:{T1(this,t);break}case L.AFTER_AFTER_FRAMESET:{w1(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?k1(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{as(this,t);break}case L.BEFORE_HTML:{oy(this,t);break}case L.BEFORE_HEAD:{ly(this,t);break}case L.IN_HEAD:{cy(this,t);break}case L.IN_HEAD_NO_SCRIPT:{fy(this,t);break}case L.AFTER_HEAD:{my(this,t);break}case L.IN_BODY:{ti(this,t);break}case L.TEXT:{Jy(this,t);break}case L.IN_TABLE:{As(this,t);break}case L.IN_TABLE_TEXT:{is(this,t);break}case L.IN_CAPTION:{c1(this,t);break}case L.IN_COLUMN_GROUP:{d1(this,t);break}case L.IN_TABLE_BODY:{mo(this,t);break}case L.IN_ROW:{Yf(this,t);break}case L.IN_CELL:{h1(this,t);break}case L.IN_SELECT:{Kf(this,t);break}case L.IN_SELECT_IN_TABLE:{p1(this,t);break}case L.IN_TEMPLATE:{b1(this,t);break}case L.AFTER_BODY:{Xf(this,t);break}case L.IN_FRAMESET:{x1(this,t);break}case L.AFTER_FRAMESET:{_1(this,t);break}case L.AFTER_AFTER_BODY:{Ea(this,t);break}}}onEof(t){switch(this.insertionMode){case L.INITIAL:{as(this,t);break}case L.BEFORE_HTML:{ps(this,t);break}case L.BEFORE_HEAD:{gs(this,t);break}case L.IN_HEAD:{bs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{ys(this,t);break}case L.AFTER_HEAD:{Es(this,t);break}case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{$f(this,t);break}case L.TEXT:{e1(this,t);break}case L.IN_TABLE_TEXT:{is(this,t);break}case L.IN_TEMPLATE:{Gf(this,t);break}case L.AFTER_BODY:case L.IN_FRAMESET:case L.AFTER_FRAMESET:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{ku(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===C.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.TEXT:case L.IN_COLUMN_GROUP:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{this._insertCharacters(t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:case L.AFTER_BODY:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{jf(this,t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Li(this,t);break}case L.IN_TABLE_TEXT:{qf(this,t);break}}}}function Qb(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Hf(e,t),n}function Zb(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function Jb(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let a=0,o=s;o!==n;a++,o=s){s=e.openElements.getCommonAncestor(o);const i=e.activeFormattingElements.getElementEntry(o),c=i&&a>=Gb;!i||c?(c&&e.activeFormattingElements.removeEntry(i),e.openElements.remove(o)):(o=ey(e,i),r===t&&(e.activeFormattingElements.bookmark=i),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function ey(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function ty(e,t,n){const r=e.treeAdapter.getTagName(t),s=Ja(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const a=e.treeAdapter.getNamespaceURI(t);s===b.TEMPLATE&&a===G.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function ny(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,a=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,a,s.tagID)}function Su(e,t){for(let n=0;n<Kb;n++){const r=Qb(e,t);if(!r)break;const s=Zb(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const a=Jb(e,s,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(a),o&&ty(e,o,a),ny(e,s,r)}}function ho(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function ry(e,t){e._appendCommentNode(t,e.openElements.items[0])}function sy(e,t){e._appendCommentNode(t,e.document)}function ku(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const a=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(a);o&&!o.endTag&&e._setEndLocation(a,t)}}}}function ay(e,t){e._setDocumentType(t);const n=t.forceQuirks?Gt.QUIRKS:Pb(t);Db(t)||e._err(t,q.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=L.BEFORE_HTML}function as(e,t){e._err(t,q.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Gt.QUIRKS),e.insertionMode=L.BEFORE_HTML,e._processToken(t)}function iy(e,t){t.tagID===b.HTML?(e._insertElement(t,G.HTML),e.insertionMode=L.BEFORE_HEAD):ps(e,t)}function oy(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&ps(e,t)}function ps(e,t){e._insertFakeRootElement(),e.insertionMode=L.BEFORE_HEAD,e._processToken(t)}function uy(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.HEAD:{e._insertElement(t,G.HTML),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD;break}default:gs(e,t)}}function ly(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?gs(e,t):e._err(t,q.endTagWithoutMatchingOpenElement)}function gs(e,t){e._insertFakeElement(F.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD,e._processToken(t)}function cn(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,Pt.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Pt.RAWTEXT):(e._insertElement(t,G.HTML),e.insertionMode=L.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,Pt.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,Pt.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=L.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(L.IN_TEMPLATE);break}case b.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:bs(e,t)}}function cy(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=L.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{bs(e,t);break}case b.TEMPLATE:{kr(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function kr(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,q.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,q.endTagWithoutMatchingOpenElement)}function bs(e,t){e.openElements.pop(),e.insertionMode=L.AFTER_HEAD,e._processToken(t)}function dy(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{cn(e,t);break}case b.NOSCRIPT:{e._err(t,q.nestedNoscriptInHead);break}default:ys(e,t)}}function fy(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=L.IN_HEAD;break}case b.BR:{ys(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function ys(e,t){const n=t.type===Be.EOF?q.openElementsLeftAfterEof:q.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=L.IN_HEAD,e._processToken(t)}function hy(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.BODY:{e._insertElement(t,G.HTML),e.framesetOk=!1,e.insertionMode=L.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,G.HTML),e.insertionMode=L.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,q.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),cn(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:Es(e,t)}}function my(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{Es(e,t);break}case b.TEMPLATE:{kr(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function Es(e,t){e._insertFakeElement(F.BODY,b.BODY),e.insertionMode=L.IN_BODY,ei(e,t)}function ei(e,t){switch(t.type){case Be.CHARACTER:{Bf(e,t);break}case Be.WHITESPACE_CHARACTER:{jf(e,t);break}case Be.COMMENT:{ho(e,t);break}case Be.START_TAG:{wt(e,t);break}case Be.END_TAG:{ti(e,t);break}case Be.EOF:{$f(e,t);break}}}function jf(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Bf(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function py(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function gy(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function by(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,G.HTML),e.insertionMode=L.IN_FRAMESET)}function yy(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML)}function Ey(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&fo.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,G.HTML)}function xy(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function vy(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),n||(e.formElement=e.openElements.current))}function _y(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===b.LI&&s===b.LI||(n===b.DD||n===b.DT)&&(s===b.DD||s===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==b.ADDRESS&&s!==b.DIV&&s!==b.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML)}function Ty(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),e.tokenizer.state=Pt.PLAINTEXT}function wy(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.framesetOk=!1}function Ay(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(F.A);n&&(Su(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ny(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Sy(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(Su(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,G.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ky(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Cy(e,t){e.treeAdapter.getDocumentMode(e.document)!==Gt.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,G.HTML),e.framesetOk=!1,e.insertionMode=L.IN_TABLE}function Ff(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,G.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Uf(e){const t=Sf(e,mr.TYPE);return t!=null&&t.toLowerCase()===Wb}function Oy(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,G.HTML),Uf(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Iy(e,t){e._appendElement(t,G.HTML),t.ackSelfClosing=!0}function Ry(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,G.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ly(e,t){t.tagName=F.IMG,t.tagID=b.IMG,Ff(e,t)}function Dy(e,t){e._insertElement(t,G.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Pt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=L.TEXT}function Py(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Pt.RAWTEXT)}function My(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Pt.RAWTEXT)}function Jl(e,t){e._switchToTextParsing(t,Pt.RAWTEXT)}function jy(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===L.IN_TABLE||e.insertionMode===L.IN_CAPTION||e.insertionMode===L.IN_TABLE_BODY||e.insertionMode===L.IN_ROW||e.insertionMode===L.IN_CELL?L.IN_SELECT_IN_TABLE:L.IN_SELECT}function By(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML)}function Fy(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,G.HTML)}function Uy(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,G.HTML)}function Hy(e,t){e._reconstructActiveFormattingElements(),Lf(t),Nu(t),t.selfClosing?e._appendElement(t,G.MATHML):e._insertElement(t,G.MATHML),t.ackSelfClosing=!0}function $y(e,t){e._reconstructActiveFormattingElements(),Df(t),Nu(t),t.selfClosing?e._appendElement(t,G.SVG):e._insertElement(t,G.SVG),t.ackSelfClosing=!0}function ec(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,G.HTML)}function wt(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{Ny(e,t);break}case b.A:{Ay(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{Ey(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{yy(e,t);break}case b.LI:case b.DD:case b.DT:{_y(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{Ff(e,t);break}case b.HR:{Ry(e,t);break}case b.RB:case b.RTC:{Fy(e,t);break}case b.RT:case b.RP:{Uy(e,t);break}case b.PRE:case b.LISTING:{xy(e,t);break}case b.XMP:{Py(e,t);break}case b.SVG:{$y(e,t);break}case b.HTML:{py(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{cn(e,t);break}case b.BODY:{gy(e,t);break}case b.FORM:{vy(e,t);break}case b.NOBR:{Sy(e,t);break}case b.MATH:{Hy(e,t);break}case b.TABLE:{Cy(e,t);break}case b.INPUT:{Oy(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{Iy(e,t);break}case b.IMAGE:{Ly(e,t);break}case b.BUTTON:{wy(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{ky(e,t);break}case b.IFRAME:{My(e,t);break}case b.SELECT:{jy(e,t);break}case b.OPTION:case b.OPTGROUP:{By(e,t);break}case b.NOEMBED:case b.NOFRAMES:{Jl(e,t);break}case b.FRAMESET:{by(e,t);break}case b.TEXTAREA:{Dy(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?Jl(e,t):ec(e,t);break}case b.PLAINTEXT:{Ty(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:ec(e,t)}}function qy(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=L.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Vy(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=L.AFTER_BODY,Xf(e,t))}function zy(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Yy(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function Wy(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(F.P,b.P),e._closePElement()}function Ky(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function Gy(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Xy(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Qy(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Zy(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(F.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function Hf(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const a=e.openElements.items[s],o=e.openElements.tagIDs[s];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(a)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(a,o))break}}function ti(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{Su(e,t);break}case b.P:{Wy(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{zy(e,t);break}case b.LI:{Ky(e);break}case b.DD:case b.DT:{Gy(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{Xy(e);break}case b.BR:{Zy(e);break}case b.BODY:{qy(e,t);break}case b.HTML:{Vy(e,t);break}case b.FORM:{Yy(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{Qy(e,t);break}case b.TEMPLATE:{kr(e,t);break}default:Hf(e,t)}}function $f(e,t){e.tmplInsertionModeStack.length>0?Gf(e,t):ku(e,t)}function Jy(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function e1(e,t){e._err(t,q.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Li(e,t){if(e.openElements.currentTagId!==void 0&&Pf.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=L.IN_TABLE_TEXT,t.type){case Be.CHARACTER:{Vf(e,t);break}case Be.WHITESPACE_CHARACTER:{qf(e,t);break}}else Gs(e,t)}function t1(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,G.HTML),e.insertionMode=L.IN_CAPTION}function n1(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,G.HTML),e.insertionMode=L.IN_COLUMN_GROUP}function r1(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.COLGROUP,b.COLGROUP),e.insertionMode=L.IN_COLUMN_GROUP,Cu(e,t)}function s1(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,G.HTML),e.insertionMode=L.IN_TABLE_BODY}function a1(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.TBODY,b.TBODY),e.insertionMode=L.IN_TABLE_BODY,ni(e,t)}function i1(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function o1(e,t){Uf(t)?e._appendElement(t,G.HTML):Gs(e,t),t.ackSelfClosing=!0}function u1(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,G.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Yr(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{a1(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{cn(e,t);break}case b.COL:{r1(e,t);break}case b.FORM:{u1(e,t);break}case b.TABLE:{i1(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{s1(e,t);break}case b.INPUT:{o1(e,t);break}case b.CAPTION:{t1(e,t);break}case b.COLGROUP:{n1(e,t);break}default:Gs(e,t)}}function As(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{kr(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:Gs(e,t)}}function Gs(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,ei(e,t),e.fosterParentingEnabled=n}function qf(e,t){e.pendingCharacterTokens.push(t)}function Vf(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function is(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Gs(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const zf=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function l1(e,t){const n=t.tagID;zf.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,Yr(e,t)):wt(e,t)}function c1(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,n===b.TABLE&&As(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:ti(e,t)}}function Cu(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.COL:{e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{cn(e,t);break}default:Pa(e,t)}}function d1(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case b.TEMPLATE:{kr(e,t);break}case b.COL:break;default:Pa(e,t)}}function Pa(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE,e._processToken(t))}function ni(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,G.HTML),e.insertionMode=L.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(F.TR,b.TR),e.insertionMode=L.IN_ROW,ri(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,Yr(e,t));break}default:Yr(e,t)}}function mo(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,As(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:As(e,t)}}function ri(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,G.HTML),e.insertionMode=L.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,ni(e,t));break}default:Yr(e,t)}}function Yf(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,mo(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,mo(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:As(e,t)}}function f1(e,t){const n=t.tagID;zf.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),ri(e,t)):wt(e,t)}function h1(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Yf(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:ti(e,t)}}function Wf(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,G.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,G.HTML);break}case b.HR:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{cn(e,t);break}}}function Kf(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{kr(e,t);break}}}function m1(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Wf(e,t)}function p1(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Kf(e,t)}function g1(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{cn(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=L.IN_TABLE,e.insertionMode=L.IN_TABLE,Yr(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=L.IN_COLUMN_GROUP,e.insertionMode=L.IN_COLUMN_GROUP,Cu(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=L.IN_TABLE_BODY,e.insertionMode=L.IN_TABLE_BODY,ni(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=L.IN_ROW,e.insertionMode=L.IN_ROW,ri(e,t);break}default:e.tmplInsertionModeStack[0]=L.IN_BODY,e.insertionMode=L.IN_BODY,wt(e,t)}}function b1(e,t){t.tagID===b.TEMPLATE&&kr(e,t)}function Gf(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):ku(e,t)}function y1(e,t){t.tagID===b.HTML?wt(e,t):Ma(e,t)}function Xf(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=L.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Ma(e,t)}function Ma(e,t){e.insertionMode=L.IN_BODY,ei(e,t)}function E1(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.FRAMESET:{e._insertElement(t,G.HTML);break}case b.FRAME:{e._appendElement(t,G.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{cn(e,t);break}}}function x1(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=L.AFTER_FRAMESET))}function v1(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.NOFRAMES:{cn(e,t);break}}}function _1(e,t){t.tagID===b.HTML&&(e.insertionMode=L.AFTER_AFTER_FRAMESET)}function T1(e,t){t.tagID===b.HTML?wt(e,t):Ea(e,t)}function Ea(e,t){e.insertionMode=L.IN_BODY,ei(e,t)}function w1(e,t){switch(t.tagID){case b.HTML:{wt(e,t);break}case b.NOFRAMES:{cn(e,t);break}}}function A1(e,t){t.chars=et,e._insertCharacters(t)}function N1(e,t){e._insertCharacters(t),e.framesetOk=!1}function Qf(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==G.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function S1(e,t){if($b(t))Qf(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===G.MATHML?Lf(t):r===G.SVG&&(qb(t),Df(t)),Nu(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function k1(e,t){if(t.tagID===b.P||t.tagID===b.BR){Qf(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===G.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}F.AREA,F.BASE,F.BASEFONT,F.BGSOUND,F.BR,F.COL,F.EMBED,F.FRAME,F.HR,F.IMG,F.INPUT,F.KEYGEN,F.LINK,F.META,F.PARAM,F.SOURCE,F.TRACK,F.WBR;function C1(e,t){return Mf.parse(e,t)}function O1(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Mf.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}const I1={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},R1="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",L1=/-[a-z]/g,D1=/%c(?:([-+])(\d+))?/g,P1=/%x/g,M1={2:!0,1:!1,0:null},j1={};function B1(e,t){const n=t||j1,r=n.onerror,s=e instanceof io?e:new io(e),a=n.fragment?O1:C1,o=String(s),i=a(o,{sourceCodeLocationInfo:!0,onParseError:n.onerror?c:null,scriptingEnabled:!1});return Zg(i,{file:s,space:n.space,verbose:n.verbose});function c(d){const p=d.code,u=F1(p),l=n[u],f=l??!0,m=typeof f=="number"?f:f?1:0;if(m){const x=I1[u],g=new Ot(h(x.reason),{place:{start:{line:d.startLine,column:d.startCol,offset:d.startOffset},end:{line:d.endLine,column:d.endCol,offset:d.endOffset}},ruleId:p,source:"hast-util-from-html"});s.path&&(g.file=s.path,g.name=s.path+":"+g.name),g.fatal=M1[m],g.note=h(x.description),g.url=x.url===!1?void 0:R1+p,r(g)}function h(x){return x.replace(D1,g).replace(P1,y);function g(v,T,w){const k=(w?Number.parseInt(w,10):0)*(T==="-"?-1:1),S=o.charAt(d.startOffset+k);return H1(S)}function y(){return $1(o.charCodeAt(d.startOffset))}}}}function F1(e){return e.replace(L1,U1)}function U1(e){return e.charAt(1).toUpperCase()}function H1(e){return e==="`"?"` ` `":e}function $1(e){return"0x"+e.toString(16).toUpperCase()}function q1(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=s;function s(a,o){return B1(a,{...r,onerror:n?function(i){o.path&&(i.name=o.path+":"+i.name,i.file=o.path),o.messages.push(i)}:void 0})}}const V1=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],z1=/^>|^->|<!--|-->|--!>|<!-$/g,Y1=[">"],W1=["<",">"];function K1(e,t,n,r){return r.settings.bogusComments?"<?"+Ur(e.value,Object.assign({},r.settings.characterReferences,{subset:Y1}))+">":"<!--"+e.value.replace(z1,s)+"-->";function s(a){return Ur(a,Object.assign({},r.settings.characterReferences,{subset:W1}))}}function G1(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const X1=/[ \t\n\f\r]/g;function Ou(e){return typeof e=="object"?e.type==="text"?tc(e.value):!1:tc(e)}function tc(e){return e.replace(X1,"")===""}const mt=Jf(1),Zf=Jf(-1),Q1=[];function Jf(e){return t;function t(n,r,s){const a=n?n.children:Q1;let o=(r||0)+e,i=a[o];if(!s)for(;i&&Ou(i);)o+=e,i=a[o];return i}}const Z1={}.hasOwnProperty;function eh(e){return t;function t(n,r,s){return Z1.call(e,n.tagName)&&e[n.tagName](n,r,s)}}const Iu=eh({body:eE,caption:Di,colgroup:Di,dd:sE,dt:rE,head:Di,html:J1,li:nE,optgroup:aE,option:iE,p:tE,rp:nc,rt:nc,tbody:uE,td:rc,tfoot:lE,th:rc,thead:oE,tr:cE});function Di(e,t,n){const r=mt(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Ou(r.value.charAt(0)))}function J1(e,t,n){const r=mt(n,t);return!r||r.type!=="comment"}function eE(e,t,n){const r=mt(n,t);return!r||r.type!=="comment"}function tE(e,t,n){const r=mt(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function nE(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&r.tagName==="li"}function rE(e,t,n){const r=mt(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function sE(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function nc(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function aE(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function iE(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function oE(e,t,n){const r=mt(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function uE(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function lE(e,t,n){return!mt(n,t)}function cE(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function rc(e,t,n){const r=mt(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const dE=eh({body:mE,colgroup:pE,head:hE,html:fE,tbody:gE});function fE(e){const t=mt(e,-1);return!t||t.type!=="comment"}function hE(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function mE(e){const t=mt(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Ou(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function pE(e,t,n){const r=Zf(n,t),s=mt(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&Iu(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function gE(e,t,n){const r=Zf(n,t),s=mt(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&Iu(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const oa={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function bE(e,t,n,r){const s=r.schema,a=s.space==="svg"?!1:r.settings.omitOptionalTags;let o=s.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const i=[];let c;s.space==="html"&&e.tagName==="svg"&&(r.schema=Ks);const d=yE(r,e.properties),p=r.all(s.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=s,p&&(o=!1),(d||!a||!dE(e,t,n))&&(i.push("<",e.tagName,d?" "+d:""),o&&(s.space==="svg"||r.settings.closeSelfClosing)&&(c=d.charAt(d.length-1),(!r.settings.tightSelfClosing||c==="/"||c&&c!=='"'&&c!=="'")&&i.push(" "),i.push("/")),i.push(">")),i.push(p),!o&&(!a||!Iu(e,t,n))&&i.push("</"+e.tagName+">"),i.join("")}function yE(e,t){const n=[];let r=-1,s;if(t){for(s in t)if(t[s]!==null&&t[s]!==void 0){const a=EE(e,s,t[s]);a&&n.push(a)}}for(;++r<n.length;){const a=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&a!=='"'&&a!=="'"&&(n[r]+=" ")}return n.join("")}function EE(e,t,n){const r=wu(e.schema,t),s=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,a=e.settings.allowDangerousCharacters?0:1;let o=e.quote,i;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const c=Ur(r.attribute,Object.assign({},e.settings.characterReferences,{subset:oa.name[s][a]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?x0:v0)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?c:(e.settings.preferUnquoted&&(i=Ur(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:oa.unquoted[s][a]}))),i!==n&&(e.settings.quoteSmart&&cl(n,o)>cl(n,e.alternative)&&(o=e.alternative),i=o+Ur(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?oa.single:oa.double)[s][a],attribute:!0}))+o),c+(i&&"="+i))}const xE=["<","&"];function th(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:Ur(e.value,Object.assign({},r.settings.characterReferences,{subset:xE}))}function vE(e,t,n,r){return r.settings.allowDangerousHtml?e.value:th(e,t,n,r)}function _E(e,t,n,r){return r.all(e)}const TE=_0("type",{invalid:wE,unknown:AE,handlers:{comment:K1,doctype:G1,element:bE,raw:vE,root:_E,text:th}});function wE(e){throw new Error("Expected node, not `"+e+"`")}function AE(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const NE={},SE={},kE=[];function CE(e,t){const n=t||NE,r=n.quote||'"',s=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:OE,all:IE,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||V1,characterReferences:n.characterReferences||SE,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Ks:Za,quote:r,alternative:s}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function OE(e,t,n){return TE(e,t,n,this)}function IE(e){const t=[],n=e&&e.children||kE;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function RE(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(s){return CE(s,n)}}function si({source:e}){const[t,n]=M.useState(300),r=M.useRef(null),s=()=>{var o,i,c;if(r.current)try{const d=(c=(i=(o=r.current.contentWindow)==null?void 0:o.document)==null?void 0:i.body)==null?void 0:c.scrollHeight;d&&d>50&&n(Math.max(d+32,200))}catch{}};M.useEffect(()=>{const o=setTimeout(s,100);return()=>clearTimeout(o)},[e]);const a=o=>{const i=Ig().use(q1,{fragment:!0}).use(Qa,Un.validHTML).use(RE).processSync(o);return`<!DOCTYPE html>
<html>
<head>
    <style>
        * { box-sizing: border-box; }
        html, body {
            margin: 0;
            padding: 0;
            min-height: 100%;
            background: #18181b;
            color: #e4e4e7;
            font-family: system-ui, -apple-system, sans-serif;
        }
    </style>
</head>
<body>${String(i)}</body>
</html>`};return E.jsx("iframe",{ref:r,onLoad:s,style:{width:"100%",height:`${t}px`,border:"none",borderRadius:"8px",display:"block"},srcDoc:a(e),sandbox:"allow-scripts allow-same-origin",title:"NFT HTML Content"})}const LE=M.lazy(()=>Dr(()=>import("./index-BCNa70Kg.js").then(e=>e.i),__vite__mapDeps([0,1,2,3,4,5])).then(async e=>(await Dr(()=>import("./mode-html-Cjq9fmL4.js").then(n=>n.m),__vite__mapDeps([6,1])),await Dr(()=>import("./theme-monokai-l0L8ZsWv.js").then(n=>n.t),__vite__mapDeps([7,1])),await Dr(()=>import("./ext-language_tools-dj6MuGN6.js").then(n=>n.e),__vite__mapDeps([8,1])),(await Dr(()=>import("./ace-DC6gpk9w.js").then(n=>n.a),__vite__mapDeps([9,1,2]))).config.set("useWorker",!1),{default:e.default}))),DE=M.lazy(()=>Dr(()=>import("./index-1qFw5GQN.js").then(e=>e.i),__vite__mapDeps([10,1])).then(e=>({default:e.Split})));function PE({value:e,setValue:t,setPreviewOpen:n}){return E.jsx("div",{className:"rounded-lg border border-ink-700 relative",style:{zIndex:0},children:E.jsx("div",{style:{height:"500px"},children:E.jsxs(DE,{horizontal:!1,onSplitChanged:()=>window.dispatchEvent(new Event("resize")),children:[E.jsx("div",{className:"h-full",children:E.jsx(LE,{mode:"html",theme:"monokai",onChange:t,value:e,name:"html-editor",editorProps:{$blockScrolling:!1},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showPrintMargin:!1},width:"100%",height:"100%",fontSize:14})}),E.jsxs("div",{className:"h-full overflow-auto bg-ink-950 relative",children:[E.jsx("button",{type:"button",onClick:()=>n(!0),className:"absolute top-2 right-2 z-10 p-1.5 bg-ink-800/80 hover:bg-ink-700 rounded text-ink-400 hover:text-white transition-colors",title:"Expand preview",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),E.jsx(si,{source:e})]})]})})})}function ME({value:e,setValue:t}){const[n,r]=M.useState(!1);return E.jsxs(M.Fragment,{children:[E.jsx(M.Suspense,{fallback:E.jsx("div",{className:"rounded-lg border border-ink-700 bg-ink-900 flex items-center justify-center",style:{height:"500px"},children:E.jsx("div",{className:"text-ink-400",children:"Loading editor..."})}),children:E.jsx(PE,{value:e,setValue:t,setPreviewOpen:r})}),n&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>r(!1)}),E.jsxs("div",{className:"relative w-full max-w-4xl h-[80vh] bg-ink-950 rounded-xl border border-ink-700 overflow-hidden",children:[E.jsx("div",{className:"absolute top-3 right-3 z-10",children:E.jsx("button",{type:"button",onClick:()=>r(!1),className:"p-2 bg-ink-800 hover:bg-ink-700 rounded-lg text-ink-400 hover:text-white transition-colors",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),E.jsx("div",{className:"h-full",children:E.jsx(si,{source:e})})]})]})]})}function jE({textType:e,value:t,setValue:n}){switch(e){case"text/markdown":return E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"rounded-lg overflow-hidden border border-ink-700","data-color-mode":"dark",children:E.jsx(cu,{value:t,onChange:n,highlightEnable:!1,previewOptions:{rehypePlugins:[()=>Qa(Un.validMarkdown)]},commands:yr,height:400})}),E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("span",{className:"text-purple-400 text-lg",children:"#"}),E.jsxs("p",{className:"text-sm text-ink-400",children:["Need help with Markdown? Check the"," ",E.jsx("a",{className:"text-purple-400 hover:text-purple-300 underline",target:"_blank",rel:"noopener noreferrer",href:"https://docs.github.com/en/github/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax",children:"GitHub Markdown guide"})]})]})]});case"text/plain":return E.jsx("textarea",{className:"w-full h-[400px] px-4 py-3 bg-ink-900 border border-ink-700 rounded-lg text-ink-100 font-mono text-sm placeholder-ink-500 resize-none focus:outline-none focus:border-accent-cyan focus:ring-1 focus:ring-accent-cyan transition-colors",value:t,onChange:r=>n(r.target.value),placeholder:"Start writing your text..."});case"text/html":return E.jsxs("div",{className:"space-y-3",children:[E.jsx(ME,{value:t,setValue:n}),E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("span",{className:"text-amber-400 text-lg",children:"<Fragment>"}),E.jsx("p",{className:"text-sm text-ink-400",children:"Write HTML with inline CSS. External resources and scripts are sanitized for security."})]})]});default:return E.jsx("p",{className:"text-ink-400",children:"Unsupported editor type"})}}const BE=ir({key:"ensInfo",default:{}}),FE=ir({key:"queries",default:[]}),nh=()=>{const[e,t]=ht(BE),[n,r]=ht(FE),s=async d=>{r([...n,d]);let p=null;try{p=await du.getEnsName({address:d})}catch{}return t(u=>({...u,[d]:{value:p,expiration:new Date(new Date().getTime()+Pe.ens.cacheExpiration)}})),r(u=>u.filter(l=>l!==d)),p},a=d=>(!e[d]||new Date(e[d].expiration)<new Date)&&!n.includes(d),o=d=>{t(p=>({...p,[d]:null}))};return{lookupEns:d=>{var u;return d&&(a(d)&&setTimeout(()=>s(d),0),(u=e[d])==null?void 0:u.value)},lookupEnsAsync:async(d,p)=>{var f;if(!d)return d;p&&o(d);const u=a(d)||p;let l;return u?l=await s(d):l=(f=e[d])==null?void 0:f.value,l},invalidateEns:o}};function Xn({address:e,shorten:t,nChar:n,disableLink:r}){const{lookupEns:s}=nh(),a=s(e)||(t?hg(e,n):e);return E.jsx("span",{className:"font-mono text-ink-300",children:r?a:E.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:Pe.blockExplorer.url+"/address/"+e,className:"hover:text-accent-cyan transition-colors underline decoration-ink-600 hover:decoration-accent-cyan",children:a})})}function UE({type:e}){if(!e)return null;const t={"text/plain":{label:"TXT",bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",icon:""},"text/markdown":{label:"MD",bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",icon:"#"},"text/html":{label:"HTML",bg:"bg-amber-500/10",border:"border-amber-500/30",text:"text-amber-400",icon:"<>"}},n=t[e]||t["text/plain"];return E.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono ${n.bg} ${n.border} ${n.text} border`,children:[E.jsx("span",{className:"opacity-60 w-4 text-center",children:n.icon}),n.label]})}function rh({id:e,prefetchedData:t}){const n=Ka(),[r,s]=M.useState(t?{name:t.name,description:t.description,text_uri:t.text_uri}:null),[a,o]=M.useState((t==null?void 0:t.author)||null),[i,c]=M.useState((t==null?void 0:t.content_type)||null),[d,p]=M.useState((t==null?void 0:t.content)||null),[u,l]=M.useState(!0),[f,m]=M.useState(null),[h,x]=M.useState(null),[g,y]=M.useState(null),[v,T]=M.useState(null),w=Pe.contractAddresses.v1.zang,k=Pe.contractAddresses.v1.marketplace;if(M.useEffect(()=>{if(!e)return;(async()=>{try{const N=t?Promise.resolve(t):fetch(`/api/nft/${e}`).then(U=>U.ok?U.json():null),[O,D]=await Promise.all([N,Fe.readContract({address:w,abi:Le.zang,functionName:"totalSupply",args:[BigInt(e)]})]);!t&&O&&(o(O.author),s({name:O.name,description:O.description,text_uri:O.text_uri}),c(O.content_type),p(O.content)),m(Number(D));const j=await Fe.readContract({address:k,abi:Le.marketplace,functionName:"listingCount",args:[BigInt(e)]}),$=Number(j);if($>0){const U=[];for(let ae=0;ae<$;ae++)U.push(Fe.readContract({address:k,abi:Le.marketplace,functionName:"listings",args:[BigInt(e),BigInt(ae)]}));const ce=(await Promise.all(U)).map(([ae,de,me])=>({price:ae,seller:de,amount:me})).filter(ae=>ae.seller!==br);if(y(ce.reduce((ae,de)=>ae+Number(de.amount),0)),ce.length>0){const ae=ce.map(de=>parseFloat(tn(de.price)));x(Math.min(...ae))}}else y(0);const V=await Fe.getContractEvents({address:k,abi:Le.marketplace,eventName:"TokenPurchased",args:{_tokenId:BigInt(e)},fromBlock:BigInt(Pe.firstBlocks.v1.base.marketplace)});if(V.length>0){const U=V.reduce((z,ne)=>{const ce=parseFloat(tn(ne.args._price)),ae=Number(ne.args._amount);return z+ce*ae},0);T(U)}else T(0)}catch(N){eo(N)&&l(!1)}})()},[e]),!u)return null;const S=()=>n("/nft?id="+e),_=A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),S())};return E.jsx("div",{className:"group relative cursor-pointer",onClick:S,onKeyDown:_,role:"button",tabIndex:0,children:E.jsxs("div",{className:"relative bg-ink-900/40 border border-ink-800 rounded-xl overflow-hidden transition-all duration-300 hover:border-ink-600 hover:bg-ink-900/60 hover:-translate-y-1 hover:shadow-xl hover:shadow-ink-950/50",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-ink-800/50 bg-ink-900/30",children:[E.jsxs("span",{className:"text-ink-600 text-xs font-mono",children:["#",e]}),E.jsx(UE,{type:i})]}),E.jsxs("div",{className:"relative h-52 overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 p-4 overflow-hidden",children:i&&d!==null?i==="text/html"?E.jsx("div",{className:"absolute inset-0 [&>iframe]:!h-full [&>iframe]:!min-h-full",children:E.jsx(si,{source:d})}):i==="text/markdown"?E.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-ink-300","data-color-mode":"dark",children:E.jsx(cu.Markdown,{source:d,rehypePlugins:[()=>Qa(Un.validMarkdown)]})}):E.jsx("pre",{className:"font-mono text-sm text-ink-300 leading-relaxed whitespace-pre overflow-x-auto",children:d}):E.jsx("div",{className:"space-y-2",children:E.jsx(Ut,{count:5,baseColor:"#1c1c1e",highlightColor:"#2a2a2e"})})}),E.jsx("div",{className:"absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-ink-900/90 to-transparent pointer-events-none"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-ink-950/40",children:E.jsx("span",{className:"px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg text-white text-sm font-medium border border-white/20",children:"Read more "})})]}),E.jsxs("div",{className:"px-3 py-2.5 bg-gradient-to-b from-ink-900 to-ink-900/80",children:[E.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E.jsx("h3",{className:"text-ink-100 font-medium text-sm leading-tight line-clamp-1 group-hover:text-white transition-colors flex-1 min-w-0",children:(r==null?void 0:r.name)||E.jsx(Ut,{baseColor:"#1c1c1e",highlightColor:"#2a2a2e",width:"70%"})}),a&&E.jsx("span",{className:"text-ink-500 text-xs font-mono shrink-0",children:E.jsx(Xn,{address:a,shorten:!0,nChar:4,disableLink:!0})})]}),E.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 text-xs",children:[f!==null?E.jsxs("span",{className:"text-ink-500 whitespace-nowrap",children:[f," ed."]}):E.jsx(Ut,{width:30,baseColor:"#1c1c1e",highlightColor:"#2a2a2e"}),g!==null&&g>0&&E.jsxs(M.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-ink-500 whitespace-nowrap",children:[g," listed"]})]}),h!==null&&E.jsxs(M.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-green-400 whitespace-nowrap font-mono",children:[h," "]})]}),v!==null&&v>0&&E.jsxs(M.Fragment,{children:[E.jsx("span",{className:"text-ink-700",children:""}),E.jsxs("span",{className:"text-ink-400 whitespace-nowrap font-mono",children:[v.toFixed(4),"  vol"]})]})]})]})]})})}function xa({href:e,children:t,...n}){const r=Ka(),s=a=>{a.preventDefault(),r(e)};return E.jsx("a",{href:e,onClick:s,...n,children:t})}function sc(){const{address:e}=qt(),{data:t}=Jm({address:e,chainId:Pe.networks.main.chainId}),n=t?`${parseFloat(tn(t.value)).toFixed(4)} ETH`:null;return E.jsx(l0.Custom,{children:({account:r,chain:s,openAccountModal:a,openChainModal:o,openConnectModal:i,mounted:c})=>{const d=c,p=d&&r&&s;return E.jsx("div",{...!d&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:p?s.unsupported?E.jsx("button",{onClick:o,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-red-400 bg-red-900/20 rounded-lg border border-red-700/50 hover:bg-red-900/30 transition-colors",children:"Wrong network"}):E.jsxs("div",{className:"flex items-center bg-ink-800/50 rounded-lg border border-ink-700/50 overflow-hidden",children:[n&&s.id===Pe.networks.main.chainId&&E.jsx("div",{className:"px-3 py-2 flex items-center gap-2 text-ink-300 text-sm border-r border-ink-700/50",children:E.jsx("span",{className:"font-mono",children:n})}),E.jsxs("button",{onClick:a,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-ink-100 hover:bg-ink-700/50 transition-colors",children:[r.ensAvatar&&E.jsx("img",{className:"w-5 h-5 rounded-full object-cover",src:r.ensAvatar,alt:""}),E.jsx("span",{className:"font-mono text-xs",children:r.ensName||r.displayName})]})]}):E.jsxs("button",{onClick:i,className:"px-4 py-2 flex items-center gap-2 text-sm font-medium text-ink-100 bg-ink-800/50 rounded-lg border border-ink-700/50 hover:bg-ink-700/50 transition-colors",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),E.jsx("span",{children:"Connect"})]})})}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var po=function(e,t){return po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},po(e,t)};function HE(e,t){po(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xs=function(){return xs=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},xs.apply(this,arguments)};function $E(e,t,n,r){var s,a=!1,o=0;function i(){s&&clearTimeout(s)}function c(){i(),a=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function d(){var p=this,u=Date.now()-o,l=arguments;if(a)return;function f(){o=Date.now(),n.apply(p,l)}function m(){s=void 0}r&&!s&&f(),i(),r===void 0&&u>e?f():t!==!0&&(s=setTimeout(r?m:f,r===void 0?e-u:e))}return d.cancel=c,d}var $r={Pixel:"Pixel",Percent:"Percent"},ac={unit:$r.Percent,value:.8};function ic(e){return typeof e=="number"?{unit:$r.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:$r.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:$r.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),ac):(console.warn("scrollThreshold should be string or number"),ac)}var sh=(function(e){HE(t,e);function t(n){var r=e.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(s){r.lastScrollTop||(r.dragging=!0,s instanceof MouseEvent?r.startY=s.pageY:s instanceof TouchEvent&&(r.startY=s.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(s){r.dragging&&(s instanceof MouseEvent?r.currentY=s.pageY:s instanceof TouchEvent&&(r.currentY=s.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(s){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(s)},0);var a=r.props.height||r._scrollableNode?s.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(a,r.props.scrollThreshold):r.isElementAtBottom(a,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=a.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=$E(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,r){var s=n.dataLength!==r.prevDataLength;return s?xs(xs({},r),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,a=ic(r);return a.unit===$r.Pixel?n.scrollTop<=a.value+s-n.scrollHeight+1:n.scrollTop<=a.value/100+s-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,a=ic(r);return a.unit===$r.Pixel?n.scrollTop+s>=n.scrollHeight-a.value:n.scrollTop+s>=a.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,r=xs({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Y.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},Y.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:r},this.props.pullDownToRefresh&&Y.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},Y.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t})(M.Component);function ai(){const[e,t]=ht(Qt);return e?E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:E.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-start gap-3",children:[E.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("span",{className:"font-semibold",children:"Error:"})," ",e]})}),E.jsx("button",{onClick:()=>t(null),className:"text-red-400 hover:text-red-300 transition-colors","aria-label":"Dismiss error",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}const Nn=Object.create(null);Nn.open="0";Nn.close="1";Nn.ping="2";Nn.pong="3";Nn.message="4";Nn.upgrade="5";Nn.noop="6";const va=Object.create(null);Object.keys(Nn).forEach(e=>{va[Nn[e]]=e});const go={type:"error",data:"parser error"},ah=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ih=typeof ArrayBuffer=="function",oh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ru=({type:e,data:t},n,r)=>ah&&t instanceof Blob?n?r(t):oc(t,r):ih&&(t instanceof ArrayBuffer||oh(t))?n?r(t):oc(new Blob([t]),r):r(Nn[e]+(t||"")),oc=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function uc(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Pi;function qE(e,t){if(ah&&e.data instanceof Blob)return e.data.arrayBuffer().then(uc).then(t);if(ih&&(e.data instanceof ArrayBuffer||oh(e.data)))return t(uc(e.data));Ru(e,!1,n=>{Pi||(Pi=new TextEncoder),t(Pi.encode(n))})}const lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<lc.length;e++)cs[lc.charCodeAt(e)]=e;const VE=e=>{let t=e.length*.75,n=e.length,r,s=0,a,o,i,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),p=new Uint8Array(d);for(r=0;r<n;r+=4)a=cs[e.charCodeAt(r)],o=cs[e.charCodeAt(r+1)],i=cs[e.charCodeAt(r+2)],c=cs[e.charCodeAt(r+3)],p[s++]=a<<2|o>>4,p[s++]=(o&15)<<4|i>>2,p[s++]=(i&3)<<6|c&63;return d},zE=typeof ArrayBuffer=="function",Lu=(e,t)=>{if(typeof e!="string")return{type:"message",data:uh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:YE(e.substring(1),t)}:va[n]?e.length>1?{type:va[n],data:e.substring(1)}:{type:va[n]}:go},YE=(e,t)=>{if(zE){const n=VE(e);return uh(n,t)}else return{base64:!0,data:e}},uh=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},lh="",WE=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((a,o)=>{Ru(a,!1,i=>{r[o]=i,++s===n&&t(r.join(lh))})})},KE=(e,t)=>{const n=e.split(lh),r=[];for(let s=0;s<n.length;s++){const a=Lu(n[s],t);if(r.push(a),a.type==="error")break}return r};function GE(){return new TransformStream({transform(e,t){qE(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Mi;function ua(e){return e.reduce((t,n)=>t+n.length,0)}function la(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function XE(e,t){Mi||(Mi=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(o,i){for(n.push(o);;){if(r===0){if(ua(n)<1)break;const c=la(n,1);a=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ua(n)<2)break;const c=la(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(ua(n)<8)break;const c=la(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),p=d.getUint32(0);if(p>Math.pow(2,21)-1){i.enqueue(go);break}s=p*Math.pow(2,32)+d.getUint32(4),r=3}else{if(ua(n)<s)break;const c=la(n,s);i.enqueue(Lu(a?c:Mi.decode(c),t)),r=0}if(s===0||s>e){i.enqueue(go);break}}}})}const ch=4;function lt(e){if(e)return QE(e)}function QE(e){for(var t in lt.prototype)e[t]=lt.prototype[t];return e}lt.prototype.on=lt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};lt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};lt.prototype.off=lt.prototype.removeListener=lt.prototype.removeAllListeners=lt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};lt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};lt.prototype.emitReserved=lt.prototype.emit;lt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};lt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ii=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ZE="arraybuffer";function dh(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const JE=Xt.setTimeout,ex=Xt.clearTimeout;function oi(e,t){t.useNativeTimers?(e.setTimeoutFn=JE.bind(Xt),e.clearTimeoutFn=ex.bind(Xt)):(e.setTimeoutFn=Xt.setTimeout.bind(Xt),e.clearTimeoutFn=Xt.clearTimeout.bind(Xt))}const tx=1.33;function nx(e){return typeof e=="string"?rx(e):Math.ceil((e.byteLength||e.size)*tx)}function rx(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function fh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function sx(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function ax(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class ix extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Du extends lt{constructor(t){super(),this.writable=!1,oi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new ix(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Lu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=sx(t);return n.length?"?"+n:""}}class ox extends Du{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};KE(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,WE(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=fh()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let hh=!1;try{hh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ux=hh;function lx(){}class cx extends ox{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class wn extends lt{constructor(t,n,r){super(),this.createRequest=t,oi(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=dh(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=wn.requestsCount++,wn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=lx,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete wn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}wn.requestsCount=0;wn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cc);else if(typeof addEventListener=="function"){const e="onpagehide"in Xt?"pagehide":"unload";addEventListener(e,cc,!1)}}function cc(){for(let e in wn.requests)wn.requests.hasOwnProperty(e)&&wn.requests[e].abort()}const dx=(function(){const e=mh({xdomain:!1});return e&&e.responseType!==null})();class fx extends cx{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=dx&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new wn(mh,this.uri(),t)}}function mh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ux))return new XMLHttpRequest}catch{}if(!t)try{return new Xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ph=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hx extends Du{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=ph?{}:dh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Ru(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&ii(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=fh()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const ji=Xt.WebSocket||Xt.MozWebSocket;class mx extends hx{createSocket(t,n,r){return ph?new ji(t,n,r):n?new ji(t,n):new ji(t)}doWrite(t,n){this.ws.send(n)}}class px extends Du{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=XE(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=GE();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:i,value:c})=>{i||(this.onPacket(c),a())}).catch(i=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&ii(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const gx={websocket:mx,webtransport:px,polling:fx},bx=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yx=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bo(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=bx.exec(e||""),a={},o=14;for(;o--;)a[yx[o]]=s[o]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Ex(a,a.path),a.queryKey=xx(a,a.query),a}function Ex(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function xx(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const yo=typeof addEventListener=="function"&&typeof removeEventListener=="function",_a=[];yo&&addEventListener("offline",()=>{_a.forEach(e=>e())},!1);class Jn extends lt{constructor(t,n){if(super(),this.binaryType=ZE,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=bo(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=bo(n.host).host);oi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ax(this.opts.query)),yo&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_a.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=ch,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Jn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Jn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=nx(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ii(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Jn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yo&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=_a.indexOf(this._offlineEventListener);r!==-1&&_a.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Jn.protocol=ch;class vx extends Jn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Jn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Jn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const l=new Error("probe error");l.transport=n.name,this.emitReserved("upgradeError",l)}}))};function a(){r||(r=!0,p(),n.close(),n=null)}const o=u=>{const l=new Error("probe error: "+u);l.transport=n.name,a(),this.emitReserved("upgradeError",l)};function i(){o("transport closed")}function c(){o("socket closed")}function d(u){n&&u.name!==n.name&&a()}const p=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",i),this.off("close",c),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",i),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let _x=class extends vx{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>gx[s]).filter(s=>!!s)),super(t,r)}};function Tx(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=bo(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const wx=typeof ArrayBuffer=="function",Ax=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,gh=Object.prototype.toString,Nx=typeof Blob=="function"||typeof Blob<"u"&&gh.call(Blob)==="[object BlobConstructor]",Sx=typeof File=="function"||typeof File<"u"&&gh.call(File)==="[object FileConstructor]";function Pu(e){return wx&&(e instanceof ArrayBuffer||Ax(e))||Nx&&e instanceof Blob||Sx&&e instanceof File}function Ta(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Ta(e[n]))return!0;return!1}if(Pu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ta(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ta(e[n]))return!0;return!1}function kx(e){const t=[],n=e.data,r=e;return r.data=Eo(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Eo(e,t){if(!e)return e;if(Pu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Eo(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Eo(e[r],t));return n}return e}function Cx(e,t){return e.data=xo(e.data,t),delete e.attachments,e}function xo(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=xo(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=xo(e[n],t));return e}const bh=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ox=5;var Ne;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ne||(Ne={}));class Ix{constructor(t){this.replacer=t}encode(t){return(t.type===Ne.EVENT||t.type===Ne.ACK)&&Ta(t)?this.encodeAsBinary({type:t.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ne.BINARY_EVENT||t.type===Ne.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=kx(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class Mu extends lt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ne.BINARY_EVENT;r||n.type===Ne.BINARY_ACK?(n.type=r?Ne.EVENT:Ne.ACK,this.reconstructor=new Rx(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Pu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ne[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ne.BINARY_EVENT||r.type===Ne.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(a,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Mu.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ne.CONNECT:return ja(n);case Ne.DISCONNECT:return n===void 0;case Ne.CONNECT_ERROR:return typeof n=="string"||ja(n);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&bh.indexOf(n[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Rx{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Cx(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Lx(e){return typeof e=="string"}const Dx=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Px(e){return e===void 0||Dx(e)}function ja(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mx(e,t){switch(e){case Ne.CONNECT:return t===void 0||ja(t);case Ne.DISCONNECT:return t===void 0;case Ne.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&bh.indexOf(t[0])===-1);case Ne.ACK:return Array.isArray(t);case Ne.CONNECT_ERROR:return typeof t=="string"||ja(t);default:return!1}}function jx(e){return Lx(e.nsp)&&Px(e.id)&&Mx(e.type,e.data)}const Bx=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Mu,Encoder:Ix,get PacketType(){return Ne},isPacketValid:jx,protocol:Ox},Symbol.toStringTag,{value:"Module"}));function Jt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Fx=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yh extends lt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Jt(t,"open",this.onopen.bind(this)),Jt(t,"packet",this.onpacket.bind(this)),Jt(t,"error",this.onerror.bind(this)),Jt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,a;if(Fx.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ne.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,u=n.pop();this._registerAckCallback(p,u),o.id=p}const i=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!i||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},s),o=(...i)=>{this.io.clearTimeoutFn(a),n.apply(this,i)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const a=(o,i)=>o?s(o):r(i);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>(this._queue[0],s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ne.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(t);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(t);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ne.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Jr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Jr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Jr.prototype.reset=function(){this.attempts=0};Jr.prototype.setMin=function(e){this.ms=e};Jr.prototype.setMax=function(e){this.max=e};Jr.prototype.setJitter=function(e){this.jitter=e};class vo extends lt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,oi(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Jr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Bx;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new _x(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Jt(n,"open",function(){r.onopen(),t&&t()}),a=i=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",i),t?t(i):this.maybeReconnectOnOpen()},o=Jt(n,"error",a);if(this._timeout!==!1){const i=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},i);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Jt(t,"ping",this.onping.bind(this)),Jt(t,"data",this.ondata.bind(this)),Jt(t,"error",this.onerror.bind(this)),Jt(t,"close",this.onclose.bind(this)),Jt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ii(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new yh(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const os={};function wa(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Tx(e,t.path||"/socket.io"),r=n.source,s=n.id,a=n.path,o=os[s]&&a in os[s].nsps,i=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return i?c=new vo(r,t):(os[s]||(os[s]=new vo(r,t)),c=os[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(wa,{Manager:vo,Socket:yh,io:wa,connect:wa});let us=null;function Eh(){return us||(us=wa(void 0,{transports:["websocket","polling"],autoConnect:!0}),us.on("connect",()=>{console.log("WebSocket connected")}),us.on("disconnect",()=>{console.log("WebSocket disconnected")})),us}function Ux(e){M.useEffect(()=>{const t=Eh(),n=r=>{e&&e(r)};return t.on("newEvents",n),()=>{t.off("newEvents",n)}},[e])}function Hx(){const[e,t]=M.useState(!1);return M.useEffect(()=>{const n=Eh();t(n.connected);const r=()=>t(!0),s=()=>t(!1);return n.on("connect",r),n.on("disconnect",s),()=>{n.off("connect",r),n.off("disconnect",s)}},[]),e}function $x(e){if(!e)return"unknown";const n=new Date-new Date(e),r=Math.floor(n/1e3),s=Math.floor(r/60),a=Math.floor(s/60);return r<10?"just now":r<60?`${r}s ago`:s<60?`${s}m ago`:a<24?`${a}h ago`:new Date(e).toLocaleDateString()}function qx(e,t=30){if(!e)return"unknown";const n=new Date,r=new Date(e),s=(n-r)/1e3;return s<t*2?"fresh":s<t*5?"stale":"very-stale"}function xh({meta:e,onRefresh:t,compact:n=!1}){const[r,s]=M.useState(""),[a,o]=M.useState(!1);M.useEffect(()=>{const l=()=>s($x(e==null?void 0:e.lastSyncTime));l();const f=setInterval(l,1e4);return()=>clearInterval(f)},[e==null?void 0:e.lastSyncTime]);const i=M.useCallback(async()=>{if(!(!t||a)){o(!0);try{await t()}finally{o(!1)}}},[t,a]);if(!e)return null;const c=qx(e.lastSyncTime,e.syncIntervalSeconds),d=e.isSyncing||a,p={fresh:"text-green-500",stale:"text-yellow-500","very-stale":"text-red-500",unknown:"text-ink-500"},u={fresh:"bg-green-500",stale:"bg-yellow-500","very-stale":"bg-red-500",unknown:"bg-ink-500"};return n?E.jsxs("div",{className:"flex items-center gap-2 text-xs text-ink-500",children:[E.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${d?"bg-blue-500 animate-pulse":u[c]}`}),E.jsx("span",{children:d?"Syncing...":r})]}):E.jsxs("div",{className:"flex items-center justify-between gap-4 px-3 py-2 bg-ink-900/30 rounded-lg border border-ink-800/50",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:`w-2 h-2 rounded-full ${d?"bg-blue-500 animate-pulse":u[c]}`}),E.jsx("span",{className:"text-xs text-ink-400",children:d?"Syncing blockchain data...":E.jsxs(E.Fragment,{children:["Updated ",E.jsx("span",{className:p[c],children:r}),e.lastSyncBlock&&E.jsxs("span",{className:"text-ink-600 ml-1",children:["(block ",e.lastSyncBlock.toLocaleString(),")"]})]})})]}),t&&!d&&c!=="fresh"&&E.jsxs("button",{onClick:i,className:"flex items-center gap-1 text-xs text-ink-400 hover:text-ink-200 transition-colors",children:[E.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})}function vh(){const[e,t]=M.useState(null),n=M.useCallback(r=>{r&&t(r)},[]);return[e,n]}function Vx({phrases:e}){const[t,n]=M.useState(0),[r,s]=M.useState(""),[a,o]=M.useState(!1),i=Math.max(...e.map(c=>c.length));return M.useEffect(()=>{const c=e[t],d=setTimeout(()=>{a?r.length>0?s(r.slice(0,-1)):(o(!1),n(p=>(p+1)%e.length)):r.length<c.length?s(c.slice(0,r.length+1)):setTimeout(()=>o(!0),2e3)},a?50:100);return()=>clearTimeout(d)},[r,a,t,e]),E.jsxs("span",{className:"inline-block text-center",style:{width:`${i+1}ch`},children:[E.jsx("span",{className:"text-white",children:r}),E.jsx("span",{className:"animate-pulse text-accent-cyan",children:"|"})]})}function dc({value:e,suffix:t=""}){const[n,r]=M.useState(0);return M.useEffect(()=>{if(e==null)return;const s=1500,a=30,o=e/a;let i=0,c=0;const d=setInterval(()=>{c++,i=Math.min(Math.round(o*c),e),r(i),c>=a&&clearInterval(d)},s/a);return()=>clearInterval(d)},[e]),E.jsxs("span",{children:[n.toLocaleString(),t]})}function zx({events:e}){const[t,n]=M.useState(0);if(M.useEffect(()=>{if(!e||e.length===0)return;const o=setInterval(()=>{n(i=>(i+1)%e.length)},3e3);return()=>clearInterval(o)},[e]),!e||e.length===0)return null;const r=e[t],s=o=>{switch(o.type){case"mint":return`New ${o.contentType} minted`;case"purchase":return`Sold for ${o.price} ETH`;case"list":return`Listed for ${o.price} ETH`;default:return"New activity"}},a=o=>{switch(o.type){case"mint":return"";case"purchase":return"";case"list":return"";default:return""}};return E.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-ink-400",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),E.jsxs(qd,{to:`/nft?id=${r.id}`,className:"transition-opacity duration-300 hover:text-ink-200",children:[a(r)," ",E.jsxs("span",{className:"text-ink-500",children:["#",r.id]})," ",E.jsx("span",{className:"text-ink-200 font-medium",children:r.title})," "," ",s(r)]})]})}function Yx(){const e=Ka(),[t,n]=M.useState(null),[r,s]=M.useState([]),[a,o]=M.useState({}),[,i]=ht(Qt),[c,d]=M.useState([]),[p,u]=M.useState(null),[l,f]=M.useState(null),[m,h]=vh(),x=6,g=Pe.contractAddresses.v1.zang;M.useEffect(()=>{(async()=>{try{const S=await Fe.readContract({address:g,abi:Le.zang,functionName:"lastTokenId"});n(Number(S))}catch(S){i(Et(S))}})()},[i]),M.useEffect(()=>{(async()=>{try{const S=await fetch("/api/activity");if(!S.ok)throw new Error("Failed to fetch activity");const{events:_,_meta:A}=await S.json();h(A);const N=_.slice(0,50).map(U=>{const z=U.data;let ne="transfer",ce=null;return U.event_type==="TransferSingle"&&z.from==="0x0000000000000000000000000000000000000000"?ne="mint":U.event_type==="TokenPurchased"?(ne="purchase",ce=tn(BigInt(z._price||0))):U.event_type==="TokenListed"&&(ne="list",ce=tn(BigInt(z._price||0))),{type:ne,id:U.token_id.toString(),blockNumber:Number(U.block_number),price:ce}}).filter(U=>U.type!=="transfer").slice(0,10),O=[...new Set(N.map(U=>U.id))],D=await fetch("/api/nfts/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:O})}),j={};if(D.ok){const{nfts:U}=await D.json();for(const z of U)if(z.data){let ne="text";z.data.content_type==="text/html"?ne="HTML":z.data.content_type==="text/markdown"&&(ne="Markdown"),j[z.id]={title:z.data.name||`#${z.id}`,contentType:ne}}else j[z.id]={title:`#${z.id}`,contentType:"text"}}const $=N.map(U=>{var z,ne;return{...U,title:((z=j[U.id])==null?void 0:z.title)||`#${U.id}`,contentType:((ne=j[U.id])==null?void 0:ne.contentType)||"text"}});d($);const V=_.filter(U=>U.event_type==="TokenPurchased").reduce((U,z)=>{const ne=BigInt(z.data._price||0),ce=BigInt(z.data._amount||1);return U+parseFloat(tn(ne*ce))},0);u(V)}catch(S){console.error("Error fetching activity:",S)}})()},[]),M.useEffect(()=>{(async()=>{try{const S=await fetch("/api/stats");if(S.ok){const _=await S.json();_.uniqueArtists>0&&f(_.uniqueArtists)}}catch{}})()},[]);const y=M.useCallback(async()=>{try{await fetch("/api/sync/force",{method:"POST"});const k=await fetch("/api/activity");if(k.ok){const{events:S,_meta:_}=await k.json();h(_);const A=S.slice(0,50).map(N=>{const O=N.data;let D="transfer",j=null;return N.event_type==="TransferSingle"&&O.from==="0x0000000000000000000000000000000000000000"?D="mint":N.event_type==="TokenPurchased"?(D="purchase",j=tn(BigInt(O._price||0))):N.event_type==="TokenListed"&&(D="list",j=tn(BigInt(O._price||0))),{type:D,id:N.token_id.toString(),blockNumber:Number(N.block_number),price:j}}).filter(N=>N.type!=="transfer").slice(0,10);d(A.map(N=>({...N,title:`#${N.id}`,contentType:"text"})))}}catch(k){console.error("Error forcing sync:",k)}},[]),v=Hx(),T=M.useCallback(async k=>{const S=k.filter(O=>O.type==="TransferSingle"||O.type==="TokenListed"||O.type==="TokenPurchased");if(S.length===0)return;const _=[...new Set(S.map(O=>O.tokenId.toString()))],A={};try{const O=await fetch("/api/nfts/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:_})});if(O.ok){const{nfts:D}=await O.json();for(const j of D)if(j.data){let $="text";j.data.content_type==="text/html"?$="HTML":j.data.content_type==="text/markdown"&&($="Markdown"),A[j.id]={title:j.data.name||`#${j.id}`,contentType:$}}}}catch{}const N=S.map(O=>{var j,$;let D="transfer";return O.type==="TransferSingle"?D="mint":O.type==="TokenPurchased"?D="purchase":O.type==="TokenListed"&&(D="list"),{type:D,id:O.tokenId.toString(),blockNumber:O.blockNumber,title:((j=A[O.tokenId])==null?void 0:j.title)||`#${O.tokenId}`,contentType:(($=A[O.tokenId])==null?void 0:$.contentType)||"text"}}).filter(O=>O.type!=="transfer");if(d(O=>[...N,...O].slice(0,15)),S.some(O=>O.type==="TransferSingle"))try{const O=await Fe.readContract({address:g,abi:Le.zang,functionName:"lastTokenId"});n(Number(O))}catch{}},[g]);Ux(T);const w=async k=>{const S=[...r],_=[];for(let A=0;A<k;A++){const N=t-S.length-A;N>=1&&_.push(N)}if(_.length!==0){s([...S,..._]);try{const A=await fetch("/api/nfts/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:_})});if(A.ok){const{nfts:N}=await A.json(),O={...a};for(const D of N)D.data&&(O[D.id]=D.data);o(O)}}catch{}}};return M.useEffect(()=>{t!==null&&w(12)},[t]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Nr,{}),E.jsx(ai,{}),E.jsxs("section",{className:"relative overflow-hidden",children:[E.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24",children:E.jsxs("div",{className:"text-center space-y-8",children:[E.jsx("p",{className:"text-ink-500 font-mono text-xs sm:text-sm tracking-widest uppercase",children:"A canvas for writers & creators"}),E.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-mono leading-tight",children:[E.jsx("span",{className:"text-ink-400 hidden sm:inline",children:">"})," ",E.jsx(Vx,{phrases:["Write beautifully.","Words, forever.","Code is poetry.","Text is art.","Create freely."]})]}),E.jsxs("p",{className:"text-ink-400 text-lg sm:text-xl max-w-2xl mx-auto leading-relaxed",children:["Mint your"," ",E.jsx("span",{className:"text-ink-200",children:"poetry"}),","," ",E.jsx("span",{className:"text-ink-200",children:"stories"}),","," ",E.jsx("span",{className:"text-ink-200",children:"code"}),", and"," ",E.jsx("span",{className:"text-ink-200",children:"HTML art"})," as NFTs. No images required. Pure text, onchain forever."]}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-2",children:[E.jsx("button",{onClick:()=>e("/mint"),className:"group relative px-8 py-4 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-all duration-200 text-lg",children:E.jsxs("span",{className:"flex items-center justify-center gap-3",children:[E.jsx("span",{className:"font-mono text-ink-500",children:"$"}),"Start Writing"]})}),E.jsx("button",{onClick:()=>{document.getElementById("gallery").scrollIntoView({behavior:"smooth"})},className:"px-8 py-4 border border-ink-700 text-ink-300 font-medium rounded-lg hover:border-ink-500 hover:text-white transition-all duration-200 text-lg",children:"Browse Gallery"})]}),E.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8 pt-6",children:[t&&E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-mono text-white",children:E.jsx(dc,{value:t})}),E.jsx("div",{className:"text-ink-500 text-sm",children:"texts minted"})]}),l&&l>0&&E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-mono text-white",children:E.jsx(dc,{value:l})}),E.jsx("div",{className:"text-ink-500 text-sm",children:"artists"})]}),p!==null&&p>0&&E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-3xl font-mono text-white",children:[p.toFixed(3)," ",E.jsx("span",{className:"text-ink-400",children:""})]}),E.jsx("div",{className:"text-ink-500 text-sm",children:"volume (recent)"})]})]}),E.jsxs("div",{className:"pt-8 space-y-3",children:[E.jsx(zx,{events:c}),m&&E.jsx("div",{className:"max-w-md mx-auto",children:E.jsx(xh,{meta:m,onRefresh:y,compact:!0})})]})]})}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-ink-800 to-transparent"})]}),E.jsxs("section",{id:"gallery",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[E.jsxs("div",{className:"flex items-center justify-between mb-10",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("h2",{className:"text-2xl sm:text-3xl font-mono text-ink-100",children:"Latest Works"}),E.jsx("p",{className:"text-ink-500 text-sm",children:"Fresh from the creative minds"})]}),E.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-ink-600 text-sm font-mono",children:[E.jsx("span",{className:`w-2 h-2 rounded-full ${v?"bg-green-500 animate-pulse":"bg-ink-600"}`}),v?"Live":"Offline"]})]}),E.jsx(sh,{dataLength:r.length,next:()=>w(x),hasMore:r.length<t,loader:E.jsx("div",{className:"col-span-full flex justify-center py-8",children:E.jsxs("div",{className:"flex items-center gap-3 text-ink-400",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{children:"Loading more..."})]})}),endMessage:t===null?E.jsx("div",{className:"col-span-full flex justify-center py-8",children:E.jsxs("div",{className:"flex items-center gap-3 text-ink-400",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{children:"Loading..."})]})}):E.jsxs("div",{className:"col-span-full text-center py-12",children:[E.jsxs("p",{className:"text-ink-500",children:["You've seen all ",t," NFTs!"]}),E.jsx("button",{onClick:()=>e("/mint"),className:"mt-4 text-accent-cyan hover:text-accent-cyan/80 transition-colors",children:"Create your own "})]}),children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:r.map(k=>E.jsx(rh,{id:k,prefetchedData:a[k]},k))})})]})]})}const fc={amount:1};function Wx({isOpen:e,setIsOpen:t,onClose:n,maxAmount:r,sellerBalance:s,price:a}){const{register:o,formState:{isDirty:i,isValid:c,errors:d},handleSubmit:p,watch:u}=qs({defaultValues:fc,mode:"onChange",resolver:Vs(Un.buy)}),l=u("amount",fc.amount),f=()=>l<=Math.min(r,s),m=x=>{x&&n(x.amount),t(!1)},h=()=>{if(!(!l||a<=0))try{return(Number(l)*Number(a)).toString()}catch{return}};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>m(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Buy NFT"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Listed"}),E.jsx("p",{className:"text-white font-mono",children:r})]}),E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Price Each"}),E.jsxs("p",{className:"text-white font-mono",children:[a," ETH"]})]})]}),s<r&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:["Seller only has ",s," available"]})}),E.jsx(sn,{label:"Amount to Buy",name:"amount",type:"number",step:"1",min:"1",errors:d,register:o}),E.jsxs("div",{className:"p-4 rounded-lg bg-accent-cyan/10 border border-accent-cyan/20",children:[E.jsx("p",{className:"text-xs text-ink-400 uppercase tracking-wide mb-1",children:"Total"}),E.jsx("p",{className:"text-2xl font-bold text-accent-cyan font-mono",children:h()&&d.amount===void 0?`${h()} ETH`:""})]}),!f()&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"}),l<=r?` Cannot buy more than seller's balance (${s}).`:` Cannot buy more than listed amount (${r}).`]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>m(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!c&&i||!f()?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!c&&i||!f(),onClick:p(m),children:"Buy Now"})]})]})]}):null}function Kx({nftId:e,listingId:t,price:n,maxAmount:r,sellerBalance:s,onUpdate:a}){s=s||0;const o=Pe.contractAddresses.v1.marketplace,i=Le.marketplace,{isConnected:c}=qt(),{writeContractAsync:d}=ar(),[p,u]=ht(Qt),l=or(),[f,m]=M.useState(!1),h=async x=>{if(x===null){u("Please enter an amount.");return}if(!e){u("Could not determine the ID of the NFT.");return}if(!c){u("Please connect a wallet.");return}u(null);const y=Oa(n)*BigInt(x),v=async()=>await d({address:o,abi:i,functionName:"buyToken",args:[BigInt(e),BigInt(t),BigInt(x)],value:y,...Tn()}),{success:T}=await l(v,`Buy NFTs #${e}`);T&&a&&a(e)};return E.jsxs(M.Fragment,{children:[E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${s===0?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:s===0,onClick:()=>m(!0),children:"Buy"}),E.jsx(Wx,{isOpen:f,setIsOpen:m,onClose:h,maxAmount:r,sellerBalance:s,price:n})]})}const Wr=Math.min,pr=Math.max,Ba=Math.round,ca=Math.floor,An=e=>({x:e,y:e}),Gx={left:"right",right:"left",bottom:"top",top:"bottom"},Xx={start:"end",end:"start"};function _o(e,t,n){return pr(e,Wr(t,n))}function Xs(e,t){return typeof e=="function"?e(t):e}function Er(e){return e.split("-")[0]}function Qs(e){return e.split("-")[1]}function _h(e){return e==="x"?"y":"x"}function ju(e){return e==="y"?"height":"width"}const Qx=new Set(["top","bottom"]);function Qn(e){return Qx.has(Er(e))?"y":"x"}function Bu(e){return _h(Qn(e))}function Zx(e,t,n){n===void 0&&(n=!1);const r=Qs(e),s=Bu(e),a=ju(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Fa(o)),[o,Fa(o)]}function Jx(e){const t=Fa(e);return[To(e),t,To(t)]}function To(e){return e.replace(/start|end/g,t=>Xx[t])}const hc=["left","right"],mc=["right","left"],ev=["top","bottom"],tv=["bottom","top"];function nv(e,t,n){switch(e){case"top":case"bottom":return n?t?mc:hc:t?hc:mc;case"left":case"right":return t?ev:tv;default:return[]}}function rv(e,t,n,r){const s=Qs(e);let a=nv(Er(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(To)))),a}function Fa(e){return e.replace(/left|right|bottom|top/g,t=>Gx[t])}function sv(e){return{top:0,right:0,bottom:0,left:0,...e}}function Th(e){return typeof e!="number"?sv(e):{top:e,right:e,bottom:e,left:e}}function Ua(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function pc(e,t,n){let{reference:r,floating:s}=e;const a=Qn(t),o=Bu(t),i=ju(o),c=Er(t),d=a==="y",p=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,l=r[i]/2-s[i]/2;let f;switch(c){case"top":f={x:p,y:r.y-s.height};break;case"bottom":f={x:p,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-s.width,y:u};break;default:f={x:r.x,y:r.y}}switch(Qs(t)){case"start":f[o]-=l*(n&&d?-1:1);break;case"end":f[o]+=l*(n&&d?-1:1);break}return f}const av=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,i=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:u}=pc(d,r,c),l=r,f={},m=0;for(let h=0;h<i.length;h++){const{name:x,fn:g}=i[h],{x:y,y:v,data:T,reset:w}=await g({x:p,y:u,initialPlacement:r,placement:l,strategy:s,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});p=y??p,u=v??u,f={...f,[x]:{...f[x],...T}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(l=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:p,y:u}=pc(d,l,c)),h=-1)}return{x:p,y:u,placement:l,strategy:s,middlewareData:f}};async function wh(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:i,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:u="floating",altBoundary:l=!1,padding:f=0}=Xs(t,e),m=Th(f),x=i[l?u==="floating"?"reference":"floating":u],g=Ua(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:d,rootBoundary:p,strategy:c})),y=u==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),T=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},w=Ua(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-w.top+m.top)/T.y,bottom:(w.bottom-g.bottom+m.bottom)/T.y,left:(g.left-w.left+m.left)/T.x,right:(w.right-g.right+m.right)/T.x}}const iv=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:i,middlewareData:c}=t,{element:d,padding:p=0}=Xs(e,t)||{};if(d==null)return{};const u=Th(p),l={x:n,y:r},f=Bu(s),m=ju(f),h=await o.getDimensions(d),x=f==="y",g=x?"top":"left",y=x?"bottom":"right",v=x?"clientHeight":"clientWidth",T=a.reference[m]+a.reference[f]-l[f]-a.floating[m],w=l[f]-a.reference[f],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=k?k[v]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=i.floating[v]||a.floating[m]);const _=T/2-w/2,A=S/2-h[m]/2-1,N=Wr(u[g],A),O=Wr(u[y],A),D=N,j=S-h[m]-O,$=S/2-h[m]/2+_,V=_o(D,$,j),U=!c.arrow&&Qs(s)!=null&&$!==V&&a.reference[m]/2-($<D?N:O)-h[m]/2<0,z=U?$<D?$-D:$-j:0;return{[f]:l[f]+z,data:{[f]:V,centerOffset:$-V-z,...U&&{alignmentOffset:z}},reset:U}}}),ov=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:i,platform:c,elements:d}=t,{mainAxis:p=!0,crossAxis:u=!0,fallbackPlacements:l,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...x}=Xs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=Er(s),y=Qn(i),v=Er(i)===i,T=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=l||(v||!h?[Fa(i)]:Jx(i)),k=m!=="none";!l&&k&&w.push(...rv(i,h,m,T));const S=[i,...w],_=await wh(t,x),A=[];let N=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&A.push(_[g]),u){const $=Zx(s,o,T);A.push(_[$[0]],_[$[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every($=>$<=0)){var O,D;const $=(((O=a.flip)==null?void 0:O.index)||0)+1,V=S[$];if(V&&(!(u==="alignment"?y!==Qn(V):!1)||N.every(ne=>Qn(ne.placement)===y?ne.overflows[0]>0:!0)))return{data:{index:$,overflows:N},reset:{placement:V}};let U=(D=N.filter(z=>z.overflows[0]<=0).sort((z,ne)=>z.overflows[1]-ne.overflows[1])[0])==null?void 0:D.placement;if(!U)switch(f){case"bestFit":{var j;const z=(j=N.filter(ne=>{if(k){const ce=Qn(ne.placement);return ce===y||ce==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(ce=>ce>0).reduce((ce,ae)=>ce+ae,0)]).sort((ne,ce)=>ne[1]-ce[1])[0])==null?void 0:j[0];z&&(U=z);break}case"initialPlacement":U=i;break}if(s!==U)return{reset:{placement:U}}}return{}}}},uv=new Set(["left","top"]);async function lv(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Er(n),i=Qs(n),c=Qn(n)==="y",d=uv.has(o)?-1:1,p=a&&c?-1:1,u=Xs(t,e);let{mainAxis:l,crossAxis:f,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&typeof m=="number"&&(f=i==="end"?m*-1:m),c?{x:f*p,y:l*d}:{x:l*d,y:f*p}}const cv=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:i}=t,c=await lv(t,e);return o===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},dv=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:i={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...c}=Xs(e,t),d={x:n,y:r},p=await wh(t,c),u=Qn(Er(s)),l=_h(u);let f=d[l],m=d[u];if(a){const x=l==="y"?"top":"left",g=l==="y"?"bottom":"right",y=f+p[x],v=f-p[g];f=_o(y,f,v)}if(o){const x=u==="y"?"top":"left",g=u==="y"?"bottom":"right",y=m+p[x],v=m-p[g];m=_o(y,m,v)}const h=i.fn({...t,[l]:f,[u]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[l]:a,[u]:o}}}}}};function ui(){return typeof window<"u"}function es(e){return Ah(e)?(e.nodeName||"").toLowerCase():"#document"}function $t(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cn(e){var t;return(t=(Ah(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ah(e){return ui()?e instanceof Node||e instanceof $t(e).Node:!1}function un(e){return ui()?e instanceof Element||e instanceof $t(e).Element:!1}function Sn(e){return ui()?e instanceof HTMLElement||e instanceof $t(e).HTMLElement:!1}function gc(e){return!ui()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $t(e).ShadowRoot}const fv=new Set(["inline","contents"]);function Zs(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!fv.has(s)}const hv=new Set(["table","td","th"]);function mv(e){return hv.has(es(e))}const pv=[":popover-open",":modal"];function li(e){return pv.some(t=>{try{return e.matches(t)}catch{return!1}})}const gv=["transform","translate","scale","rotate","perspective"],bv=["transform","translate","scale","rotate","perspective","filter"],yv=["paint","layout","strict","content"];function Fu(e){const t=Uu(),n=un(e)?ln(e):e;return gv.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||bv.some(r=>(n.willChange||"").includes(r))||yv.some(r=>(n.contain||"").includes(r))}function Ev(e){let t=er(e);for(;Sn(t)&&!Kr(t);){if(Fu(t))return t;if(li(t))return null;t=er(t)}return null}function Uu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xv=new Set(["html","body","#document"]);function Kr(e){return xv.has(es(e))}function ln(e){return $t(e).getComputedStyle(e)}function ci(e){return un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function er(e){if(es(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gc(e)&&e.host||Cn(e);return gc(t)?t.host:t}function Nh(e){const t=er(e);return Kr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sn(t)&&Zs(t)?t:Nh(t)}function Ns(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Nh(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=$t(s);if(a){const i=wo(o);return t.concat(o,o.visualViewport||[],Zs(s)?s:[],i&&n?Ns(i):[])}return t.concat(s,Ns(s,[],n))}function wo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sh(e){const t=ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Sn(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,i=Ba(n)!==a||Ba(r)!==o;return i&&(n=a,r=o),{width:n,height:r,$:i}}function Hu(e){return un(e)?e:e.contextElement}function qr(e){const t=Hu(e);if(!Sn(t))return An(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Sh(t);let o=(a?Ba(n.width):n.width)/r,i=(a?Ba(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!i||!Number.isFinite(i))&&(i=1),{x:o,y:i}}const vv=An(0);function kh(e){const t=$t(e);return!Uu()||!t.visualViewport?vv:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _v(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$t(e)?!1:t}function xr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Hu(e);let o=An(1);t&&(r?un(r)&&(o=qr(r)):o=qr(e));const i=_v(a,n,r)?kh(a):An(0);let c=(s.left+i.x)/o.x,d=(s.top+i.y)/o.y,p=s.width/o.x,u=s.height/o.y;if(a){const l=$t(a),f=r&&un(r)?$t(r):r;let m=l,h=wo(m);for(;h&&r&&f!==m;){const x=qr(h),g=h.getBoundingClientRect(),y=ln(h),v=g.left+(h.clientLeft+parseFloat(y.paddingLeft))*x.x,T=g.top+(h.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,d*=x.y,p*=x.x,u*=x.y,c+=v,d+=T,m=$t(h),h=wo(m)}}return Ua({width:p,height:u,x:c,y:d})}function di(e,t){const n=ci(e).scrollLeft;return t?t.left+n:xr(Cn(e)).left+n}function Ch(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-di(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Tv(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=Cn(r),i=t?li(t.floating):!1;if(r===o||i&&a)return n;let c={scrollLeft:0,scrollTop:0},d=An(1);const p=An(0),u=Sn(r);if((u||!u&&!a)&&((es(r)!=="body"||Zs(o))&&(c=ci(r)),Sn(r))){const f=xr(r);d=qr(r),p.x=f.x+r.clientLeft,p.y=f.y+r.clientTop}const l=o&&!u&&!a?Ch(o,c):An(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+l.x,y:n.y*d.y-c.scrollTop*d.y+p.y+l.y}}function wv(e){return Array.from(e.getClientRects())}function Av(e){const t=Cn(e),n=ci(e),r=e.ownerDocument.body,s=pr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=pr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+di(e);const i=-n.scrollTop;return ln(r).direction==="rtl"&&(o+=pr(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:i}}const bc=25;function Nv(e,t){const n=$t(e),r=Cn(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,i=0,c=0;if(s){a=s.width,o=s.height;const p=Uu();(!p||p&&t==="fixed")&&(i=s.offsetLeft,c=s.offsetTop)}const d=di(r);if(d<=0){const p=r.ownerDocument,u=p.body,l=getComputedStyle(u),f=p.compatMode==="CSS1Compat"&&parseFloat(l.marginLeft)+parseFloat(l.marginRight)||0,m=Math.abs(r.clientWidth-u.clientWidth-f);m<=bc&&(a-=m)}else d<=bc&&(a+=d);return{width:a,height:o,x:i,y:c}}const Sv=new Set(["absolute","fixed"]);function kv(e,t){const n=xr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Sn(e)?qr(e):An(1),o=e.clientWidth*a.x,i=e.clientHeight*a.y,c=s*a.x,d=r*a.y;return{width:o,height:i,x:c,y:d}}function yc(e,t,n){let r;if(t==="viewport")r=Nv(e,n);else if(t==="document")r=Av(Cn(e));else if(un(t))r=kv(t,n);else{const s=kh(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ua(r)}function Oh(e,t){const n=er(e);return n===t||!un(n)||Kr(n)?!1:ln(n).position==="fixed"||Oh(n,t)}function Cv(e,t){const n=t.get(e);if(n)return n;let r=Ns(e,[],!1).filter(i=>un(i)&&es(i)!=="body"),s=null;const a=ln(e).position==="fixed";let o=a?er(e):e;for(;un(o)&&!Kr(o);){const i=ln(o),c=Fu(o);!c&&i.position==="fixed"&&(s=null),(a?!c&&!s:!c&&i.position==="static"&&!!s&&Sv.has(s.position)||Zs(o)&&!c&&Oh(e,o))?r=r.filter(p=>p!==o):s=i,o=er(o)}return t.set(e,r),r}function Ov(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?li(t)?[]:Cv(t,this._c):[].concat(n),r],i=o[0],c=o.reduce((d,p)=>{const u=yc(t,p,s);return d.top=pr(u.top,d.top),d.right=Wr(u.right,d.right),d.bottom=Wr(u.bottom,d.bottom),d.left=pr(u.left,d.left),d},yc(t,i,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Iv(e){const{width:t,height:n}=Sh(e);return{width:t,height:n}}function Rv(e,t,n){const r=Sn(t),s=Cn(t),a=n==="fixed",o=xr(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const c=An(0);function d(){c.x=di(s)}if(r||!r&&!a)if((es(t)!=="body"||Zs(s))&&(i=ci(t)),r){const f=xr(t,!0,a,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&d();a&&!r&&s&&d();const p=s&&!r&&!a?Ch(s,i):An(0),u=o.left+i.scrollLeft-c.x-p.x,l=o.top+i.scrollTop-c.y-p.y;return{x:u,y:l,width:o.width,height:o.height}}function Bi(e){return ln(e).position==="static"}function Ec(e,t){if(!Sn(e)||ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Cn(e)===n&&(n=n.ownerDocument.body),n}function Ih(e,t){const n=$t(e);if(li(e))return n;if(!Sn(e)){let s=er(e);for(;s&&!Kr(s);){if(un(s)&&!Bi(s))return s;s=er(s)}return n}let r=Ec(e,t);for(;r&&mv(r)&&Bi(r);)r=Ec(r,t);return r&&Kr(r)&&Bi(r)&&!Fu(r)?n:r||Ev(e)||n}const Lv=async function(e){const t=this.getOffsetParent||Ih,n=this.getDimensions,r=await n(e.floating);return{reference:Rv(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Dv(e){return ln(e).direction==="rtl"}const Pv={convertOffsetParentRelativeRectToViewportRelativeRect:Tv,getDocumentElement:Cn,getClippingRect:Ov,getOffsetParent:Ih,getElementRects:Lv,getClientRects:wv,getDimensions:Iv,getScale:qr,isElement:un,isRTL:Dv};function Rh(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Mv(e,t){let n=null,r;const s=Cn(e);function a(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function o(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:p,top:u,width:l,height:f}=d;if(i||t(),!l||!f)return;const m=ca(u),h=ca(s.clientWidth-(p+l)),x=ca(s.clientHeight-(u+f)),g=ca(p),v={rootMargin:-m+"px "+-h+"px "+-x+"px "+-g+"px",threshold:pr(0,Wr(1,c))||1};let T=!0;function w(k){const S=k[0].intersectionRatio;if(S!==c){if(!T)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Rh(d,e.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),a}function jv(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Hu(e),p=s||a?[...d?Ns(d):[],...Ns(t)]:[];p.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const u=d&&i?Mv(d,n):null;let l=-1,f=null;o&&(f=new ResizeObserver(g=>{let[y]=g;y&&y.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(l),l=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let m,h=c?xr(e):null;c&&x();function x(){const g=xr(e);h&&!Rh(h,g)&&n(),h=g,m=requestAnimationFrame(x)}return n(),()=>{var g;p.forEach(y=>{s&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),u==null||u(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const Bv=cv,Fv=dv,Uv=ov,Hv=iv,xc=(e,t,n)=>{const r=new Map,s={platform:Pv,...n},a={...s.platform,_c:r};return av(e,t,{...s,platform:a})};var Fi={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vc;function $v(){return vc||(vc=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var i=arguments[o];i&&(a=s(a,r(i)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var i in a)t.call(a,i)&&a[i]&&(o=s(o,i));return o}function s(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Fi)),Fi.exports}var qv=$v();const Ao=lu(qv);var _c={};const Vv="react-tooltip-core-styles",zv="react-tooltip-base-styles",Tc={core:!1,base:!1};function wc({css:e,id:t=zv,type:n="base",ref:r}){var s,a;if(!e||typeof document>"u"||Tc[n]||n==="core"&&typeof dr<"u"&&(!((s=dr===null||dr===void 0?void 0:_c)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof dr<"u"&&(!((a=dr===null||dr===void 0?void 0:_c)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Vv),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return;const i=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css",o==="top"&&i.firstChild?i.insertBefore(c,i.firstChild):i.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),Tc[n]=!0}const Ac=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:s=10,strategy:a="absolute",middlewares:o=[Bv(Number(s)),Uv({fallbackAxisSideDirection:"start"}),Fv({padding:5})],border:i,arrowSize:c=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=o;return n?(d.push(Hv({element:n,padding:5})),xc(e,t,{placement:r,strategy:a,middleware:d}).then((({x:p,y:u,placement:l,middlewareData:f})=>{var m,h;const x={left:`${p}px`,top:`${u}px`,border:i},{x:g,y}=(m=f.arrow)!==null&&m!==void 0?m:{x:0,y:0},v=(h={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]])!==null&&h!==void 0?h:"bottom",T=i&&{borderBottom:i,borderRight:i};let w=0;if(i){const k=`${i}`.match(/(\d+)px/);w=k!=null&&k[1]?Number(k[1]):1}return{tooltipStyles:x,tooltipArrowStyles:{left:g!=null?`${g}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",...T,[v]:`-${c/2+w}px`},place:l}}))):xc(e,t,{placement:"bottom",strategy:a,middleware:d}).then((({x:p,y:u,placement:l})=>({tooltipStyles:{left:`${p}px`,top:`${u}px`},tooltipArrowStyles:{},place:l})))},Nc=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),Sc=(e,t,n)=>{let r=null;const s=function(...a){const o=()=>{r=null};!r&&(e.apply(this,a),r=setTimeout(o,t))};return s.cancel=()=>{r&&(clearTimeout(r),r=null)},s},kc=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",No=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((s,a)=>No(s,t[a])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!kc(e)||!kc(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((s=>No(e[s],t[s])))},Yv=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"}))},Cc=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Yv(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Wv=typeof window<"u"?M.useLayoutEffect:M.useEffect,Kt=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Kv="DEFAULT_TOOLTIP_ID",Gv={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Xv=M.createContext({getTooltipData:()=>Gv});function Lh(e=Kv){return M.useContext(Xv).getTooltipData(e)}var Lr={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Ui={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Qv=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:s="dark",anchorId:a,anchorSelect:o,place:i="top",offset:c=10,events:d=["hover"],openOnClick:p=!1,positionStrategy:u="absolute",middlewares:l,wrapper:f,delayShow:m=0,delayHide:h=0,float:x=!1,hidden:g=!1,noArrow:y=!1,clickable:v=!1,closeOnEsc:T=!1,closeOnScroll:w=!1,closeOnResize:k=!1,openEvents:S,closeEvents:_,globalCloseEvents:A,imperativeModeOnly:N,style:O,position:D,afterShow:j,afterHide:$,disableTooltip:V,content:U,contentWrapperRef:z,isOpen:ne,defaultIsOpen:ce=!1,setIsOpen:ae,previousActiveAnchor:de,activeAnchor:me,setActiveAnchor:pe,border:Te,opacity:Ie,arrowColor:Ce,arrowSize:Ye=8,role:Me="tooltip"})=>{var st;const Ge=M.useRef(null),pt=M.useRef(null),tt=M.useRef(null),At=M.useRef(null),Nt=M.useRef(null),[St,Bt]=M.useState({tooltipStyles:{},tooltipArrowStyles:{},place:i}),[Xe,It]=M.useState(!1),[it,Ze]=M.useState(!1),[R,B]=M.useState(null),H=M.useRef(!1),re=M.useRef(null),{anchorRefs:J,setActiveAnchor:X}=Lh(t),oe=M.useRef(!1),[we,Oe]=M.useState([]),je=M.useRef(!1),vt=p||d.includes("click"),nt=vt||(S==null?void 0:S.click)||(S==null?void 0:S.dblclick)||(S==null?void 0:S.mousedown),zt=S?{...S}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!S&&vt&&Object.assign(zt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const K=_?{..._}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!_&&vt&&Object.assign(K,{mouseleave:!1,blur:!1,mouseout:!1});const se=A?{...A}:{escape:T||!1,scroll:w||!1,resize:k||!1,clickOutsideAnchor:nt||!1};N&&(Object.assign(zt,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(K,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(se,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Wv((()=>(je.current=!0,()=>{je.current=!1})),[]);const ie=te=>{je.current&&(te&&Ze(!0),setTimeout((()=>{je.current&&(ae==null||ae(te),ne===void 0&&It(te))}),10))};M.useEffect((()=>{if(t){if(Xe){ue(de);const he=te(me),De=[...new Set([...he,t])].filter(Boolean).join(" ");me==null||me.setAttribute("aria-describedby",De)}else ue(me);return()=>{ue(me),ue(de)}}function te(he){var De;return((De=he==null?void 0:he.getAttribute("aria-describedby"))===null||De===void 0?void 0:De.split(" "))||[]}function ue(he){const De=te(he).filter((dt=>dt!==t));De.length?he==null||he.setAttribute("aria-describedby",De.join(" ")):he==null||he.removeAttribute("aria-describedby")}}),[me,Xe,t,de]),M.useEffect((()=>{if(ne===void 0)return()=>null;ne&&Ze(!0);const te=setTimeout((()=>{It(ne)}),10);return()=>{clearTimeout(te)}}),[ne]),M.useEffect((()=>{if(Xe!==H.current)if(Kt(Nt),H.current=Xe,Xe)j==null||j();else{const te=(ue=>{const he=ue.match(/^([\d.]+)(ms|s)$/);if(!he)return 0;const[,De,dt]=he;return Number(De)*(dt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Nt.current=setTimeout((()=>{Ze(!1),B(null),$==null||$()}),te+25)}}),[Xe]);const Se=te=>{Bt((ue=>No(ue,te)?ue:te))},Ue=(te=m)=>{Kt(tt),it?ie(!0):tt.current=setTimeout((()=>{ie(!0)}),te)},_e=(te=h)=>{Kt(At),At.current=setTimeout((()=>{oe.current||ie(!1)}),te)},On=te=>{var ue;if(!te)return;const he=(ue=te.currentTarget)!==null&&ue!==void 0?ue:te.target;if(!(he!=null&&he.isConnected))return pe(null),void X({current:null});m?Ue():ie(!0),pe(he),X({current:he}),Kt(At)},dn=()=>{v?_e(h||100):h?_e():ie(!1),Kt(tt)},Zt=({x:te,y:ue})=>{var he;const De={getBoundingClientRect:()=>({x:te,y:ue,width:0,height:0,top:ue,left:te,right:te,bottom:ue})};Ac({place:(he=R==null?void 0:R.place)!==null&&he!==void 0?he:i,offset:c,elementReference:De,tooltipReference:Ge.current,tooltipArrowReference:pt.current,strategy:u,middlewares:l,border:Te,arrowSize:Ye}).then((dt=>{Se(dt)}))},In=te=>{if(!te)return;const ue=te,he={x:ue.clientX,y:ue.clientY};Zt(he),re.current=he},xe=te=>{var ue;if(!Xe)return;const he=te.target;he.isConnected&&(!((ue=Ge.current)===null||ue===void 0)&&ue.contains(he)||[document.querySelector(`[id='${a}']`),...we].some((De=>De==null?void 0:De.contains(he)))||(ie(!1),Kt(tt)))},rt=Sc(On,50),Re=Sc(dn,50),He=te=>{Re.cancel(),rt(te)},be=()=>{rt.cancel(),Re()},ye=M.useCallback((()=>{var te,ue;const he=(te=R==null?void 0:R.position)!==null&&te!==void 0?te:D;he?Zt(he):x?re.current&&Zt(re.current):me!=null&&me.isConnected&&Ac({place:(ue=R==null?void 0:R.place)!==null&&ue!==void 0?ue:i,offset:c,elementReference:me,tooltipReference:Ge.current,tooltipArrowReference:pt.current,strategy:u,middlewares:l,border:Te,arrowSize:Ye}).then((De=>{je.current&&Se(De)}))}),[Xe,me,U,O,i,R==null?void 0:R.place,c,u,D,R==null?void 0:R.position,x,Ye]);M.useEffect((()=>{var te,ue;const he=new Set(J);we.forEach(($e=>{V!=null&&V($e)||he.add({current:$e})}));const De=document.querySelector(`[id='${a}']`);De&&!(V!=null&&V(De))&&he.add({current:De});const dt=()=>{ie(!1)},fn=Cc(me),hn=Cc(Ge.current);se.scroll&&(window.addEventListener("scroll",dt),fn==null||fn.addEventListener("scroll",dt),hn==null||hn.addEventListener("scroll",dt));let kt=null;se.resize?window.addEventListener("resize",dt):me&&Ge.current&&(kt=jv(me,Ge.current,ye,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Wt=$e=>{$e.key==="Escape"&&ie(!1)};se.escape&&window.addEventListener("keydown",Wt),se.clickOutsideAnchor&&window.addEventListener("click",xe);const Je=[],Or=$e=>!!($e!=null&&$e.target&&(me!=null&&me.contains($e.target))),Km=$e=>{Xe&&Or($e)||On($e)},Gm=$e=>{Xe&&Or($e)&&dn()},nl=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],rl=["click","dblclick","mousedown","mouseup"];Object.entries(zt).forEach((([$e,Rn])=>{Rn&&(nl.includes($e)?Je.push({event:$e,listener:He}):rl.includes($e)&&Je.push({event:$e,listener:Km}))})),Object.entries(K).forEach((([$e,Rn])=>{Rn&&(nl.includes($e)?Je.push({event:$e,listener:be}):rl.includes($e)&&Je.push({event:$e,listener:Gm}))})),x&&Je.push({event:"pointermove",listener:In});const sl=()=>{oe.current=!0},al=()=>{oe.current=!1,dn()},il=v&&(K.mouseout||K.mouseleave);return il&&((te=Ge.current)===null||te===void 0||te.addEventListener("mouseover",sl),(ue=Ge.current)===null||ue===void 0||ue.addEventListener("mouseout",al)),Je.forEach((({event:$e,listener:Rn})=>{he.forEach((xi=>{var ns;(ns=xi.current)===null||ns===void 0||ns.addEventListener($e,Rn)}))})),()=>{var $e,Rn;se.scroll&&(window.removeEventListener("scroll",dt),fn==null||fn.removeEventListener("scroll",dt),hn==null||hn.removeEventListener("scroll",dt)),se.resize?window.removeEventListener("resize",dt):kt==null||kt(),se.clickOutsideAnchor&&window.removeEventListener("click",xe),se.escape&&window.removeEventListener("keydown",Wt),il&&(($e=Ge.current)===null||$e===void 0||$e.removeEventListener("mouseover",sl),(Rn=Ge.current)===null||Rn===void 0||Rn.removeEventListener("mouseout",al)),Je.forEach((({event:xi,listener:ns})=>{he.forEach((Xm=>{var vi;(vi=Xm.current)===null||vi===void 0||vi.removeEventListener(xi,ns)}))}))}}),[me,ye,it,J,we,S,_,A,vt,m,h]),M.useEffect((()=>{var te,ue;let he=(ue=(te=R==null?void 0:R.anchorSelect)!==null&&te!==void 0?te:o)!==null&&ue!==void 0?ue:"";!he&&t&&(he=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const De=new MutationObserver((dt=>{const fn=[],hn=[];dt.forEach((kt=>{if(kt.type==="attributes"&&kt.attributeName==="data-tooltip-id"&&(kt.target.getAttribute("data-tooltip-id")===t?fn.push(kt.target):kt.oldValue===t&&hn.push(kt.target)),kt.type==="childList"){if(me){const Wt=[...kt.removedNodes].filter((Je=>Je.nodeType===1));if(he)try{hn.push(...Wt.filter((Je=>Je.matches(he)))),hn.push(...Wt.flatMap((Je=>[...Je.querySelectorAll(he)])))}catch{}Wt.some((Je=>{var Or;return!!(!((Or=Je==null?void 0:Je.contains)===null||Or===void 0)&&Or.call(Je,me))&&(Ze(!1),ie(!1),pe(null),Kt(tt),Kt(At),!0)}))}if(he)try{const Wt=[...kt.addedNodes].filter((Je=>Je.nodeType===1));fn.push(...Wt.filter((Je=>Je.matches(he)))),fn.push(...Wt.flatMap((Je=>[...Je.querySelectorAll(he)])))}catch{}}})),(fn.length||hn.length)&&Oe((kt=>[...kt.filter((Wt=>!hn.includes(Wt))),...fn]))}));return De.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{De.disconnect()}}),[t,o,R==null?void 0:R.anchorSelect,me]),M.useEffect((()=>{ye()}),[ye]),M.useEffect((()=>{if(!(z!=null&&z.current))return()=>null;const te=new ResizeObserver((()=>{setTimeout((()=>ye()))}));return te.observe(z.current),()=>{te.disconnect()}}),[U,z==null?void 0:z.current]),M.useEffect((()=>{var te;const ue=document.querySelector(`[id='${a}']`),he=[...we,ue];me&&he.includes(me)||pe((te=we[0])!==null&&te!==void 0?te:ue)}),[a,we,me]),M.useEffect((()=>(ce&&ie(!0),()=>{Kt(tt),Kt(At)})),[]),M.useEffect((()=>{var te;let ue=(te=R==null?void 0:R.anchorSelect)!==null&&te!==void 0?te:o;if(!ue&&t&&(ue=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ue)try{const he=Array.from(document.querySelectorAll(ue));Oe(he)}catch{Oe([])}}),[t,o,R==null?void 0:R.anchorSelect]),M.useEffect((()=>{tt.current&&(Kt(tt),Ue(m))}),[m]);const We=(st=R==null?void 0:R.content)!==null&&st!==void 0?st:U,Yt=Xe&&Object.keys(St.tooltipStyles).length>0;return M.useImperativeHandle(e,(()=>({open:te=>{if(te!=null&&te.anchorSelect)try{document.querySelector(te.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${te.anchorSelect}" is not a valid CSS selector`)}B(te??null),te!=null&&te.delay?Ue(te.delay):ie(!0)},close:te=>{te!=null&&te.delay?_e(te.delay):ie(!1)},activeAnchor:me,place:St.place,isOpen:!!(it&&!g&&We&&Yt)}))),it&&!g&&We?Y.createElement(f,{id:t,role:Me,className:Ao("react-tooltip",Lr.tooltip,Ui.tooltip,Ui[s],n,`react-tooltip__place-${St.place}`,Lr[Yt?"show":"closing"],Yt?"react-tooltip__show":"react-tooltip__closing",u==="fixed"&&Lr.fixed,v&&Lr.clickable),onTransitionEnd:te=>{Kt(Nt),Xe||te.propertyName!=="opacity"||(Ze(!1),B(null),$==null||$())},style:{...O,...St.tooltipStyles,opacity:Ie!==void 0&&Yt?Ie:void 0},ref:Ge},We,Y.createElement(f,{className:Ao("react-tooltip-arrow",Lr.arrow,Ui.arrow,r,y&&Lr.noArrow),style:{...St.tooltipArrowStyles,background:Ce?`linear-gradient(to right bottom, transparent 50%, ${Ce} 50%)`:void 0,"--rt-arrow-size":`${Ye}px`},ref:pt})):null},Zv=({content:e})=>Y.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Jv=Y.forwardRef((({id:e,anchorId:t,anchorSelect:n,content:r,html:s,render:a,className:o,classNameArrow:i,variant:c="dark",place:d="top",offset:p=10,wrapper:u="div",children:l=null,events:f=["hover"],openOnClick:m=!1,positionStrategy:h="absolute",middlewares:x,delayShow:g=0,delayHide:y=0,float:v=!1,hidden:T=!1,noArrow:w=!1,clickable:k=!1,closeOnEsc:S=!1,closeOnScroll:_=!1,closeOnResize:A=!1,openEvents:N,closeEvents:O,globalCloseEvents:D,imperativeModeOnly:j=!1,style:$,position:V,isOpen:U,defaultIsOpen:z=!1,disableStyleInjection:ne=!1,border:ce,opacity:ae,arrowColor:de,arrowSize:me,setIsOpen:pe,afterShow:Te,afterHide:Ie,disableTooltip:Ce,role:Ye="tooltip"},Me)=>{const[st,Ge]=M.useState(r),[pt,tt]=M.useState(s),[At,Nt]=M.useState(d),[St,Bt]=M.useState(c),[Xe,It]=M.useState(p),[it,Ze]=M.useState(g),[R,B]=M.useState(y),[H,re]=M.useState(v),[J,X]=M.useState(T),[oe,we]=M.useState(u),[Oe,je]=M.useState(f),[vt,nt]=M.useState(h),[zt,K]=M.useState(null),[se,ie]=M.useState(null),Se=M.useRef(null),Ue=M.useRef(ne),{anchorRefs:_e,activeAnchor:On}=Lh(e),dn=Re=>Re==null?void 0:Re.getAttributeNames().reduce(((He,be)=>{var ye;return be.startsWith("data-tooltip-")&&(He[be.replace(/^data-tooltip-/,"")]=(ye=Re==null?void 0:Re.getAttribute(be))!==null&&ye!==void 0?ye:null),He}),{}),Zt=Re=>{const He={place:be=>{var ye;Nt((ye=be)!==null&&ye!==void 0?ye:d)},content:be=>{Ge(be??r)},html:be=>{tt(be??s)},variant:be=>{var ye;Bt((ye=be)!==null&&ye!==void 0?ye:c)},offset:be=>{It(be===null?p:Number(be))},wrapper:be=>{var ye;we((ye=be)!==null&&ye!==void 0?ye:u)},events:be=>{const ye=be==null?void 0:be.split(" ");je(ye??f)},"position-strategy":be=>{var ye;nt((ye=be)!==null&&ye!==void 0?ye:h)},"delay-show":be=>{Ze(be===null?g:Number(be))},"delay-hide":be=>{B(be===null?y:Number(be))},float:be=>{re(be===null?v:be==="true")},hidden:be=>{X(be===null?T:be==="true")},"class-name":be=>{K(be)}};Object.values(He).forEach((be=>be(null))),Object.entries(Re).forEach((([be,ye])=>{var We;(We=He[be])===null||We===void 0||We.call(He,ye)}))};M.useEffect((()=>{Ge(r)}),[r]),M.useEffect((()=>{tt(s)}),[s]),M.useEffect((()=>{Nt(d)}),[d]),M.useEffect((()=>{Bt(c)}),[c]),M.useEffect((()=>{It(p)}),[p]),M.useEffect((()=>{Ze(g)}),[g]),M.useEffect((()=>{B(y)}),[y]),M.useEffect((()=>{re(v)}),[v]),M.useEffect((()=>{X(T)}),[T]),M.useEffect((()=>{nt(h)}),[h]),M.useEffect((()=>{Ue.current!==ne&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[ne]),M.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ne==="core",disableBase:ne}}))}),[]),M.useEffect((()=>{var Re;const He=new Set(_e);let be=n;if(!be&&e&&(be=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),be)try{document.querySelectorAll(be).forEach((ue=>{He.add({current:ue})}))}catch{console.warn(`[react-tooltip] "${be}" is not a valid CSS selector`)}const ye=document.querySelector(`[id='${t}']`);if(ye&&He.add({current:ye}),!He.size)return()=>null;const We=(Re=se??ye)!==null&&Re!==void 0?Re:On.current,Yt=new MutationObserver((ue=>{ue.forEach((he=>{var De;if(!We||he.type!=="attributes"||!(!((De=he.attributeName)===null||De===void 0)&&De.startsWith("data-tooltip-")))return;const dt=dn(We);Zt(dt)}))})),te={attributes:!0,childList:!1,subtree:!1};if(We){const ue=dn(We);Zt(ue),Yt.observe(We,te)}return()=>{Yt.disconnect()}}),[_e,On,se,t,n]),M.useEffect((()=>{$!=null&&$.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ce&&!Nc("border",`${ce}`)&&console.warn(`[react-tooltip] "${ce}" is not a valid \`border\`.`),$!=null&&$.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),ae&&!Nc("opacity",`${ae}`)&&console.warn(`[react-tooltip] "${ae}" is not a valid \`opacity\`.`)}),[]);let In=l;const xe=M.useRef(null);if(a){const Re=a({content:(se==null?void 0:se.getAttribute("data-tooltip-content"))||st||null,activeAnchor:se});In=Re?Y.createElement("div",{ref:xe,className:"react-tooltip-content-wrapper"},Re):null}else st&&(In=st);pt&&(In=Y.createElement(Zv,{content:pt}));const rt={forwardRef:Me,id:e,anchorId:t,anchorSelect:n,className:Ao(o,zt),classNameArrow:i,content:In,contentWrapperRef:xe,place:At,variant:St,offset:Xe,wrapper:oe,events:Oe,openOnClick:m,positionStrategy:vt,middlewares:x,delayShow:it,delayHide:R,float:H,hidden:J,noArrow:w,clickable:k,closeOnEsc:S,closeOnScroll:_,closeOnResize:A,openEvents:N,closeEvents:O,globalCloseEvents:D,imperativeModeOnly:j,style:$,position:V,isOpen:U,defaultIsOpen:z,border:ce,opacity:ae,arrowColor:de,arrowSize:me,setIsOpen:pe,afterShow:Te,afterHide:Ie,disableTooltip:Ce,activeAnchor:se,previousActiveAnchor:Se.current,setActiveAnchor:Re=>{ie((He=>(Re!=null&&Re.isSameNode(He)||(Se.current=He),Re)))},role:Ye};return Y.createElement(Qv,{...rt})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||wc({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||wc({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));function e_({group:e}){const t=n=>n.listings.reduce((r,s)=>r+s.amount,0);return E.jsxs("div",{children:[e.sellerBalance!==void 0&&e.sellerBalance!==null&&e.sellerBalance<t(e)?e.sellerBalance===0?E.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30","data-tooltip-id":"fulfillability-tooltip","data-tooltip-content":"The listing is active but the seller doesn't have any token to sell.","data-tooltip-place":"bottom",children:"Unfulfillable"}):E.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-500/20 text-amber-400 border border-amber-500/30","data-tooltip-id":"fulfillability-tooltip","data-tooltip-content":"The listing is active but the seller doesn't have enough tokens to sell.","data-tooltip-place":"bottom",children:["Partially fulfillable (",e.sellerBalance," available)"]}):null,E.jsx(Jv,{id:"fulfillability-tooltip"})]})}function t_({price:e,amount:t,ethPrice:n,children:r}){const s=n?(parseFloat(e)*n).toFixed(2):null;return E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"w-full flex justify-around py-3",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Price"}),E.jsxs("p",{className:"text-2xl font-semibold text-white",children:[e," ",E.jsx("span",{className:"text-ink-400 text-lg",children:"ETH"})]}),s&&E.jsxs("p",{className:"text-sm text-ink-500 mt-0.5",children:["$",s]})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Amount"}),E.jsx("p",{className:"text-2xl font-semibold text-white",children:t})]})]}),r]})}function n_({isConnected:e,id:t,listingGroups:n,walletAddress:r,onUpdate:s,showOnlyOthers:a=!1,ethPrice:o=null}){const i=M.useMemo(()=>n?n.filter(c=>{var d;return!a||((d=c.seller)==null?void 0:d.toLowerCase())!==(r==null?void 0:r.toLowerCase())}):null,[n,a,r]);return E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Marketplace"}),i!==null?i.length>0?E.jsx("div",{className:"space-y-4",children:i.map((c,d)=>E.jsxs("div",{className:"bg-ink-800/50 rounded-xl p-4 border border-ink-700",children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide",children:"Seller"}),E.jsx("p",{className:"font-mono text-sm text-ink-200",children:E.jsx(Xn,{address:c.seller,shorten:!0,nChar:8})})]}),E.jsx(e_,{group:c}),E.jsx("div",{className:"space-y-3 mt-4",children:c.listings.map(p=>E.jsx("div",{className:"border-t border-ink-700 pt-3 first:border-t-0 first:pt-0",children:E.jsx(t_,{price:p.price,amount:p.amount,ethPrice:o,children:e?E.jsx(Kx,{nftId:t,listingId:p.id,price:p.price,maxAmount:p.amount,sellerBalance:c.sellerBalance,onUpdate:s}):E.jsx("button",{className:"px-4 py-2 bg-ink-700 text-ink-400 rounded-lg cursor-not-allowed text-sm",disabled:!0,children:"Connect wallet to buy"})})},p.id))})]},"group"+d))}):E.jsx("p",{className:"text-ink-500 text-center py-8",children:"No listings available"}):E.jsx(Ut,{height:120,className:"rounded-xl",baseColor:"#27272a",highlightColor:"#3f3f46"})]})}const r_={to:"",amount:1};function s_({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s}){const{register:a,formState:{isDirty:o,isValid:i,errors:c},handleSubmit:d,watch:p}=qs({defaultValues:r_,mode:"onChange",resolver:Vs(Un.transfer)}),u=p("amount"),l=f=>{f&&n(f.to,f.amount),t(!1)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>l(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Gift NFT"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Balance"}),E.jsx("span",{className:"text-white font-mono",children:r})]}),r!==s&&E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-ink-400",children:"Available (not listed)"}),E.jsx("span",{className:"text-white font-mono",children:s})]}),E.jsx(sn,{label:"Amount",name:"amount",type:"number",step:"1",min:"1",errors:c,register:a}),E.jsx(sn,{label:"Recipient Address",name:"to",type:"string",errors:c,register:a,placeholder:"0x... or ENS name"}),u>s&&u<=r&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Warning:"})," You only have"," ",s," free token",s===1?"":"s",". This will use ",u-s," ","token",u-s===1?"":"s"," ","from listings."]})}),u>r&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," Cannot gift more than you own (",r,")."]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>l(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!i&&o||u>r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!i&&o||u>r,onClick:d(l),children:"Gift"})]})]})]}):null}function a_({id:e,walletAddress:t,balance:n,availableAmount:r,onUpdate:s,secondary:a=!1}){const o=Pe.contractAddresses.v1.zang,i=Le.zang,{isConnected:c}=qt(),{writeContractAsync:d}=ar(),p=or(),[u,l]=M.useState(!1),[f,m]=ht(Qt),h=async(x,g)=>{if(x===null){m("Please enter a valid address.");return}if(g===null){m("Please enter an amount.");return}if(!e){m("Could not determine the ID of the NFT.");return}if(!c){m("Please connect a wallet.");return}if(m(null),x.includes(".eth"))try{const T=await du.getEnsAddress({name:zd(x)});if(!T){m("Could not resolve ENS name.");return}x=T}catch(T){m("ENS resolution failed: "+T.message);return}const y=async()=>await d({address:o,abi:i,functionName:"safeTransferFrom",args:[t,x,BigInt(e),BigInt(g),"0x"],...Tn()}),{success:v}=await p(y,`Transfer NFT #${e}`);v&&s&&s(e)};return E.jsxs(M.Fragment,{children:[E.jsx("button",{className:a?"w-full mt-2 py-2 text-sm text-ink-400 hover:text-white transition-colors":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>l(!0),children:a?"or transfer to someone":"Gift"}),E.jsx(s_,{isOpen:u,setIsOpen:l,onClose:h,balance:n,availableAmount:r})]})}const i_={"text/plain":{label:"TXT",bg:"bg-type-plain/10",border:"border-type-plain/30",text:"text-type-plain",icon:""},"text/markdown":{label:"MD",bg:"bg-type-markdown/10",border:"border-type-markdown/30",text:"text-type-markdown",icon:"#"},"text/html":{label:"HTML",bg:"bg-type-html/10",border:"border-type-html/30",text:"text-type-html",icon:"<>"}};function o_({type:e,isUri:t}){if(!e)return null;t&&(e=e.split(",")[0].split(":")[1]);const n=i_[e];return n?E.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-mono ${n.bg} ${n.border} ${n.text} border`,children:[E.jsx("span",{className:"opacity-60",children:n.icon}),n.label]}):E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-mono bg-red-500/10 border-red-500/30 text-red-400 border",children:[E.jsx("span",{className:"opacity-60",children:"?"}),"unknown"]})}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var jr=9e15,ur=1e9,So="0123456789abcdef",Ha="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$a="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ko={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-jr,maxE:jr,crypto:!1},Dh,Mn,ve=!0,fi="[DecimalError] ",tr=fi+"Invalid argument: ",Ph=fi+"Precision limit exceeded",Mh=fi+"crypto unavailable",jh="[object Decimal]",_t=Math.floor,ft=Math.pow,u_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,l_=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,c_=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Bh=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an=1e7,Ee=7,d_=9007199254740991,f_=Ha.length-1,Co=$a.length-1,W={toStringTag:jh};W.absoluteValue=W.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ge(e)};W.ceil=function(){return ge(new this.constructor(this),this.e+1,2)};W.clampedTo=W.clamp=function(e,t){var n,r=this,s=r.constructor;if(e=new s(e),t=new s(t),!e.s||!t.s)return new s(NaN);if(e.gt(t))throw Error(tr+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new s(r)};W.comparedTo=W.cmp=function(e){var t,n,r,s,a=this,o=a.d,i=(e=new a.constructor(e)).d,c=a.s,d=e.s;if(!o||!i)return!c||!d?NaN:c!==d?c:o===i?0:!o^c<0?1:-1;if(!o[0]||!i[0])return o[0]?c:i[0]?-d:0;if(c!==d)return c;if(a.e!==e.e)return a.e>e.e^c<0?1:-1;for(r=o.length,s=i.length,t=0,n=r<s?r:s;t<n;++t)if(o[t]!==i[t])return o[t]>i[t]^c<0?1:-1;return r===s?0:r>s^c<0?1:-1};W.cosine=W.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ee,r.rounding=1,n=h_(r,qh(r,n)),r.precision=e,r.rounding=t,ge(Mn==2||Mn==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};W.cubeRoot=W.cbrt=function(){var e,t,n,r,s,a,o,i,c,d,p=this,u=p.constructor;if(!p.isFinite()||p.isZero())return new u(p);for(ve=!1,a=p.s*ft(p.s*p,1/3),!a||Math.abs(a)==1/0?(n=xt(p.d),e=p.e,(a=(e-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=ft(n,1/3),e=_t((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?n="5e"+e:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new u(n),r.s=p.s):r=new u(a.toString()),o=(e=u.precision)+3;;)if(i=r,c=i.times(i).times(i),d=c.plus(p),r=ze(d.plus(p).times(i),d.plus(c),o+2,1),xt(i.d).slice(0,o)===(n=xt(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!s&&n=="4999"){if(!s&&(ge(i,e+1,0),i.times(i).times(i).eq(p))){r=i;break}o+=4,s=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(ge(r,e+1,1),t=!r.times(r).times(r).eq(p));break}return ve=!0,ge(r,e,u.rounding,t)};W.decimalPlaces=W.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-_t(this.e/Ee))*Ee,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};W.dividedBy=W.div=function(e){return ze(this,new this.constructor(e))};W.dividedToIntegerBy=W.divToInt=function(e){var t=this,n=t.constructor;return ge(ze(t,new n(e),0,1,1),n.precision,n.rounding)};W.equals=W.eq=function(e){return this.cmp(e)===0};W.floor=function(){return ge(new this.constructor(this),this.e+1,3)};W.greaterThan=W.gt=function(e){return this.cmp(e)>0};W.greaterThanOrEqualTo=W.gte=function(e){var t=this.cmp(e);return t==1||t===0};W.hyperbolicCosine=W.cosh=function(){var e,t,n,r,s,a=this,o=a.constructor,i=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return i;n=o.precision,r=o.rounding,o.precision=n+Math.max(a.e,a.sd())+4,o.rounding=1,s=a.d.length,s<32?(e=Math.ceil(s/3),t=(1/mi(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=Gr(o,1,a.times(t),new o(1),!0);for(var c,d=e,p=new o(8);d--;)c=a.times(a),a=i.minus(c.times(p.minus(c.times(p))));return ge(a,o.precision=n,o.rounding=r,!0)};W.hyperbolicSine=W.sinh=function(){var e,t,n,r,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(s.e,s.sd())+4,a.rounding=1,r=s.d.length,r<3)s=Gr(a,2,s,s,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,s=s.times(1/mi(5,e)),s=Gr(a,2,s,s,!0);for(var o,i=new a(5),c=new a(16),d=new a(20);e--;)o=s.times(s),s=s.times(i.plus(o.times(c.times(o).plus(d))))}return a.precision=t,a.rounding=n,ge(s,t,n,!0)};W.hyperbolicTangent=W.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,ze(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};W.inverseCosine=W.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,s=t.rounding;return n!==-1?n===0?e.isNeg()?xn(t,r,s):new t(0):new t(NaN):e.isZero()?xn(t,r+4,s).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=s,e.times(2))};W.inverseHyperbolicCosine=W.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,ve=!1,n=n.times(n).minus(1).sqrt().plus(n),ve=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};W.inverseHyperbolicSine=W.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,ve=!1,n=n.times(n).plus(1).sqrt().plus(n),ve=!0,r.precision=e,r.rounding=t,n.ln())};W.inverseHyperbolicTangent=W.atanh=function(){var e,t,n,r,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(e=a.precision,t=a.rounding,r=s.sd(),Math.max(r,e)<2*-s.e-1?ge(new a(s),e,t,!0):(a.precision=n=r-s.e,s=ze(s.plus(1),new a(1).minus(s),n+e,1),a.precision=e+4,a.rounding=1,s=s.ln(),a.precision=e,a.rounding=t,s.times(.5))):new a(NaN)};W.inverseSine=W.asin=function(){var e,t,n,r,s=this,a=s.constructor;return s.isZero()?new a(s):(t=s.abs().cmp(1),n=a.precision,r=a.rounding,t!==-1?t===0?(e=xn(a,n+4,r).times(.5),e.s=s.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,s.times(2)))};W.inverseTangent=W.atan=function(){var e,t,n,r,s,a,o,i,c,d=this,p=d.constructor,u=p.precision,l=p.rounding;if(d.isFinite()){if(d.isZero())return new p(d);if(d.abs().eq(1)&&u+4<=Co)return o=xn(p,u+4,l).times(.25),o.s=d.s,o}else{if(!d.s)return new p(NaN);if(u+4<=Co)return o=xn(p,u+4,l).times(.5),o.s=d.s,o}for(p.precision=i=u+10,p.rounding=1,n=Math.min(28,i/Ee+2|0),e=n;e;--e)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(ve=!1,t=Math.ceil(i/Ee),r=1,c=d.times(d),o=new p(d),s=d;e!==-1;)if(s=s.times(c),a=o.minus(s.div(r+=2)),s=s.times(c),o=a.plus(s.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===a.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),ve=!0,ge(o,p.precision=u,p.rounding=l,!0)};W.isFinite=function(){return!!this.d};W.isInteger=W.isInt=function(){return!!this.d&&_t(this.e/Ee)>this.d.length-2};W.isNaN=function(){return!this.s};W.isNegative=W.isNeg=function(){return this.s<0};W.isPositive=W.isPos=function(){return this.s>0};W.isZero=function(){return!!this.d&&this.d[0]===0};W.lessThan=W.lt=function(e){return this.cmp(e)<0};W.lessThanOrEqualTo=W.lte=function(e){return this.cmp(e)<1};W.logarithm=W.log=function(e){var t,n,r,s,a,o,i,c,d=this,p=d.constructor,u=p.precision,l=p.rounding,f=5;if(e==null)e=new p(10),t=!0;else{if(e=new p(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new p(NaN);t=e.eq(10)}if(n=d.d,d.s<0||!n||!n[0]||d.eq(1))return new p(n&&!n[0]?-1/0:d.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(s=n[0];s%10===0;)s/=10;a=s!==1}if(ve=!1,i=u+f,o=Zn(d,i),r=t?qa(p,i+10):Zn(e,i),c=ze(o,r,i,1),Ss(c.d,s=u,l))do if(i+=10,o=Zn(d,i),r=t?qa(p,i+10):Zn(e,i),c=ze(o,r,i,1),!a){+xt(c.d).slice(s+1,s+15)+1==1e14&&(c=ge(c,u+1,0));break}while(Ss(c.d,s+=10,l));return ve=!0,ge(c,u,l)};W.minus=W.sub=function(e){var t,n,r,s,a,o,i,c,d,p,u,l,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return!f.s||!e.s?e=new m(NaN):f.d?e.s=-e.s:e=new m(e.d||f.s!==e.s?f:NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(d=f.d,l=e.d,i=m.precision,c=m.rounding,!d[0]||!l[0]){if(l[0])e.s=-e.s;else if(d[0])e=new m(f);else return new m(c===3?-0:0);return ve?ge(e,i,c):e}if(n=_t(e.e/Ee),p=_t(f.e/Ee),d=d.slice(),a=p-n,a){for(u=a<0,u?(t=d,a=-a,o=l.length):(t=l,n=p,o=d.length),r=Math.max(Math.ceil(i/Ee),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=d.length,o=l.length,u=r<o,u&&(o=r),r=0;r<o;r++)if(d[r]!=l[r]){u=d[r]<l[r];break}a=0}for(u&&(t=d,d=l,l=t,e.s=-e.s),o=d.length,r=l.length-o;r>0;--r)d[o++]=0;for(r=l.length;r>a;){if(d[--r]<l[r]){for(s=r;s&&d[--s]===0;)d[s]=an-1;--d[s],d[r]+=an}d[r]-=l[r]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=hi(d,n),ve?ge(e,i,c):e):new m(c===3?-0:0)};W.modulo=W.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?ge(new r(n),r.precision,r.rounding):(ve=!1,r.modulo==9?(t=ze(n,e.abs(),0,3,1),t.s*=e.s):t=ze(n,e,0,r.modulo,1),t=t.times(e),ve=!0,n.minus(t))};W.naturalExponential=W.exp=function(){return Oo(this)};W.naturalLogarithm=W.ln=function(){return Zn(this)};W.negated=W.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ge(e)};W.plus=W.add=function(e){var t,n,r,s,a,o,i,c,d,p,u=this,l=u.constructor;if(e=new l(e),!u.d||!e.d)return!u.s||!e.s?e=new l(NaN):u.d||(e=new l(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(d=u.d,p=e.d,i=l.precision,c=l.rounding,!d[0]||!p[0])return p[0]||(e=new l(u)),ve?ge(e,i,c):e;if(a=_t(u.e/Ee),r=_t(e.e/Ee),d=d.slice(),s=a-r,s){for(s<0?(n=d,s=-s,o=p.length):(n=p,r=a,o=d.length),a=Math.ceil(i/Ee),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=d.length,s=p.length,o-s<0&&(s=o,n=p,p=d,d=n),t=0;s;)t=(d[--s]=d[s]+p[s]+t)/an|0,d[s]%=an;for(t&&(d.unshift(t),++r),o=d.length;d[--o]==0;)d.pop();return e.d=d,e.e=hi(d,r),ve?ge(e,i,c):e};W.precision=W.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tr+e);return n.d?(t=Fh(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};W.round=function(){var e=this,t=e.constructor;return ge(new t(e),e.e+1,t.rounding)};W.sine=W.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ee,r.rounding=1,n=p_(r,qh(r,n)),r.precision=e,r.rounding=t,ge(Mn>2?n.neg():n,e,t,!0)):new r(NaN)};W.squareRoot=W.sqrt=function(){var e,t,n,r,s,a,o=this,i=o.d,c=o.e,d=o.s,p=o.constructor;if(d!==1||!i||!i[0])return new p(!d||d<0&&(!i||i[0])?NaN:i?o:1/0);for(ve=!1,d=Math.sqrt(+o),d==0||d==1/0?(t=xt(i),(t.length+c)%2==0&&(t+="0"),d=Math.sqrt(t),c=_t((c+1)/2)-(c<0||c%2),d==1/0?t="5e"+c:(t=d.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new p(t)):r=new p(d.toString()),n=(c=p.precision)+3;;)if(a=r,r=a.plus(ze(o,a,n+2,1)).times(.5),xt(a.d).slice(0,n)===(t=xt(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!s&&t=="4999"){if(!s&&(ge(a,c+1,0),a.times(a).eq(o))){r=a;break}n+=4,s=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ge(r,c+1,1),e=!r.times(r).eq(o));break}return ve=!0,ge(r,c,p.rounding,e)};W.tangent=W.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=ze(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,ge(Mn==2||Mn==4?n.neg():n,e,t,!0)):new r(NaN)};W.times=W.mul=function(e){var t,n,r,s,a,o,i,c,d,p=this,u=p.constructor,l=p.d,f=(e=new u(e)).d;if(e.s*=p.s,!l||!l[0]||!f||!f[0])return new u(!e.s||l&&!l[0]&&!f||f&&!f[0]&&!l?NaN:!l||!f?e.s/0:e.s*0);for(n=_t(p.e/Ee)+_t(e.e/Ee),c=l.length,d=f.length,c<d&&(a=l,l=f,f=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,s=c+r;s>r;)i=a[s]+f[r]*l[s-r-1]+t,a[s--]=i%an|0,t=i/an|0;a[s]=(a[s]+t)%an|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=hi(a,n),ve?ge(e,u.precision,u.rounding):e};W.toBinary=function(e,t){return $u(this,2,e,t)};W.toDecimalPlaces=W.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Mt(e,0,ur),t===void 0?t=r.rounding:Mt(t,0,8),ge(n,e+n.e+1,t))};W.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=kn(r,!0):(Mt(e,0,ur),t===void 0?t=s.rounding:Mt(t,0,8),r=ge(new s(r),e+1,t),n=kn(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};W.toFixed=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?n=kn(s):(Mt(e,0,ur),t===void 0?t=a.rounding:Mt(t,0,8),r=ge(new a(s),e+s.e+1,t),n=kn(r,!1,e+r.e+1)),s.isNeg()&&!s.isZero()?"-"+n:n};W.toFraction=function(e){var t,n,r,s,a,o,i,c,d,p,u,l,f=this,m=f.d,h=f.constructor;if(!m)return new h(f);if(d=n=new h(1),r=c=new h(0),t=new h(r),a=t.e=Fh(m)-f.e-1,o=a%Ee,t.d[0]=ft(10,o<0?Ee+o:o),e==null)e=a>0?t:d;else{if(i=new h(e),!i.isInt()||i.lt(d))throw Error(tr+i);e=i.gt(t)?a>0?t:d:i}for(ve=!1,i=new h(xt(m)),p=h.precision,h.precision=a=m.length*Ee*2;u=ze(i,t,0,1,1),s=n.plus(u.times(r)),s.cmp(e)!=1;)n=r,r=s,s=d,d=c.plus(u.times(s)),c=s,s=t,t=i.minus(u.times(s)),i=s;return s=ze(e.minus(n),r,0,1,1),c=c.plus(s.times(d)),n=n.plus(s.times(r)),c.s=d.s=f.s,l=ze(d,r,a,1).minus(f).abs().cmp(ze(c,n,a,1).minus(f).abs())<1?[d,r]:[c,n],h.precision=p,ve=!0,l};W.toHexadecimal=W.toHex=function(e,t){return $u(this,16,e,t)};W.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:Mt(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ve=!1,n=ze(n,e,0,t,1).times(e),ve=!0,ge(n)):(e.s=n.s,n=e),n};W.toNumber=function(){return+this};W.toOctal=function(e,t){return $u(this,8,e,t)};W.toPower=W.pow=function(e){var t,n,r,s,a,o,i=this,c=i.constructor,d=+(e=new c(e));if(!i.d||!e.d||!i.d[0]||!e.d[0])return new c(ft(+i,d));if(i=new c(i),i.eq(1))return i;if(r=c.precision,a=c.rounding,e.eq(1))return ge(i,r,a);if(t=_t(e.e/Ee),t>=e.d.length-1&&(n=d<0?-d:d)<=d_)return s=Uh(c,i,n,r),e.s<0?new c(1).div(s):ge(s,r,a);if(o=i.s,o<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(o=1),i.e==0&&i.d[0]==1&&i.d.length==1)return i.s=o,i}return n=ft(+i,d),t=n==0||!isFinite(n)?_t(d*(Math.log("0."+xt(i.d))/Math.LN10+i.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(ve=!1,c.rounding=i.s=1,n=Math.min(12,(t+"").length),s=Oo(e.times(Zn(i,r+n)),r),s.d&&(s=ge(s,r+5,1),Ss(s.d,r,a)&&(t=r+10,s=ge(Oo(e.times(Zn(i,t+n)),t),t+5,1),+xt(s.d).slice(r+1,r+15)+1==1e14&&(s=ge(s,r+1,0)))),s.s=o,ve=!0,c.rounding=a,ge(s,r,a))};W.toPrecision=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=kn(r,r.e<=s.toExpNeg||r.e>=s.toExpPos):(Mt(e,1,ur),t===void 0?t=s.rounding:Mt(t,0,8),r=ge(new s(r),e,t),n=kn(r,e<=r.e||r.e<=s.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};W.toSignificantDigits=W.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Mt(e,1,ur),t===void 0?t=r.rounding:Mt(t,0,8)),ge(new r(n),e,t)};W.toString=function(){var e=this,t=e.constructor,n=kn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};W.truncated=W.trunc=function(){return ge(new this.constructor(this),this.e+1,1)};W.valueOf=W.toJSON=function(){var e=this,t=e.constructor,n=kn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function xt(e){var t,n,r,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)r=e[t]+"",n=Ee-r.length,n&&(a+=Yn(n)),a+=r;o=e[t],r=o+"",n=Ee-r.length,n&&(a+=Yn(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Mt(e,t,n){if(e!==~~e||e<t||e>n)throw Error(tr+e)}function Ss(e,t,n,r){var s,a,o,i;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=Ee,s=0):(s=Math.ceil((t+1)/Ee),t%=Ee),a=ft(10,Ee-t),i=e[s]%a|0,r==null?t<3?(t==0?i=i/100|0:t==1&&(i=i/10|0),o=n<4&&i==99999||n>3&&i==49999||i==5e4||i==0):o=(n<4&&i+1==a||n>3&&i+1==a/2)&&(e[s+1]/a/100|0)==ft(10,t-2)-1||(i==a/2||i==0)&&(e[s+1]/a/100|0)==0:t<4?(t==0?i=i/1e3|0:t==1?i=i/100|0:t==2&&(i=i/10|0),o=(r||n<4)&&i==9999||!r&&n>3&&i==4999):o=((r||n<4)&&i+1==a||!r&&n>3&&i+1==a/2)&&(e[s+1]/a/1e3|0)==ft(10,t-3)-1,o}function Aa(e,t,n){for(var r,s=[0],a,o=0,i=e.length;o<i;){for(a=s.length;a--;)s[a]*=t;for(s[0]+=So.indexOf(e.charAt(o++)),r=0;r<s.length;r++)s[r]>n-1&&(s[r+1]===void 0&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}function h_(e,t){var n,r,s;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),s=(1/mi(4,n)).toString()):(n=16,s="2.3283064365386962890625e-10"),e.precision+=n,t=Gr(e,1,t.times(s),new e(1));for(var a=n;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var ze=(function(){function e(r,s,a){var o,i=0,c=r.length;for(r=r.slice();c--;)o=r[c]*s+i,r[c]=o%a|0,i=o/a|0;return i&&r.unshift(i),r}function t(r,s,a,o){var i,c;if(a!=o)c=a>o?1:-1;else for(i=c=0;i<a;i++)if(r[i]!=s[i]){c=r[i]>s[i]?1:-1;break}return c}function n(r,s,a,o){for(var i=0;a--;)r[a]-=i,i=r[a]<s[a]?1:0,r[a]=i*o+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o,i,c){var d,p,u,l,f,m,h,x,g,y,v,T,w,k,S,_,A,N,O,D,j=r.constructor,$=r.s==s.s?1:-1,V=r.d,U=s.d;if(!V||!V[0]||!U||!U[0])return new j(!r.s||!s.s||(V?U&&V[0]==U[0]:!U)?NaN:V&&V[0]==0||!U?$*0:$/0);for(c?(f=1,p=r.e-s.e):(c=an,f=Ee,p=_t(r.e/f)-_t(s.e/f)),O=U.length,A=V.length,g=new j($),y=g.d=[],u=0;U[u]==(V[u]||0);u++);if(U[u]>(V[u]||0)&&p--,a==null?(k=a=j.precision,o=j.rounding):i?k=a+(r.e-s.e)+1:k=a,k<0)y.push(1),m=!0;else{if(k=k/f+2|0,u=0,O==1){for(l=0,U=U[0],k++;(u<A||l)&&k--;u++)S=l*c+(V[u]||0),y[u]=S/U|0,l=S%U|0;m=l||u<A}else{for(l=c/(U[0]+1)|0,l>1&&(U=e(U,l,c),V=e(V,l,c),O=U.length,A=V.length),_=O,v=V.slice(0,O),T=v.length;T<O;)v[T++]=0;D=U.slice(),D.unshift(0),N=U[0],U[1]>=c/2&&++N;do l=0,d=t(U,v,O,T),d<0?(w=v[0],O!=T&&(w=w*c+(v[1]||0)),l=w/N|0,l>1?(l>=c&&(l=c-1),h=e(U,l,c),x=h.length,T=v.length,d=t(h,v,x,T),d==1&&(l--,n(h,O<x?D:U,x,c))):(l==0&&(d=l=1),h=U.slice()),x=h.length,x<T&&h.unshift(0),n(v,h,T,c),d==-1&&(T=v.length,d=t(U,v,O,T),d<1&&(l++,n(v,O<T?D:U,T,c))),T=v.length):d===0&&(l++,v=[0]),y[u++]=l,d&&v[0]?v[T++]=V[_]||0:(v=[V[_]],T=1);while((_++<A||v[0]!==void 0)&&k--);m=v[0]!==void 0}y[0]||y.shift()}if(f==1)g.e=p,Dh=m;else{for(u=1,l=y[0];l>=10;l/=10)u++;g.e=u+p*f-1,ge(g,i?a+g.e+1:a,o,m)}return g}})();function ge(e,t,n,r){var s,a,o,i,c,d,p,u,l,f=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(s=1,i=u[0];i>=10;i/=10)s++;if(a=t-s,a<0)a+=Ee,o=t,p=u[l=0],c=p/ft(10,s-o-1)%10|0;else if(l=Math.ceil((a+1)/Ee),i=u.length,l>=i)if(r){for(;i++<=l;)u.push(0);p=c=0,s=1,a%=Ee,o=a-Ee+1}else break e;else{for(p=i=u[l],s=1;i>=10;i/=10)s++;a%=Ee,o=a-Ee+s,c=o<0?0:p/ft(10,s-o-1)%10|0}if(r=r||t<0||u[l+1]!==void 0||(o<0?p:p%ft(10,s-o-1)),d=n<4?(c||r)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(a>0?o>0?p/ft(10,s-o):0:u[l-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,d?(t-=e.e+1,u[0]=ft(10,(Ee-t%Ee)%Ee),e.e=-t||0):u[0]=e.e=0,e;if(a==0?(u.length=l,i=1,l--):(u.length=l+1,i=ft(10,Ee-a),u[l]=o>0?(p/ft(10,s-o)%ft(10,o)|0)*i:0),d)for(;;)if(l==0){for(a=1,o=u[0];o>=10;o/=10)a++;for(o=u[0]+=i,i=1;o>=10;o/=10)i++;a!=i&&(e.e++,u[0]==an&&(u[0]=1));break}else{if(u[l]+=i,u[l]!=an)break;u[l--]=0,i=1}for(a=u.length;u[--a]===0;)u.pop()}return ve&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function kn(e,t,n){if(!e.isFinite())return $h(e);var r,s=e.e,a=xt(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Yn(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):s<0?(a="0."+Yn(-s-1)+a,n&&(r=n-o)>0&&(a+=Yn(r))):s>=o?(a+=Yn(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+Yn(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=Yn(r))),a}function hi(e,t){var n=e[0];for(t*=Ee;n>=10;n/=10)t++;return t}function qa(e,t,n){if(t>f_)throw ve=!0,n&&(e.precision=n),Error(Ph);return ge(new e(Ha),t,1,!0)}function xn(e,t,n){if(t>Co)throw Error(Ph);return ge(new e($a),t,n,!0)}function Fh(e){var t=e.length-1,n=t*Ee+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Yn(e){for(var t="";e--;)t+="0";return t}function Uh(e,t,n,r){var s,a=new e(1),o=Math.ceil(r/Ee+4);for(ve=!1;;){if(n%2&&(a=a.times(t),Ic(a.d,o)&&(s=!0)),n=_t(n/2),n===0){n=a.d.length-1,s&&a.d[n]===0&&++a.d[n];break}t=t.times(t),Ic(t.d,o)}return ve=!0,a}function Oc(e){return e.d[e.d.length-1]&1}function Hh(e,t,n){for(var r,s,a=new e(t[0]),o=0;++o<t.length;){if(s=new e(t[o]),!s.s){a=s;break}r=a.cmp(s),(r===n||r===0&&a.s===n)&&(a=s)}return a}function Oo(e,t){var n,r,s,a,o,i,c,d=0,p=0,u=0,l=e.constructor,f=l.rounding,m=l.precision;if(!e.d||!e.d[0]||e.e>17)return new l(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ve=!1,c=m):c=t,i=new l(.03125);e.e>-2;)e=e.times(i),u+=5;for(r=Math.log(ft(2,u))/Math.LN10*2+5|0,c+=r,n=a=o=new l(1),l.precision=c;;){if(a=ge(a.times(e),c,1),n=n.times(++p),i=o.plus(ze(a,n,c,1)),xt(i.d).slice(0,c)===xt(o.d).slice(0,c)){for(s=u;s--;)o=ge(o.times(o),c,1);if(t==null)if(d<3&&Ss(o.d,c-r,f,d))l.precision=c+=10,n=a=i=new l(1),p=0,d++;else return ge(o,l.precision=m,f,ve=!0);else return l.precision=m,o}o=i}}function Zn(e,t){var n,r,s,a,o,i,c,d,p,u,l,f=1,m=10,h=e,x=h.d,g=h.constructor,y=g.rounding,v=g.precision;if(h.s<0||!x||!x[0]||!h.e&&x[0]==1&&x.length==1)return new g(x&&!x[0]?-1/0:h.s!=1?NaN:x?0:h);if(t==null?(ve=!1,p=v):p=t,g.precision=p+=m,n=xt(x),r=n.charAt(0),Math.abs(a=h.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=xt(h.d),r=n.charAt(0),f++;a=h.e,r>1?(h=new g("0."+n),a++):h=new g(r+"."+n.slice(1))}else return d=qa(g,p+2,v).times(a+""),h=Zn(new g(r+"."+n.slice(1)),p-m).plus(d),g.precision=v,t==null?ge(h,v,y,ve=!0):h;for(u=h,c=o=h=ze(h.minus(1),h.plus(1),p,1),l=ge(h.times(h),p,1),s=3;;){if(o=ge(o.times(l),p,1),d=c.plus(ze(o,new g(s),p,1)),xt(d.d).slice(0,p)===xt(c.d).slice(0,p))if(c=c.times(2),a!==0&&(c=c.plus(qa(g,p+2,v).times(a+""))),c=ze(c,new g(f),p,1),t==null)if(Ss(c.d,p-m,y,i))g.precision=p+=m,d=o=h=ze(u.minus(1),u.plus(1),p,1),l=ge(h.times(h),p,1),s=i=1;else return ge(c,g.precision=v,y,ve=!0);else return g.precision=v,c;c=d,s+=2}}function $h(e){return String(e.s*e.s/0)}function Na(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(s=t.length;t.charCodeAt(s-1)===48;--s);if(t=t.slice(r,s),t){if(s-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Ee,n<0&&(r+=Ee),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Ee;r<s;)e.d.push(+t.slice(r,r+=Ee));t=t.slice(r),r=Ee-t.length}else r-=s;for(;r--;)t+="0";e.d.push(+t),ve&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function m_(e,t){var n,r,s,a,o,i,c,d,p;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Bh.test(t))return Na(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(l_.test(t))n=16,t=t.toLowerCase();else if(u_.test(t))n=2;else if(c_.test(t))n=8;else throw Error(tr+t);for(a=t.search(/p/i),a>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),o=a>=0,r=e.constructor,o&&(t=t.replace(".",""),i=t.length,a=i-a,s=Uh(r,new r(n),a,a*2)),d=Aa(t,n,an),p=d.length-1,a=p;d[a]===0;--a)d.pop();return a<0?new r(e.s*0):(e.e=hi(d,p),e.d=d,ve=!1,o&&(e=ze(e,s,i*4)),c&&(e=e.times(Math.abs(c)<54?ft(2,c):Cr.pow(2,c))),ve=!0,e)}function p_(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Gr(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/mi(5,n)),t=Gr(e,2,t,t);for(var s,a=new e(5),o=new e(16),i=new e(20);n--;)s=t.times(t),t=t.times(a.plus(s.times(o.times(s).minus(i))));return t}function Gr(e,t,n,r,s){var a,o,i,c,d=e.precision,p=Math.ceil(d/Ee);for(ve=!1,c=n.times(n),i=new e(r);;){if(o=ze(i.times(c),new e(t++*t++),d,1),i=s?r.plus(o):r.minus(o),r=ze(o.times(c),new e(t++*t++),d,1),o=i.plus(r),o.d[p]!==void 0){for(a=p;o.d[a]===i.d[a]&&a--;);if(a==-1)break}a=i,i=r,r=o,o=a}return ve=!0,o.d.length=p+1,o}function mi(e,t){for(var n=e;--t;)n*=e;return n}function qh(e,t){var n,r=t.s<0,s=xn(e,e.precision,1),a=s.times(.5);if(t=t.abs(),t.lte(a))return Mn=r?4:1,t;if(n=t.divToInt(s),n.isZero())Mn=r?3:2;else{if(t=t.minus(n.times(s)),t.lte(a))return Mn=Oc(n)?r?2:3:r?4:1,t;Mn=Oc(n)?r?1:4:r?3:2}return t.minus(s).abs()}function $u(e,t,n,r){var s,a,o,i,c,d,p,u,l,f=e.constructor,m=n!==void 0;if(m?(Mt(n,1,ur),r===void 0?r=f.rounding:Mt(r,0,8)):(n=f.precision,r=f.rounding),!e.isFinite())p=$h(e);else{for(p=kn(e),o=p.indexOf("."),m?(s=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):s=t,o>=0&&(p=p.replace(".",""),l=new f(1),l.e=p.length-o,l.d=Aa(kn(l),10,s),l.e=l.d.length),u=Aa(p,10,s),a=c=u.length;u[--c]==0;)u.pop();if(!u[0])p=m?"0p+0":"0";else{if(o<0?a--:(e=new f(e),e.d=u,e.e=a,e=ze(e,l,n,r,0,s),u=e.d,a=e.e,d=Dh),o=u[n],i=s/2,d=d||u[n+1]!==void 0,d=r<4?(o!==void 0||d)&&(r===0||r===(e.s<0?3:2)):o>i||o===i&&(r===4||d||r===6&&u[n-1]&1||r===(e.s<0?8:7)),u.length=n,d)for(;++u[--n]>s-1;)u[n]=0,n||(++a,u.unshift(1));for(c=u.length;!u[c-1];--c);for(o=0,p="";o<c;o++)p+=So.charAt(u[o]);if(m){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)p+="0";for(u=Aa(p,s,t),c=u.length;!u[c-1];--c);for(o=1,p="1.";o<c;o++)p+=So.charAt(u[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)p="0"+p;p="0."+p}else if(++a>c)for(a-=c;a--;)p+="0";else a<c&&(p=p.slice(0,a)+"."+p.slice(a))}p=(t==16?"0x":t==2?"0b":t==8?"0o":"")+p}return e.s<0?"-"+p:p}function Ic(e,t){if(e.length>t)return e.length=t,!0}function g_(e){return new this(e).abs()}function b_(e){return new this(e).acos()}function y_(e){return new this(e).acosh()}function E_(e,t){return new this(e).plus(t)}function x_(e){return new this(e).asin()}function v_(e){return new this(e).asinh()}function __(e){return new this(e).atan()}function T_(e){return new this(e).atanh()}function w_(e,t){e=new this(e),t=new this(t);var n,r=this.precision,s=this.rounding,a=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=xn(this,a,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?xn(this,r,s):new this(0),n.s=e.s):!e.d||t.isZero()?(n=xn(this,a,1).times(.5),n.s=e.s):t.s<0?(this.precision=a,this.rounding=1,n=this.atan(ze(e,t,a,1)),t=xn(this,a,1),this.precision=r,this.rounding=s,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(ze(e,t,a,1)),n}function A_(e){return new this(e).cbrt()}function N_(e){return ge(e=new this(e),e.e+1,2)}function S_(e,t,n){return new this(e).clamp(t,n)}function k_(e){if(!e||typeof e!="object")throw Error(fi+"Object expected");var t,n,r,s=e.defaults===!0,a=["precision",1,ur,"rounding",0,8,"toExpNeg",-jr,0,"toExpPos",0,jr,"maxE",0,jr,"minE",-jr,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],s&&(this[n]=ko[n]),(r=e[n])!==void 0)if(_t(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(tr+n+": "+r);if(n="crypto",s&&(this[n]=ko[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Mh);else this[n]=!1;else throw Error(tr+n+": "+r);return this}function C_(e){return new this(e).cos()}function O_(e){return new this(e).cosh()}function Vh(e){var t,n,r;function s(a){var o,i,c,d=this;if(!(d instanceof s))return new s(a);if(d.constructor=s,Rc(a)){d.s=a.s,ve?!a.d||a.e>s.maxE?(d.e=NaN,d.d=null):a.e<s.minE?(d.e=0,d.d=[0]):(d.e=a.e,d.d=a.d.slice()):(d.e=a.e,d.d=a.d?a.d.slice():a.d);return}if(c=typeof a,c==="number"){if(a===0){d.s=1/a<0?-1:1,d.e=0,d.d=[0];return}if(a<0?(a=-a,d.s=-1):d.s=1,a===~~a&&a<1e7){for(o=0,i=a;i>=10;i/=10)o++;ve?o>s.maxE?(d.e=NaN,d.d=null):o<s.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[a]):(d.e=o,d.d=[a]);return}if(a*0!==0){a||(d.s=NaN),d.e=NaN,d.d=null;return}return Na(d,a.toString())}if(c==="string")return(i=a.charCodeAt(0))===45?(a=a.slice(1),d.s=-1):(i===43&&(a=a.slice(1)),d.s=1),Bh.test(a)?Na(d,a):m_(d,a);if(c==="bigint")return a<0?(a=-a,d.s=-1):d.s=1,Na(d,a.toString());throw Error(tr+a)}if(s.prototype=W,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=k_,s.clone=Vh,s.isDecimal=Rc,s.abs=g_,s.acos=b_,s.acosh=y_,s.add=E_,s.asin=x_,s.asinh=v_,s.atan=__,s.atanh=T_,s.atan2=w_,s.cbrt=A_,s.ceil=N_,s.clamp=S_,s.cos=C_,s.cosh=O_,s.div=I_,s.exp=R_,s.floor=L_,s.hypot=D_,s.ln=P_,s.log=M_,s.log10=B_,s.log2=j_,s.max=F_,s.min=U_,s.mod=H_,s.mul=$_,s.pow=q_,s.random=V_,s.round=z_,s.sign=Y_,s.sin=W_,s.sinh=K_,s.sqrt=G_,s.sub=X_,s.sum=Q_,s.tan=Z_,s.tanh=J_,s.trunc=eT,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function I_(e,t){return new this(e).div(t)}function R_(e){return new this(e).exp()}function L_(e){return ge(e=new this(e),e.e+1,3)}function D_(){var e,t,n=new this(0);for(ve=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ve=!0,new this(1/0);n=t}return ve=!0,n.sqrt()}function Rc(e){return e instanceof Cr||e&&e.toStringTag===jh||!1}function P_(e){return new this(e).ln()}function M_(e,t){return new this(e).log(t)}function j_(e){return new this(e).log(2)}function B_(e){return new this(e).log(10)}function F_(){return Hh(this,arguments,-1)}function U_(){return Hh(this,arguments,1)}function H_(e,t){return new this(e).mod(t)}function $_(e,t){return new this(e).mul(t)}function q_(e,t){return new this(e).pow(t)}function V_(e){var t,n,r,s,a=0,o=new this(1),i=[];if(e===void 0?e=this.precision:Mt(e,1,ur),r=Math.ceil(e/Ee),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)s=t[a],s>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:i[a++]=s%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);a<r;)s=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(t,a):(i.push(s%1e7),a+=4);a=r/4}else throw Error(Mh);else for(;a<r;)i[a++]=Math.random()*1e7|0;for(r=i[--a],e%=Ee,r&&e&&(s=ft(10,Ee-e),i[a]=(r/s|0)*s);i[a]===0;a--)i.pop();if(a<0)n=0,i=[0];else{for(n=-1;i[0]===0;n-=Ee)i.shift();for(r=1,s=i[0];s>=10;s/=10)r++;r<Ee&&(n-=Ee-r)}return o.e=n,o.d=i,o}function z_(e){return ge(e=new this(e),e.e+1,this.rounding)}function Y_(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function W_(e){return new this(e).sin()}function K_(e){return new this(e).sinh()}function G_(e){return new this(e).sqrt()}function X_(e,t){return new this(e).sub(t)}function Q_(){var e=0,t=arguments,n=new this(t[e]);for(ve=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return ve=!0,ge(n,this.precision,this.rounding)}function Z_(e){return new this(e).tan()}function J_(e){return new this(e).tanh()}function eT(e){return ge(e=new this(e),e.e+1,1)}W[Symbol.for("nodejs.util.inspect.custom")]=W.toString;W[Symbol.toStringTag]="Decimal";var Cr=W.constructor=Vh(ko);Ha=new Cr(Ha);$a=new Cr($a);const tT={royaltyPercentage:1};function nT({isOpen:e,setIsOpen:t,onClose:n,currentRoyaltyPercentage:r}){const{register:s,formState:{isDirty:a,isValid:o,errors:i},handleSubmit:c,setValue:d,watch:p}=qs({defaultValues:tT,mode:"onChange",resolver:Vs(Un.editRoyalty)}),u=p("royaltyPercentage");M.useEffect(()=>{d("royaltyPercentage",r-.01)},[r,d]);const l=f=>{f&&n(f.royaltyPercentage),t(!1)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>l(null)}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[E.jsx("div",{className:"px-6 py-4 border-b border-ink-700",children:E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Royalty"})}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{className:"p-3 rounded-lg bg-ink-800/50",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-1",children:"Current Royalty"}),E.jsxs("p",{className:"text-white font-mono text-lg",children:[r.toFixed(2),"%"]})]}),E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:E.jsx("p",{className:"text-amber-400 text-sm",children:"Royalty percentage can only be decreased, not increased."})}),E.jsx(sn,{label:"New Royalty Percentage",name:"royaltyPercentage",type:"number",defaultValue:r-.01,min:"0",max:r-.01,step:"0.01",errors:i,register:s}),u>=r&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:[E.jsx("strong",{children:"Error:"})," The royalty percentage can only be decreased."]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-ink-700 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:()=>l(null),children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${!o&&a||u>=r?"bg-ink-700 text-ink-500 cursor-not-allowed":"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90"}`,disabled:!o&&a||u>=r,onClick:c(l),children:"Update Royalty"})]})]})]}):null}function rT({id:e,currentRoyaltyPercentage:t,onUpdate:n,minimal:r=!1}){const s=Pe.contractAddresses.v1.zang,a=Le.zang,{isConnected:o}=qt(),{writeContractAsync:i}=ar(),c=or(),[d,p]=M.useState(!1),[u,l]=ht(Qt);if(t==null)return E.jsx(M.Fragment,{});const f=async m=>{if(m===null&&l("Please enter a royalty percentage."),!e){l("Could not determine the ID of the NFT.");return}if(!o){l("Please connect a wallet.");return}l(null);const h=new Cr(m).mul("100").toNumber();if(!e)return;const x=async()=>await i({address:s,abi:a,functionName:"decreaseRoyaltyNumerator",args:[BigInt(e),BigInt(h)],...Tn()}),{success:g}=await c(x,`Edit royalty for NFT #${e}`);g&&n&&n(e)};return E.jsxs(M.Fragment,{children:[E.jsx("button",{className:r?"text-ink-500 hover:text-ink-300 transition-colors":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>p(!0),title:"Edit royalty",children:r?E.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}):"Edit Royalty"}),E.jsx(nT,{isOpen:d,setIsOpen:p,onClose:f,currentRoyaltyPercentage:t})]})}function sT({id:e,userBalance:t,userAvailableAmount:n,onUpdate:r,walletAddress:s,fullWidth:a=!1}){const o=Pe.contractAddresses.v1.marketplace,i=Le.marketplace,{isConnected:c}=qt(),{writeContractAsync:d}=ar(),p=or(),[u,l]=M.useState(!1),[f,m]=ht(Qt),h=async(x,g)=>{if(x===null){m("Please enter an amount.");return}if(g===null){m("Please enter a price.");return}if(!e){m("Could not determine the ID of the NFT.");return}if(!c){m("Please connect a wallet.");return}m(null);const y=async()=>await d({address:o,abi:i,functionName:"listToken",args:[BigInt(e),Oa(g),BigInt(x)],...Tn()}),{success:v}=await p(y,`List NFT #${e}`);v&&r&&r(e)};return E.jsxs(M.Fragment,{children:[E.jsx("button",{className:`px-4 py-2.5 text-sm font-medium rounded-lg bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90 transition-colors ${a?"w-full":""}`,onClick:()=>l(!0),children:"List for Sale"}),E.jsx(pg,{isOpen:u,setIsOpen:l,onClose:h,balance:t,availableAmount:n,id:e,walletAddress:s,onUpdate:r})]})}function aT({isOpen:e,setIsOpen:t,onClose:n,balance:r,availableAmount:s,oldAmount:a,oldPrice:o,ethPrice:i}){const[c,d]=M.useState(""),[p,u]=M.useState("");M.useEffect(()=>{e&&(d((a==null?void 0:a.toString())||""),u((o==null?void 0:o.toString())||""))},[e,a,o]);const l=Math.min(s+a,r),f=c!==""&&parseInt(c)!==a,m=p!==""&&p!==o,h=f||m,x=parseInt(c)||0,g=x>r,y=x>l,v=h&&!g&&x>0&&parseFloat(p)>=0,T=()=>{t(!1)},w=()=>{if(!v)return;const k=f?c:null,S=m?p:null;t(!1),n(k,S)};return e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:T}),E.jsxs("div",{className:"relative bg-ink-900 border border-ink-700 rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[E.jsxs("div",{className:"px-5 py-4 border-b border-ink-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Listing"}),E.jsx("p",{className:"text-ink-400 text-sm mt-0.5",children:"Update the price or amount for this listing"})]}),E.jsxs("div",{className:"p-5 space-y-5",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-ink-200",children:"Price per edition"}),m&&E.jsx("span",{className:"text-xs text-accent-cyan",children:"Changed"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"number",min:"0",step:"0.001",value:p,onChange:k=>u(k.target.value),className:`w-full px-3 py-2.5 pr-12 bg-ink-800 border rounded-lg text-white font-mono placeholder-ink-500 focus:outline-none focus:ring-2 focus:ring-accent-cyan/50 transition-colors ${m?"border-accent-cyan/50":"border-ink-700"}`,placeholder:"0.00"}),E.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-ink-400 text-sm font-medium",children:"ETH"})]}),E.jsxs("div",{className:"flex justify-between text-xs",children:[o&&E.jsxs("span",{className:"text-ink-500",children:["Currently: ",o," ETH",i&&E.jsxs("span",{className:"text-ink-600 ml-1",children:["($",(parseFloat(o)*i).toFixed(2),")"]})]}),i&&p&&parseFloat(p)>0&&E.jsxs("span",{className:"text-ink-400",children:[" $",(parseFloat(p)*i).toFixed(2)]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-ink-200",children:"Amount to list"}),f&&E.jsx("span",{className:"text-xs text-accent-cyan",children:"Changed"})]}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"number",min:"1",step:"1",max:r,value:c,onChange:k=>d(k.target.value),className:`w-full px-3 py-2.5 bg-ink-800 border rounded-lg text-white font-mono placeholder-ink-500 focus:outline-none focus:ring-2 focus:ring-accent-cyan/50 transition-colors ${g?"border-red-500":f?"border-accent-cyan/50":"border-ink-700"}`,placeholder:"1"})}),E.jsxs("div",{className:"flex justify-between text-xs",children:[E.jsxs("span",{className:"text-ink-500",children:["Currently: ",a," edition",a!==1?"s":""]}),E.jsxs("span",{className:"text-ink-500",children:["You own: ",r]})]})]}),g&&E.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:E.jsxs("p",{className:"text-red-400 text-sm",children:["You can't list more than you own (",r," ","editions)."]})}),!g&&y&&x>0&&E.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30",children:E.jsxs("p",{className:"text-amber-400 text-sm",children:[E.jsx("strong",{children:"Note:"})," This will use"," ",x-l," ","edition",x-l!==1?"s":""," ","from other listings, which may make them unfulfillable."]})}),h&&v&&E.jsx("div",{className:"p-3 rounded-lg bg-ink-800/50 border border-ink-700",children:E.jsx("p",{className:"text-ink-300 text-sm",children:m&&f?E.jsxs(E.Fragment,{children:["Updating price to"," ",E.jsxs("span",{className:"text-white font-mono",children:[p," ETH"]})," ","and amount to"," ",E.jsx("span",{className:"text-white font-mono",children:c})]}):m?E.jsxs(E.Fragment,{children:["Updating price to"," ",E.jsxs("span",{className:"text-white font-mono",children:[p," ETH"]})]}):E.jsxs(E.Fragment,{children:["Updating amount to"," ",E.jsx("span",{className:"text-white font-mono",children:c})," ","edition",c!=="1"?"s":""]})})})]}),E.jsxs("div",{className:"px-5 py-4 border-t border-ink-800 flex justify-end gap-3",children:[E.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-lg text-ink-300 hover:text-white hover:bg-ink-800 transition-colors",onClick:T,children:"Cancel"}),E.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${v?"bg-accent-cyan text-ink-950 hover:bg-accent-cyan/90":"bg-ink-700 text-ink-500 cursor-not-allowed"}`,disabled:!v,onClick:w,children:"Save Changes"})]})]})]}):null}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function iT(e,t,n){return(t=uT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lc(Object(n),!0).forEach(function(r){iT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uT(e){var t=oT(e,"string");return typeof t=="symbol"?t:t+""}const Dc=()=>{};let qu={},zh={},Yh=null,Wh={mark:Dc,measure:Dc};try{typeof window<"u"&&(qu=window),typeof document<"u"&&(zh=document),typeof MutationObserver<"u"&&(Yh=MutationObserver),typeof performance<"u"&&(Wh=performance)}catch{}const{userAgent:Pc=""}=qu.navigator||{},nr=qu,Qe=zh,Mc=Yh,da=Wh;nr.document;const Hn=!!Qe.documentElement&&!!Qe.head&&typeof Qe.addEventListener=="function"&&typeof Qe.createElement=="function",Kh=~Pc.indexOf("MSIE")||~Pc.indexOf("Trident/");var lT=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,cT=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Gh={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},dT={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Xh=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Tt="classic",pi="duotone",fT="sharp",hT="sharp-duotone",Qh=[Tt,pi,fT,hT],mT={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},pT={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},gT=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),bT={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},yT=["fak","fa-kit","fakd","fa-kit-duotone"],jc={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},ET=["kit"],xT={kit:{"fa-kit":"fak"}},vT=["fak","fakd"],_T={kit:{fak:"fa-kit"}},Bc={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},fa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},TT=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],wT=["fak","fa-kit","fakd","fa-kit-duotone"],AT={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},NT={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},ST={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Io={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},kT=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ro=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...TT,...kT],CT=["solid","regular","light","thin","duotone","brands"],Zh=[1,2,3,4,5,6,7,8,9,10],OT=Zh.concat([11,12,13,14,15,16,17,18,19,20]),IT=[...Object.keys(ST),...CT,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",fa.GROUP,fa.SWAP_OPACITY,fa.PRIMARY,fa.SECONDARY].concat(Zh.map(e=>"".concat(e,"x"))).concat(OT.map(e=>"w-".concat(e))),RT={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const jn="___FONT_AWESOME___",Lo=16,Jh="fa",em="svg-inline--fa",vr="data-fa-i2svg",Do="data-fa-pseudo-element",LT="data-fa-pseudo-element-pending",Vu="data-prefix",zu="data-icon",Fc="fontawesome-i2svg",DT="async",PT=["HTML","HEAD","STYLE","SCRIPT"],tm=(()=>{try{return!0}catch{return!1}})();function Js(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[Tt]}})}const nm=Z({},Gh);nm[Tt]=Z(Z(Z(Z({},{"fa-duotone":"duotone"}),Gh[Tt]),jc.kit),jc["kit-duotone"]);const MT=Js(nm),Po=Z({},bT);Po[Tt]=Z(Z(Z(Z({},{duotone:"fad"}),Po[Tt]),Bc.kit),Bc["kit-duotone"]);const Uc=Js(Po),Mo=Z({},Io);Mo[Tt]=Z(Z({},Mo[Tt]),_T.kit);const Yu=Js(Mo),jo=Z({},NT);jo[Tt]=Z(Z({},jo[Tt]),xT.kit);Js(jo);const jT=lT,rm="fa-layers-text",BT=cT,FT=Z({},mT);Js(FT);const UT=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Hi=dT,HT=[...ET,...IT],vs=nr.FontAwesomeConfig||{};function $T(e){var t=Qe.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function qT(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}Qe&&typeof Qe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=qT($T(n));s!=null&&(vs[r]=s)});const sm={styleDefault:"solid",familyDefault:Tt,cssPrefix:Jh,replacementClass:em,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};vs.familyPrefix&&(vs.cssPrefix=vs.familyPrefix);const Xr=Z(Z({},sm),vs);Xr.autoReplaceSvg||(Xr.observeMutations=!1);const fe={};Object.keys(sm).forEach(e=>{Object.defineProperty(fe,e,{enumerable:!0,set:function(t){Xr[e]=t,_s.forEach(n=>n(fe))},get:function(){return Xr[e]}})});Object.defineProperty(fe,"familyPrefix",{enumerable:!0,set:function(e){Xr.cssPrefix=e,_s.forEach(t=>t(fe))},get:function(){return Xr.cssPrefix}});nr.FontAwesomeConfig=fe;const _s=[];function VT(e){return _s.push(e),()=>{_s.splice(_s.indexOf(e),1)}}const $n=Lo,vn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function zT(e){if(!e||!Hn)return;const t=Qe.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=Qe.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const a=n[s],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return Qe.head.insertBefore(t,r),e}const YT="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ks(){let e=12,t="";for(;e-- >0;)t+=YT[Math.random()*62|0];return t}function ts(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Wu(e){return e.classList?ts(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function am(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function WT(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(am(e[n]),'" '),"").trim()}function gi(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function Ku(e){return e.size!==vn.size||e.x!==vn.x||e.y!==vn.y||e.rotate!==vn.rotate||e.flipX||e.flipY}function KT(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),i="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(a," ").concat(o," ").concat(i)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:d}}function GT(e){let{transform:t,width:n=Lo,height:r=Lo,startCentered:s=!1}=e,a="";return s&&Kh?a+="translate(".concat(t.x/$n-n/2,"em, ").concat(t.y/$n-r/2,"em) "):s?a+="translate(calc(-50% + ".concat(t.x/$n,"em), calc(-50% + ").concat(t.y/$n,"em)) "):a+="translate(".concat(t.x/$n,"em, ").concat(t.y/$n,"em) "),a+="scale(".concat(t.size/$n*(t.flipX?-1:1),", ").concat(t.size/$n*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}var XT=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function im(){const e=Jh,t=em,n=fe.cssPrefix,r=fe.replacementClass;let s=XT;if(n!==e||r!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),i=new RegExp("\\.".concat(t),"g");s=s.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(i,".".concat(r))}return s}let Hc=!1;function $i(){fe.autoAddCss&&!Hc&&(zT(im()),Hc=!0)}var QT={mixout(){return{dom:{css:im,insertCss:$i}}},hooks(){return{beforeDOMElementCreation(){$i()},beforeI2svg(){$i()}}}};const Bn=nr||{};Bn[jn]||(Bn[jn]={});Bn[jn].styles||(Bn[jn].styles={});Bn[jn].hooks||(Bn[jn].hooks={});Bn[jn].shims||(Bn[jn].shims=[]);var _n=Bn[jn];const om=[],um=function(){Qe.removeEventListener("DOMContentLoaded",um),Va=1,om.map(e=>e())};let Va=!1;Hn&&(Va=(Qe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Qe.readyState),Va||Qe.addEventListener("DOMContentLoaded",um));function ZT(e){Hn&&(Va?setTimeout(e,0):om.push(e))}function ea(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?am(e):"<".concat(t," ").concat(WT(n),">").concat(r.map(ea).join(""),"</").concat(t,">")}function $c(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var qi=function(t,n,r,s){var a=Object.keys(t),o=a.length,i=n,c,d,p;for(r===void 0?(c=1,p=t[a[0]]):(c=0,p=r);c<o;c++)d=a[c],p=i(p,t[d],d,t);return p};function JT(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function Bo(e){const t=JT(e);return t.length===1?t[0].toString(16):null}function e2(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function qc(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Fo(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=qc(t);typeof _n.hooks.addPack=="function"&&!r?_n.hooks.addPack(e,qc(t)):_n.styles[e]=Z(Z({},_n.styles[e]||{}),s),e==="fas"&&Fo("fa",t)}const{styles:Cs,shims:t2}=_n,lm=Object.keys(Yu),n2=lm.reduce((e,t)=>(e[t]=Object.keys(Yu[t]),e),{});let Gu=null,cm={},dm={},fm={},hm={},mm={};function r2(e){return~HT.indexOf(e)}function s2(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!r2(s)?s:null}const pm=()=>{const e=r=>qi(Cs,(s,a,o)=>(s[o]=qi(a,r,{}),s),{});cm=e((r,s,a)=>(s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(i=>typeof i=="number").forEach(i=>{r[i.toString(16)]=a}),r)),dm=e((r,s,a)=>(r[a]=a,s[2]&&s[2].filter(i=>typeof i=="string").forEach(i=>{r[i]=a}),r)),mm=e((r,s,a)=>{const o=s[2];return r[a]=a,o.forEach(i=>{r[i]=a}),r});const t="far"in Cs||fe.autoFetchSvg,n=qi(t2,(r,s)=>{const a=s[0];let o=s[1];const i=s[2];return o==="far"&&!t&&(o="fas"),typeof a=="string"&&(r.names[a]={prefix:o,iconName:i}),typeof a=="number"&&(r.unicodes[a.toString(16)]={prefix:o,iconName:i}),r},{names:{},unicodes:{}});fm=n.names,hm=n.unicodes,Gu=bi(fe.styleDefault,{family:fe.familyDefault})};VT(e=>{Gu=bi(e.styleDefault,{family:fe.familyDefault})});pm();function Xu(e,t){return(cm[e]||{})[t]}function a2(e,t){return(dm[e]||{})[t]}function hr(e,t){return(mm[e]||{})[t]}function gm(e){return fm[e]||{prefix:null,iconName:null}}function i2(e){const t=hm[e],n=Xu("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function rr(){return Gu}const bm=()=>({prefix:null,iconName:null,rest:[]});function o2(e){let t=Tt;const n=lm.reduce((r,s)=>(r[s]="".concat(fe.cssPrefix,"-").concat(s),r),{});return Qh.forEach(r=>{(e.includes(n[r])||e.some(s=>n2[r].includes(s)))&&(t=r)}),t}function bi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Tt}=t,r=MT[n][e];if(n===pi&&!e)return"fad";const s=Uc[n][e]||Uc[n][r],a=e in _n.styles?e:null;return s||a||null}function u2(e){let t=[],n=null;return e.forEach(r=>{const s=s2(fe.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function Vc(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function yi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=Ro.concat(wT),a=Vc(e.filter(u=>s.includes(u))),o=Vc(e.filter(u=>!Ro.includes(u))),i=a.filter(u=>(r=u,!Xh.includes(u))),[c=null]=i,d=o2(a),p=Z(Z({},u2(o)),{},{prefix:bi(c,{family:d})});return Z(Z(Z({},p),f2({values:e,family:d,styles:Cs,config:fe,canonical:p,givenPrefix:r})),l2(n,r,p))}function l2(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const a=t==="fa"?gm(s):{},o=hr(r,s);return s=a.iconName||o||s,r=a.prefix||r,r==="far"&&!Cs.far&&Cs.fas&&!fe.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const c2=Qh.filter(e=>e!==Tt||e!==pi),d2=Object.keys(Io).filter(e=>e!==Tt).map(e=>Object.keys(Io[e])).flat();function f2(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:a={},config:o={}}=e,i=n===pi,c=t.includes("fa-duotone")||t.includes("fad"),d=o.familyDefault==="duotone",p=r.prefix==="fad"||r.prefix==="fa-duotone";if(!i&&(c||d||p)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&c2.includes(n)&&(Object.keys(a).find(l=>d2.includes(l))||o.autoFetchSvg)){const l=gT.get(n).defaultShortPrefixId;r.prefix=l,r.iconName=hr(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=rr()||"fas"),r}class h2{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(a=>{this.definitions[a]=Z(Z({},this.definitions[a]||{}),s[a]),Fo(a,s[a]);const o=Yu[Tt][a];o&&Fo(o,s[a]),pm()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:a,iconName:o,icon:i}=r[s],c=i[2];t[a]||(t[a]={}),c.length>0&&c.forEach(d=>{typeof d=="string"&&(t[a][d]=i)}),t[a][o]=i}),t}}let zc=[],Br={};const Vr={},m2=Object.keys(Vr);function p2(e,t){let{mixoutsTo:n}=t;return zc=e,Br={},Object.keys(Vr).forEach(r=>{m2.indexOf(r)===-1&&delete Vr[r]}),zc.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(a=>{typeof s[a]=="function"&&(n[a]=s[a]),typeof s[a]=="object"&&Object.keys(s[a]).forEach(o=>{n[a]||(n[a]={}),n[a][o]=s[a][o]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(o=>{Br[o]||(Br[o]=[]),Br[o].push(a[o])})}r.provides&&r.provides(Vr)}),n}function Uo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Br[e]||[]).forEach(o=>{t=o.apply(null,[t,...r])}),t}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Br[e]||[]).forEach(a=>{a.apply(null,n)})}function sr(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Vr[e]?Vr[e].apply(null,t):void 0}function Ho(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||rr();if(t)return t=hr(n,t)||t,$c(ym.definitions,n,t)||$c(_n.styles,n,t)}const ym=new h2,g2=()=>{fe.autoReplaceSvg=!1,fe.observeMutations=!1,_r("noAuto")},b2={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Hn?(_r("beforeI2svg",e),sr("pseudoElements2svg",e),sr("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;fe.autoReplaceSvg===!1&&(fe.autoReplaceSvg=!0),fe.observeMutations=!0,ZT(()=>{E2({autoReplaceSvgRoot:t}),_r("watch",e)})}},y2={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:hr(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=bi(e[0]);return{prefix:n,iconName:hr(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(fe.cssPrefix,"-"))>-1||e.match(jT))){const t=yi(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||rr(),iconName:hr(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=rr();return{prefix:t,iconName:hr(t,e)||e}}}},Vt={noAuto:g2,config:fe,dom:b2,parse:y2,library:ym,findIconDefinition:Ho,toHtml:ea},E2=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Qe}=e;(Object.keys(_n.styles).length>0||fe.autoFetchSvg)&&Hn&&fe.autoReplaceSvg&&Vt.dom.i2svg({node:t})};function Ei(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>ea(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Hn)return;const n=Qe.createElement("div");return n.innerHTML=e.html,n.children}}),e}function x2(e){let{children:t,main:n,mask:r,attributes:s,styles:a,transform:o}=e;if(Ku(o)&&n.found&&!r.found){const{width:i,height:c}=n,d={x:i/c/2,y:.5};s.style=gi(Z(Z({},a),{},{"transform-origin":"".concat(d.x+o.x/16,"em ").concat(d.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function v2(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:a}=e;const o=a===!0?"".concat(t,"-").concat(fe.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Z(Z({},s),{},{id:o}),children:r}]}]}function Qu(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:a,symbol:o,title:i,maskId:c,titleId:d,extra:p,watchable:u=!1}=e,{width:l,height:f}=n.found?n:t,m=vT.includes(r),h=[fe.replacementClass,s?"".concat(fe.cssPrefix,"-").concat(s):""].filter(w=>p.classes.indexOf(w)===-1).filter(w=>w!==""||!!w).concat(p.classes).join(" ");let x={children:[],attributes:Z(Z({},p.attributes),{},{"data-prefix":r,"data-icon":s,class:h,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(l," ").concat(f)})};const g=m&&!~p.classes.indexOf("fa-fw")?{width:"".concat(l/f*16*.0625,"em")}:{};u&&(x.attributes[vr]=""),i&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(d||ks())},children:[i]}),delete x.attributes.title);const y=Z(Z({},x),{},{prefix:r,iconName:s,main:t,mask:n,maskId:c,transform:a,symbol:o,styles:Z(Z({},g),p.styles)}),{children:v,attributes:T}=n.found&&t.found?sr("generateAbstractMask",y)||{children:[],attributes:{}}:sr("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=v,y.attributes=T,o?v2(y):x2(y)}function Yc(e){const{content:t,width:n,height:r,transform:s,title:a,extra:o,watchable:i=!1}=e,c=Z(Z(Z({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});i&&(c[vr]="");const d=Z({},o.styles);Ku(s)&&(d.transform=GT({transform:s,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const p=gi(d);p.length>0&&(c.style=p);const u=[];return u.push({tag:"span",attributes:c,children:[t]}),a&&u.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),u}function _2(e){const{content:t,title:n,extra:r}=e,s=Z(Z(Z({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=gi(r.styles);a.length>0&&(s.style=a);const o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Vi}=_n;function $o(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(fe.cssPrefix,"-").concat(Hi.GROUP)},children:[{tag:"path",attributes:{class:"".concat(fe.cssPrefix,"-").concat(Hi.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(fe.cssPrefix,"-").concat(Hi.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const T2={found:!1,width:512,height:512};function w2(e,t){!tm&&!fe.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function qo(e,t){let n=t;return t==="fa"&&fe.styleDefault!==null&&(t=rr()),new Promise((r,s)=>{if(n==="fa"){const a=gm(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Vi[t]&&Vi[t][e]){const a=Vi[t][e];return r($o(a))}w2(e,t),r(Z(Z({},T2),{},{icon:fe.showMissingIcons&&e?sr("missingIconAbstract")||{}:{}}))})}const Wc=()=>{},Vo=fe.measurePerformance&&da&&da.mark&&da.measure?da:{mark:Wc,measure:Wc},ds='FA "6.7.2"',A2=e=>(Vo.mark("".concat(ds," ").concat(e," begins")),()=>Em(e)),Em=e=>{Vo.mark("".concat(ds," ").concat(e," ends")),Vo.measure("".concat(ds," ").concat(e),"".concat(ds," ").concat(e," begins"),"".concat(ds," ").concat(e," ends"))};var Zu={begin:A2,end:Em};const Sa=()=>{};function Kc(e){return typeof(e.getAttribute?e.getAttribute(vr):null)=="string"}function N2(e){const t=e.getAttribute?e.getAttribute(Vu):null,n=e.getAttribute?e.getAttribute(zu):null;return t&&n}function S2(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(fe.replacementClass)}function k2(){return fe.autoReplaceSvg===!0?ka.replace:ka[fe.autoReplaceSvg]||ka.replace}function C2(e){return Qe.createElementNS("http://www.w3.org/2000/svg",e)}function O2(e){return Qe.createElement(e)}function xm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?C2:O2}=t;if(typeof e=="string")return Qe.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(a){r.setAttribute(a,e.attributes[a])}),(e.children||[]).forEach(function(a){r.appendChild(xm(a,{ceFn:n}))}),r}function I2(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const ka={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(xm(n),t)}),t.getAttribute(vr)===null&&fe.keepOriginalSource){let n=Qe.createComment(I2(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Wu(t).indexOf(fe.replacementClass))return ka.replace(e);const r=new RegExp("".concat(fe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const a=n[0].attributes.class.split(" ").reduce((o,i)=>(i===fe.replacementClass||i.match(r)?o.toSvg.push(i):o.toNode.push(i),o),{toNode:[],toSvg:[]});n[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}const s=n.map(a=>ea(a)).join(`
`);t.setAttribute(vr,""),t.innerHTML=s}};function Gc(e){e()}function vm(e,t){const n=typeof t=="function"?t:Sa;if(e.length===0)n();else{let r=Gc;fe.mutateApproach===DT&&(r=nr.requestAnimationFrame||Gc),r(()=>{const s=k2(),a=Zu.begin("mutate");e.map(s),a(),n()})}}let Ju=!1;function _m(){Ju=!0}function zo(){Ju=!1}let za=null;function Xc(e){if(!Mc||!fe.observeMutations)return;const{treeCallback:t=Sa,nodeCallback:n=Sa,pseudoElementsCallback:r=Sa,observeMutationsRoot:s=Qe}=e;za=new Mc(a=>{if(Ju)return;const o=rr();ts(a).forEach(i=>{if(i.type==="childList"&&i.addedNodes.length>0&&!Kc(i.addedNodes[0])&&(fe.searchPseudoElements&&r(i.target),t(i.target)),i.type==="attributes"&&i.target.parentNode&&fe.searchPseudoElements&&r(i.target.parentNode),i.type==="attributes"&&Kc(i.target)&&~UT.indexOf(i.attributeName))if(i.attributeName==="class"&&N2(i.target)){const{prefix:c,iconName:d}=yi(Wu(i.target));i.target.setAttribute(Vu,c||o),d&&i.target.setAttribute(zu,d)}else S2(i.target)&&n(i.target)})}),Hn&&za.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function R2(){za&&za.disconnect()}function L2(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const a=s.split(":"),o=a[0],i=a.slice(1);return o&&i.length>0&&(r[o]=i.join(":").trim()),r},{})),n}function D2(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=yi(Wu(e));return s.prefix||(s.prefix=rr()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=a2(s.prefix,e.innerText)||Xu(s.prefix,Bo(e.innerText))),!s.iconName&&fe.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function P2(e){const t=ts(e.attributes).reduce((s,a)=>(s.name!=="class"&&s.name!=="style"&&(s[a.name]=a.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return fe.autoA11y&&(n?t["aria-labelledby"]="".concat(fe.replacementClass,"-title-").concat(r||ks()):(t["aria-hidden"]="true",t.focusable="false")),t}function M2(){return{iconName:null,title:null,titleId:null,prefix:null,transform:vn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Qc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=D2(e),a=P2(e),o=Uo("parseNodeAttributes",{},e);let i=t.styleParser?L2(e):[];return Z({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:vn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:i,attributes:a}},o)}const{styles:j2}=_n;function Tm(e){const t=fe.autoReplaceSvg==="nest"?Qc(e,{styleParser:!1}):Qc(e);return~t.extra.classes.indexOf(rm)?sr("generateLayersText",e,t):sr("generateSvgReplacementMutation",e,t)}function B2(){return[...yT,...Ro]}function Zc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Hn)return Promise.resolve();const n=Qe.documentElement.classList,r=p=>n.add("".concat(Fc,"-").concat(p)),s=p=>n.remove("".concat(Fc,"-").concat(p)),a=fe.autoFetchSvg?B2():Xh.concat(Object.keys(j2));a.includes("fa")||a.push("fa");const o=[".".concat(rm,":not([").concat(vr,"])")].concat(a.map(p=>".".concat(p,":not([").concat(vr,"])"))).join(", ");if(o.length===0)return Promise.resolve();let i=[];try{i=ts(e.querySelectorAll(o))}catch{}if(i.length>0)r("pending"),s("complete");else return Promise.resolve();const c=Zu.begin("onTree"),d=i.reduce((p,u)=>{try{const l=Tm(u);l&&p.push(l)}catch(l){tm||l.name==="MissingIcon"&&console.error(l)}return p},[]);return new Promise((p,u)=>{Promise.all(d).then(l=>{vm(l,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),c(),p()})}).catch(l=>{c(),u(l)})})}function F2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Tm(e).then(n=>{n&&vm([n],t)})}function U2(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:Ho(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Ho(s||{})),e(r,Z(Z({},n),{},{mask:s}))}}const H2=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=vn,symbol:r=!1,mask:s=null,maskId:a=null,title:o=null,titleId:i=null,classes:c=[],attributes:d={},styles:p={}}=t;if(!e)return;const{prefix:u,iconName:l,icon:f}=e;return Ei(Z({type:"icon"},e),()=>(_r("beforeDOMElementCreation",{iconDefinition:e,params:t}),fe.autoA11y&&(o?d["aria-labelledby"]="".concat(fe.replacementClass,"-title-").concat(i||ks()):(d["aria-hidden"]="true",d.focusable="false")),Qu({icons:{main:$o(f),mask:s?$o(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:l,transform:Z(Z({},vn),n),symbol:r,title:o,maskId:a,titleId:i,extra:{attributes:d,styles:p,classes:c}})))};var $2={mixout(){return{icon:U2(H2)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Zc,e.nodeCallback=F2,e}}},provides(e){e.i2svg=function(t){const{node:n=Qe,callback:r=()=>{}}=t;return Zc(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:a,prefix:o,transform:i,symbol:c,mask:d,maskId:p,extra:u}=n;return new Promise((l,f)=>{Promise.all([qo(r,o),d.iconName?qo(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(m=>{let[h,x]=m;l([t,Qu({icons:{main:h,mask:x},prefix:o,iconName:r,transform:i,symbol:c,maskId:p,title:s,titleId:a,extra:u,watchable:!0})])}).catch(f)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:a,styles:o}=t;const i=gi(o);i.length>0&&(r.style=i);let c;return Ku(a)&&(c=sr("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},q2={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Ei({type:"layer"},()=>{_r("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(a=>{r=r.concat(a.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(fe.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},V2={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:a={}}=t;return Ei({type:"counter",content:e},()=>(_r("beforeDOMElementCreation",{content:e,params:t}),_2({content:e.toString(),title:n,extra:{attributes:s,styles:a,classes:["".concat(fe.cssPrefix,"-layers-counter"),...r]}})))}}}},z2={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=vn,title:r=null,classes:s=[],attributes:a={},styles:o={}}=t;return Ei({type:"text",content:e},()=>(_r("beforeDOMElementCreation",{content:e,params:t}),Yc({content:e,transform:Z(Z({},vn),n),title:r,extra:{attributes:a,styles:o,classes:["".concat(fe.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:a}=n;let o=null,i=null;if(Kh){const c=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();o=d.width/c,i=d.height/c}return fe.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,Yc({content:t.innerHTML,width:o,height:i,transform:s,title:r,extra:a,watchable:!0})])}}};const Y2=new RegExp('"',"ug"),Jc=[1105920,1112319],ed=Z(Z(Z(Z({},{FontAwesome:{normal:"fas",400:"fas"}}),pT),RT),AT),Yo=Object.keys(ed).reduce((e,t)=>(e[t.toLowerCase()]=ed[t],e),{}),W2=Object.keys(Yo).reduce((e,t)=>{const n=Yo[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function K2(e){const t=e.replace(Y2,""),n=e2(t,0),r=n>=Jc[0]&&n<=Jc[1],s=t.length===2?t[0]===t[1]:!1;return{value:Bo(s?t[0]:t),isSecondary:r||s}}function G2(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(Yo[n]||{})[s]||W2[n]}function td(e,t){const n="".concat(LT).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const o=ts(e.children).filter(l=>l.getAttribute(Do)===t)[0],i=nr.getComputedStyle(e,t),c=i.getPropertyValue("font-family"),d=c.match(BT),p=i.getPropertyValue("font-weight"),u=i.getPropertyValue("content");if(o&&!d)return e.removeChild(o),r();if(d&&u!=="none"&&u!==""){const l=i.getPropertyValue("content");let f=G2(c,p);const{value:m,isSecondary:h}=K2(l),x=d[0].startsWith("FontAwesome");let g=Xu(f,m),y=g;if(x){const v=i2(m);v.iconName&&v.prefix&&(g=v.iconName,f=v.prefix)}if(g&&!h&&(!o||o.getAttribute(Vu)!==f||o.getAttribute(zu)!==y)){e.setAttribute(n,y),o&&e.removeChild(o);const v=M2(),{extra:T}=v;T.attributes[Do]=t,qo(g,f).then(w=>{const k=Qu(Z(Z({},v),{},{icons:{main:w,mask:bm()},prefix:f,iconName:y,extra:T,watchable:!0})),S=Qe.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(S,e.firstChild):e.appendChild(S),S.outerHTML=k.map(_=>ea(_)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function X2(e){return Promise.all([td(e,"::before"),td(e,"::after")])}function Q2(e){return e.parentNode!==document.head&&!~PT.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Do)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function nd(e){if(Hn)return new Promise((t,n)=>{const r=ts(e.querySelectorAll("*")).filter(Q2).map(X2),s=Zu.begin("searchPseudoElements");_m(),Promise.all(r).then(()=>{s(),zo(),t()}).catch(()=>{s(),zo(),n()})})}var Z2={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=nd,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=Qe}=t;fe.searchPseudoElements&&nd(n)}}};let rd=!1;var J2={mixout(){return{dom:{unwatch(){_m(),rd=!0}}}},hooks(){return{bootstrap(){Xc(Uo("mutationObserverCallbacks",{}))},noAuto(){R2()},watch(e){const{observeMutationsRoot:t}=e;rd?zo():Xc(Uo("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const sd=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),a=s[0];let o=s.slice(1).join("-");if(a&&o==="h")return n.flipX=!0,n;if(a&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(a){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},t)};var ew={mixout(){return{parse:{transform:e=>sd(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=sd(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:a}=t;const o={transform:"translate(".concat(s/2," 256)")},i="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),p={transform:"".concat(i," ").concat(c," ").concat(d)},u={transform:"translate(".concat(a/2*-1," -256)")},l={outer:o,inner:p,path:u};return{tag:"g",attributes:Z({},l.outer),children:[{tag:"g",attributes:Z({},l.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Z(Z({},n.icon.attributes),l.path)}]}]}}}};const zi={x:0,y:0,width:"100%",height:"100%"};function ad(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function tw(e){return e.tag==="g"?e.children:[e]}var nw={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?yi(n.split(" ").map(s=>s.trim())):bm();return r.prefix||(r.prefix=rr()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:a,maskId:o,transform:i}=t;const{width:c,icon:d}=s,{width:p,icon:u}=a,l=KT({transform:i,containerWidth:p,iconWidth:c}),f={tag:"rect",attributes:Z(Z({},zi),{},{fill:"white"})},m=d.children?{children:d.children.map(ad)}:{},h={tag:"g",attributes:Z({},l.inner),children:[ad(Z({tag:d.tag,attributes:Z(Z({},d.attributes),l.path)},m))]},x={tag:"g",attributes:Z({},l.outer),children:[h]},g="mask-".concat(o||ks()),y="clip-".concat(o||ks()),v={tag:"mask",attributes:Z(Z({},zi),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,x]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:tw(u)},v]};return n.push(T,{tag:"rect",attributes:Z({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},zi)}),{children:n,attributes:r}}}},rw={provides(e){let t=!1;nr.matchMedia&&(t=nr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Z(Z({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=Z(Z({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Z(Z({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:Z(Z({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Z(Z({},a),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:Z(Z({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Z(Z({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:Z(Z({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Z(Z({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},sw={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},aw=[QT,$2,q2,V2,z2,Z2,J2,ew,nw,rw,sw];p2(aw,{mixoutsTo:Vt});Vt.noAuto;Vt.config;Vt.library;Vt.dom;const Wo=Vt.parse;Vt.findIconDefinition;Vt.toHtml;const iw=Vt.icon;Vt.layer;Vt.text;Vt.counter;var ow={};function Ko(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function uw(e){if(Array.isArray(e))return e}function lw(e){if(Array.isArray(e))return Ko(e)}function Wn(e,t,n){return(t=bw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cw(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dw(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,i=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(p){d=!0,s=p}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return i}}function fw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?id(Object(n),!0).forEach(function(r){Wn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mw(e,t){if(e==null)return{};var n,r,s=pw(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function pw(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function od(e,t){return uw(e)||dw(e,t)||wm(e,t)||fw()}function Go(e){return lw(e)||cw(e)||wm(e)||hw()}function gw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bw(e){var t=gw(e,"string");return typeof t=="symbol"?t:t+""}function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function wm(e,t){if(e){if(typeof e=="string")return Ko(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ko(e,t):void 0}}var yw="7.0.0",Xo;try{var Ew=require("@fortawesome/fontawesome-svg-core/package.json");Xo=Ew.version}catch{Xo=typeof dr<"u"&&ow.FA_VERSION||"7.0.0"}function xw(e){var t=e.beat,n=e.fade,r=e.beatFade,s=e.bounce,a=e.shake,o=e.flash,i=e.spin,c=e.spinPulse,d=e.spinReverse,p=e.pulse,u=e.fixedWidth,l=e.inverse,f=e.border,m=e.listItem,h=e.flip,x=e.size,g=e.rotation,y=e.pull,v=e.swapOpacity,T=e.rotateBy,w=e.widthAuto,k=vw(Xo,yw),S=Wn(Wn(Wn(Wn(Wn(Wn({"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":i,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":p,"fa-fw":u,"fa-inverse":l,"fa-border":f,"fa-li":m,"fa-flip":h===!0,"fa-flip-horizontal":h==="horizontal"||h==="both","fa-flip-vertical":h==="vertical"||h==="both"},"fa-".concat(x),typeof x<"u"&&x!==null),"fa-rotate-".concat(g),typeof g<"u"&&g!==null&&g!==0),"fa-pull-".concat(y),typeof y<"u"&&y!==null),"fa-swap-opacity",v),"fa-rotate-by",k&&T),"fa-width-auto",k&&w);return Object.keys(S).map(function(_){return S[_]?_:null}).filter(function(_){return _})}function vw(e,t){for(var n=e.split("-"),r=od(n,2),s=r[0],a=r[1],o=t.split("-"),i=od(o,2),c=i[0],d=i[1],p=s.split("."),u=c.split("."),l=0;l<Math.max(p.length,u.length);l++){var f=p[l]||"0",m=u[l]||"0",h=parseInt(f,10),x=parseInt(m,10);if(h!==x)return h>x}for(var g=0;g<Math.max(p.length,u.length);g++){var y=p[g]||"0",v=u[g]||"0";if(y!==v&&y.length!==v.length)return y.length<v.length}return!(a&&!d)}function _w(e){return e=e-0,e===e}function Am(e){return _w(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var Tw=["style"];function ww(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Aw(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=Am(n.slice(0,r)),a=n.slice(r+1).trim();return s.startsWith("webkit")?t[ww(s)]=a:t[s]=a,t},{})}function Nm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(c){return Nm(e,c)}),s=Object.keys(t.attributes||{}).reduce(function(c,d){var p=t.attributes[d];switch(d){case"class":c.attrs.className=p,delete t.attributes.class;break;case"style":c.attrs.style=Aw(p);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?c.attrs[d.toLowerCase()]=p:c.attrs[Am(d)]=p}return c},{attrs:{}}),a=n.style,o=a===void 0?{}:a,i=mw(n,Tw);return s.attrs.style=yn(yn({},s.attrs.style),o),e.apply(void 0,[t.tag,yn(yn({},s.attrs),i)].concat(Go(r)))}var Sm=!1;try{Sm=!0}catch{}function Nw(){if(!Sm&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function ud(e){if(e&&Ya(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Wo.icon)return Wo.icon(e);if(e===null)return null;if(e&&Ya(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Yi(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Wn({},e,t):{}}var ld={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},km=Y.forwardRef(function(e,t){var n=yn(yn({},ld),e),r=n.icon,s=n.mask,a=n.symbol,o=n.className,i=n.title,c=n.titleId,d=n.maskId,p=ud(r),u=Yi("classes",[].concat(Go(xw(n)),Go((o||"").split(" ")))),l=Yi("transform",typeof n.transform=="string"?Wo.transform(n.transform):n.transform),f=Yi("mask",ud(s)),m=iw(p,yn(yn(yn(yn({},u),l),f),{},{symbol:a,title:i,titleId:c,maskId:d}));if(!m)return Nw("Could not find icon",p),null;var h=m.abstract,x={ref:t};return Object.keys(n).forEach(function(g){ld.hasOwnProperty(g)||(x[g]=n[g])}),Sw(h[0],x)});km.displayName="FontAwesomeIcon";km.propTypes={beat:ke.bool,border:ke.bool,beatFade:ke.bool,bounce:ke.bool,className:ke.string,fade:ke.bool,flash:ke.bool,mask:ke.oneOfType([ke.object,ke.array,ke.string]),maskId:ke.string,fixedWidth:ke.bool,inverse:ke.bool,flip:ke.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ke.oneOfType([ke.object,ke.array,ke.string]),listItem:ke.bool,pull:ke.oneOf(["right","left"]),pulse:ke.bool,rotation:ke.oneOf([0,90,180,270]),rotateBy:ke.bool,shake:ke.bool,size:ke.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ke.bool,spinPulse:ke.bool,spinReverse:ke.bool,symbol:ke.oneOfType([ke.bool,ke.string]),title:ke.string,titleId:ke.string,transform:ke.oneOfType([ke.string,ke.object]),swapOpacity:ke.bool,widthAuto:ke.bool};var Sw=Nm.bind(null,Y.createElement);function kw({nftId:e,listingId:t,availableAmount:n,balance:r,onUpdate:s,oldAmount:a,oldPrice:o,ethPrice:i,minimal:c=!1}){const d=Pe.contractAddresses.v1.marketplace,p=Le.marketplace,{isConnected:u}=qt(),{writeContractAsync:l}=ar(),f=or(),[m,h]=M.useState(!1),[x,g]=ht(Qt),y=async(v,T)=>{if(v===null&&T===null){g("Please enter an amount or a price.");return}if(!e){g("Could not determine the ID of the NFT.");return}if(!u){g("Please connect a wallet.");return}g(null);let w=null;v===null&&T!==null?w=async()=>await l({address:d,abi:p,functionName:"editListingPrice",args:[BigInt(e),BigInt(t),Oa(T)],...Tn()}):v!==null&&T===null?w=async()=>await l({address:d,abi:p,functionName:"editListingAmount",args:[BigInt(e),BigInt(t),BigInt(v),BigInt(a)],...Tn()}):v!==null&&T!==null&&(w=async()=>await l({address:d,abi:p,functionName:"editListing",args:[BigInt(e),BigInt(t),Oa(T),BigInt(v),BigInt(a)],...Tn()}));const{success:k}=await f(w,`Edit listing for NFT #${e}`);k&&s&&s(e)};return E.jsxs(M.Fragment,{children:[E.jsx("button",{className:c?"text-ink-500 hover:text-ink-300 transition-colors text-sm":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>h(!0),title:"Edit listing",children:"Edit"}),E.jsx(aT,{isOpen:m,setIsOpen:h,onClose:y,balance:r,availableAmount:n,oldAmount:a,oldPrice:o,ethPrice:i})]})}function Cw({nftId:e,listingId:t,onUpdate:n,minimal:r=!1}){const s=Pe.contractAddresses.v1.marketplace,a=Le.marketplace,{isConnected:o}=qt(),{writeContractAsync:i}=ar(),[c,d]=ht(Qt),p=or(),u=async()=>{if(!e){d("Could not determine the ID of the NFT.");return}if(!o){d("Please connect a wallet.");return}d(null);const l=async()=>await i({address:s,abi:a,functionName:"delistToken",args:[BigInt(e),BigInt(t)],...Tn()}),{success:f}=await p(l,`Delist NFT #${e}`);f&&n&&n(e)};return E.jsx("button",{className:r?"text-ink-500 hover:text-red-400 transition-colors text-sm":"px-3 py-1.5 text-sm font-medium rounded-lg bg-ink-700 text-ink-200 hover:bg-ink-600 hover:text-white transition-colors",onClick:()=>u(),title:"Remove listing",children:r?"Remove":"Delist"})}function Ow({balances:e}){return E.jsx("div",{className:"space-y-2",children:e?Object.keys(e).length>0?Object.keys(e).map((t,n)=>E.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-ink-800 last:border-b-0",children:[E.jsx("span",{className:"font-mono text-sm text-ink-300",children:E.jsx(Xn,{address:t,shorten:!0,nChar:8})}),E.jsx("span",{className:"text-white font-medium",children:e[t]})]},n)):E.jsx("p",{className:"text-ink-500 text-sm text-center py-4",children:"No owners found"}):E.jsx(Ut,{count:3,baseColor:"#27272a",highlightColor:"#3f3f46"})})}const Iw=ir({key:"blockToDateState",default:{}}),ha=Pe.contractAddresses.v1.zang,Wi=Pe.contractAddresses.v1.marketplace,Rw=async(e,t,n)=>{t=[...t];const r=[],s=[],a=i=>{!t.includes(i)&&!r.includes(i)&&i!==br&&t.push(i)},o=i=>{s.some(d=>d.transactionHash===i.transactionHash&&d.logIndex===i.logIndex)||s.push(i)};for(;t.length>0;){const i=[...t];t=[];const c=[];for(const p of i)r.push(p),p===null?c.push(Fe.getContractEvents({address:ha,abi:Le.zang,eventName:"TransferSingle",fromBlock:BigInt(n)})):c.push(Fe.getContractEvents({address:ha,abi:Le.zang,eventName:"TransferSingle",args:{operator:p},fromBlock:BigInt(n)}),Fe.getContractEvents({address:ha,abi:Le.zang,eventName:"TransferSingle",args:{from:p},fromBlock:BigInt(n)}),Fe.getContractEvents({address:ha,abi:Le.zang,eventName:"TransferSingle",args:{to:p},fromBlock:BigInt(n)}));const d=await Promise.all(c);for(const p of d)for(const u of p){const{from:l,to:f,operator:m,id:h}=u.args;(h===e||e===null)&&(a(l),a(f),a(m),o(u))}}return s},Lw=async e=>{try{const t=await fetch(`/api/events/${e}`);if(t.ok){const{events:n,_meta:r}=await t.json();return{events:n.map(a=>({event:a.event_type,blockNumber:BigInt(a.block_number),transactionHash:a.tx_hash,logIndex:a.log_index,args:a.data})),_meta:r}}}catch{}return null},Dw=async(e,t,n,r)=>{if(e!==null){const l=await Lw(e);if(l&&l.events&&l.events.length>0)return l.events.sort((f,m)=>{const h=Number(f.blockNumber),x=Number(m.blockNumber);return h!==x?h-x:f.logIndex-m.logIndex}),l.events._meta=l._meta,l.events}const s=e!==null?{_tokenId:BigInt(e)}:void 0,[a,o,i]=await Promise.all([Fe.getContractEvents({address:Wi,abi:Le.marketplace,eventName:"TokenListed",args:s,fromBlock:BigInt(r)}),Fe.getContractEvents({address:Wi,abi:Le.marketplace,eventName:"TokenDelisted",args:s,fromBlock:BigInt(r)}),Fe.getContractEvents({address:Wi,abi:Le.marketplace,eventName:"TokenPurchased",args:s,fromBlock:BigInt(r)})]),c=t?[t]:[],d=l=>{!c.includes(l)&&l!==br&&c.push(l)};for(const l of o)d(l.args._seller);for(const l of i)d(l.args._buyer),d(l.args._seller);const p=await Rw(e!==null?BigInt(e):null,c,n),u=[...a.map(l=>({...l,event:"TokenListed"})),...o.map(l=>({...l,event:"TokenDelisted"})),...i.map(l=>({...l,event:"TokenPurchased"})),...p.map(l=>({...l,event:"TransferSingle"}))];return u.sort((l,f)=>{const m=[Number(l.blockNumber),l.transactionIndex,l.logIndex],h=[Number(f.blockNumber),f.transactionIndex,f.logIndex];for(let x=0;x<m.length;x++){if(m[x]<h[x])return-1;if(m[x]>h[x])return 1}return 0}),u},Pw=e=>{if(!e)return;const t={},n=(r,s)=>{r!==br&&(t[r]===void 0&&(t[r]=0),t[r]+=s)};for(const r of e)if(r.event==="TransferSingle"){const{from:s,to:a,value:o}=r.args;n(s,-Number(o)),n(a,Number(o))}return Object.fromEntries(Object.keys(t).filter(r=>t[r]!==0).map(r=>[r,t[r]]))},Cm=e=>{if(!e)return;let t=[];for(const n of e)switch(n.event){case"TokenListed":t.push({id:Number(n.args._tokenId),type:"list",seller:n.args._seller,price:tn(n.args._price),amount:Number(n.args.amount),transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break;case"TokenDelisted":t.push({id:Number(n.args._tokenId),type:"delist",seller:n.args._seller,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break;case"TransferSingle":{let r="transfer";n.args.from===br?r="mint":n.args.to===br&&(r="burn"),t.push({id:Number(n.args.id),type:r,from:n.args.from,to:n.args.to,amount:Number(n.args.value),operator:n.args.operator,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break}case"TokenPurchased":t.push({id:Number(n.args._tokenId),type:"purchase",buyer:n.args._buyer,seller:n.args._seller,amount:Number(n.args._amount),price:tn(n.args._price),transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber)});break}for(const n of t.filter(r=>r.type==="purchase"))t=t.filter(r=>!((r.type==="transfer"||r.type==="delist")&&n.transactionHash===r.transactionHash));return t},ma=new Map,pa=new Map,Mw=async e=>{if(ma.has(e))return ma.get(e);if(pa.has(e))return pa.get(e);const t=(async()=>{try{const s=await fetch(`/api/block/${e}`);if(s.ok){const a=await s.json(),o=new Date(a.timestamp*1e3);return ma.set(e,o),o}}catch{}const n=await Fe.getBlock({blockNumber:BigInt(e)}),r=new Date(Number(n.timestamp)*1e3);return ma.set(e,r),r})();pa.set(e,t);try{return await t}finally{pa.delete(e)}};var Om="en",el={},Qo={};function Im(){return Om}function Rm(e){Om=e}function jw(e){return el[e]}function Lm(e){if(!e)throw new Error("No locale data passed");el[e.locale]=e,Qo[e.locale.toLowerCase()]=e.locale}function cd(e){if(el[e])return e;if(Qo[e.toLowerCase()])return Qo[e.toLowerCase()]}function Dm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return dd(e);case"best fit":return dd(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function dd(e){var t=cd(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=cd(e);if(r)return r}}var P={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":s>=3&&s<=10?"few":s>=11&&s<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return s==1&&a!=11?"one":s>=2&&s<=4&&(a<12||a>14)?"few":r&&s==0||s>=5&&s<=9||a>=11&&a<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-1),a=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return s==1&&a!=11&&a!=71&&a!=91?"one":s==2&&a!=12&&a!=72&&a!=92?"two":(s==3||s==4||s==9)&&(a<10||a>19)&&(a<70||a>79)&&(a<90||a>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-1),i=r.slice(-2),c=s.slice(-1),d=s.slice(-2);return a&&o==1&&i!=11||c==1&&d!=11?"one":a&&o>=2&&o<=4&&(i<12||i>14)||c>=2&&c<=4&&(d<12||d>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return t==1&&s?"one":r!=0&&a==0&&s?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-1),i=s.slice(-1);return a&&(r==1||r==2||r==3)||a&&o!=4&&o!=6&&o!=9||!a&&i!=4&&i!=6&&i!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],s=!n[1];return t==1&&s?"one":r>=2&&r<=4&&s?"few":s?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],s=Number(n[0])==t;return t==1||!s&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-2),i=s.slice(-2);return a&&o==1||i==1?"one":a&&o==2||i==2?"two":a&&(o==3||o==4)||i==3||i==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return t==1?"one":r!=0&&a==0&&s?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return t>=0&&t<2?"one":r!=0&&a==0&&s?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],s=!n[1];return r==1&&s||r==0&&!s?"one":r==2&&s?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],s=(n[1]||"").replace(/0+$/,""),a=Number(n[0])==t,o=r.slice(-1),i=r.slice(-2);return a&&o==1&&i!=11||s%10==1&&s%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",s=Number(n[0])==t,a=s&&n[0].slice(-1),o=s&&n[0].slice(-2);return a==1&&(o<11||o>19)?"one":a>=2&&a<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",s=r.length,a=Number(n[0])==t,o=a&&n[0].slice(-1),i=a&&n[0].slice(-2),c=r.slice(-2),d=r.slice(-1);return a&&o==0||i>=11&&i<=19||s==2&&c>=11&&c<=19?"zero":o==1&&i!=11||s==2&&d==1&&c!=11||s!=2&&d==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"",a=!n[1],o=r.slice(-1),i=r.slice(-2),c=s.slice(-1),d=s.slice(-2);return a&&o==1&&i!=11||c==1&&d!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,s=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||s>=3&&s<=10?"few":s>=11&&s<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-1),o=r.slice(-2);return t==1&&s?"one":s&&a>=2&&a<=4&&(o<12||o>14)?"few":s&&r!=1&&(a==0||a==1)||s&&a>=5&&a<=9||s&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-6);return r==0||r==1?"one":r!=0&&a==0&&s?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],s=Number(n[0])==t,a=s&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&a>=1&&a<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-1),o=r.slice(-2);return s&&a==1&&o!=11?"one":s&&a>=2&&a<=4&&(o<12||o>14)?"few":s&&a==0||s&&a>=5&&a<=9||s&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],s=n[1]||"";return t==0||t==1||r==0&&s==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],s=!n[1],a=r.slice(-2);return s&&a==1?"one":s&&a==2?"two":s&&(a==3||a==4)||!s?"few":"other"}};P.as=P.am;P.az=P.af;P.bal=P.af;P.bg=P.af;P.bn=P.am;P.brx=P.af;P.ce=P.af;P.chr=P.af;P.de=P.ast;P.doi=P.am;P.ee=P.af;P.el=P.af;P.en=P.ast;P.et=P.ast;P.eu=P.af;P.fa=P.am;P.fi=P.ast;P.fil=P.ceb;P.fo=P.af;P.fur=P.af;P.fy=P.ast;P.gl=P.ast;P.gu=P.am;P.ha=P.af;P.hi=P.am;P.hr=P.bs;P.hsb=P.dsb;P.hu=P.af;P.hy=P.ff;P.ia=P.ast;P.id=P.dz;P.ig=P.dz;P.ii=P.dz;P.it=P.ca;P.ja=P.dz;P.jgo=P.af;P.jv=P.dz;P.ka=P.af;P.kea=P.dz;P.kk=P.af;P.kl=P.af;P.km=P.dz;P.kn=P.am;P.ko=P.dz;P.ks=P.af;P.ksh=P.blo;P.ku=P.af;P.ky=P.af;P.lb=P.af;P.lkt=P.dz;P.lo=P.dz;P.ml=P.af;P.mn=P.af;P.mr=P.af;P.ms=P.dz;P.my=P.dz;P.nb=P.af;P.ne=P.af;P.nl=P.ast;P.nn=P.af;P.no=P.af;P.nqo=P.dz;P.om=P.af;P.or=P.af;P.pa=P.ak;P.pcm=P.am;P.ps=P.af;P.rm=P.af;P.sah=P.dz;P.sc=P.ast;P.sd=P.af;P.sk=P.cs;P.so=P.af;P.sq=P.af;P.sr=P.bs;P.su=P.dz;P.sv=P.ast;P.sw=P.ast;P.syr=P.af;P.ta=P.af;P.te=P.af;P.th=P.dz;P.ti=P.ak;P.tk=P.af;P.tn=P.af;P.to=P.dz;P.tr=P.af;P.ug=P.af;P.uk=P.ru;P.ur=P.ast;P.uz=P.af;P.vec=P.ca;P.vi=P.dz;P.wae=P.af;P.wo=P.dz;P.xh=P.af;P.yi=P.ast;P.yo=P.dz;P.yue=P.dz;P.zh=P.dz;P.zu=P.am;function fd(e){return e==="pt-PT"?e:Fw(e)}var Bw=/^([a-z0-9]+)/i;function Fw(e){var t=e.match(Bw);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Uw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$w(r.key),r)}}function Hw(e,t,n){return t&&hd(e.prototype,t),n&&hd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $w(e){var t=qw(e,"string");return Os(t)=="symbol"?t:t+""}function qw(e,t){if(Os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zo=(function(){function e(t,n){Uw(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=P[fd(r[0])]}return Hw(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return P[fd(r)]})}}]),e})();function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?md(Object(n),!0).forEach(function(r){Vw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vw(e,t,n){return(t=Pm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gd(e,t){return Kw(e)||Ww(e,t)||Yw(e,t)||zw()}function zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yw(e,t){if(e){if(typeof e=="string")return bd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bd(e,t):void 0}}function bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ww(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,i=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(p){d=!0,s=p}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return i}}function Kw(e){if(Array.isArray(e))return e}function Gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pm(r.key),r)}}function Qw(e,t,n){return t&&Xw(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pm(e){var t=Zw(e,"string");return Qr(t)=="symbol"?t:t+""}function Zw(e,t){if(Qr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jw=["second","minute","hour","day","week","month","quarter","year"],eA=["auto","always"],tA=["long","short","narrow"],nA=["lookup","best fit"],Fn=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gw(this,e);var r=n.numeric,s=n.style,a=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(eA.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(s!==void 0){if(tA.indexOf(s)<0)throw new RangeError('Invalid "style" option: '.concat(s));this.style=s}if(a!==void 0){if(nA.indexOf(a)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(a));this.localeMatcher=a}if(typeof t=="string"&&(t=[t]),t.push(Im()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("Unsupported locale");Zo.supportedLocalesOf(this.locale).length>0?this.pluralRules=new Zo(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Dm(this.locale,{localeMatcher:this.localeMatcher})}return Qw(e,[{key:"format",value:function(){var n=yd(arguments),r=gd(n,2),s=r[0],a=r[1];return this.getRule(s,a).replace("{0}",this.formatNumber(Math.abs(s)))}},{key:"formatToParts",value:function(){var n=yd(arguments),r=gd(n,2),s=r[0],a=r[1],o=this.getRule(s,a),i=o.indexOf("{0}");if(i<0)return[{type:"literal",value:o}];var c=[];return i>0&&c.push({type:"literal",value:o.slice(0,i)}),c=c.concat(this.formatNumberToParts(Math.abs(s)).map(function(d){return pd(pd({},d),{},{unit:a})})),i+3<o.length-1&&c.push({type:"literal",value:o.slice(i+3)}),c}},{key:"getRule",value:function(n,r){var s=jw(this.locale)[this.style][r];if(typeof s=="string")return s;if(this.numeric==="auto"){if(n===-2||n===-1){var a=s["previous".concat(n===-1?"":"-"+Math.abs(n))];if(a)return a}else if(n===1||n===2){var o=s["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&s.current)return s.current}var i=s[oA(n)?"past":"future"];if(typeof i=="string")return i;var c=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return i[c]||i.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e})();Fn.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return Dm(n,t)})};Fn.addLocale=Lm;Fn.addDefaultLocale=function(e){Lm(e),Rm(e.locale)};Fn.setDefaultLocale=Rm;Fn.getDefaultLocale=Im;Fn.PluralRules=Zo;var Ki='Invalid "unit" argument';function rA(e){if(Qr(e)==="symbol")throw new TypeError(Ki);if(typeof e!="string")throw new RangeError("".concat(Ki,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),Jw.indexOf(e)<0)throw new RangeError("".concat(Ki,": ").concat(e));return e}var sA='Invalid "number" argument';function aA(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(sA,": ").concat(e));return e}function iA(e){return 1/e===-1/0}function oA(e){return e<0||e===0&&iA(e)}function yd(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[aA(e[0]),rA(e[1])]}function Tr(e){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(e)}function uA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dA(r.key),r)}}function cA(e,t,n){return t&&lA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dA(e){var t=fA(e,"string");return Tr(t)=="symbol"?t:t+""}function fA(e,t){if(Tr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ed=(function(){function e(){uA(this,e),this.cache={}}return cA(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];for(var o=0,i=s;o<i.length;o++){var c=i[o];if(Tr(n)!=="object")return;n=n[c]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(var a=r.pop(),o=r.pop(),i=this.cache,c=0,d=r;c<d.length;c++){var p=d[c];Tr(i[p])!=="object"&&(i[p]={}),i=i[p]}return i[o]=a}}]),e})();function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function hA(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=mA(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mA(e,t){if(e){if(typeof e=="string")return xd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xd(e,t):void 0}}function xd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pA(e,t){for(var n=hA(e),r;!(r=n()).done;){var s=r.value;if(t(s))return s;for(var a=s.split("-");a.length>1;)if(a.pop(),s=a.join("-"),t(s))return s}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function gA(){var e=(typeof Intl>"u"?"undefined":Jo(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function bA(e){return EA(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var yA={}.constructor;function EA(e){return eu(e)!==void 0&&e!==null&&e.constructor===yA}var Dn=60,Wa=60*Dn,gr=24*Wa,tu=7*gr,nu=30.44*gr,Mm=146097/400*gr;function zr(e){switch(e){case"second":return 1;case"minute":return Dn;case"hour":return Wa;case"day":return gr;case"week":return tu;case"month":return nu;case"year":return Mm}}function jm(e){return e.factor!==void 0?e.factor:zr(e.unit||e.formatAs)||1}function Is(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function tl(e){switch(e){case"floor":return 1;default:return .5}}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function Bm(e,t){var n=t.prevStep,r=t.timestamp,s=t.now,a=t.future,o=t.round,i;return n&&(n.id||n.unit)&&(i=e["threshold_for_".concat(n.id||n.unit)]),i===void 0&&e.threshold!==void 0&&(i=e.threshold,typeof i=="function"&&(i=i(s,a))),i===void 0&&(i=e.minTime),ru(i)==="object"&&(n&&n.id&&i[n.id]!==void 0?i=i[n.id]:i=i.default),typeof i=="function"&&(i=i(r,{future:a,getMinTimeForUnit:function(d,p){return vd(d,p||n&&n.formatAs,{round:o})}})),i===void 0&&e.test&&(e.test(r,{now:s,future:a})?i=0:i=9007199254740991),i===void 0&&(n?e.formatAs&&n.formatAs&&(i=vd(e.formatAs,n.formatAs,{round:o})):i=0),i===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),i}function vd(e,t,n){var r=n.round,s=zr(e),a;if(t==="now"?a=zr(e):a=zr(t),s!==void 0&&a!==void 0)return s-a*(1-tl(r))}function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(n),!0).forEach(function(r){vA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vA(e,t,n){return(t=_A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _A(e){var t=TA(e,"string");return Rs(t)=="symbol"?t:t+""}function TA(e,t){if(Rs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wA(e,t,n){var r=n.now,s=n.future,a=n.round,o=n.units;e=NA(e,o);var i=AA(e,t,{now:r,future:s,round:a});{if(i){var c=e[e.indexOf(i)-1],d=e[e.indexOf(i)+1];return[c,i,d]}return[void 0,void 0,e[0]]}}function AA(e,t,n){var r=n.now,s=n.future,a=n.round;if(e.length!==0){var o=Fm(e,t,{now:r,future:s||t<0,round:a});if(o!==-1){var i=e[o];if(i.granularity){var c=Is(a)(Math.abs(t)/jm(i)/i.granularity)*i.granularity;if(c===0&&o>0)return e[o-1]}return i}}}function Fm(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=Bm(e[r],xA({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return s===void 0||Math.abs(t)<s?r-1:r===e.length-1?r:Fm(e,t,n,r+1)}function NA(e,t){return e.filter(function(n){var r=n.unit,s=n.formatAs;return r=r||s,r?t.indexOf(r)>=0:!0})}function SA(e,t,n){var r=n.now,s=n.round;if(zr(e)){var a=zr(e)*1e3,o=t>r,i=Math.abs(t-r),c=Is(s)(i/a)*a;return o?c>0?i-c+CA(s,a):i-c+1:-(i-c)+kA(s,a)}}function kA(e,t){return tl(e)*t}function CA(e,t){return(1-tl(e))*t+1}var OA=365*24*60*60*1e3,Um=1e3*OA;function IA(e,t,n){var r=n.prevStep,s=n.nextStep,a=n.now,o=n.future,i=n.round,c=e.getTime?e.getTime():e,d=function(m){return SA(m,c,{now:a,round:i})},p=LA(o?t:s,c,{future:o,now:a,round:i,prevStep:o?r:t});if(p!==void 0){var u;if(t&&(t.getTimeToNextUpdate&&(u=t.getTimeToNextUpdate(c,{getTimeToNextUpdateForUnit:d,getRoundFunction:Is,now:a,future:o,round:i})),u===void 0)){var l=t.unit||t.formatAs;l&&(u=d(l))}return u===void 0?p:Math.min(u,p)}}function RA(e,t,n){var r=n.now,s=n.future,a=n.round,o=n.prevStep,i=Bm(e,{timestamp:t,now:r,future:s,round:a,prevStep:o});if(i!==void 0)return s?t-i*1e3+1:i===0&&t===r?Um:t+i*1e3}function LA(e,t,n){var r=n.now,s=n.future,a=n.round,o=n.prevStep;if(e){var i=RA(e,t,{now:r,future:s,round:a,prevStep:o});return i===void 0?void 0:i-r}else return s?t-r+1:Um}var Hm={};function Fr(e){return Hm[e]}function $m(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");Hm[e.locale]=e}const DA=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],su={steps:DA,labels:"long"};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function Td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Td(Object(n),!0).forEach(function(r){PA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Td(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PA(e,t,n){return(t=MA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MA(e){var t=jA(e,"string");return Ls(t)=="symbol"?t:t+""}function jA(e,t){if(Ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const au=wd(wd({},su),{},{steps:su.steps.filter(function(e){return e.formatAs!=="second"})}),qm=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Dn,unit:"minute"},{threshold:2.5*Dn,granularity:5,factor:Dn,unit:"minute"},{threshold:22.5*Dn,factor:.5*Wa,unit:"half-hour"},{threshold:42.5*Dn,threshold_for_minute:52.5*Dn,factor:Wa,unit:"hour"},{threshold:20.5/24*gr,factor:gr,unit:"day"},{threshold:5.5*gr,factor:tu,unit:"week"},{threshold:3.5*tu,factor:nu,unit:"month"},{threshold:10.5*nu,factor:Mm,unit:"year"}],Ad={gradation:qm,flavour:"long",units:["now","minute","hour","day","week","month","year"]},BA={gradation:qm,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Vm(e){return e instanceof Date?e:new Date(e)}var iu=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],En={},FA={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return En[n]||(En[n]={}),En[n].dayMonth||(En[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),En[n].dayMonth.format(Vm(t))}},UA={minTime:function(t,n){var r=n.future;if(r){var s=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-s)/1e3}else{var a=new Date(new Date(t).getFullYear()+1,0).getTime();return(a-t)/1e3}},format:function(t,n){return En[n]||(En[n]={}),En[n].dayMonthYear||(En[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),En[n].dayMonthYear.format(Vm(t))}};gA()?iu.push(FA,UA):iu.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const wr={steps:iu,labels:["mini","short-time","narrow","short"]};function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(r){HA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HA(e,t,n){return(t=$A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $A(e){var t=qA(e,"string");return Ds(t)=="symbol"?t:t+""}function qA(e,t){if(Ds(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const VA=Sd(Sd({},wr),{},{steps:[{formatAs:"now"}].concat(wr.steps)});function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(n),!0).forEach(function(r){zA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zA(e,t,n){return(t=YA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YA(e){var t=WA(e,"string");return Ps(t)=="symbol"?t:t+""}function WA(e,t){if(Ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ou=Cd(Cd({},wr),{},{steps:wr.steps.filter(function(e){return e.formatAs!=="second"})});function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Od(Object(n),!0).forEach(function(r){KA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KA(e,t,n){return(t=GA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GA(e){var t=XA(e,"string");return Ms(t)=="symbol"?t:t+""}function XA(e,t){if(Ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const QA=Id(Id({},ou),{},{steps:[{formatAs:"now"}].concat(ou.steps)});function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(n),!0).forEach(function(r){ZA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZA(e,t,n){return(t=JA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JA(e){var t=e3(e,"string");return js(t)=="symbol"?t:t+""}function e3(e,t){if(js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const t3=ga(ga({},wr),{},{steps:wr.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?ga(ga({},e),{},{minTime:Dn}):e})}),Bs={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ld(Object(n),!0).forEach(function(r){n3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n3(e,t,n){return(t=r3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r3(e){var t=s3(e,"string");return Fs(t)=="symbol"?t:t+""}function s3(e,t){if(Fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const a3=Dd(Dd({},Bs),{},{steps:[{formatAs:"now"}].concat(Bs.steps)});function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pd(Object(n),!0).forEach(function(r){i3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i3(e,t,n){return(t=o3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o3(e){var t=u3(e,"string");return Us(t)=="symbol"?t:t+""}function u3(e,t){if(Us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const uu=Md(Md({},Bs),{},{steps:Bs.steps.filter(function(e){return e.formatAs!=="second"})});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jd(Object(n),!0).forEach(function(r){l3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l3(e,t,n){return(t=c3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c3(e){var t=d3(e,"string");return Hs(t)=="symbol"?t:t+""}function d3(e,t){if(Hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const f3=Bd(Bd({},uu),{},{steps:[{formatAs:"now"}].concat(uu.steps)});function h3(e){switch(e){case"default":case"round":return su;case"round-minute":return au;case"approximate":return Ad;case"time":case"approximate-time":return BA;case"mini":return Bs;case"mini-now":return a3;case"mini-minute":return uu;case"mini-minute-now":return f3;case"twitter":return wr;case"twitter-now":return VA;case"twitter-minute":return ou;case"twitter-minute-now":return QA;case"twitter-first-minute":return t3;default:return Ad}}function Ar(e){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}function m3(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zm(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3(e,t){return y3(e)||b3(e,t)||zm(e,t)||g3()}function g3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zm(e,t){if(e){if(typeof e=="string")return Fd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fd(e,t):void 0}}function Fd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b3(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,i=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(p){d=!0,s=p}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return i}}function y3(e){if(Array.isArray(e))return e}function E3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_3(r.key),r)}}function v3(e,t,n){return t&&x3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _3(e){var t=T3(e,"string");return Ar(t)=="symbol"?t:t+""}function T3(e,t){if(Ar(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ar(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var on=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;E3(this,e),typeof t=="string"&&(t=[t]),this.locale=pA(t.concat(e.getDefaultLocale()),Fr),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Fn,this.IntlPluralRules=Fn.PluralRules),this.relativeTimeFormatCache=new Ed,this.pluralRulesCache=new Ed}return v3(e,[{key:"format",value:function(n,r,s){s||(r&&!k3(r)?(s=r,r=void 0):s={}),r||(r=au),typeof r=="string"&&(r=h3(r));var a=w3(n),o=this.getLabels(r.flavour||r.labels),i=o.labels,c=o.labelsType,d;r.now!==void 0&&(d=r.now),d===void 0&&s.now!==void 0&&(d=s.now),d===void 0&&(d=Date.now());var p=(d-a)/1e3,u=s.future||p<0,l=S3(i,Fr(this.locale).now,Fr(this.locale).long,u);if(r.custom){var f=r.custom({now:d,date:new Date(a),time:a,elapsed:p,locale:this.locale});if(f!==void 0)return f}var m=N3(r.units,i,l),h=s.round||r.round,x=wA(r.gradation||r.steps||au.steps,p,{now:d,units:m,round:h,future:u}),g=p3(x,3),y=g[0],v=g[1],T=g[2],w=this.formatDateForStep(a,v,p,{labels:i,labelsType:c,nowLabel:l,now:d,future:u,round:h})||"";if(s.getTimeToNextUpdate){var k=IA(a,v,{nextStep:T,prevStep:y,now:d,future:u,round:h});return[w,k]}return w}},{key:"formatDateForStep",value:function(n,r,s,a){var o=this,i=a.labels,c=a.labelsType,d=a.nowLabel,p=a.now,u=a.future,l=a.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(g,y){return o.formatValue(y,g,{labels:i,future:u})},now:p,future:u});var f=r.unit||r.formatAs;if(!f)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(f==="now")return d;var m=Math.abs(s)/jm(r);r.granularity&&(m=Is(l)(m/r.granularity)*r.granularity);var h=-1*Math.sign(s)*Is(l)(m);switch(h===0&&(u?h=0:h=-0),c){case"long":case"short":case"narrow":return this.getFormatter(c).format(h,f);default:return this.formatValue(h,f,{labels:i,future:u})}}}},{key:"formatValue",value:function(n,r,s){var a=s.labels,o=s.future;return this.getFormattingRule(a,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,s,a){var o=a.future;if(this.locale,n=n[r],typeof n=="string")return n;var i=s===0?o?"future":"past":s<0?"past":"future",c=n[i]||n;if(typeof c=="string")return c;var d=this.getPluralRules().select(Math.abs(s));return c[d]||c.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(i){switch(i){case"tiny":case"mini-time":return"mini";default:return i}}),n=n.concat("long");for(var r=Fr(this.locale),s=m3(n),a;!(a=s()).done;){var o=a.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e})(),Ym="en";on.getDefaultLocale=function(){return Ym};on.setDefaultLocale=function(e){return Ym=e};on.addDefaultLocale=function(e){if(Ud)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");Ud=!0,on.setDefaultLocale(e.locale),on.addLocale(e)};var Ud;on.addLocale=function(e){$m(e),Fn.addLocale(e)};on.locale=on.addLocale;on.addLabels=function(e,t,n){var r=Fr(e);r||($m({locale:e}),r=Fr(e)),r[t]=n};function w3(e){if(e.constructor===Date||A3(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(Ar(e),", ").concat(e))}function A3(e){return Ar(e)==="object"&&typeof e.getTime=="function"}function N3(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(s){return s==="now"||r.indexOf(s)>=0})),r}function S3(e,t,n,r){var s=e.now||t&&t.now;if(s)return typeof s=="string"?s:r?s.future:s.past;if(n&&n.second&&n.second.current)return n.second.current}function k3(e){return typeof e=="string"||bA(e)}const C3={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};on.addDefaultLocale(C3);const O3=new on("en-US");function Wm({history:e,hideId:t,newestFirst:n=!1}){const[r,s]=ht(Iw);M.useEffect(()=>{if(e)for(const i of e)i.blockNumber in r||Mw(i.blockNumber).then(c=>{s(d=>({...d,[i.blockNumber]:c}))}).catch(()=>{})},[e,r,s]);const a=i=>{switch(i){case"mint":return"bg-green-500";case"transfer":return"bg-blue-500";case"list":return"bg-amber-500";case"delist":return"bg-ink-500";case"buy":return"bg-purple-500";default:return"bg-ink-500"}},o=M.useMemo(()=>n?e:[...e||[]].reverse(),[e,n]);return e?E.jsx("div",{className:"space-y-4",children:o.map((i,c)=>E.jsxs("div",{className:"relative pl-6 pb-4 border-l-2 border-ink-700 last:border-l-transparent",children:[E.jsx("div",{className:`absolute -left-[5px] top-1 w-2 h-2 rounded-full ${a(i.type)}`}),E.jsxs("div",{className:"bg-ink-800/50 rounded-lg p-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[!t&&i.id&&E.jsxs("a",{href:"/nft/?id="+i.id,className:"text-accent-cyan hover:underline font-mono text-sm",children:["#",i.id]}),E.jsx("span",{className:"px-2 py-0.5 bg-ink-700 rounded text-xs font-mono uppercase text-ink-200",children:i.type})]}),r[i.blockNumber]?E.jsx("span",{className:"text-xs text-ink-400 font-mono",children:O3.format(r[i.blockNumber])}):E.jsx(Ut,{width:80,baseColor:"#27272a",highlightColor:"#3f3f46"})]}),E.jsxs("div",{className:"space-y-1 text-sm font-mono",children:[i.from&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"FROM"}),E.jsx(Xn,{address:i.from,shorten:!0,nChar:8})]}),i.to&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"TO"}),E.jsx(Xn,{address:i.to,shorten:!0,nChar:8})]}),i.seller&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"SELLER"}),E.jsx(Xn,{address:i.seller,shorten:!0,nChar:8})]}),i.buyer&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"BUYER"}),E.jsx(Xn,{address:i.buyer,shorten:!0,nChar:8})]}),i.price&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"PRICE"}),E.jsxs("span",{className:"text-white",children:[i.price," ETH"]})]}),i.amount&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-ink-500 w-16",children:"AMOUNT"}),E.jsx("span",{className:"text-ink-300",children:i.amount})]})]}),E.jsx("div",{className:"mt-3 pt-3 border-t border-ink-700",children:E.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:"text-xs text-ink-400 hover:text-accent-cyan transition-colors font-mono",href:Pe.blockExplorer.url+"/tx/"+i.transactionHash,children:"View transaction "})})]})]},c))}):E.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>E.jsx(Ut,{height:120,className:"rounded-lg",baseColor:"#27272a",highlightColor:"#3f3f46"},i))})}const I3=ir({key:"burnedIds",default:[]});function R3(){var nt,zt;const e=Vd(),t=Ka(),n=Pe.contractAddresses.v1.zang,r=Pe.contractAddresses.v1.marketplace,s=new URLSearchParams(e.search),a=s.get("id")?parseInt(s.get("id")):null,[o,i]=M.useState([0,null]),{address:c,isConnected:d}=qt();nh();const[p,u]=ht(I3),[l,f]=M.useState(null),[m,h]=M.useState(null),[x,g]=M.useState(null),[y,v]=M.useState(null),[T,w]=M.useState(null),[k,S]=M.useState(null),[_,A]=M.useState(null),[N,O]=M.useState(null),[D,j]=M.useState(null),[$,V]=M.useState(!0),[U,z]=M.useState(null),[ne,ce]=M.useState(null),[ae,de]=vh(),[me,pe]=M.useState(!1),[Te,Ie]=M.useState(null),[,Ce]=ht(Qt),Ye=async K=>{if(!a||!K)return;const se=Pe.firstBlocks.v1.base.zang,ie=Pe.firstBlocks.v1.base.marketplace,Se=await Dw(a,K,se,ie);ce(Se),Se!=null&&Se._meta&&de(Se._meta)},Me=async()=>{if(!a)return;let K=a-1,se=!1;for(;K>=1&&!se;)if(p.includes(K))K--;else{try{se=await Fe.readContract({address:n,abi:Le.zang,functionName:"exists",args:[BigInt(K)]})}catch(ie){Ce(Et(ie));break}if(se)break;u(ie=>[...ie,K]),K--}return se?K:null},st=async()=>{try{const K=await Fe.readContract({address:n,abi:Le.zang,functionName:"lastTokenId"});return j(Number(K)),Number(K)}catch(K){Ce(Et(K))}},Ge=async(K=null)=>{if(!a)return;let se=a+1,ie=!1,Se=K||D;for(Se===null&&(Se=await st());se<=Se&&!ie;)if(se===Se&&await st(),p.includes(se))se++;else{try{ie=await Fe.readContract({address:n,abi:Le.zang,functionName:"exists",args:[BigInt(se)]})}catch(Ue){Ce(Et(Ue));break}if(ie)break;u(Ue=>[...Ue,se]),se++}return ie?se:null},pt=async()=>{if(a)try{return await Fe.readContract({address:n,abi:Le.zang,functionName:"uri",args:[BigInt(a)]})}catch(K){eo(K)?V(!1):Ce(Et(K))}},tt=async()=>{if(a)try{const K=await Fe.readContract({address:n,abi:Le.zang,functionName:"authorOf",args:[BigInt(a)]});return S(K),K}catch(K){eo(K)||Ce(Et(K))}},At=async K=>{if(K)try{const ie=await(await fetch(K)).json();return g(ie),ie}catch(se){Ce(Et(se))}},Nt=async K=>{if(K!=null&&K.text_uri){var se=K.text_uri;se=se.replace("charset=UTF-8,","");try{const ie=await fetch(se),Se=await ie.text();v(ie.headers.get("content-type")),w(Se)}catch(ie){Ce(Et(ie))}}},St=async()=>{if(a)try{const[K,se]=await Fe.readContract({address:n,abi:Le.zang,functionName:"royaltyInfo",args:[BigInt(a),10000n]}),ie=new Cr(se.toString());A({recipient:K,amount:ie.div(100).toNumber()})}catch(K){Ce(Et(K))}},Bt=async()=>{if(a)try{const K=await Fe.readContract({address:n,abi:Le.zang,functionName:"totalSupply",args:[BigInt(a)]});O(K)}catch(K){Ce(Et(K))}},Xe=K=>()=>{t(K?"/nft?id="+m:"/nft?id="+l)};M.useEffect(()=>{a||t("/")},[a,t]),M.useEffect(()=>{document.title=a?`#${a} - zang`:"zang"},[a]),M.useEffect(()=>{Ce(null)},[a]),M.useEffect(()=>{(async()=>{V(!0),g(null),w(null),v(null),S(null),A(null),O(null),f(null),h(null),z(null),it({}),ce(null),pe(!1);const se=await st();try{const Ue=await fetch(`/api/nft/${a}`);if(Ue.ok){const _e=await Ue.json();S(_e.author),g({name:_e.name,description:_e.description,text_uri:_e.text_uri}),v(_e.content_type),w(_e.content),Ye(_e.author)}else Ue.status===404?V(!1):(pt().then(_e=>At(_e)).then(_e=>Nt(_e)),tt().then(_e=>Ye(_e)))}catch{pt().then(_e=>At(_e)).then(_e=>Nt(_e)),tt().then(_e=>Ye(_e))}St(),Bt(),X();const[ie,Se]=await Promise.all([Me(),Ge(se)]);f(ie),h(Se)})()},[a]),M.useEffect(()=>{(async()=>{try{const ie=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json();Ie(ie.ethereum.usd)}catch{}})()},[]);const[It,it]=M.useState({}),Ze=M.useMemo(()=>U?U.filter(K=>K.seller!==br):null,[U]),R=M.useMemo(()=>{if(!Ze)return null;const K={};for(const ie of Ze){const Se=ie.seller;K[Se]||(K[Se]=[]),K[Se].push(ie)}const se=[];for(const[ie,Se]of Object.entries(K))Se.sort((Ue,_e)=>Ue.price-_e.price),se.push({seller:ie,listings:Se,sellerBalance:It[ie]});for(const ie of se)ie.listings.sort((Se,Ue)=>Se.price-Ue.price);return se.sort((ie,Se)=>ie.listings[0].price-Se.listings[0].price),se},[Ze,It]),B=K=>It[K],H=()=>B(c),re=K=>{if(!a||!c||Ze===null)return null;let se=B(K);if(se==null)return null;for(const ie of Ze)ie.seller===K&&(se-=ie.amount);return se<0&&(se=0),se},J=()=>re(c),X=async()=>{if(a)try{const K=await Fe.readContract({address:r,abi:Le.marketplace,functionName:"listingCount",args:[BigInt(a)]}),se=Number(K),ie=[],Se=[];for(let Ue=0;Ue<se;Ue++)Se.push(Fe.readContract({address:r,abi:Le.marketplace,functionName:"listings",args:[BigInt(a),BigInt(Ue)]}).then(_e=>{const[On,dn,Zt]=_e;ie.push({amount:Number(Zt),price:tn(On),seller:dn,id:Ue})}).catch(()=>null));await Promise.all(Se),ie.sort((Ue,_e)=>Ue.price-_e.price),z(ie)}catch(K){Ce(Et(K))}},oe=async K=>{if(!(!K||!a))try{const se=await Fe.readContract({address:n,abi:Le.zang,functionName:"balanceOf",args:[K,BigInt(a)]});it(ie=>({...ie,[K]:Number(se)}))}catch(se){Ce(Et(se))}},we=async()=>{await oe(c)},Oe=async()=>{if(!a||!U)return;const K=[];try{if(Ze)for(const se of Ze){const ie=oe(se.seller);K.push(ie)}await Promise.all(K)}catch(se){Ce(Et(se))}};M.useEffect(()=>{Ze&&Ze.length>0&&Oe()},[Ze]),M.useEffect(()=>{o[0]===a&&(X(),Bt(),St())},[o]),M.useEffect(()=>{c&&a&&d&&we()},[c,a,d]);const je=K=>{i(([se,ie])=>[K,ie+1])},vt=async()=>{try{await fetch("/api/sync/force",{method:"POST"}),k&&await Ye(k)}catch(K){console.error("Error forcing sync:",K)}};return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Nr,{}),E.jsx(ai,{}),$?E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("button",{onClick:Xe(!1),disabled:!l,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l?"text-ink-300 hover:text-white hover:bg-ink-800":"text-ink-700 cursor-not-allowed"}`,children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),E.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),E.jsxs("span",{className:"text-ink-500 font-mono text-sm",children:["#",a]}),E.jsxs("button",{onClick:Xe(!0),disabled:!m,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${m?"text-ink-300 hover:text-white hover:bg-ink-800":"text-ink-700 cursor-not-allowed"}`,children:[E.jsx("span",{className:"hidden sm:inline",children:"Next"}),E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsx("div",{className:"lg:col-span-2",children:E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[y&&(y==="text/markdown"||y==="text/html")&&E.jsx("div",{className:"flex justify-end px-4 pt-4",children:E.jsx("button",{onClick:()=>pe(!me),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${me?"bg-ink-700 text-white":"bg-ink-800/50 text-ink-400 hover:text-ink-200 hover:bg-ink-800"}`,children:me?E.jsxs(M.Fragment,{children:[E.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Rendered"]}):E.jsxs(M.Fragment,{children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),"View Source"]})})}),E.jsx("div",{className:"p-6",children:y&&(T||T==="")?me&&typeof window<"u"?(()=>{const K=require("react-ace").default;return require("ace-builds/src-noconflict/mode-html"),require("ace-builds/src-noconflict/mode-markdown"),require("ace-builds/src-noconflict/theme-monokai"),E.jsx(K,{mode:y==="text/html"?"html":"markdown",theme:"monokai",value:T,name:"source-viewer",readOnly:!0,editorProps:{$blockScrolling:!1},setOptions:{showPrintMargin:!1,showGutter:!0,highlightActiveLine:!1,highlightGutterLine:!1},width:"100%",height:"400px",fontSize:14})})():y==="text/html"?E.jsx(si,{source:T}):y==="text/markdown"?E.jsx("div",{className:"prose prose-invert prose-ink max-w-none","data-color-mode":"dark",children:E.jsx(cu.Markdown,{source:T,rehypePlugins:[()=>Qa(Un.validMarkdown)]})}):E.jsx("pre",{className:"font-mono text-ink-100 whitespace-pre overflow-x-auto text-sm leading-relaxed",children:T}):E.jsx(Ut,{count:12,baseColor:"#27272a",highlightColor:"#3f3f46"})})]})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:[E.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:(x==null?void 0:x.name)!==null&&(x==null?void 0:x.name)!==void 0?x.name:E.jsx(Ut,{baseColor:"#27272a",highlightColor:"#3f3f46"})}),E.jsx("p",{className:"text-ink-400 mb-4",children:k!==null?E.jsxs(M.Fragment,{children:["by"," ",E.jsx(Xn,{address:k,shorten:!0,nChar:8})]}):E.jsx(Ut,{width:150,baseColor:"#27272a",highlightColor:"#3f3f46"})}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:y&&N!==null?E.jsxs(M.Fragment,{children:[E.jsx(o_,{type:y}),E.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded bg-ink-800 text-ink-300",children:["Edition:"," ",N.toString()]})]}):E.jsx(Ut,{width:180,baseColor:"#27272a",highlightColor:"#3f3f46"})}),(x==null?void 0:x.description)!==void 0&&(x==null?void 0:x.description)!==null?E.jsx("p",{className:"text-ink-300 text-sm italic",children:x.description}):E.jsx(Ut,{count:2,baseColor:"#27272a",highlightColor:"#3f3f46"}),_&&k&&(_==null?void 0:_.amount)!==null?E.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[E.jsxs("p",{className:"text-ink-500 text-xs",children:[_.amount.toFixed(2),"% royalty to"," ",_.recipient===k?"the author":_.recipient]}),k===c&&E.jsx(rT,{id:a,walletAddress:c,currentRoyaltyPercentage:_==null?void 0:_.amount,onUpdate:je,minimal:!0})]}):E.jsx(Ut,{width:200,baseColor:"#27272a",highlightColor:"#3f3f46",className:"mt-4"})]}),d&&H()!==null&&H()!==0&&E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:[E.jsxs("div",{className:"flex items-baseline justify-between mb-5",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-3xl font-bold text-white",children:H()}),E.jsx("span",{className:"text-ink-400 text-sm ml-2",children:"owned"})]}),H()!==J()&&J()!==null&&E.jsxs("span",{className:"text-ink-500 text-sm",children:[J()," ","available"]})]}),E.jsx(sT,{id:a,userBalance:H(),userAvailableAmount:J(),onUpdate:je,walletAddress:c,fullWidth:!0}),E.jsx(a_,{id:a,walletAddress:c,balance:H(),availableAmount:J(),onUpdate:je,secondary:!0}),((zt=(nt=R==null?void 0:R.find(K=>K.seller===c))==null?void 0:nt.listings)==null?void 0:zt.length)>0&&E.jsxs("div",{className:"border-t border-ink-700 pt-4 mt-5",children:[E.jsx("p",{className:"text-xs text-ink-500 uppercase tracking-wide mb-3",children:"Your Listings"}),E.jsx("div",{className:"space-y-2",children:R.find(K=>K.seller===c).listings.map(K=>E.jsxs("div",{className:"flex items-center justify-between py-2",children:[E.jsxs("div",{className:"flex items-baseline gap-2",children:[E.jsxs("span",{className:"text-white font-mono text-sm",children:[K.price," ","ETH"]}),Te&&E.jsxs("span",{className:"text-ink-500 text-xs",children:["$",(parseFloat(K.price)*Te).toFixed(2)]}),E.jsxs("span",{className:"text-ink-500 text-xs",children:[""," ",K.amount]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(kw,{nftId:a,listingId:K.id,balance:H(),onUpdate:je,oldAmount:K.amount,oldPrice:K.price,ethPrice:Te,availableAmount:J(),minimal:!0}),E.jsx(Cw,{nftId:a,listingId:K.id,onUpdate:je,minimal:!0})]})]},K.id))})]})]}),E.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:E.jsx(n_,{isConnected:d,id:a,walletAddress:c,onUpdate:je,listingGroups:R,showOnlyOthers:!0,ethPrice:Te})}),E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[E.jsx("div",{className:"px-4 py-3 border-b border-ink-800/50",children:E.jsx("h3",{className:"text-sm font-medium text-ink-300",children:"Owners"})}),E.jsx("div",{className:"p-4 max-h-60 overflow-y-auto",children:E.jsx(Ow,{balances:Pw(ne)})})]}),E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 overflow-hidden",children:[E.jsxs("div",{className:"px-4 py-3 border-b border-ink-800/50 flex items-center justify-between",children:[E.jsx("h3",{className:"text-sm font-medium text-ink-300",children:"History"}),ae&&E.jsx(xh,{meta:ae,onRefresh:vt,compact:!0})]}),E.jsx("div",{className:"p-4 max-h-72 overflow-y-auto",children:E.jsx(Wm,{history:Cm(ne),hideId:!0})})]})]})]})]}):E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:E.jsxs("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-12 inline-block",children:[E.jsx("p",{className:"text-ink-400 text-lg",children:"This NFT doesn't exist."}),E.jsx("a",{href:"/",className:"inline-flex items-center mt-4 px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Home"})]})})]})}const Gi={editionSize:1,royaltyPercentage:10,useCustomRecipient:!1,textType:"text/plain"};function L3({value:e,label:t,icon:n,description:r,selected:s,onClick:a,color:o}){const i={blue:{border:"border-blue-500",bg:"bg-blue-500/10",icon:"text-blue-400"},purple:{border:"border-purple-500",bg:"bg-purple-500/10",icon:"text-purple-400"},amber:{border:"border-amber-500",bg:"bg-amber-500/10",icon:"text-amber-400"}},c=i[o]||i.blue;return E.jsxs("button",{type:"button",onClick:a,className:`flex-1 p-4 rounded-xl border-2 transition-all duration-200 text-left ${s?`${c.border} ${c.bg}`:"border-ink-700 bg-ink-900/50 hover:border-ink-500 hover:bg-ink-900"}`,children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsx("span",{className:`text-2xl w-8 text-center ${s?c.icon:"text-ink-500"}`,children:n}),E.jsx("span",{className:`font-medium ${s?"text-white":"text-ink-300"}`,children:t})]}),E.jsx("p",{className:`text-sm ${s?"text-ink-300":"text-ink-500"}`,children:r})]})}function D3(){const{register:e,formState:{errors:t,isValid:n},handleSubmit:r,watch:s,setValue:a}=qs({defaultValues:Gi,mode:"onChange",resolver:Vs(Un.mint)}),[o,i]=M.useState(""),{isConnected:c,address:d}=qt(),{writeContractAsync:p}=ar(),[u]=M.useState({status:"noTransaction"}),[l,f]=M.useState(!1),[m,h]=M.useState(!1),x=s("useCustomRecipient",Gi.useCustomRecipient),g=s("textType",Gi.textType),y=or(),[,v]=ht(Qt),T=Pe.contractAddresses.v1.zang,w=S=>async _=>{if(!c){v("Please connect a wallet.");return}if(_={..._,text:o},!(_.title&&_.description&&_.text)&&!S){l||f(!0);return}const A=()=>[..._.text].some(V=>V.charCodeAt(0)>127);v(null);const N="data:"+_.textType+(A()&&_.textType==="text/plain"?",charset=UTF-8":"")+","+encodeURIComponent(_.text),O=new Cr(_.royaltyPercentage).mul("100").toNumber();let D=null;if(_.useCustomRecipient){if(D=_.customRecipient,D.includes(".eth")){let V=null;try{V=await du.getEnsAddress({name:zd(D)})}catch(U){v('Invalid custom recipient address: "'+U.message+'".');return}if(V)D=V;else{v("Could not resolve ENS name.");return}}}else D=d;y(async()=>await p({address:T,abi:Le.zang,functionName:"mint",args:[N,_.title||"",_.description||"",BigInt(_.editionSize),BigInt(O),D,0n],...Tn()}),"Mint",async(V,U,z,ne)=>{var ce;if(V!=="success")return null;if(z&&ne&&ne.blockNumber){const ae=(ce=ne.logs)==null?void 0:ce.find(de=>{try{return de.topics[0]==="0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62"}catch{return!1}});if(ae){const de=BigInt(ae.topics[3]).toString();return E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{children:[E.jsxs(xa,{className:"text-accent-cyan hover:underline",href:"/nft?id="+de,children:["NFT #",de]})," ","minted successfully!"]}),E.jsx("p",{children:E.jsx(Wd,{hash:U.hash})})]})}else{v("Could not find token ID in transaction receipt.");return}}})},k=[{value:"text/plain",label:"Plain Text",icon:"",description:"Simple text, poetry, prose",color:"blue"},{value:"text/markdown",label:"Markdown",icon:"#",description:"Formatted text with styling",color:"purple"},{value:"text/html",label:"HTML",icon:"<>",description:"Rich content with CSS",color:"amber"}];return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Nr,{}),E.jsx(ai,{}),E.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("p",{className:"text-ink-500 font-mono text-sm mb-3",children:"$ create new"}),E.jsx("h1",{className:"text-3xl sm:text-4xl font-mono text-white mb-4",children:"Mint Your Work"}),E.jsx("p",{className:"text-ink-400 max-w-lg mx-auto",children:"Turn your text into a permanent, collectible NFT on Base."})]}),E.jsxs("form",{onSubmit:r(w(!1)),className:"space-y-8",children:[E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"1"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Choose your medium"})]}),E.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:k.map(S=>E.jsx(L3,{...S,selected:g===S.value,onClick:()=>a("textType",S.value)},S.value))}),E.jsx("input",{type:"hidden",...e("textType")})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"2"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Write your content"})]}),E.jsx(jE,{textType:g,value:o,setValue:i})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-ink-800 text-ink-400 text-sm font-mono",children:"3"}),E.jsx("h2",{className:"text-lg font-medium text-ink-200",children:"Add details"})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.jsx("div",{className:"sm:col-span-2",children:E.jsx(sn,{label:"Title",name:"title",type:"text",placeholder:"Give your work a name",register:e,errors:t})}),E.jsx("div",{className:"sm:col-span-2",children:E.jsx(sn,{label:"Description",name:"description",type:"text",placeholder:"What's it about? (optional)",register:e,errors:t})}),E.jsx(sn,{label:"Edition Size",name:"editionSize",type:"number",hint:"How many copies to mint",register:e,errors:t}),E.jsx(sn,{label:"Royalty %",name:"royaltyPercentage",type:"number",hint:"You earn this on secondary sales",register:e,errors:t})]}),E.jsxs("div",{className:"pt-4",children:[E.jsxs("button",{type:"button",onClick:()=>h(!m),className:"flex items-center gap-2 text-sm text-ink-500 hover:text-ink-300 transition-colors",children:[E.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Advanced options"]}),m&&E.jsxs("div",{className:"mt-4 p-4 bg-ink-900/50 rounded-lg border border-ink-800 space-y-4",children:[E.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",...e("useCustomRecipient"),className:"w-4 h-4 rounded border-ink-600 bg-ink-800 text-accent-cyan focus:ring-accent-cyan focus:ring-offset-ink-900"}),E.jsx("span",{className:"text-sm text-ink-300",children:"Use custom royalty recipient"})]}),x&&E.jsx(sn,{label:"Recipient Address",name:"customRecipient",type:"text",placeholder:"0x... or ENS name",register:e,errors:t})]})]})]}),E.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[E.jsx("svg",{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsxs("p",{className:"text-sm text-amber-200/80",children:["This will create a transaction on"," ",E.jsx("strong",{className:"text-amber-200",children:Pe.networks.main.name}),". Make sure your wallet is connected to the right network."]})]}),E.jsx("div",{className:"pt-4",children:c?u.status==="noTransaction"||u.status==="error"?E.jsxs("button",{type:"submit",disabled:!n,className:"w-full py-4 px-6 bg-white text-ink-950 font-medium rounded-lg hover:bg-ink-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[E.jsx("span",{className:"font-mono text-ink-500",children:"$"}),"Mint NFT",E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}):null:E.jsxs("div",{className:"text-center p-6 bg-ink-900/50 rounded-lg border border-ink-800",children:[E.jsx("p",{className:"text-ink-400 mb-4",children:"Connect your wallet to mint"}),E.jsx("p",{className:"text-ink-600 text-sm",children:"Use the button in the header to connect"})]})})]}),E.jsx(gg,{isOpen:l,setIsOpen:f,onClose:S=>r(w(S))()})]})]})}function P3(){const{address:e,isConnected:t}=qt(),[n,r]=M.useState(null),[s,a]=M.useState([]),[o,i]=M.useState({}),[,c]=ht(Qt),d=Pe.contractAddresses.v1.zang,p=5;M.useEffect(()=>{!t||!e||(a([]),i({}))},[e,t]),M.useEffect(()=>{(async()=>{try{const y=await Fe.readContract({address:d,abi:Le.zang,functionName:"lastTokenId"});r(Number(y))}catch(y){c(Et(y))}})()},[c]);const u=async(g,y)=>{try{const v=await Fe.readContract({address:d,abi:Le.zang,functionName:"balanceOf",args:[y,BigInt(g)]});i(T=>({...T,[g]:Number(v)}))}catch(v){c(Et(v))}},l=async(g,y)=>{if(!y)return;const v=[...s];for(let T=0;T<g;T++){const w=n-v.length;w>=1&&(v.push(w),u(w,y))}a(v)};M.useEffect(()=>{l(20,e)},[n,e]);const f=s.filter(g=>o[g]!==void 0&&o[g]!==0),m=s.length>0&&Object.keys(o).length<s.length,h=n!==null&&(s.length===0||f.length===0&&s.length<n),x=n===null||m||h;return M.useEffect(()=>{f.length<20&&s.length<n&&l(20,e)},[s,e]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Nr,{}),E.jsx(ai,{}),E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-center text-white mb-8",children:"Your Collection"}),e?x?E.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[E.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-cyan",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{className:"text-ink-400",children:"Loading your collection..."})]}):f.length>0?E.jsx(sh,{dataLength:s.length,next:()=>l(p,e),hasMore:s.length<n,loader:E.jsx("div",{className:"flex justify-center py-8",children:E.jsx("div",{className:"animate-pulse text-ink-400",children:"Loading more..."})}),endMessage:E.jsx("div",{className:"text-center py-8 text-ink-400",children:"You've seen all your NFTs"}),children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:f.map(g=>E.jsx(rh,{id:g},g))})}):E.jsx("div",{className:"text-center py-16",children:E.jsxs("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:[E.jsx("p",{className:"text-ink-400 text-lg mb-4",children:"Your collection is empty"}),E.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Explore NFTs"})]})}):E.jsx("div",{className:"text-center py-16",children:E.jsx("div",{className:"inline-block p-8 rounded-2xl bg-ink-900/50 border border-ink-800",children:E.jsx("p",{className:"text-ink-400 text-lg",children:"Connect a wallet to view your collection"})})})]})]})}let Xi=null,Qi=null;const M3=6e4;function j3(){const e=Pe.contractAddresses.v1.zang,t=Pe.contractAddresses.v1.marketplace,[n,r]=M.useState(null),[s,a]=M.useState(!0),o=M.useCallback(async()=>{if(Xi&&Qi&&Date.now()-Qi<M3){r(Xi),a(!1);return}a(!0);try{const i=await Fe.getBlockNumber(),c=BigInt(Math.max(Number(i)-5e4,Pe.firstBlocks.v1.base.zang)),[d,p,u,l]=await Promise.all([Fe.getContractEvents({address:e,abi:Le.zang,eventName:"TransferSingle",fromBlock:c}),Fe.getContractEvents({address:t,abi:Le.marketplace,eventName:"TokenListed",fromBlock:c}),Fe.getContractEvents({address:t,abi:Le.marketplace,eventName:"TokenDelisted",fromBlock:c}),Fe.getContractEvents({address:t,abi:Le.marketplace,eventName:"TokenPurchased",fromBlock:c})]),m=[...d.map(h=>({...h,event:"TransferSingle"})),...p.map(h=>({...h,event:"TokenListed"})),...u.map(h=>({...h,event:"TokenDelisted"})),...l.map(h=>({...h,event:"TokenPurchased"}))].sort((h,x)=>Number(x.blockNumber)!==Number(h.blockNumber)?Number(x.blockNumber)-Number(h.blockNumber):x.logIndex-h.logIndex).slice(0,100);Xi=m,Qi=Date.now(),r(m)}catch{r([])}finally{a(!1)}},[e,t]);return M.useEffect(()=>{o()},[o]),E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Nr,{}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-mono font-bold text-center text-white mb-8",children:"Recent Activity"}),E.jsx("div",{className:"bg-ink-900/50 rounded-2xl border border-ink-800 p-6",children:s?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[E.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-cyan",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{className:"text-ink-400",children:"Loading activity..."})]}):n&&n.length===0?E.jsx("div",{className:"text-center py-12 text-ink-400",children:"No recent activity"}):E.jsx(Wm,{history:Cm(n),newestFirst:!0})})]})]})}function B3(){return E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Nr,{}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsx("div",{className:"bg-ink-800/50 rounded-lg border border-ink-700/50 p-4 mb-6",children:E.jsxs("p",{className:"text-ink-300",children:[E.jsx("span",{className:"font-semibold text-ink-100",children:"Note"}),": We are not affiliated with Li.Finance."]})}),E.jsx("div",{className:"bg-ink-900/50 rounded-lg border border-ink-700/50 overflow-hidden",style:{height:"80vh"},children:E.jsx("iframe",{id:"lifi-iframe",className:"w-full h-full",src:"https://li.finance/embed?fromChain=eth&toChain=base&toToken=0x0000000000000000000000000000000000000000",scrolling:"auto",title:"Li.Fi Widget",frameBorder:"0"})})]})]})}const F3=()=>E.jsxs("div",{className:"min-h-screen bg-ink-950",children:[E.jsx(Nr,{}),E.jsxs("main",{className:"flex flex-col items-center justify-center px-4 py-20",children:[E.jsx("pre",{className:"text-accent-cyan font-mono text-xs sm:text-sm md:text-base leading-tight mb-8 select-none",children:`
       
     
 
 
           
             
`}),E.jsxs("div",{className:"text-center max-w-md",children:[E.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-white mb-4",children:"Page Not Found"}),E.jsxs("p",{className:"text-ink-400 mb-8 font-mono text-sm",children:["The text you're looking for doesn't exist here.",E.jsx("br",{}),"Perhaps it was never written..."]}),E.jsxs("div",{className:"text-ink-600 font-mono text-xs mb-8",children:[E.jsx("span",{className:"text-ink-500",children:">"})," searching for page...",E.jsx("br",{}),E.jsx("span",{className:"text-red-500",children:">"})," ERROR: file not found",E.jsx("br",{}),E.jsx("span",{className:"text-ink-500",children:">"})," redirecting to safety..."]}),E.jsx(qd,{to:"/",className:"inline-flex items-center px-6 py-3 bg-accent-cyan text-ink-950 font-medium rounded-lg hover:bg-accent-cyan/90 transition-colors",children:"Back to Gallery"})]}),E.jsxs("div",{className:"mt-16 text-ink-800 font-mono text-xs opacity-50",children:["",E.jsx("br",{}),"  ",E.jsx("br",{})," TEXT is art. This page isn't. ",E.jsx("br",{}),"  ",E.jsx("br",{}),""]})]})]});function U3(){const{pathname:e}=Vd();return M.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const H3=new e0;function $3(){return E.jsx(t0,{config:k0,children:E.jsx(n0,{client:H3,children:E.jsx(c0,{theme:d0({accentColor:"#22d3ee",accentColorForeground:"#0a0a0a",borderRadius:"medium"}),children:E.jsxs(o0,{children:[E.jsx(U3,{}),E.jsx(up,{children:E.jsxs(i0,{children:[E.jsx(lr,{path:"/",element:E.jsx(Yx,{})}),E.jsx(lr,{path:"/nft",element:E.jsx(R3,{})}),E.jsx(lr,{path:"/mint",element:E.jsx(D3,{})}),E.jsx(lr,{path:"/vault",element:E.jsx(P3,{})}),E.jsx(lr,{path:"/activity",element:E.jsx(j3,{})}),E.jsx(lr,{path:"/bridge",element:E.jsx(B3,{})}),E.jsx(lr,{path:"*",element:E.jsx(F3,{})})]})})]})})})})}A0.createRoot(document.getElementById("root")).render(E.jsx(Y.StrictMode,{children:E.jsx(a0,{children:E.jsx($3,{})})}));const G3=Object.freeze(Object.defineProperty({__proto__:null,default:f0},Symbol.toStringTag,{value:"Module"}));export{G3 as e,wa as l};
